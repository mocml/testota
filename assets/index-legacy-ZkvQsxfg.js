!function(){function e(e,t){i(e,t),t.add(e)}function t(e,t,n){i(e,t),t.set(e,n)}function i(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(e,t){return e.get(r(e,t))}function o(e,t,i){return e.set(r(e,t),i),i}function r(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}System.register([],(function(i,a){"use strict";return{execute:function(){var l,c,d,u,h,p,m,f,g,b,v,y,k,w,x,_,E,C,A,T,S,I,P,D,R,L,M,O,N,$,F,B,z,j,V,U,H,q,G,W,Y,K,Q,X,J,Z,ee,te,ie,ne=document.createElement("style");
/**
            * @vue/shared v3.5.13
            * (c) 2018-present Yuxi (Evan) You and Vue contributors
            * @license MIT
            **/
/*! #__NO_SIDE_EFFECTS__ */
function oe(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return e=>e in t}ne.textContent="@charset \"UTF-8\";.loadingModal{--background: transparent;--spinner-color: #1782fb}ion-spinner{width:2rem;height:2rem}ion-content[data-v-06361eb9]{--offset-bottom: auto !important;--overflow: hidden;overflow:auto}ion-content[data-v-06361eb9]::-webkit-scrollbar{display:none}ion-input[data-v-06361eb9]{--border-radius: 8px !important}ion-content[data-v-835962f4]{--offset-bottom: auto !important;--overflow: hidden;overflow:auto}ion-content[data-v-835962f4]::-webkit-scrollbar{display:none}ion-input[data-v-835962f4]{--border-radius: 8px !important}ion-content[data-v-081651e9]{--offset-bottom: auto !important;--overflow: hidden;overflow:auto}ion-content[data-v-081651e9]::-webkit-scrollbar{display:none}ion-input[data-v-081651e9]{--border-radius: 8px !important}ion-input[data-v-40a56fc9]{--border-radius:8px !important}ion-popover{--width: 55%;--background: #f2f2f2;--backdrop-opacity: 0;--box-shadow: 0 1px 0px 0 rgba(0, 0, 0, .2);--color: white;color:#fff}ion-popover ion-content{--background: #f0f0f0;--color: black}.spr{border-radius:40px 40px 0 0}/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */:root{--ck-color-base-foreground: hsl(0, 0%, 98%);--ck-color-base-background: hsl(0, 0%, 100%);--ck-color-base-border: hsl(220, 6%, 81%);--ck-color-base-action: hsl(104, 50.2%, 42.5%);--ck-color-base-focus: hsl(209, 92%, 70%);--ck-color-base-text: hsl(0, 0%, 20%);--ck-color-base-active: hsl(218.1, 100%, 58%);--ck-color-base-active-focus: hsl(218.2, 100%, 52.5%);--ck-color-base-error: hsl(15, 100%, 43%);--ck-color-focus-border-coordinates: 218, 81.8%, 56.9%;--ck-color-focus-border: hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow: hsl(212.4, 89.3%, 89%);--ck-color-focus-disabled-shadow: hsla(209, 90%, 72%,.3);--ck-color-focus-error-shadow: hsla(9,100%,56%,.3);--ck-color-text: var(--ck-color-base-text);--ck-color-shadow-drop: hsla(0, 0%, 0%, .15);--ck-color-shadow-drop-active: hsla(0, 0%, 0%, .2);--ck-color-shadow-inner: hsla(0, 0%, 0%, .1);--ck-color-button-default-background: transparent;--ck-color-button-default-hover-background: hsl(0, 0%, 94.1%);--ck-color-button-default-active-background: hsl(0, 0%, 94.1%);--ck-color-button-default-disabled-background: transparent;--ck-color-button-on-background: hsl(212, 100%, 97.1%);--ck-color-button-on-hover-background: hsl(211.7, 100%, 92.9%);--ck-color-button-on-active-background: hsl(211.7, 100%, 92.9%);--ck-color-button-on-disabled-background: hsl(211, 15%, 95%);--ck-color-button-on-color: hsl(218.1, 100%, 58%);--ck-color-button-action-background: var(--ck-color-base-action);--ck-color-button-action-hover-background: hsl(104, 53.2%, 40.2%);--ck-color-button-action-active-background: hsl(104, 53.2%, 40.2%);--ck-color-button-action-disabled-background: hsl(104, 44%, 58%);--ck-color-button-action-text: var(--ck-color-base-background);--ck-color-button-save: hsl(120, 100%, 27%);--ck-color-button-cancel: hsl(15, 100%, 43%);--ck-color-switch-button-off-background: hsl(0, 0%, 57.6%);--ck-color-switch-button-off-hover-background: hsl(0, 0%, 49%);--ck-color-switch-button-on-background: var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background: hsl(104, 53.2%, 40.2%);--ck-color-switch-button-inner-background: var(--ck-color-base-background);--ck-color-switch-button-inner-shadow: hsla(0, 0%, 0%, .1);--ck-color-dropdown-panel-background: var(--ck-color-base-background);--ck-color-dropdown-panel-border: var(--ck-color-base-border);--ck-color-dialog-background: var(--ck-custom-background);--ck-color-dialog-form-header-border: var(--ck-custom-border);--ck-color-input-background: var(--ck-color-base-background);--ck-color-input-border: var(--ck-color-base-border);--ck-color-input-error-border: var(--ck-color-base-error);--ck-color-input-text: var(--ck-color-base-text);--ck-color-input-disabled-background: hsl(0, 0%, 95%);--ck-color-input-disabled-border: var(--ck-color-base-border);--ck-color-input-disabled-text: hsl(0, 0%, 46%);--ck-color-list-background: var(--ck-color-base-background);--ck-color-list-button-hover-background: var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background: var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus: var(--ck-color-button-on-color);--ck-color-list-button-on-text: var(--ck-color-base-background);--ck-color-panel-background: var(--ck-color-base-background);--ck-color-panel-border: var(--ck-color-base-border);--ck-color-toolbar-background: var(--ck-color-base-background);--ck-color-toolbar-border: var(--ck-color-base-border);--ck-color-tooltip-background: var(--ck-color-base-text);--ck-color-tooltip-text: var(--ck-color-base-background);--ck-color-engine-placeholder-text: hsl(0, 0%, 44%);--ck-color-upload-bar-background: hsl(209, 92%, 70%);--ck-color-link-default: hsl(240, 100%, 47%);--ck-color-link-selected-background: hsla(201, 100%, 56%, .1);--ck-color-link-fake-selection: hsla(201, 100%, 56%, .3);--ck-color-highlight-background: hsl(60, 100%, 50%);--ck-color-light-red: hsl(0, 100%, 90%)}:root{--ck-disabled-opacity: .5}:root{--ck-focus-outer-shadow-geometry: 0 0 0 3px;--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring: 1px solid var(--ck-color-focus-border)}:root{--ck-font-size-base: 13px;--ck-line-height-base: 1.84615;--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;--ck-font-size-tiny: .7em;--ck-font-size-small: .75em;--ck-font-size-normal: 1em;--ck-font-size-big: 1.4em;--ck-font-size-large: 1.8em}:root{--ck-ui-component-min-height: 2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck-reset_all *:not(.ck-reset_all-excluded *){box-sizing:border-box;width:auto;height:auto;position:static;margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck-reset_all *:not(.ck-reset_all-excluded *){border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck-reset_all .ck-rtl *:not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all textarea:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){padding:10px;border:2px groove hsl(255,7%,88%)}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius: 2px}:root{--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active)}:root{--ck-spacing-unit: .6em;--ck-spacing-large: calc(var(--ck-spacing-unit) * 1.5);--ck-spacing-standard: var(--ck-spacing-unit);--ck-spacing-medium: calc(var(--ck-spacing-unit) * .8);--ck-spacing-small: calc(var(--ck-spacing-unit) * .5);--ck-spacing-tiny: calc(var(--ck-spacing-unit) * .3);--ck-spacing-extra-tiny: calc(var(--ck-spacing-unit) * .16)}.ck.ck-autocomplete>.ck-search__results{border-radius:0;max-height:200px;overflow-y:auto;background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);min-width:auto}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background);border-radius:0;white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion: reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,a.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit;opacity:.5}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-medium)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background);color:var(--ck-color-button-on-color)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background);color:var(--ck-color-button-action-text)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}:root{--ck-switch-button-toggle-width: 2.6153846154em;--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);--ck-switch-button-translation: calc( var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px );--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton:hover,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:active{color:inherit;background:transparent}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2 * var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2 * var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;border:1px solid transparent;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0;width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(.5 * var(--ck-border-radius))}@media (prefers-reduced-motion: reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;outline:none;box-shadow:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline-offset:1px;outline:var(--ck-focus-ring)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translate(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translate(calc(-1 * var( --ck-switch-button-translation )))}.ck.ck-button.ck-list-item-button{padding:var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard))}.ck.ck-button.ck-list-item-button,.ck.ck-button.ck-list-item-button.ck-on{background:var(--ck-color-list-background);color:var(--ck-color-text)}[dir=ltr] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-right:var(--ck-spacing-small)}.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover,.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable),.ck.ck-button.ck-list-item-button.ck-on:hover{background:var(--ck-color-list-button-hover-background)}.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled):not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable):not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:hover:not(.ck-disabled){color:var(--ck-color-text)}:root{--ck-collapsible-arrow-size: calc(.5 * var(--ck-icon-size))}.ck.ck-collapsible>.ck.ck-button{width:100%;font-weight:700;border-radius:0;color:inherit}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:not(:focus),.ck.ck-collapsible>.ck.ck-button:hover:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}:root{--ck-color-grid-tile-size: 24px;--ck-color-color-grid-check-icon: hsl(212, 81%, 46%)}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:.2s ease box-shadow}@media (forced-colors: none){.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;border:0}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors: active){.ck.ck-color-grid__tile{width:unset;height:unset;min-width:unset;min-height:unset;padding:0 var(--ck-spacing-small)}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion: reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{padding:calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer){width:15px;height:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}:root{--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);--ck-dialog-max-width: 100vw;--ck-dialog-max-height: 90vh;--ck-color-dialog-background: var(--ck-color-base-background);--ck-color-dialog-form-header-border: var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0;--ck-drop-shadow: var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width);border:1px solid var(--ck-color-base-border);overscroll-behavior:contain}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}.ck-dialog-scroll-locked{overflow:hidden}@keyframes ck-dialog-fade-in{0%{background:rgba(0,0,0,0)}to{background:var(--ck-dialog-overlay-background-color)}}.ck.ck-dialog .ck.ck-dialog__actions{padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}:root{--ck-dropdown-arrow-size: calc(.5 * var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}:root{--ck-color-split-button-hover-background: hsl(0, 0%, 92%);--ck-color-split-button-hover-border: hsl(0, 0%, 70%)}[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-top-width:0px;border-bottom-width:0px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{content:\"\";position:absolute;width:1px;height:100%;background-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border: var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button{width:100%;padding:var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));border-radius:0}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-icon-spacing:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{transform:rotate(-90deg);margin-right:calc(-1 * var(--ck-spacing-small))}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{transform:rotate(90deg);margin-left:calc(-1 * var(--ck-spacing-small))}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-dropdown-menu-list__nested-menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}:root{--ck-dropdown-menu-menu-item-min-width: 18em}.ck.ck-dropdown-menu-list__nested-menu__item{min-width:var(--ck-dropdown-menu-menu-item-min-width)}.ck-button.ck-dropdown-menu-list__nested-menu__item__button{border-radius:0}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container,.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size: 20px}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container{margin-left:calc(-1 * var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus{border-color:transparent;box-shadow:none}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}:root{--ck-dropdown-menu-menu-panel-max-width: 75vw}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;height:-moz-fit-content;height:fit-content;max-width:var(--ck-dropdown-menu-menu-panel-max-width)}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:after,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:before{display:none}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_es,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_se{border-top-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ws,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_sw{border-top-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_en,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ne{border-bottom-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_wn,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_nw{border-bottom-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:focus{outline:none}:root{--ck-accessibility-help-dialog-max-width: 600px;--ck-accessibility-help-dialog-max-height: 400px;--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%)}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{padding:var(--ck-spacing-large);max-width:var(--ck-accessibility-help-dialog-max-width);max-height:var(--ck-accessibility-help-dialog-max-height);overflow:auto;-webkit-user-select:text;user-select:text;border:1px solid transparent}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content *{white-space:normal}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-weight:700;font-size:1.2em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-weight:700;font-size:1em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{display:grid;grid-template-columns:2fr 1fr;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);border-bottom:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{display:inline-block;background:var(--ck-accessibility-help-dialog-code-background-color);padding:.4em;vertical-align:middle;line-height:1;border-radius:2px;text-align:center;font-size:.9em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{min-width:1.8em;box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}:root{--ck-color-editable-blur-selection: hsl(0, 0%, 85%)}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>*:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>*:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}:root{--ck-form-header-height: 44px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base: 15px;font-weight:700}:root{--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));--ck-icon-font-size: .8333350694em}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:var(--ck-icon-font-size);cursor:inherit;will-change:transform}.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color *:not([fill]){fill:currentColor}:root{--ck-input-width: 18em;--ck-input-text-width: var(--ck-input-width)}.ck.ck-input{border-radius:0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion: reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-input-shake .3s ease both}@media (prefers-reduced-motion: reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translate(-2px)}40%{transform:translate(2px)}60%{transform:translate(-1px)}80%{transform:translate(1px)}}.ck.ck-label{font-weight:700}:root{--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, .24, .95);--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y: calc(.6 * var(--ck-font-size-base));--ck-color-labeled-field-label-background: var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0;pointer-events:none;background:var(--ck-color-labeled-field-label-background);padding:0 calc(.5 * var(--ck-font-size-tiny));line-height:initial;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75)}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform-origin:100% 0;transform:translate(calc(-1 * var(--ck-spacing-medium)),-6px) scale(.75)}@media (prefers-reduced-motion: reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}.ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}.ck.ck-list{border-radius:0;list-style-type:none;background:var(--ck-color-list-background);padding:var(--ck-spacing-small) 0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list__item{cursor:default;min-width:15em}.ck.ck-list__item>.ck-button:not(.ck-list-item-button){padding:var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));min-height:unset;width:100%;border-radius:0}[dir=ltr] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:right}.ck.ck-list__item>.ck-button:not(.ck-list-item-button) .ck-button__label{line-height:calc(var(--ck-line-height-base) * var(--ck-font-size-base))}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button){background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium)}.ck-list .ck-list__group:first-child{padding-top:0}*:not(.ck-hidden)~.ck-list .ck-list__group{border-top:1px solid var(--ck-color-base-border)}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large) 0}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border);margin:var(--ck-spacing-small) 0}.ck.ck-menu-bar{display:flex;flex-wrap:wrap;justify-content:flex-start;background:var(--ck-color-base-background);padding:var(--ck-spacing-small);gap:var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border);width:100%}.ck.ck-menu-bar__menu{font-size:inherit}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{padding:var(--ck-spacing-small) var(--ck-spacing-medium);min-height:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{width:unset;line-height:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg);margin-left:var(--ck-spacing-standard);margin-right:calc(-1 * var(--ck-spacing-small))}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg);left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small);margin-left:calc(-1 * var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}:root{--ck-menu-bar-menu-item-min-width: 18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size: 20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{font-size:var(--ck-icon-font-size)}[dir=ltr] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:var(--ck-spacing-medium)}:root{--ck-menu-bar-menu-panel-max-width: 75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;height:-moz-fit-content;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}.ck.ck-menu-bar .ck-list-item-button:focus,.ck.ck-menu-bar .ck-list-item-button:active{border-color:transparent;box-shadow:none}.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:focus,.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:active{position:relative;z-index:2;outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}:root{--ck-balloon-border-width: 1px;--ck-balloon-arrow-offset: 2px;--ck-balloon-arrow-height: 10px;--ck-balloon-arrow-half-width: 8px;--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0;min-height:15px;background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border)}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:before,.ck.ck-balloon-panel[class*=arrow_n]:after{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(-1 * var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:before,.ck.ck-balloon-panel[class*=arrow_s]:after{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(-1 * var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:before,.ck.ck-balloon-panel[class*=arrow_e]:after{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(-1 * var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:before,.ck.ck-balloon-panel[class*=arrow_w]:after{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(-1 * var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{left:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after{right:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{left:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after{right:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after{right:25%;margin-right:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after{left:25%;margin-left:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after{right:25%;margin-right:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after{left:25%;margin-left:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after{right:calc(-1 * var(--ck-balloon-arrow-height));margin-top:calc(-1 * var(--ck-balloon-arrow-half-width));top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after{left:calc(-1 * var(--ck-balloon-arrow-height));margin-top:calc(-1 * var(--ck-balloon-arrow-half-width));top:50%}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}:root{--ck-balloon-fake-panel-offset-horizontal: 6px;--ck-balloon-fake-panel-offset-vertical: 6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:nth-child(1){margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical) * 2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical) * 3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical: -6px}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width: 600px){.ck.ck-responsive-form{padding:0;width:calc(.8 * var(--ck-input-width))}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:nth-last-child(1),.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0}.ck.ck-responsive-form>.ck-button:nth-last-child(1):not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(1),[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(1),[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(1):last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}:root{--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{padding-left:var(--ck-search-field-view-horizontal-spacing)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{min-width:auto;min-height:auto;background:none;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty){padding-right:var(--ck-search-field-view-horizontal-spacing)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{width:100%;padding:var(--ck-spacing-medium) var(--ck-spacing-large)}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}.ck.ck-spinner-container{width:var(--ck-toolbar-spinner-size);height:var(--ck-toolbar-spinner-size);animation:1.5s infinite ck-spinner-rotate linear}@media (prefers-reduced-motion: reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{width:var(--ck-toolbar-spinner-size);height:var(--ck-toolbar-spinner-size);border-radius:50%;border:2px solid var(--ck-color-text);border-top-color:transparent}@keyframes ck-spinner-rotate{to{transform:rotate(360deg)}}.ck-textarea{overflow-x:hidden}:root{--ck-color-block-toolbar-button: var(--ck-color-text);--ck-block-toolbar-button-size: var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}.ck.ck-toolbar{border-radius:0;background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar .ck.ck-toolbar__separator{height:var(--ck-icon-size);width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>*:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck,.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck{margin-right:0}[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child,.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child{margin-left:0}[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator,.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child,.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child{margin-right:0}[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator,.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}.ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width: 0px;--ck-balloon-arrow-offset: 0px;--ck-balloon-arrow-half-width: 4px;--ck-balloon-arrow-height: 4px;--ck-tooltip-text-padding: 4px;--ck-color-panel-background: var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);box-shadow:none}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text)}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{white-space:break-spaces;display:inline-block;padding:var(--ck-tooltip-text-padding) 0;max-width:200px}.ck.ck-balloon-panel.ck-tooltip:before{display:none}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0;border:1px solid var(--ck-color-base-border);border-bottom-width:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar{border:0;border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}:root{--ck-clipboard-drop-target-dot-width: 12px;--ck-clipboard-drop-target-dot-height: 8px;--ck-clipboard-drop-target-color: var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(-.5 * var(--ck-clipboard-drop-target-dot-height));top:calc(-.5 * var(--ck-clipboard-drop-target-dot-height));border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:\"\";width:0;height:0;display:block;position:absolute;left:50%;top:calc(-.5 * var(--ck-clipboard-drop-target-dot-height));transform:translate(-50%);border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));border-style:solid}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{height:0;border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{content:\"\";position:absolute;top:calc(-.5 * var(--ck-clipboard-drop-target-dot-width));width:0;height:0;border-style:solid}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{left:-1px;border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color)}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{right:-1px;border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent}:root{--ck-color-code-block-label-background: hsl(0, 0%, 46%)}.ck.ck-editor__editable pre[data-language]:after{top:-1px;right:10px;background:var(--ck-color-code-block-label-background);font-size:10px;font-family:var(--ck-font-face);line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);color:#fff;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}@media (forced-colors: active){.ck.ck-placeholder,.ck .ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text}@media (forced-colors: none){.ck.ck-placeholder:before,.ck .ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors: active){.ck.ck-placeholder:before,.ck .ck-placeholder:before{font-style:italic;margin-left:1px}}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs,.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions{flex:1 1 auto;flex-direction:row;flex-wrap:wrap;align-items:center;align-content:stretch;padding:var(--ck-spacing-large);margin:0}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button,.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>*+*,[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>*+*,[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view,.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view .ck-input,.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view .ck-input{width:100%;min-width:50px}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-items:flex-start}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{top:50%;transform:translateY(-50%);color:var(--ck-color-base-border)}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{flex:0 0 100%;padding-top:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{margin-right:0}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(-1 * var(--ck-spacing-large))}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-switchbutton{width:100%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:center}@media screen and (max-width: 600px){.ck.ck-find-and-replace-form{width:300px;max-width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input{flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input .ck-labeled-field-view{flex:1 0 auto;width:100%;margin-bottom:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type .ck-button__label{width:100%;text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view){flex-wrap:wrap;flex:1 1 auto}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button .ck-button__label{width:100%;text-align:center}}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}:root{--ck-html-embed-content-width: calc(100% - 1.5 * var(--ck-icon-size));--ck-html-embed-source-height: 10em;--ck-html-embed-unfocused-outline-width: 1px;--ck-html-embed-content-min-height: calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background: var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color: hsl(0deg 0% 45%)}.ck-widget.raw-html-embed{font-size:var(--ck-font-size-base);background-color:var(--ck-color-base-foreground)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{content:attr(data-html-embed-label);top:calc(-1 * var(--ck-html-embed-unfocused-outline-width));left:var(--ck-spacing-standard);background:#999;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);font-size:var(--ck-font-size-tiny);font-family:var(--ck-font-face)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{top:0;padding:var(--ck-spacing-tiny) var(--ck-spacing-small)}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{top:0;padding:var(--ck-spacing-tiny) var(--ck-spacing-small);background:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{top:0;padding:var(--ck-spacing-tiny) var(--ck-spacing-small)}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{top:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;height:var(--ck-html-embed-source-height);width:var(--ck-html-embed-content-width);resize:none;min-width:0;padding:var(--ck-spacing-standard);font-family:monospace;-moz-tab-size:4;tab-size:4;white-space:pre-wrap;font-size:var(--ck-font-size-base);text-align:left;direction:ltr}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{box-sizing:border-box;background-color:var(--ck-color-base-foreground)}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}:root{--ck-image-insert-insert-by-url-width: 250px}.ck.ck-image-insert-url{--ck-input-width: 100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width);padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}:root{--ck-color-image-upload-icon: hsl(0, 0%, 100%);--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);--ck-image-upload-icon-size: 20;--ck-image-upload-icon-width: 2px;--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px)}.ck-image-upload-complete-icon{opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:calc(1px * var(--ck-image-upload-icon-size));animation-delay:0ms,3s;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@media (prefers-reduced-motion: reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;opacity:1;width:.3em;height:.45em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}:root{--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);--ck-upload-placeholder-loader-size: 32px;--ck-upload-placeholder-image-aspect-ratio: 2.8}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-image-upload-placeholder.image-inline{width:calc(2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(360deg)}}.ck.ck-editor__editable .image.ck-appear,.ck.ck-editor__editable .image-inline.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion: reduce){.ck.ck-editor__editable .image.ck-appear,.ck.ck-editor__editable .image-inline.ck-appear{opacity:1;animation:none}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:solid 1px hsla(0,0%,100%,.5)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child){margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width: 600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{padding:var(--ck-spacing-standard);margin:0;width:50%;border-radius:0}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:0 var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}:root{--ck-link-image-indicator-icon-size: 20;--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px)}.ck.ck-editor__editable figure.image>a:after,.ck.ck-editor__editable a span.image-inline:after{content:\"\";top:min(var(--ck-spacing-medium),6%);right:min(var(--ck-spacing-medium),6%);background-color:rgba(0,0,0,.4);background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+);background-size:14px;background-repeat:no-repeat;background-position:center;border-radius:100%;overflow:hidden;width:calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));height:calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size))}.ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;padding-left:0;padding-right:0;margin-bottom:calc(-1 * var(--ck-spacing-tiny))}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{box-shadow:none;border-color:transparent;background:none}:root{--ck-list-style-button-size: 44px}.ck.ck-list-styles-list{grid-template-columns:repeat(3,auto);row-gap:var(--ck-spacing-medium);column-gap:var(--ck-spacing-medium);padding:var(--ck-spacing-large)}.ck.ck-list-styles-list .ck-button{width:var(--ck-list-style-button-size);height:var(--ck-list-style-button-size);padding:0;margin:0;box-sizing:content-box}.ck.ck-list-styles-list .ck-button .ck-icon{width:var(--ck-list-style-button-size);height:var(--ck-list-style-button-size)}:root{--ck-media-embed-placeholder-icon-size: 3em;--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3 * var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:center;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*=\"open.spotify.com\"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*=\"google.com/maps\"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*=\"goo.gl/maps\"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*=\"maps.google.com\"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*=\"maps.app.goo.gl\"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+)}.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+)}.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck.ck-media__placeholder{background:linear-gradient(to right,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+)}.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}:root{--ck-color-mention-background: hsla(341, 100%, 30%, .1);--ck-color-mention-text: hsl(341, 100%, 30%)}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}:root{--ck-color-restricted-editing-exception-background: hsla(31, 100%, 65%, .2);--ck-color-restricted-editing-exception-hover-background: hsla(31, 100%, 65%, .35);--ck-color-restricted-editing-exception-brackets: hsla(31, 100%, 40%, .4);--ck-color-restricted-editing-selected-exception-background: hsla(31, 100%, 65%, .5);--ck-color-restricted-editing-selected-exception-brackets: hsla(31, 100%, 40%, .6)}.ck-editor__editable .restricted-editing-exception{transition:.2s ease-in-out background;background-color:var(--ck-color-restricted-editing-exception-background);border:1px solid;border-image:linear-gradient(to right,var(--ck-color-restricted-editing-exception-brackets) 0%,var(--ck-color-restricted-editing-exception-brackets) 5px,hsla(0,0%,0%,0) 6px,hsla(0,0%,0%,0) calc(100% - 6px),var(--ck-color-restricted-editing-exception-brackets) calc(100% - 5px),var(--ck-color-restricted-editing-exception-brackets) 100%) 1}@media (prefers-reduced-motion: reduce){.ck-editor__editable .restricted-editing-exception{transition:none}}.ck-editor__editable .restricted-editing-exception.restricted-editing-exception_selected{background-color:var(--ck-color-restricted-editing-selected-exception-background);border-image:linear-gradient(to right,var(--ck-color-restricted-editing-selected-exception-brackets) 0%,var(--ck-color-restricted-editing-selected-exception-brackets) 5px,var(--ck-color-restricted-editing-selected-exception-brackets) calc(100% - 5px),var(--ck-color-restricted-editing-selected-exception-brackets) 100%) 1}.ck-editor__editable .restricted-editing-exception.restricted-editing-exception_collapsed{padding-left:1ch}.ck-restricted-editing_mode_restricted,.ck-restricted-editing_mode_restricted *{cursor:default}.ck-restricted-editing_mode_restricted .restricted-editing-exception,.ck-restricted-editing_mode_restricted .restricted-editing-exception *{cursor:text}.ck-restricted-editing_mode_restricted .restricted-editing-exception:hover{background:var(--ck-color-restricted-editing-exception-hover-background)}:root{--ck-character-grid-tile-size: 24px}.ck.ck-character-grid{overflow-y:auto;overflow-x:hidden}.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(auto-fill,minmax(var(--ck-character-grid-tile-size),1fr));margin:var(--ck-spacing-standard) var(--ck-spacing-large);grid-gap:var(--ck-spacing-standard)}.ck.ck-character-grid .ck-character-grid__tile{width:var(--ck-character-grid-tile-size);height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);font-size:1.5em;padding:0;transition:.2s ease box-shadow;border:0}@media (prefers-reduced-motion: reduce){.ck.ck-character-grid .ck-character-grid__tile{transition:none}}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);width:100%;text-align:center}.ck.ck-character-info{padding:var(--ck-spacing-small) var(--ck-spacing-large);border-top:1px solid var(--ck-color-base-border)}.ck.ck-character-info>*{text-transform:uppercase;font-size:var(--ck-font-size-small)}.ck.ck-character-info .ck-character-info__name{max-width:280px;text-overflow:ellipsis;overflow:hidden}.ck.ck-character-info .ck-character-info__code{opacity:.6}.ck.ck-special-characters-navigation>.ck-label{max-width:160px;text-overflow:ellipsis;overflow:hidden}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}@media screen and (max-width: 600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{text-overflow:ellipsis;overflow:hidden}}.ck.ck-dropdown.ck-style-dropdown.ck-style-dropdown_multiple-active>.ck-button>.ck-button__label{font-style:italic}:root{--ck-style-panel-button-width: 120px;--ck-style-panel-button-height: 80px;--ck-style-panel-button-label-background: hsl(0, 0%, 94.1%);--ck-style-panel-button-hover-label-background: hsl(0, 0%, 92.1%);--ck-style-panel-button-hover-border-color: hsl(0, 0%, 70%)}.ck.ck-style-panel .ck-style-grid{row-gap:var(--ck-spacing-large);column-gap:var(--ck-spacing-large)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{--ck-color-button-default-hover-background: var(--ck-color-base-background);--ck-color-button-default-active-background: var(--ck-color-base-background);padding:0;width:var(--ck-style-panel-button-width);height:var(--ck-style-panel-button-height)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-button__label{height:22px;line-height:22px;width:100%;padding:0 var(--ck-spacing-medium);overflow:hidden;text-overflow:ellipsis;flex-shrink:0}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{width:100%;overflow:hidden;opacity:.9;padding:var(--ck-spacing-medium);background:var(--ck-color-base-background);border:2px solid var(--ck-color-base-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled{--ck-color-button-default-disabled-background: var(--ck-color-base-foreground)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled:not(:focus){border-color:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled .ck-style-grid__button__preview{opacity:.4;border-color:var(--ck-color-base-foreground);filter:saturate(.3)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on{border-color:var(--ck-color-base-active)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on .ck-button__label{box-shadow:0 -1px 0 var(--ck-color-base-active);z-index:1}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on:hover{border-color:var(--ck-color-base-active-focus)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on) .ck-button__label{background:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on):hover .ck-button__label{background:var(--ck-style-panel-button-hover-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on){border-color:var(--ck-style-panel-button-hover-border-color)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on) .ck-style-grid__button__preview{opacity:1}.ck.ck-style-panel .ck-style-panel__style-group>.ck-label{margin:var(--ck-spacing-large) 0}.ck.ck-style-panel .ck-style-panel__style-group:first-child>.ck-label{margin-top:0}:root{--ck-style-panel-max-height: 470px}.ck.ck-style-panel{padding:var(--ck-spacing-large);overflow-y:auto;max-height:var(--ck-style-panel-max-height)}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-top-left-radius:0;border-bottom-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0;width:20px;height:20px;border:1px solid var(--ck-color-input-border)}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{top:-30%;left:50%;height:150%;width:8%;background:red;border-radius:2px;transform:rotate(45deg);transform-origin:50%}.ck.ck-input-color .ck.ck-input-color__remove-color{width:100%;padding:calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:0;margin-left:var(--ck-spacing-standard)}.ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>*:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>*:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{width:100%;min-width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}:root{--ck-insert-table-dropdown-padding: 10px;--ck-insert-table-dropdown-box-height: 11px;--ck-insert-table-dropdown-box-width: 12px;--ck-insert-table-dropdown-box-margin: 1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{min-width:var(--ck-insert-table-dropdown-box-width);min-height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px;outline:none;transition:none}@media (prefers-reduced-motion: reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}:root{--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}:root{--ck-table-properties-error-arrow-size: 6px;--ck-table-properties-min-error-width: 150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{width:80px;min-width:80px;max-width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0;background:var(--ck-color-base-error);color:var(--ck-color-base-background);padding:var(--ck-spacing-small) var(--ck-spacing-medium);min-width:var(--ck-table-properties-min-error-width);text-align:center;animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);border-style:solid}@media (prefers-reduced-motion: reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}:root{--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:\"\";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}:root{--ck-widget-outline-thickness: 3px;--ck-widget-handler-icon-size: 16px;--ck-widget-handler-animation-duration: .2s;--ck-widget-handler-animation-curve: ease;--ck-color-widget-blurred-border: hsl(0, 0%, 87%);--ck-color-widget-hover-border: hsl(43, 100%, 62%);--ck-color-widget-editable-focus-background: var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion: reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{box-shadow:var(--ck-inner-shadow),0 0}@media (forced-colors: none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused:not(td,th),.ck .ck-editor__nested-editable:focus:not(td,th){outline:none;border:var(--ck-focus-ring)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness));top:0}@media (prefers-reduced-motion: reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion: reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness: 0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}:root{--ck-resizer-size: 10px;--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);--ck-resizer-border-width: 1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid hsl(0,0%,100%);border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}:root{--ck-widget-type-around-button-size: 20px;--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha: 0;--ck-color-widget-type-around-button-radar-end-alpha: .3;--ck-color-widget-type-around-button-icon: var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}@media (prefers-reduced-motion: reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}@media (prefers-reduced-motion: reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion: reduce){.ck .ck-widget .ck-widget__type-around__button:hover{animation:none}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,rgba(255,255,255,0),rgba(255,255,255,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;outline:solid 1px hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}.ck-content code{background-color:rgba(199,199,199,.3);padding:.15em;border-radius:2px}.ck.ck-editor__editable .ck-code_selected{background-color:rgba(199,199,199,.5)}.ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:solid 5px hsl(0,0%,80%)}.ck-content[dir=rtl] blockquote{border-left:0;border-right:solid 5px hsl(0,0%,80%)}:root{--ck-image-processing-highlight-color: hsl(220, 10%, 98%);--ck-image-processing-background-color: hsl(220, 10%, 90%)}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{content:\"\";position:absolute;top:0;left:0;z-index:1;height:100%;width:100%;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;animation:ck-image-processing-animation 2s linear infinite}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle{display:none}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{position:absolute;pointer-events:none}.ck-content pre{padding:1em;color:#353535;background:rgba(199,199,199,.3);border:1px solid hsl(0,0%,77%);border-radius:2px;text-align:left;direction:ltr;-moz-tab-size:4;tab-size:4;white-space:pre-wrap;font-style:normal;min-width:200px}.ck-content pre code{background:unset;padding:0;border-radius:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}.ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-menu-bar{border:none;border-bottom:1px solid var(--ck-color-toolbar-border)}.ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}.ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}.ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs,.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions{display:flex}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs.ck-find-and-replace-form__inputs .ck-results-counter,.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions.ck-find-and-replace-form__inputs .ck-results-counter{position:absolute}.ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}.ck.ck-heading_heading1 .ck-button__label{font-size:20px}.ck.ck-heading_heading2 .ck-button__label{font-size:17px}.ck.ck-heading_heading3 .ck-button__label{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}:root{--ck-highlight-marker-yellow: hsl(60, 97%, 73%);--ck-highlight-marker-green: hsl(120, 93%, 68%);--ck-highlight-marker-pink: hsl(345, 96%, 73%);--ck-highlight-marker-blue: hsl(201, 97%, 72%);--ck-highlight-pen-red: hsl(0, 85%, 49%);--ck-highlight-pen-green: hsl(112, 100%, 27%)}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{color:var(--ck-highlight-pen-red);background-color:transparent}.ck-content .pen-green{color:var(--ck-highlight-pen-green);background-color:transparent}.ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{margin:15px 0;height:4px;background:#dedede;border:0}.ck-widget.raw-html-embed{margin:.9em auto;position:relative;display:flow-root;min-width:15em;font-style:normal}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{position:absolute;display:flex;flex-direction:column}.ck-widget.raw-html-embed .raw-html-embed__preview{position:relative;overflow:hidden;display:flex}.ck-widget.raw-html-embed .raw-html-embed__preview-content{width:100%;position:relative;margin:auto;display:table;border-collapse:separate;border-spacing:7px}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{position:absolute;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}:root{--ck-html-object-embed-unfocused-outline-width: 1px}.ck-widget.html-object-embed{font-size:var(--ck-font-size-base);background-color:var(--ck-color-base-foreground);padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large));min-width:calc(76px + var(--ck-spacing-standard))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{font-weight:400;font-style:normal;position:absolute;content:attr(data-html-object-embed-label);top:0;left:var(--ck-spacing-standard);background:#999;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);font-size:var(--ck-font-size-tiny);font-family:var(--ck-font-face)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}:root{--ck-color-image-caption-background: hsl(0, 0%, 97%);--ck-color-image-caption-text: hsl(0, 0%, 20%);--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%)}.ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:var(--ck-color-image-caption-text);background-color:var(--ck-color-image-caption-background);padding:.6em;font-size:.75em;outline-offset:-1px}@media (forced-colors: active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors: none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion: reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}.ck.ck-image-insert-url{width:400px;padding:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}.ck-content img.image_resized{height:auto}.ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}.ck.ck-image-custom-resize-form{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:flex-start}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width: 600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}:root{--ck-image-style-spacing: 1.5em;--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2)}.ck-content .image.image-style-block-align-left,.ck-content .image.image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image.image-style-align-left,.ck-content .image.image-style-align-right{clear:none}.ck-content .image.image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image.image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image.image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image.image-style-block-align-right{margin-right:0;margin-left:auto}.ck-content .image.image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content p+.image.image-style-align-left,.ck-content p+.image.image-style-align-right,.ck-content p+.image.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-top:var(--ck-inline-image-style-spacing);margin-bottom:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}.ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width: 600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{position:absolute;top:0;left:0}.ck-image-upload-complete-icon{display:block;position:absolute;top:min(var(--ck-spacing-medium),6%);right:min(var(--ck-spacing-medium),6%);border-radius:50%;z-index:1}.ck-image-upload-complete-icon:after{content:\"\";position:absolute}.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:\"\";position:relative}.ck-content .image{display:table;clear:both;text-align:center;margin:.9em auto;min-width:50px}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%;height:auto}.ck-content .image-inline{display:inline-flex;max-width:100%;align-items:flex-start}.ck-content .image-inline picture{display:flex}.ck-content .image-inline picture,.ck-content .image-inline img{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{padding-left:inherit;padding-right:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}.ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}.ck.ck-editor__editable figure.image>a:after,.ck.ck-editor__editable a span.image-inline:after{display:block;position:absolute}.ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width: 600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-form{display:flex;align-items:flex-start}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width: 600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-save,.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel{margin-top:var(--ck-spacing-medium)}.ck-editor__editable .ck-list-bogus-paragraph{display:block}.ck.ck-list-styles-list{display:grid}.ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}:root{--ck-todo-list-checkmark-size: 16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{position:relative;margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;display:inline-block;position:relative;width:var(--ck-todo-list-checkmark-size);height:var(--ck-todo-list-checkmark-size);vertical-align:middle;border:0;left:-25px;margin-right:-15px;right:0;margin-left:0}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-right:0;right:-25px;margin-left:-15px}.ck-content .todo-list .todo-list__label>input:before{display:block;position:absolute;box-sizing:border-box;content:\"\";width:100%;height:100%;border:1px solid hsl(0,0%,20%);border-radius:2px;transition:.25s ease-in-out box-shadow}@media (prefers-reduced-motion: reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{display:block;position:absolute;box-sizing:content-box;pointer-events:none;content:\"\";left:calc(var(--ck-todo-list-checkmark-size) / 3);top:calc(var(--ck-todo-list-checkmark-size) / 5.3);width:calc(var(--ck-todo-list-checkmark-size) / 5.3);height:calc(var(--ck-todo-list-checkmark-size) / 2.6);border-style:solid;border-color:transparent;border-width:0 calc(var(--ck-todo-list-checkmark-size) / 8) calc(var(--ck-todo-list-checkmark-size) / 8) 0;transform:rotate(45deg)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;display:inline-block;position:relative;width:var(--ck-todo-list-checkmark-size);height:var(--ck-todo-list-checkmark-size);vertical-align:middle;border:0;left:-25px;margin-right:-15px;right:0;margin-left:0}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-right:0;right:-25px;margin-left:-15px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{display:block;position:absolute;box-sizing:border-box;content:\"\";width:100%;height:100%;border:1px solid hsl(0,0%,20%);border-radius:2px;transition:.25s ease-in-out box-shadow}@media (prefers-reduced-motion: reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{display:block;position:absolute;box-sizing:content-box;pointer-events:none;content:\"\";left:calc(var(--ck-todo-list-checkmark-size) / 3);top:calc(var(--ck-todo-list-checkmark-size) / 5.3);width:calc(var(--ck-todo-list-checkmark-size) / 5.3);height:calc(var(--ck-todo-list-checkmark-size) / 2.6);border-style:solid;border-color:transparent;border-width:0 calc(var(--ck-todo-list-checkmark-size) / 8) calc(var(--ck-todo-list-checkmark-size) / 8) 0;transform:rotate(45deg)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-content .media{clear:both;margin:.9em 0;display:block;min-width:15em}.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\"google.com/maps\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\"goo.gl/maps\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\"maps.google.com\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\"maps.app.goo.gl\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>*:not(.ck-media__placeholder){pointer-events:none}.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}.ck-vertical-form .ck-button:after{content:\"\";width:0;position:absolute;right:-1px;top:-1px;bottom:-1px;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width: 600px){.ck.ck-responsive-form .ck-button:after{content:\"\";width:0;position:absolute;right:-1px;top:-1px;bottom:-1px;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap;width:400px}.ck.ck-media-form .ck-labeled-field-view{display:inline-block;width:100%}.ck.ck-media-form .ck-label{display:none}.ck.ck-media-form .ck-input{width:100%}@media screen and (max-width: 600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}:root{--ck-mention-list-max-height: 300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-y:auto;overflow-x:hidden;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{overflow:hidden;flex-shrink:0}:root{--ck-color-minimap-tracker-background: 208, 0%, 51%;--ck-color-minimap-iframe-outline: hsl(0deg 0% 75%);--ck-color-minimap-iframe-shadow: hsl(0deg 0% 0% / 11%);--ck-color-minimap-progress-background: hsl(0,0%,40%)}.ck.ck-minimap{position:absolute;-webkit-user-select:none;user-select:none;background:var(--ck-color-base-background)}.ck.ck-minimap,.ck.ck-minimap iframe{width:100%;height:100%}.ck.ck-minimap iframe{border:0;pointer-events:none;position:relative;outline:1px solid var(--ck-color-minimap-iframe-outline);box-shadow:0 2px 5px var(--ck-color-minimap-iframe-shadow);margin:0}.ck.ck-minimap .ck.ck-minimap__position-tracker{position:absolute;width:100%;top:0;background:hsla(var(--ck-color-minimap-tracker-background),.2);z-index:1;transition:background .1s ease-in-out}@media (prefers-reduced-motion: reduce){.ck.ck-minimap .ck.ck-minimap__position-tracker{transition:none}}.ck.ck-minimap .ck.ck-minimap__position-tracker:hover{background:hsla(var(--ck-color-minimap-tracker-background),.3)}.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging,.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging:hover{background:hsla(var(--ck-color-minimap-tracker-background),.4)}.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging:after,.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging:hover:after{opacity:1}.ck.ck-minimap .ck.ck-minimap__position-tracker:after{content:attr(data-progress) \"%\";position:absolute;top:5px;right:5px;background:var(--ck-color-minimap-progress-background);color:var(--ck-color-base-background);border:1px solid var(--ck-color-base-background);padding:2px 4px;font-size:10px;border-radius:3px;opacity:0;transition:opacity .1s ease-in-out}@media (prefers-reduced-motion: reduce){.ck.ck-minimap .ck.ck-minimap__position-tracker:after{transition:none}}.ck-content .page-break{position:relative;clear:both;padding:5px 0;display:flex;align-items:center;justify-content:center}.ck-content .page-break:after{content:\"\";position:absolute;border-bottom:2px dashed hsl(0,0%,77%);width:100%}.ck-content .page-break__label{position:relative;z-index:1;padding:.3em .6em;display:block;text-transform:uppercase;border:1px solid hsl(0,0%,77%);border-radius:2px;font-family:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;font-size:.75em;font-weight:700;color:#333;background:#fff;box-shadow:2px 2px 1px rgba(0,0,0,.15);-webkit-user-select:none;user-select:none}@media print{.ck-content .page-break{padding:0}.ck-content .page-break:after{display:none}.ck-content *:has(+.page-break){margin-bottom:0}}:root{--ck-show-blocks-border-color: hsl(0, 0%, 46%)}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ADDRESS</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ADDRESS</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ADDRESS</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) address{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ADDRESS</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ASIDE</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ASIDE</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ASIDE</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) aside{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>ASIDE</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>BLOCKQUOTE</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>BLOCKQUOTE</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>BLOCKQUOTE</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) blockquote{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>BLOCKQUOTE</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DETAILS</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DETAILS</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DETAILS</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) details{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DETAILS</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *){background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *){background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DIV</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *){background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DIV</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *):not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *){background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DIV</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) div:not(.ck-widget,.ck-widget *){background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>DIV</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FOOTER</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FOOTER</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FOOTER</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) footer{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FOOTER</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H1</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H1</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H1</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h1{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H1</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H2</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H2</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H2</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h2{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H2</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H3</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H3</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H3</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h3{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H3</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H4</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H4</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H4</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h4{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H4</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H5</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H5</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H5</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h5{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H5</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H6</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H6</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H6</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) h6{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>H6</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>HEADER</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>HEADER</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>HEADER</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) header{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>HEADER</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>MAIN</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>MAIN</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>MAIN</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) main{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>MAIN</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>NAV</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>NAV</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>NAV</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) nav{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>NAV</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>PRE</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>PRE</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>PRE</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) pre{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>PRE</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>OL</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>OL</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>OL</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ol{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>OL</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>UL</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>UL</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>UL</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) ul{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>UL</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>P</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>P</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>P</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) p{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>P</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>SECTION</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>SECTION</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>SECTION</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) section{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>SECTION</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption{background-repeat:no-repeat;padding-top:15px}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FIGCAPTION</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FIGCAPTION</text></svg>\");background-position:calc(100% - 1px) 1px}.ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption:not(.ck-widget_selected):not(.ck-widget:hover){outline:1px dashed var(--ck-show-blocks-border-color)}[dir=ltr] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='3' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FIGCAPTION</text></svg>\");background-position:1px 1px}[dir=rtl] .ck.ck-editor__editable.ck-editor__editable_inline.ck-show-blocks:not(.ck-widget) :where(figure.image,figure.table) figcaption{background-image:url(\"data:image/svg+xml;utf8,<svg width='120' height='12' xmlns='http://www.w3.org/2000/svg' ><text style='paint-order:stroke fill; clip-path: inset(-3px); transform:translate(-2px, 0)' stroke='%23EAEAEA' stroke-width='13' dominant-baseline='middle' fill='black' x='100%' text-anchor='end' y='7' font-size='9px' font-family='Consolas, %22Lucida Console%22, %22Lucida Sans Typewriter%22, %22DejaVu Sans Mono%22, %22Bitstream Vera Sans Mono%22, %22Liberation Mono%22, Monaco, %22Courier New%22, Courier, monospace'>FIGCAPTION</text></svg>\");background-position:calc(100% - 1px) 1px}.ck-source-editing-area{position:relative;overflow:hidden}.ck-source-editing-area:after,.ck-source-editing-area textarea{padding:var(--ck-spacing-large);margin:0;border:1px solid transparent;line-height:var(--ck-line-height-base);font-size:var(--ck-font-size-normal);font-family:monospace;white-space:pre-wrap}.ck-source-editing-area:after{content:attr(data-value) \" \";visibility:hidden;display:block}.ck-source-editing-area textarea{position:absolute;width:100%;height:100%;resize:none;outline:none;overflow:hidden;box-sizing:border-box;border-color:var(--ck-color-base-border);border-radius:0}.ck-rounded-corners .ck-source-editing-area textarea,.ck-source-editing-area textarea.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck-source-editing-area textarea:not([readonly]):focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}.ck.ck-character-info{display:flex;justify-content:space-between}.ck.ck-special-characters>.ck-dialog__content>div{width:350px;max-width:100%;height:100%;display:grid;grid-column-gap:0px;grid-row-gap:0px;grid-template-columns:1fr;grid-template-rows:auto 1fr auto}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories{grid-area:1 / 1 / 2 / 2;padding:var(--ck-spacing-medium) var(--ck-spacing-large)}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view{padding-top:var(--ck-spacing-standard);width:100%}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);padding:var(--ck-spacing-small) var(--ck-spacing-medium);min-width:var(--ck-table-properties-min-error-width);text-align:center;animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);border-style:solid}@media (prefers-reduced-motion: reduce){.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories>.ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories .ck-dropdown{display:block;width:100%}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories .ck-dropdown>button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-categories .ck-dropdown>button>span{width:100%}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-grid{grid-area:2 / 1 / 3 / 2;max-height:200px}.ck.ck-special-characters>.ck-dialog__content>div>.ck-character-info{grid-area:3 / 1 / 4 / 2}:root{--ck-style-panel-columns: 3}.ck.ck-style-panel .ck-style-grid{display:grid;grid-template-columns:repeat(var(--ck-style-panel-columns),auto);justify-content:start}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{display:flex;justify-content:space-between;flex-direction:column}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{display:flex;align-content:center;justify-content:flex-start;align-items:center;flex-grow:1;flex-basis:100%}.ck-content .table{margin:.9em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double hsl(0,0%,70%)}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid hsl(0,0%,75%)}.ck-content .table table th{font-weight:700;background:rgba(0,0,0,.05)}@media print{.ck-content .table table{height:initial}}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}.ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>*:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-save,.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel{justify-content:center}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-input-color{width:100%;display:flex;flex-direction:row-reverse}.ck.ck-input-color>input.ck.ck-input-text{min-width:auto;flex-grow:1}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{position:relative;overflow:hidden}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{position:absolute;display:block}.ck.ck-table-form .ck-form__row.ck-table-form__border-row,.ck.ck-table-form .ck-form__row.ck-table-form__background-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{flex-wrap:wrap;align-items:center}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{display:flex;flex-direction:column-reverse;align-items:center}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{position:absolute;left:50%;bottom:calc(-1 * var(--ck-table-properties-error-arrow-size));transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:\"\";position:absolute;top:calc(-1 * var(--ck-table-properties-error-arrow-size));left:50%;transform:translate(-50%)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{flex-wrap:wrap;flex-basis:0;align-content:baseline}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}:root{--ck-color-selector-caption-background: hsl(0, 0%, 97%);--ck-color-selector-caption-text: hsl(0, 0%, 20%);--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%)}.ck-content .table>figcaption{display:table-caption;caption-side:top;word-break:break-word;text-align:center;color:var(--ck-color-selector-caption-text);background-color:var(--ck-color-selector-caption-background);padding:.6em;font-size:.75em;outline-offset:-1px}@media (forced-colors: active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors: none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{padding-left:inherit;padding-right:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}:root{--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);--ck-table-column-resizer-width: 7px;--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -.5 - .5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{position:absolute;top:0;bottom:0;right:var(--ck-table-column-resizer-position-offset);width:var(--ck-table-column-resizer-width);cursor:col-resize;-webkit-user-select:none;user-select:none;z-index:var(--ck-z-default)}.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer,.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);opacity:.25;top:-999999px;bottom:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}.ck-hidden{display:none!important}:root{--ck-z-default: 1;--ck-z-panel: calc( var(--ck-z-default) + 999 );--ck-z-dialog: 9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height: 10px;--ck-powered-by-padding-vertical: 2px;--ck-powered-by-padding-horizontal: 4px;--ck-powered-by-text-color: hsl(0, 0%, 31%);--ck-powered-by-border-radius: var(--ck-border-radius);--ck-powered-by-background: hsl(0, 0%, 100%);--ck-powered-by-border-color: var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius: var(--ck-powered-by-border-radius);box-shadow:none;background:var(--ck-powered-by-background);min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{cursor:pointer;display:flex;align-items:center;opacity:.66;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{font-size:7.5px;letter-spacing:-.2px;padding-left:2px;text-transform:uppercase;font-weight:700;margin-right:4px;cursor:pointer;line-height:normal;color:var(--ck-powered-by-text-color)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{display:block;cursor:pointer}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0%);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}.ck.ck-button,a.ck.ck-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}.ck.ck-list-item-button{min-height:unset;width:100%;border-radius:0}[dir=ltr] .ck.ck-list-item-button{text-align:left}[dir=rtl] .ck.ck-list-item-button{text-align:right}[dir=ltr] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-right:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-holder{display:inline-flex;width:.9em;height:.9em}[dir=ltr] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-left:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-icon{height:100%}.ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}.ck.ck-color-grid{display:grid}.color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-top:var(--ck-spacing-tiny);padding-right:var(--ck-spacing-medium)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{display:flex;align-items:center}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel{flex:1}.ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end}.ck.ck-dialog-overlay{-webkit-user-select:none;user-select:none;overscroll-behavior:none;position:fixed;bottom:0;left:0;right:0;top:0}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{pointer-events:none;animation:none;background:none}.ck.ck-dialog{overscroll-behavior:none;width:-moz-fit-content;width:fit-content;position:absolute}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog:not(.ck-dialog_modal) .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dropdown-max-width: 75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;z-index:var(--ck-z-panel);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n{left:50%;transform:translate(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translate(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translate(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-toolbar-dropdown-max-width: 60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{position:absolute;max-height:314px;overflow-y:auto;z-index:calc(var(--ck-z-panel) + 1)}.ck.ck-dropdown-menu-list__nested-menu{display:block}.ck.ck-aria-live-announcer{position:absolute;left:-10000px;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}.ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}.ck.ck-icon{vertical-align:middle}.ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}.ck.ck-list{-webkit-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>*:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{content:\"\";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}.ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:nth-child(1){z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-panel);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{top:100%;bottom:auto}.ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}.ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);vertical-align:initial;font-weight:inherit;line-height:inherit;font-size:inherit}.ck.ck-balloon-panel.ck-tooltip{-webkit-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100)}:root{--ck-toolbar-spinner-size: 18px}.ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{position:absolute;top:50%;left:0;right:0;margin:0 auto;transform:translateY(-50%);z-index:1}.ck.ck-toolbar{-webkit-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}:root{--ck-menu-bar-menu-max-width: 75vw;--ck-menu-bar-nested-menu-horizontal-offset: 5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{z-index:var(--ck-z-panel);max-width:var(--ck-menu-bar-menu-max-width);position:absolute}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{top:100%;bottom:auto}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}.ck.ck-menu-bar__menu{display:block;position:relative}:root{--ck-color-resizer: var(--ck-color-focus-border);--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);--ck-resizer-border-radius: var(--ck-border-radius);--ck-resizer-tooltip-offset: 10px;--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:0 var(--ck-spacing-small);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height)}.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-above-center{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{top:calc(var(--ck-resizer-tooltip-height) * -1);left:50%;transform:translate(-50%)}.ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{cursor:nesw-resize}.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-.5 * var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-.5 * var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:\"\";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(-1 * var(--ck-widget-outline-thickness));right:calc(-1 * var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(-1 * var(--ck-widget-outline-thickness) - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(-1 * var(--ck-widget-outline-thickness) - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}emoji-picker{--num-columns: 8;--category-emoji-size: 1.5em;--emoji-size: 1.4em;--emoji-padding: .24em;height:350px}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:48px;overflow:hidden}.ck.ck-editor__main .ck-editor__editable{background-color:#f0f2f5!important;border-radius:48px!important;max-height:180px!important;min-height:40px!important;overflow-wrap:break-word!important}.msgback{--ion-backdrop-opacity: .7;pointer-events:none}ion-segment-button{--indicator-color: #f0f2f5;--color: #929292;--color-checked: #333;--border-radius: 20px;--indicator-box-shadow: none}.capitalize-first-letter[data-v-4682fdd3]:first-letter{text-transform:uppercase}@keyframes plyr-progress{to{background-position:25px 0;background-position:var(--plyr-progress-loading-size,25px) 0}}@keyframes plyr-popup{0%{opacity:.5;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes plyr-fade-in{0%{opacity:0}to{opacity:1}}.plyr{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;align-items:center;direction:ltr;display:flex;flex-direction:column;font-family:inherit;font-family:var(--plyr-font-family,inherit);font-variant-numeric:tabular-nums;font-weight:400;font-weight:var(--plyr-font-weight-regular,400);line-height:1.7;line-height:var(--plyr-line-height,1.7);max-width:100%;min-width:200px;position:relative;text-shadow:none;transition:box-shadow .3s ease;z-index:0}.plyr audio,.plyr iframe,.plyr video{display:block;height:100%;width:100%}.plyr button{font:inherit;line-height:inherit;width:auto}.plyr:focus{outline:0}.plyr--full-ui{box-sizing:border-box}.plyr--full-ui *,.plyr--full-ui :after,.plyr--full-ui :before{box-sizing:inherit}.plyr--full-ui a,.plyr--full-ui button,.plyr--full-ui input,.plyr--full-ui label{touch-action:manipulation}.plyr__badge{background:#4a5464;background:var(--plyr-badge-background,#4a5464);border-radius:2px;border-radius:var(--plyr-badge-border-radius,2px);color:#fff;color:var(--plyr-badge-text-color,#fff);font-size:9px;font-size:var(--plyr-font-size-badge,9px);line-height:1;padding:3px 4px}.plyr--full-ui ::-webkit-media-text-track-container{display:none}.plyr__captions{animation:plyr-fade-in .3s ease;bottom:0;display:none;font-size:13px;font-size:var(--plyr-font-size-small,13px);left:0;padding:10px;padding:var(--plyr-control-spacing,10px);position:absolute;text-align:center;transition:transform .4s ease-in-out;width:100%}.plyr__captions span:empty{display:none}@media (min-width:480px){.plyr__captions{font-size:15px;font-size:var(--plyr-font-size-base,15px);padding:20px;padding:calc(var(--plyr-control-spacing, 10px)*2)}}@media (min-width:768px){.plyr__captions{font-size:18px;font-size:var(--plyr-font-size-large,18px)}}.plyr--captions-active .plyr__captions{display:block}.plyr:not(.plyr--hide-controls) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(-40px);transform:translateY(calc(var(--plyr-control-spacing, 10px)*-4))}.plyr__caption{background:rgba(0,0,0,.8);background:var(--plyr-captions-background,#000c);border-radius:2px;-webkit-box-decoration-break:clone;box-decoration-break:clone;color:#fff;color:var(--plyr-captions-text-color,#fff);line-height:185%;padding:.2em .5em;white-space:pre-wrap}.plyr__caption div{display:inline}.plyr__control{background:rgba(0,0,0,0);border:0;border-radius:4px;border-radius:var(--plyr-control-radius,4px);color:inherit;cursor:pointer;flex-shrink:0;overflow:visible;padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7);position:relative;transition:all .3s ease}.plyr__control svg{fill:currentColor;display:block;height:18px;height:var(--plyr-control-icon-size,18px);pointer-events:none;width:18px;width:var(--plyr-control-icon-size,18px)}.plyr__control:focus{outline:0}.plyr__control:focus-visible{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}a.plyr__control{text-decoration:none}.plyr__control.plyr__control--pressed .icon--not-pressed,.plyr__control.plyr__control--pressed .label--not-pressed,.plyr__control:not(.plyr__control--pressed) .icon--pressed,.plyr__control:not(.plyr__control--pressed) .label--pressed,a.plyr__control:after,a.plyr__control:before{display:none}.plyr--full-ui ::-webkit-media-controls{display:none}.plyr__controls{align-items:center;display:flex;justify-content:flex-end;text-align:center}.plyr__controls .plyr__progress__container{flex:1;min-width:0}.plyr__controls .plyr__controls__item{margin-left:2.5px;margin-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item:first-child{margin-left:0;margin-right:auto}.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:2.5px;padding-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item.plyr__time{padding:0 5px;padding:0 calc(var(--plyr-control-spacing, 10px)/2)}.plyr__controls .plyr__controls__item.plyr__progress__container:first-child,.plyr__controls .plyr__controls__item.plyr__time+.plyr__time,.plyr__controls .plyr__controls__item.plyr__time:first-child{padding-left:0}.plyr [data-plyr=airplay],.plyr [data-plyr=captions],.plyr [data-plyr=fullscreen],.plyr [data-plyr=pip],.plyr__controls:empty{display:none}.plyr--airplay-supported [data-plyr=airplay],.plyr--captions-enabled [data-plyr=captions],.plyr--fullscreen-enabled [data-plyr=fullscreen],.plyr--pip-supported [data-plyr=pip]{display:inline-block}.plyr__menu{display:flex;position:relative}.plyr__menu .plyr__control svg{transition:transform .3s ease}.plyr__menu .plyr__control[aria-expanded=true] svg{transform:rotate(90deg)}.plyr__menu .plyr__control[aria-expanded=true] .plyr__tooltip{display:none}.plyr__menu__container{animation:plyr-popup .2s ease;background:rgba(255,255,255,.9);background:var(--plyr-menu-background,#ffffffe6);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px rgba(0,0,0,.15);box-shadow:var(--plyr-menu-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-menu-color,#4a5464);font-size:15px;font-size:var(--plyr-font-size-base,15px);margin-bottom:10px;position:absolute;right:-3px;text-align:left;white-space:nowrap;z-index:3}.plyr__menu__container>div{overflow:hidden;transition:height .35s cubic-bezier(.4,0,.2,1),width .35s cubic-bezier(.4,0,.2,1)}.plyr__menu__container:after{border:4px solid #0000;border-top-color:rgba(255,255,255,.9);border:var(--plyr-menu-arrow-size,4px) solid #0000;border-top-color:var(--plyr-menu-background,#ffffffe6);content:\"\";height:0;position:absolute;right:14px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7 - var(--plyr-menu-arrow-size, 4px)/2);top:100%;width:0}.plyr__menu__container [role=menu]{padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container [role=menuitem],.plyr__menu__container [role=menuitemradio]{margin-top:2px}.plyr__menu__container [role=menuitem]:first-child,.plyr__menu__container [role=menuitemradio]:first-child{margin-top:0}.plyr__menu__container .plyr__control{align-items:center;color:#4a5464;color:var(--plyr-menu-color,#4a5464);display:flex;font-size:13px;font-size:var(--plyr-font-size-menu,var(--plyr-font-size-small,13px));padding:4.66667px 10.5px;padding:calc(var(--plyr-control-spacing, 10px)*.7/1.5) calc(var(--plyr-control-spacing, 10px)*.7*1.5);-webkit-user-select:none;user-select:none;width:100%}.plyr__menu__container .plyr__control>span{align-items:inherit;display:flex;width:100%}.plyr__menu__container .plyr__control:after{border:4px solid #0000;border:var(--plyr-menu-item-arrow-size,4px) solid #0000;content:\"\";position:absolute;top:50%;transform:translateY(-50%)}.plyr__menu__container .plyr__control--forward{padding-right:28px;padding-right:calc(var(--plyr-control-spacing, 10px)*.7*4)}.plyr__menu__container .plyr__control--forward:after{border-left-color:#728197;border-left-color:var(--plyr-menu-arrow-color,#728197);right:6.5px;right:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--forward:focus-visible:after,.plyr__menu__container .plyr__control--forward:hover:after{border-left-color:initial}.plyr__menu__container .plyr__control--back{font-weight:400;font-weight:var(--plyr-font-weight-regular,400);margin:7px;margin:calc(var(--plyr-control-spacing, 10px)*.7);margin-bottom:3.5px;margin-bottom:calc(var(--plyr-control-spacing, 10px)*.7/2);padding-left:28px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*4);position:relative;width:calc(100% - 14px);width:calc(100% - var(--plyr-control-spacing, 10px)*.7*2)}.plyr__menu__container .plyr__control--back:after{border-right-color:#728197;border-right-color:var(--plyr-menu-arrow-color,#728197);left:6.5px;left:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--back:before{background:#dcdfe5;background:var(--plyr-menu-back-border-color,#dcdfe5);box-shadow:0 1px #fff;box-shadow:0 1px 0 var(--plyr-menu-back-border-shadow-color,#fff);content:\"\";height:1px;left:0;margin-top:3.5px;margin-top:calc(var(--plyr-control-spacing, 10px)*.7/2);overflow:hidden;position:absolute;right:0;top:100%}.plyr__menu__container .plyr__control--back:focus-visible:after,.plyr__menu__container .plyr__control--back:hover:after{border-right-color:initial}.plyr__menu__container .plyr__control[role=menuitemradio]{padding-left:7px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container .plyr__control[role=menuitemradio]:after,.plyr__menu__container .plyr__control[role=menuitemradio]:before{border-radius:100%}.plyr__menu__container .plyr__control[role=menuitemradio]:before{background:rgba(0,0,0,.1);content:\"\";display:block;flex-shrink:0;height:16px;margin-right:10px;margin-right:var(--plyr-control-spacing,10px);transition:all .3s ease;width:16px}.plyr__menu__container .plyr__control[role=menuitemradio]:after{background:#fff;border:0;height:6px;left:12px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform .3s ease,opacity .3s ease;width:6px}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:before{background:#00b2ff;background:var(--plyr-control-toggle-checked-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)))}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:after{opacity:1;transform:translateY(-50%) scale(1)}.plyr__menu__container .plyr__control[role=menuitemradio]:focus-visible:before,.plyr__menu__container .plyr__control[role=menuitemradio]:hover:before{background:rgba(35,40,47,.1)}.plyr__menu__container .plyr__menu__value{align-items:center;display:flex;margin-left:auto;margin-right:-5px;margin-right:calc(var(--plyr-control-spacing, 10px)*.7*-1 - -2px);overflow:hidden;padding-left:24.5px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*3.5);pointer-events:none}.plyr--full-ui input[type=range]{-webkit-appearance:none;appearance:none;background:rgba(0,0,0,0);border:0;border-radius:26px;border-radius:calc(var(--plyr-range-thumb-height, 13px)*2);color:#00b2ff;color:var(--plyr-range-fill-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));display:block;height:19px;height:calc(var(--plyr-range-thumb-active-shadow-width, 3px)*2 + var(--plyr-range-thumb-height, 13px));margin:0;min-width:0;padding:0;transition:box-shadow .3s ease;width:100%}.plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background:rgba(0,0,0,0);background-image:linear-gradient(90deg,currentColor 0,#0000 0);background-image:linear-gradient(to right,currentColor var(--value,0),#0000 var(--value,0));border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-webkit-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:-4px;margin-top:calc((var(--plyr-range-thumb-height, 13px) - var(--plyr-range-track-height, 5px))/2*-1);position:relative;-webkit-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-track{background:rgba(0,0,0,0);border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-moz-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-moz-range-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);position:relative;-moz-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-progress{background:currentColor;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px)}.plyr--full-ui input[type=range]::-ms-track{color:rgba(0,0,0,0)}.plyr--full-ui input[type=range]::-ms-fill-upper,.plyr--full-ui input[type=range]::-ms-track{background:rgba(0,0,0,0);border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-fill-lower{background:rgba(0,0,0,0);background:currentColor;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:0;position:relative;-ms-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-ms-tooltip{display:none}.plyr--full-ui input[type=range]::-moz-focus-outer{border:0}.plyr--full-ui input[type=range]:focus{outline:0}.plyr--full-ui input[type=range]:focus-visible::-webkit-slider-runnable-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-moz-range-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-ms-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr__poster{background-color:#000;background-color:var(--plyr-video-background,var(--plyr-video-background,#000));background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity .2s ease;width:100%;z-index:1}.plyr--stopped.plyr__poster-enabled .plyr__poster{opacity:1}.plyr--youtube.plyr--paused.plyr__poster-enabled:not(.plyr--stopped) .plyr__poster{display:none}.plyr__time{font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__time+.plyr__time:before{content:\"⁄\";margin-right:10px;margin-right:var(--plyr-control-spacing,10px)}@media (max-width:767px){.plyr__time+.plyr__time{display:none}}.plyr__tooltip{background:#fff;background:var(--plyr-tooltip-background,#fff);border-radius:5px;border-radius:var(--plyr-tooltip-radius,5px);bottom:100%;box-shadow:0 1px 2px rgba(0,0,0,.15);box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-tooltip-color,#4a5464);font-size:13px;font-size:var(--plyr-font-size-small,13px);font-weight:400;font-weight:var(--plyr-font-weight-regular,400);left:50%;line-height:1.3;margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:5px 7.5px;padding:calc(var(--plyr-control-spacing, 10px)/2) calc(var(--plyr-control-spacing, 10px)/2*1.5);pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap;z-index:2}.plyr__tooltip:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:\"\";height:0;left:50%;position:absolute;transform:translate(-50%);width:0;z-index:2}.plyr .plyr__control:focus-visible .plyr__tooltip,.plyr .plyr__control:hover .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%) scale(1)}.plyr .plyr__control:hover .plyr__tooltip{z-index:3}.plyr__controls>.plyr__control:first-child .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.plyr__controls>.plyr__control:first-child .plyr__tooltip:before,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip:before{left:16px;left:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7)}.plyr__controls>.plyr__control:last-child .plyr__tooltip{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.plyr__controls>.plyr__control:last-child .plyr__tooltip:before{left:auto;right:16px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7);transform:translate(50%)}.plyr__controls>.plyr__control:first-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:last-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:last-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:last-child:hover .plyr__tooltip{transform:translate(0) scale(1)}.plyr__progress{left:6.5px;left:calc(var(--plyr-range-thumb-height, 13px)*.5);margin-right:13px;margin-right:var(--plyr-range-thumb-height,13px);position:relative}.plyr__progress input[type=range],.plyr__progress__buffer{margin-left:-6.5px;margin-left:calc(var(--plyr-range-thumb-height, 13px)*-.5);margin-right:-6.5px;margin-right:calc(var(--plyr-range-thumb-height, 13px)*-.5);width:calc(100% + 13px);width:calc(100% + var(--plyr-range-thumb-height, 13px))}.plyr__progress input[type=range]{position:relative;z-index:2}.plyr__progress .plyr__tooltip{left:0;max-width:120px;overflow-wrap:break-word}.plyr__progress__buffer{-webkit-appearance:none;background:rgba(0,0,0,0);border:0;border-radius:100px;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin-top:-2.5px;margin-top:calc((var(--plyr-range-track-height, 5px)/2)*-1);padding:0;position:absolute;top:50%}.plyr__progress__buffer::-webkit-progress-bar{background:rgba(0,0,0,0)}.plyr__progress__buffer::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-webkit-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-moz-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-ms-fill{border-radius:100px;-ms-transition:width .2s ease;transition:width .2s ease}.plyr--loading .plyr__progress__buffer{animation:plyr-progress 1s linear infinite;background-image:linear-gradient(-45deg,rgba(35,40,47,.6) 25%,rgba(0,0,0,0) 0,rgba(0,0,0,0) 50%,rgba(35,40,47,.6) 0,rgba(35,40,47,.6) 75%,rgba(0,0,0,0) 0,rgba(0,0,0,0));background-image:linear-gradient(-45deg,var(--plyr-progress-loading-background,#23282f99) 25%,#0000 25%,#0000 50%,var(--plyr-progress-loading-background,#23282f99) 50%,var(--plyr-progress-loading-background,#23282f99) 75%,#0000 75%,#0000);background-repeat:repeat-x;background-size:25px 25px;background-size:var(--plyr-progress-loading-size,25px) var(--plyr-progress-loading-size,25px);color:rgba(0,0,0,0)}.plyr--video.plyr--loading .plyr__progress__buffer{background-color:rgba(255,255,255,.25);background-color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr--audio.plyr--loading .plyr__progress__buffer{background-color:rgba(193,200,209,.6);background-color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr__progress__marker{background-color:#fff;background-color:var(--plyr-progress-marker-background,#fff);border-radius:1px;height:5px;height:var(--plyr-range-track-height,5px);position:absolute;top:50%;transform:translate(-50%,-50%);width:3px;width:var(--plyr-progress-marker-width,3px);z-index:3}.plyr__volume{align-items:center;display:flex;position:relative}.plyr__volume input[type=range]{margin-left:5px;margin-left:calc(var(--plyr-control-spacing, 10px)/2);margin-right:5px;margin-right:calc(var(--plyr-control-spacing, 10px)/2);max-width:90px;min-width:60px;position:relative;z-index:2}.plyr--audio{display:block}.plyr--audio .plyr__controls{background:#fff;background:var(--plyr-audio-controls-background,#fff);border-radius:inherit;color:#4a5464;color:var(--plyr-audio-control-color,#4a5464);padding:10px;padding:var(--plyr-control-spacing,10px)}.plyr--audio .plyr__control:focus-visible,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-audio-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-audio-control-color-hover,#fff)}.plyr--full-ui.plyr--audio input[type=range]::-webkit-slider-runnable-track{background-color:rgba(193,200,209,.6);background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-moz-range-track{background-color:rgba(193,200,209,.6);background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-ms-track{background-color:rgba(193,200,209,.6);background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px rgba(35,40,47,.1);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px rgba(35,40,47,.1);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px rgba(35,40,47,.1);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--audio .plyr__progress__buffer{color:rgba(193,200,209,.6);color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr--video{overflow:hidden}.plyr--video.plyr--menu-open{overflow:visible}.plyr__video-wrapper{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));border-radius:inherit;height:100%;margin:auto;overflow:hidden;position:relative;width:100%}.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{aspect-ratio:16/9}@supports not (aspect-ratio:16/9){.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0;padding-bottom:56.25%;position:relative}}.plyr__video-embed iframe,.plyr__video-wrapper--fixed-ratio video{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.plyr--full-ui .plyr__video-embed>.plyr__video-embed__container{padding-bottom:240%;position:relative;transform:translateY(-38.28125%)}.plyr--video .plyr__controls{background:linear-gradient(rgba(0,0,0,0),rgba(0,0,0,.75));background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:#fff;color:var(--plyr-video-control-color,#fff);left:0;padding:5px;padding:calc(var(--plyr-control-spacing, 10px)/2);padding-top:20px;padding-top:calc(var(--plyr-control-spacing, 10px)*2);position:absolute;right:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out;z-index:3}@media (min-width:480px){.plyr--video .plyr__controls{padding:10px;padding:var(--plyr-control-spacing,10px);padding-top:35px;padding-top:calc(var(--plyr-control-spacing, 10px)*3.5)}}.plyr--video.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none;transform:translateY(100%)}.plyr--video .plyr__control:focus-visible,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-video-control-color-hover,#fff)}.plyr__control--overlaid{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));border:0;border-radius:100%;color:#fff;color:var(--plyr-video-control-color,#fff);display:none;left:50%;opacity:.9;padding:15px;padding:calc(var(--plyr-control-spacing, 10px)*1.5);position:absolute;top:50%;transform:translate(-50%,-50%);transition:.3s;z-index:2}.plyr__control--overlaid svg{left:2px;position:relative}.plyr__control--overlaid:focus,.plyr__control--overlaid:hover{opacity:1}.plyr--playing .plyr__control--overlaid{opacity:0;visibility:hidden}.plyr--full-ui.plyr--video .plyr__control--overlaid{display:block}.plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{background-color:rgba(255,255,255,.25);background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-moz-range-track{background-color:rgba(255,255,255,.25);background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-ms-track{background-color:rgba(255,255,255,.25);background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px rgba(255,255,255,.5);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px rgba(255,255,255,.5);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px rgba(255,255,255,.5);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--video .plyr__progress__buffer{color:rgba(255,255,255,.25);color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr:fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:fullscreen video{height:100%}.plyr:fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr--fullscreen-fallback{background:#000;border-radius:0!important;bottom:0;height:100%;left:0;margin:0;position:fixed;right:0;top:0;width:100%;z-index:10000000}.plyr--fullscreen-fallback video{height:100%}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen{display:block}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr--fullscreen-fallback.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr--fullscreen-fallback .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr__ads{border-radius:inherit;bottom:0;cursor:pointer;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:-1}.plyr__ads>div,.plyr__ads>div iframe{height:100%;position:absolute;width:100%}.plyr__ads:after{background:#23282f;border-radius:2px;bottom:10px;bottom:var(--plyr-control-spacing,10px);color:#fff;content:attr(data-badge-text);font-size:11px;padding:2px 6px;pointer-events:none;position:absolute;right:10px;right:var(--plyr-control-spacing,10px);z-index:3}.plyr__ads:empty:after{display:none}.plyr__cues{background:currentColor;display:block;height:5px;height:var(--plyr-range-track-height,5px);left:0;opacity:.8;position:absolute;top:50%;transform:translateY(-50%);width:3px;z-index:3}.plyr__preview-thumb{background-color:#fff;background-color:var(--plyr-tooltip-background,#fff);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px rgba(0,0,0,.15);box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:3px;pointer-events:none;position:absolute;transform:translateY(10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;z-index:2}.plyr__preview-thumb--is-shown{opacity:1;transform:translate(0) scale(1)}.plyr__preview-thumb:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:\"\";height:0;left:calc(50% + var(--preview-arrow-offset));position:absolute;transform:translate(-50%);width:0;z-index:2}.plyr__preview-thumb__image-container{background:#c1c8d1;border-radius:7px;border-radius:calc(var(--plyr-menu-radius, 8px) - 1px);overflow:hidden;position:relative;z-index:0}.plyr__preview-thumb__image-container img,.plyr__preview-thumb__image-container:after{height:100%;left:0;position:absolute;top:0;width:100%}.plyr__preview-thumb__image-container:after{border-radius:inherit;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15);content:\"\";pointer-events:none}.plyr__preview-thumb__image-container img{max-height:none;max-width:none}.plyr__preview-thumb__time-container{background:linear-gradient(rgba(0,0,0,0),rgba(0,0,0,.75));background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:7px;border-bottom-left-radius:calc(var(--plyr-menu-radius, 8px) - 1px);border-bottom-right-radius:7px;border-bottom-right-radius:calc(var(--plyr-menu-radius, 8px) - 1px);bottom:0;left:0;line-height:1.1;padding:20px 6px 6px;position:absolute;right:0;z-index:3}.plyr__preview-thumb__time-container span{color:#fff;font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__preview-scrubbing{bottom:0;filter:blur(1px);height:100%;left:0;margin:auto;opacity:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s ease;width:100%;z-index:1}.plyr__preview-scrubbing--is-shown{opacity:1}.plyr__preview-scrubbing img{height:100%;left:0;max-height:none;max-width:none;object-fit:contain;position:absolute;top:0;width:100%}.plyr--no-transition{transition:none!important}.plyr__sr-only{clip:rect(1px,1px,1px,1px);border:0!important;height:1px!important;overflow:hidden;padding:0!important;position:absolute!important;width:1px!important}.plyr [hidden]{display:none!important}.ic>ion-icon[data-v-ba7a4267]{width:1.5rem;height:1.5rem}ion-checkbox[data-v-ba7a4267]{--size: 20px}ion-checkbox::par input[data-v-ba7a4267]::placeholder{color:#929292;opacity:1;font-weight:500;font-size:18px}textarea[data-v-ba7a4267]::placeholder{color:#929292;opacity:1;font-weight:400;font-size:16px}textarea[data-v-ba7a4267]::-ms-input-placeholder{color:#929292;font-weight:400;font-size:16px}section>div[data-v-9aa85156]{display:flex;align-items:center;gap:.5rem;padding-top:.5rem;padding-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:400}.nopadding[data-v-9aa85156]{gap:0px;padding-top:0;padding-bottom:0}section>div>ion-icon[data-v-9aa85156]{width:1.25rem;height:1.25rem}ion-modal.reportpost{--width: 92%;--height: fit-content;--border-radius: 8px}ion-modal.img-viewer{--width: 100%;--height: fit-content;--border-radius: 0px}ion-datetime[data-v-f6e40f08]::part(calendar-day today){font-weight:600}.m-lazy-img-component[data-v-16d47574]{position:relative;display:inline-flex;vertical-align:top;align-items:center;justify-content:center}.m-lazy-img-component.--block[data-v-16d47574],.m-lazy-img-component.--block img[data-v-16d47574]{width:100%}.m-lazy-img-component-loader[data-v-16d47574]{position:absolute;top:0;right:0;bottom:0;left:0;display:none;align-items:center;justify-content:center}.m-lazy-img-component.--height-full img[data-v-16d47574]{max-height:100%!important;width:min-content!important;max-width:min-content!important}.m-lazy-img-component.m-lazy-error[data-v-16d47574]:not(.m-lazy-no-photo){background-color:var(--maz-color-bg-light)}.m-lazy-img-component.m-lazy-error:not(.m-lazy-no-photo) img[data-v-16d47574]{height:50%;width:50%}.m-lazy-img-component.m-lazy-loading .m-lazy-img-component-loader[data-v-16d47574]{display:flex}.m-input[data-v-8def99c5]{display:inline-flex;flex-direction:column;align-items:flex-start;vertical-align:top}.m-input.--block[data-v-8def99c5]{width:100%}.m-input-top-label[data-v-8def99c5]{margin-bottom:.5rem;color:var(--maz-color-text)}.m-input-bottom-text[data-v-8def99c5]{margin-top:.25rem;font-size:.875rem;line-height:1.25rem}.m-input-wrapper[data-v-8def99c5]{position:relative;z-index:1;display:flex;flex:1 1 0%;overflow:hidden;border-width:var(--maz-border-width);border-style:solid;background-color:var(--maz-color-bg);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.m-input-wrapper.--block[data-v-8def99c5]{width:100%}.m-input-wrapper.--default-border[data-v-8def99c5]{border-color:var(--maz-border-color)}.m-input-wrapper.--default-border[data-v-8def99c5]:is([class~=dark] *){border-color:var(--maz-color-bg-lighter)}.m-input-wrapper-input[data-v-8def99c5]{position:relative;display:flex;width:100%;max-width:100%;flex:1 1 0%;align-items:center}.m-input-wrapper-input.--xl[data-v-8def99c5]{height:calc(4rem - (var(--maz-border-width) * 2))}.m-input-wrapper-input.--xl .m-input-input[data-v-8def99c5],.m-input-wrapper-input.--xl .m-input-label[data-v-8def99c5]{font-size:1.25rem;line-height:1.75rem}.m-input-wrapper-input.--lg[data-v-8def99c5]{height:calc(3.5rem - (var(--maz-border-width) * 2))}.m-input-wrapper-input.--lg .m-input-input[data-v-8def99c5],.m-input-wrapper-input.--lg .m-input-label[data-v-8def99c5]{font-size:1.125rem;line-height:1.75rem}.m-input-wrapper-input.--md[data-v-8def99c5]{height:calc(3rem - (var(--maz-border-width) * 2))}.m-input-wrapper-input.--sm[data-v-8def99c5]{height:calc(2.5rem - (var(--maz-border-width) * 2))}.m-input-wrapper-input.--sm .m-input-input[data-v-8def99c5],.m-input-wrapper-input.--sm .m-input-label[data-v-8def99c5]{font-size:.875rem;line-height:1.25rem}.m-input-wrapper-input.--xs[data-v-8def99c5]{height:calc(2rem - (var(--maz-border-width) * 2))}.m-input-wrapper-input.--xs .m-input-input[data-v-8def99c5],.m-input-wrapper-input.--xs .m-input-label[data-v-8def99c5]{font-size:.75rem;line-height:1rem}.m-input-wrapper-input.--mini[data-v-8def99c5]{height:calc(1.5rem - (var(--maz-border-width) * 2))}.m-input-wrapper-input.--mini .m-input-input[data-v-8def99c5],.m-input-wrapper-input.--mini .m-input-label[data-v-8def99c5]{font-size:.75rem;line-height:1rem}.m-input-wrapper-right[data-v-8def99c5],.m-input-wrapper-left[data-v-8def99c5]{position:relative;z-index:1;display:flex}.m-input-wrapper-right[data-v-8def99c5]>:not([hidden])~:not([hidden]),.m-input-wrapper-left[data-v-8def99c5]>:not([hidden])~:not([hidden]){--maz-tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--maz-tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--maz-tw-space-x-reverse)))}.m-input-wrapper-right[data-v-8def99c5],.m-input-wrapper-left[data-v-8def99c5]{padding-top:.25rem;padding-bottom:.25rem;align-items:center;justify-content:center}.m-input-wrapper-right[data-v-8def99c5]{padding-right:.5rem}.m-input-wrapper-left[data-v-8def99c5]{padding-left:.5rem}.m-input-wrapper.--rounded-sm[data-v-8def99c5]{border-radius:.125rem}.m-input-wrapper.--rounded-md[data-v-8def99c5]{border-radius:.375rem}.m-input-wrapper.--rounded-lg[data-v-8def99c5]{border-radius:var(--maz-border-radius)}.m-input-wrapper.--rounded-xl[data-v-8def99c5]{border-radius:.75rem}.m-input-wrapper.--rounded-full[data-v-8def99c5]{border-radius:9999px}.m-input-input[data-v-8def99c5]{margin:0;height:100%;width:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-style:none;background-color:transparent;padding-left:1rem;padding-right:1rem;padding-top:0;padding-bottom:0;color:var(--maz-color-text);--maz-tw-shadow: 0 0 #0000;--maz-tw-shadow-colored: 0 0 #0000;box-shadow:var(--maz-tw-ring-offset-shadow, 0 0 #0000),var(--maz-tw-ring-shadow, 0 0 #0000),var(--maz-tw-shadow);outline:2px solid transparent;outline-offset:2px}.m-input-input[data-v-8def99c5]:-webkit-autofill,.m-input-input[data-v-8def99c5]:-webkit-autofill:hover,.m-input-input[data-v-8def99c5]:-webkit-autofill:focus{-webkit-text-fill-color:var(--maz-color-text);box-shadow:0 0 0 1000px var(--maz-color-primary-50) inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.m-input-input[data-v-8def99c5]::placeholder{color:var(--maz-color-muted)}.m-input-label[data-v-8def99c5]{pointer-events:none;position:absolute;left:.75rem;width:100%;transform-origin:top left;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:start;line-height:1.5rem;width:calc(100% + 1.3rem);transition:transform .2s cubic-bezier(0,0,.2,1) 0ms}.m-input:not(.--should-up) .m-input-label[data-v-8def99c5]{width:calc(100% - .75rem)}.m-input.--should-up .m-input-label[data-v-8def99c5]{transform:scale(.8) translateY(-.65em)}.m-input[data-v-8def99c5]:not(.--has-state){color:var(--maz-color-muted)}.m-input.--has-z-2 .m-input-wrapper[data-v-8def99c5]{z-index:2}.m-input.--is-readonly .m-input-input[data-v-8def99c5]{cursor:default}.m-input.--is-disabled .m-input-wrapper[data-v-8def99c5]{background-color:var(--maz-color-bg-lighter);color:var(--maz-color-muted)}.m-input.--is-disabled .m-input-input[data-v-8def99c5]{cursor:not-allowed;color:var(--maz-color-muted)}.m-input:not(.--is-disabled) .m-input-wrapper[data-v-8def99c5]:is([class~=dark] *){background-color:var(--maz-color-bg-light)}.m-input.--is-focused .m-input-wrapper[data-v-8def99c5]{z-index:3}.m-input.--has-label .m-input-label[data-v-8def99c5]{padding-right:.75rem}[dir=rtl] .m-input.--has-label .m-input-label[data-v-8def99c5]{padding-right:0;padding-left:.75rem}.m-input.--has-label .m-input-input[data-v-8def99c5]{padding-left:.75rem;padding-right:.75rem;padding-top:1rem}html.dark .m-input-input[data-v-8def99c5]:-webkit-autofill,html.dark .m-input-input[data-v-8def99c5]:-webkit-autofill:hover,html.dark .m-input-input[data-v-8def99c5]:-webkit-autofill:focus,.m-input.dark .m-input-input[data-v-8def99c5]:-webkit-autofill,.m-input.dark .m-input-input[data-v-8def99c5]:-webkit-autofill:hover,.m-input.dark .m-input-input[data-v-8def99c5]:-webkit-autofill:focus{-webkit-text-fill-color:var(--maz-color-text);box-shadow:0 0 0 1000px var(--maz-color-bg-lighter) inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.m-select[data-v-98157b75]{position:relative;display:inline-flex;vertical-align:top}.m-select.--mini[data-v-98157b75],.m-select.--xs[data-v-98157b75]{font-size:.75rem;line-height:1rem}.m-select.--sm[data-v-98157b75]{font-size:.875rem;line-height:1.25rem}.m-select.--md[data-v-98157b75]{font-size:1rem;line-height:1.5rem}.m-select.--lg[data-v-98157b75]{font-size:1.125rem;line-height:1.75rem}.m-select.--xl[data-v-98157b75]{font-size:1.25rem;line-height:1.75rem}.m-select.--block[data-v-98157b75]{width:100%}.m-select[data-v-98157b75]:not(.--disabled) .m-input-input{cursor:pointer}.m-select-input[data-v-98157b75] .m-input-input,.m-select-input.--has-label[data-v-98157b75] .m-input-input{padding-right:0}.m-select-input__toggle-button[data-v-98157b75]{display:flex;height:100%;background-color:transparent;padding-left:0;align-items:center;justify-content:center}.m-select-input[data-v-98157b75] input{caret-color:transparent}.m-select-chevron[data-v-98157b75]{font-size:1.2em;color:var(--maz-color-text);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s;transition-timing-function:cubic-bezier(0,0,.2,1)}.m-select.--is-open .m-select-chevron[data-v-98157b75]{transform:rotate(180deg)}.m-select .m-select-list[data-v-98157b75]{position:absolute;z-index:1050;display:flex;flex-direction:column;gap:.25rem;overflow:hidden;border-radius:var(--maz-border-radius);background-color:var(--maz-color-bg);padding:.5rem;box-shadow:0 5px 10px rgba(0,0,0,.05)}.m-select .m-select-list[data-v-98157b75]:is([class~=dark] *){border-width:var(--maz-border-width);border-color:var(--maz-color-bg-light)}.m-select .m-select-list-optgroup[data-v-98157b75]{flex:none;padding:.125rem;text-align:start;font-size:.875em;color:var(--maz-color-muted)}.m-select .m-select-list[data-v-98157b75]{min-width:3.5rem}.m-select .m-select-list.--top[data-v-98157b75]{bottom:100%}.m-select .m-select-list.--left[data-v-98157b75]{left:0}.m-select .m-select-list.--right[data-v-98157b75]{right:0}.m-select .m-select-list.--bottom[data-v-98157b75]{top:100%}.m-select .m-select-list__scroll-wrapper[data-v-98157b75]{display:flex;flex:1 1 0%;flex-direction:column;gap:.25rem;overflow:auto}.m-select .m-select-list__no-results[data-v-98157b75]{display:flex;padding:1rem;align-items:center;justify-content:center}.m-select .m-select-list-item[data-v-98157b75]{display:flex;width:100%;cursor:pointer;align-items:center;gap:.75rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:var(--maz-border-radius);background-color:transparent;padding-left:.75rem;padding-right:.75rem;padding-top:.5em;padding-bottom:.5em;text-align:start;font-size:1em;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.m-select .m-select-list-item[data-v-98157b75]:focus-within{background-color:var(--maz-color-bg-light)}.m-select .m-select-list-item[data-v-98157b75]:hover{background-color:var(--maz-color-bg-light)}.m-select .m-select-list-item span[data-v-98157b75]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.m-select .m-select-list-item.--is-keyboard-selected[data-v-98157b75]{background-color:var(--maz-color-bg-light)}.m-select .m-select-list-item.--is-keyboard-selected[data-v-98157b75]:is([class~=dark] *){background-color:var(--maz-color-bg-lighter)}.m-select .m-select-list-item.--is-keyboard-selected.--is-selected[data-v-98157b75],.m-select .m-select-list-item.--is-keyboard-selected.--is-selected[data-v-98157b75]:hover{background-color:var(--keyboard-selected-bg-color)}.m-select .m-select-list-item.--is-none-value[data-v-98157b75]{color:var(--maz-color-muted)}.m-select .m-select-list-item.--is-selected[data-v-98157b75]{color:var(--selected-text-color);background-color:var(--selected-bg-color)}.m-select .m-select-list-item.--is-selected[data-v-98157b75]:hover{background-color:var(--selected-bg-color)}.m-select .m-select-list-item.--is-selected.--transparent[data-v-98157b75]{background-color:var(--maz-color-bg)}.m-select button.maz-custom[data-v-98157b75]{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-style:none}.m-country-selector[data-v-e2fee821]{position:relative}.m-country-selector__country-flag[data-v-e2fee821]{position:absolute;left:.813rem;z-index:4;outline:none;border:none;padding:0;margin:0;top:1.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center}.m-country-selector__country-flag.--should-have-bottom-flag[data-v-e2fee821]{bottom:2px}.m-country-selector__select[data-v-e2fee821] .m-input-label{padding:0!important}.m-country-selector__select__item[data-v-e2fee821]{display:flex;width:100%;align-items:center;gap:.5rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:.875rem;line-height:1.25rem}.m-country-selector__select__item__flag-container[data-v-e2fee821]{display:flex;align-items:center;justify-content:center}.m-country-selector:not(.--no-flags) .m-country-selector__select[data-v-e2fee821] .m-select-input input{padding-left:2.5rem!important}.m-phone-number-input.--responsive .m-country-selector[data-v-e2fee821]{min-width:100%}@media (min-width: 425px){.m-phone-number-input.--responsive .m-country-selector[data-v-e2fee821]{min-width:inherit}}.m-phone-number-input.--responsive .m-country-selector__select[data-v-e2fee821]{min-width:100%}@media (min-width: 425px){.m-phone-number-input.--responsive .m-country-selector__select[data-v-e2fee821]{min-width:inherit}}.m-phone-number-input.--responsive .m-country-selector__select[data-v-e2fee821] .m-select-input .m-input-wrapper{border-bottom-right-radius:0;border-bottom-left-radius:0}@media (min-width: 425px){.m-phone-number-input.--responsive .m-country-selector__select[data-v-e2fee821] .m-select-input .m-input-wrapper{border-bottom-right-radius:var(--maz-border-radius);border-bottom-left-radius:var(--maz-border-radius);border-top-right-radius:0;border-bottom-right-radius:0}}.m-phone-number-input.--row .m-country-selector__select[data-v-e2fee821] .m-select-input .m-input-wrapper{border-top-right-radius:0;border-bottom-right-radius:0}.m-phone-number-input.--col .m-country-selector[data-v-e2fee821],.m-phone-number-input.--col .m-country-selector__select[data-v-e2fee821]{min-width:100%}.m-phone-number-input.--col .m-country-selector__select[data-v-e2fee821] .m-select-input .m-input-wrapper{border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--maz-border-radius)}.m-phone-input[data-v-3619d84c]{min-width:13rem;flex:1 1 0%}.m-phone-input.--error[data-v-3619d84c],.m-phone-input.--focused[data-v-3619d84c]{z-index:1}.m-phone-number-input.--responsive .m-phone-input[data-v-3619d84c]{margin-top:-.125rem;flex:none}@media (min-width: 425px){.m-phone-number-input.--responsive .m-phone-input[data-v-3619d84c]{margin-left:-.125rem;margin-top:0;flex:1 1 auto}}.m-phone-number-input.--responsive .m-phone-input.--border-radius[data-v-3619d84c] .m-input-wrapper{border-top-left-radius:0;border-top-right-radius:0}@media (min-width: 425px){.m-phone-number-input.--responsive .m-phone-input.--border-radius[data-v-3619d84c] .m-input-wrapper{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--maz-border-radius)}}.m-phone-number-input.--row .m-phone-input[data-v-3619d84c]{margin-left:-.125rem}.m-phone-number-input.--row .m-phone-input.--border-radius[data-v-3619d84c] .m-input-wrapper{border-top-left-radius:0;border-bottom-left-radius:0}.m-phone-number-input.--col .m-phone-input[data-v-3619d84c]{margin-top:-.125rem;margin-left:0;flex:none}.m-phone-number-input.--col .m-phone-input.--border-radius[data-v-3619d84c] .m-input-wrapper{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:var(--maz-border-radius)}.m-phone-number-input[data-v-fb5085d5]{position:relative;display:inline-flex;align-items:center;vertical-align:top}.m-phone-number-input.--block[data-v-fb5085d5]{width:100%}.m-phone-number-input.--col[data-v-fb5085d5],.m-phone-number-input.--responsive[data-v-fb5085d5]{flex-direction:column}@media (min-width: 425px){.m-phone-number-input.--responsive[data-v-fb5085d5]{flex-direction:row}}ion-input.disabled[data-v-bb22d72b]{--background: #f1f5f8;--color: black;--placeholder-color: black;opacity:1}ion-input.maz[data-v-bb22d72b]{--background: white;--color: black;--placeholder-color: black;opacity:1}.bioarea[data-v-bb22d72b]{--max-height: 200px}.m-phone-number-input[data-v-bb22d72b]{width:60%}[data-v-bb22d72b] .m-input-wrapper{position:relative;border-radius:.375rem;padding-top:0;padding-bottom:0;outline:2px solid transparent;outline-offset:2px;overflow:unset;width:100%}.maz[data-v-bb22d72b]{--maz-border-width: 0px}ion-segment[data-v-8bec1e59]{--offset-bottom: auto !important;--overflow: hidden;overflow:auto}ion-segment[data-v-8bec1e59]::-webkit-scrollbar{display:none}ion-input.custom[data-v-007f995f]{--padding-start: 15px;--padding-end: 15px}ion-alert .fcn{font-weight:400!important}ion-alert .fcb{font-weight:600!important}ion-content[data-v-e05e842b]{--offset-bottom: auto !important;--overflow: hidden;overflow:auto}ion-content[data-v-e05e842b]::-webkit-scrollbar{display:none}ion-tab-button[data-v-2e4c2a95]{--color-selected: #1782fb}ion-tab-bar[data-v-2e4c2a95]{--color: #929292;--background: white}ion-menu[data-v-2e4c2a95]{--width: 80% !important}.popcss{--background: #494949;--width: 32%}.popcss ion-content{--background: #494949}.buycourse{--width: 92%;--height: fit-content;--border-radius: 8px}ion-toggle[data-v-7c7cc806]{--track-background: #929292;--track-background-checked: #1782fb;--handle-background: white;--handle-background-checked: white;--handle-width: 14px;--handle-height: 14px;--handle-spacing: 6px;--handle-box-shadow: none}ion-toggle[data-v-7c7cc806]::part(track){height:26px;width:44px;overflow:visible}section>div[data-v-3fc40fe3]{display:flex;align-items:center;gap:.5rem;padding-top:.25rem;padding-bottom:.25rem;font-size:1.125rem;line-height:1.75rem;font-weight:400}section>div>ion-icon[data-v-3fc40fe3]{width:1.25rem;height:1.25rem}ion-modal#filtercss{--width: 92%;--height: fit-content;--border-radius: 8px}.confirmrm{--width: 92%;--height: fit-content;--border-radius: 8px}ion-modal.noteLevel{--width: 92%;--height: fit-content;--border-radius: 8px}ion-col[data-v-2cc5bccf]{width:100px;background-color:#135d54;border:solid 1px #fff;color:#fff;text-align:center}ion-input[data-v-b83695a2],ion-textarea[data-v-b83695a2]{--border-radius: 8px !important}ion-textarea[data-v-b83695a2]{--highlight-color-focused: #1782fb}ion-modal#add-price{--width: 92%;--height: fit-content;--border-radius: 8px}.confirmtp,.confirmlv{--width: 92%;--height: fit-content;--border-radius: 8px}ion-input.disabled[data-v-73503b70]{--background: #f1f5f8;--color: black;--placeholder-color: black;opacity:1}.confirmcp{--width: 92%;--height: fit-content;--border-radius: 8px}ion-modal#filter{--width: 92%;--height: fit-content;--border-radius: 8px}.sradio[data-v-76276a37]{display:block;white-space:nowrap;position:relative;padding-left:32px;margin-bottom:8px;cursor:pointer;font-size:16px;font-weight:400;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.sradio>span[data-v-76276a37]:after{content:\"\";position:absolute;display:none}.sradio input:checked~span[data-v-76276a37]{border-color:#3477ff}.sradio input:checked~span[data-v-76276a37]:after{display:block}.sradio span[data-v-76276a37]:after{top:4px;left:4px;width:12px;height:12px;background-color:#3477ff;border-radius:100%}ion-content[data-v-e16c547c]{--padding-bottom: 48px}a.custom-item.customItemRenderer[data-v-e16c547c]{display:block;background-color:red}.action-sheet-button-inner.sc-ion-action-sheet-ios{font-weight:400}.action-sheet-cancel>.action-sheet-button-inner.sc-ion-action-sheet-ios{font-weight:600}.mention{color:#000;font-weight:500}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button){display:flex;--tw-bg-opacity: 1 !important;background-color:rgb(90 166 252 / var(--tw-bg-opacity, 1))!important;font-size:.875rem!important;line-height:1.25rem!important;font-weight:600!important;--tw-text-opacity: 1 !important;color:rgb(255 255 255 / var(--tw-text-opacity, 1))!important}.ck.ck-list__item>.ck-button:not(.ck-list-item-button){display:flex;font-size:.875rem!important;line-height:1.25rem!important;font-weight:400!important;--tw-text-opacity: 1 !important;color:rgb(0 0 0 / var(--tw-text-opacity, 1))!important}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:15px;overflow:hidden}.ck-editor__editable{max-height:150px!important;overflow:scroll!important}ion-popover{--background: black;--backdrop-opacity: 0;--box-shadow: 0 2px 0px 0 rgba(0, 0, 0, .6);--color: white}ion-popover ion-content{--background: black;--color: white}ion-popover::part(backdrop){background-color:#060e6a}input[data-v-38579d14]{outline:2px solid transparent;outline-offset:2px}.bdr{--border-radius: 10px}ion-modal#add-lesson-part{padding-bottom:200px;--width: 92%;--height: fit-content;--border-radius: 8px}.plyr{aspect-ratio:16/9}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button){display:flex;--tw-bg-opacity: 1;background-color:rgb(23 130 251 / var(--tw-bg-opacity, 1));font-size:.875rem;line-height:1.25rem;font-weight:700;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.ck.ck-list__item>.ck-button{font-size:.875rem;line-height:1.25rem;font-weight:500}.ck-editor__editable{max-height:110px!important;overflow:scroll!important}.ck.ck-editor__editable_inline>*:first-child{margin-top:0;padding-top:8px}.ck.ck-editor__editable_inline>*:last-child{margin-bottom:0;padding-bottom:8px}.ck.ck-editor__main .ck-editor__editable{background-color:#f0f2f5!important;border-radius:8px!important;max-height:180px!important}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused),.ck.ck-editor__main>.ck-editor__editable.ck-focused{border:none!important;outline:none!important}.ck.ck-powered-by{display:none!important}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:none}.ion-accordion-toggle-icon{width:1.25rem;height:1.25rem}ion-item{--background-activated: none}ion-alert.alert-title.sc-ion-alert-ios{font-size:18px;font-weight:500}ion-toast.warning{--background: #ffbb01;--box-shadow: 3px 3px 10px 0 rgba(0, 0, 0, .2);--color: #ffffff}ion-toast.warning::part(message){font-size:15px;font-weight:500}ion-toast.success{--background: #2ed361;--box-shadow: 3px 3px 10px 0 rgba(0, 0, 0, .2);--color: #ffffff}ion-toast.success::part(message){font-size:15px;font-weight:500}.confirmmd{--width: 92%;--height: fit-content;--border-radius: 8px}:root{--ion-color-primary: #0054e9;--ion-color-primary-rgb: 0, 84, 233;--ion-color-primary-contrast: #fff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #004acd;--ion-color-primary-tint: #1a65eb;--ion-color-secondary: #0163aa;--ion-color-secondary-rgb: 1, 99, 170;--ion-color-secondary-contrast: #fff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #015796;--ion-color-secondary-tint: #1a73b3;--ion-color-tertiary: #6030ff;--ion-color-tertiary-rgb: 96, 48, 255;--ion-color-tertiary-contrast: #fff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #542ae0;--ion-color-tertiary-tint: #7045ff;--ion-color-success: #2dd55b;--ion-color-success-rgb: 45, 213, 91;--ion-color-success-contrast: #000;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #28bb50;--ion-color-success-tint: #42d96b;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #c5000f;--ion-color-danger-rgb: 197, 0, 15;--ion-color-danger-contrast: #fff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #ad000d;--ion-color-danger-tint: #cb1a27;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #636469;--ion-color-medium-rgb: 99, 100, 105;--ion-color-medium-contrast: #fff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #57585c;--ion-color-medium-tint: #737478;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #fff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}html.ios{--ion-default-font: -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"Roboto\", sans-serif}html.md{--ion-default-font: \"Roboto\", \"Helvetica Neue\", sans-serif}html{--ion-dynamic-font: -apple-system-body;--ion-font-family: var(--ion-default-font)}body{background:var(--ion-background-color);color:var(--ion-text-color)}body.backdrop-no-scroll{overflow:hidden}html.ios ion-modal.modal-card ion-header ion-toolbar:first-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:first-of-type,html.ios ion-modal ion-footer ion-toolbar:first-of-type{padding-top:6px}html.ios ion-modal.modal-card ion-header ion-toolbar:last-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:last-of-type{padding-bottom:6px}html.ios ion-modal ion-toolbar{padding-right:calc(var(--ion-safe-area-right) + 8px);padding-left:calc(var(--ion-safe-area-left) + 8px)}@media screen and (min-width: 768px){html.ios ion-modal.modal-card:first-of-type{--backdrop-opacity: .18}}ion-modal.modal-default.show-modal~ion-modal.modal-default{--backdrop-opacity: 0;--box-shadow: none}html.ios ion-modal.modal-card .ion-page{border-top-left-radius:var(--border-radius)}.ion-color-primary{--ion-color-base: var(--ion-color-primary, #0054e9) !important;--ion-color-base-rgb: var(--ion-color-primary-rgb, 0, 84, 233) !important;--ion-color-contrast: var(--ion-color-primary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-primary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-primary-shade, #004acd) !important;--ion-color-tint: var(--ion-color-primary-tint, #1a65eb) !important}.ion-color-secondary{--ion-color-base: var(--ion-color-secondary, #0163aa) !important;--ion-color-base-rgb: var(--ion-color-secondary-rgb, 1, 99, 170) !important;--ion-color-contrast: var(--ion-color-secondary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-secondary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-secondary-shade, #015796) !important;--ion-color-tint: var(--ion-color-secondary-tint, #1a73b3) !important}.ion-color-tertiary{--ion-color-base: var(--ion-color-tertiary, #6030ff) !important;--ion-color-base-rgb: var(--ion-color-tertiary-rgb, 96, 48, 255) !important;--ion-color-contrast: var(--ion-color-tertiary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-tertiary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-tertiary-shade, #542ae0) !important;--ion-color-tint: var(--ion-color-tertiary-tint, #7045ff) !important}.ion-color-success{--ion-color-base: var(--ion-color-success, #2dd55b) !important;--ion-color-base-rgb: var(--ion-color-success-rgb, 45, 213, 91) !important;--ion-color-contrast: var(--ion-color-success-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-success-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-success-shade, #28bb50) !important;--ion-color-tint: var(--ion-color-success-tint, #42d96b) !important}.ion-color-warning{--ion-color-base: var(--ion-color-warning, #ffc409) !important;--ion-color-base-rgb: var(--ion-color-warning-rgb, 255, 196, 9) !important;--ion-color-contrast: var(--ion-color-warning-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-warning-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-warning-shade, #e0ac08) !important;--ion-color-tint: var(--ion-color-warning-tint, #ffca22) !important}.ion-color-danger{--ion-color-base: var(--ion-color-danger, #c5000f) !important;--ion-color-base-rgb: var(--ion-color-danger-rgb, 197, 0, 15) !important;--ion-color-contrast: var(--ion-color-danger-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-danger-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-danger-shade, #ad000d) !important;--ion-color-tint: var(--ion-color-danger-tint, #cb1a27) !important}.ion-color-light{--ion-color-base: var(--ion-color-light, #f4f5f8) !important;--ion-color-base-rgb: var(--ion-color-light-rgb, 244, 245, 248) !important;--ion-color-contrast: var(--ion-color-light-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-light-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-light-shade, #d7d8da) !important;--ion-color-tint: var(--ion-color-light-tint, #f5f6f9) !important}.ion-color-medium{--ion-color-base: var(--ion-color-medium, #636469) !important;--ion-color-base-rgb: var(--ion-color-medium-rgb, 99, 100, 105) !important;--ion-color-contrast: var(--ion-color-medium-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-medium-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-medium-shade, #57585c) !important;--ion-color-tint: var(--ion-color-medium-tint, #737478) !important}.ion-color-dark{--ion-color-base: var(--ion-color-dark, #222428) !important;--ion-color-base-rgb: var(--ion-color-dark-rgb, 34, 36, 40) !important;--ion-color-contrast: var(--ion-color-dark-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-dark-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-dark-shade, #1e2023) !important;--ion-color-tint: var(--ion-color-dark-tint, #383a3e) !important}.ion-page{left:0;right:0;top:0;bottom:0;display:flex;position:absolute;flex-direction:column;justify-content:space-between;contain:layout size style;z-index:0}ion-modal>.ion-page{position:relative;contain:layout style;height:100%}.split-pane-visible>.ion-page.split-pane-main{position:relative}ion-route,ion-route-redirect,ion-router,ion-select-option,ion-nav-controller,ion-menu-controller,ion-action-sheet-controller,ion-alert-controller,ion-loading-controller,ion-modal-controller,ion-picker-controller,ion-popover-controller,ion-toast-controller,.ion-page-hidden{display:none!important}.ion-page-invisible{opacity:0}.can-go-back>ion-header ion-back-button{display:block}html.plt-ios.plt-hybrid,html.plt-ios.plt-pwa{--ion-statusbar-padding: 20px}@supports (padding-top: 20px){html{--ion-safe-area-top: var(--ion-statusbar-padding)}}@supports (padding-top: env(safe-area-inset-top)){html{--ion-safe-area-top: env(safe-area-inset-top);--ion-safe-area-bottom: env(safe-area-inset-bottom);--ion-safe-area-left: env(safe-area-inset-left);--ion-safe-area-right: env(safe-area-inset-right)}}ion-card.ion-color .ion-inherit-color,ion-card-header.ion-color .ion-inherit-color{color:inherit}.menu-content{transform:translateZ(0)}.menu-content-open{cursor:pointer;touch-action:manipulation;pointer-events:none;overflow-y:hidden}.menu-content-open ion-content{--overflow: hidden}.menu-content-open .ion-content-scroll-host{overflow:hidden}.ios .menu-content-reveal{box-shadow:-8px 0 42px rgba(0,0,0,.08)}[dir=rtl].ios .menu-content-reveal{box-shadow:8px 0 42px rgba(0,0,0,.08)}.md .menu-content-reveal,.md .menu-content-push{box-shadow:4px 0 16px rgba(0,0,0,.18)}ion-accordion-group.accordion-group-expand-inset>ion-accordion:first-of-type{border-top-left-radius:8px;border-top-right-radius:8px}ion-accordion-group.accordion-group-expand-inset>ion-accordion:last-of-type{border-bottom-left-radius:8px;border-bottom-right-radius:8px}ion-accordion-group>ion-accordion:last-of-type ion-item[slot=header]{--border-width: 0px}ion-accordion.accordion-animated>[slot=header] .ion-accordion-toggle-icon{transition:.3s transform cubic-bezier(.25,.8,.5,1)}@media (prefers-reduced-motion: reduce){ion-accordion .ion-accordion-toggle-icon{transition:none!important}}ion-accordion.accordion-expanding>[slot=header] .ion-accordion-toggle-icon,ion-accordion.accordion-expanded>[slot=header] .ion-accordion-toggle-icon{transform:rotate(180deg)}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-previous ion-item[slot=header]{--border-width: 0px;--inner-border-width: 0px}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanding:first-of-type,ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanded:first-of-type{margin-top:0}ion-input input::-webkit-date-and-time-value{text-align:start}.ion-datetime-button-overlay{--width: fit-content;--height: fit-content}.ion-datetime-button-overlay ion-datetime.datetime-grid{width:320px;min-height:320px}[ion-last-focus],header[tabindex=\"-1\"]:focus,[role=banner][tabindex=\"-1\"]:focus,main[tabindex=\"-1\"]:focus,[role=main][tabindex=\"-1\"]:focus,h1[tabindex=\"-1\"]:focus,[role=heading][aria-level=\"1\"][tabindex=\"-1\"]:focus{outline:none}.popover-viewport:has(>ion-content){overflow:hidden}@supports not selector(:has(> ion-content)){.popover-viewport{overflow:hidden}}audio,canvas,progress,video{vertical-align:baseline}audio:not([controls]){display:none;height:0}b,strong{font-weight:700}img{max-width:100%}hr{height:1px;border-width:0;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}label,input,select,textarea{font-family:inherit;line-height:normal}textarea{overflow:auto;height:auto;font:inherit;color:inherit}textarea::placeholder{padding-left:2px}form,input,optgroup,select{margin:0;font:inherit;color:inherit}html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}a,a div,a span,a ion-icon,a ion-label,button,button div,button span,button ion-icon,button ion-label,.ion-tappable,[tappable],[tappable] div,[tappable] span,[tappable] ion-icon,[tappable] ion-label,input,textarea{touch-action:manipulation}a ion-label,button ion-label{pointer-events:none}button{padding:0;border:0;border-radius:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[tappable]{cursor:pointer}a[disabled],button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}html{width:100%;height:100%;-webkit-text-size-adjust:100%;text-size-adjust:100%}html:not(.hydrated) body{display:none}html.ion-ce body{display:block}html.plt-pwa{height:100vh}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin:0;padding:0;position:fixed;width:100%;max-width:100%;height:100%;max-height:100%;transform:translateZ(0);text-rendering:optimizeLegibility;overflow:hidden;touch-action:manipulation;-webkit-user-drag:none;-ms-content-zooming:none;word-wrap:break-word;overscroll-behavior-y:none;-webkit-text-size-adjust:none;text-size-adjust:none}html{font-family:var(--ion-font-family)}@supports (-webkit-touch-callout: none){html{font:var(--ion-dynamic-font, 16px var(--ion-font-family))}}a{background-color:transparent;color:var(--ion-color-primary, #0054e9)}h1,h2,h3,h4,h5,h6{margin-top:16px;margin-bottom:10px;font-weight:500;line-height:1.2}h1{margin-top:20px;font-size:1.625rem}h2{margin-top:18px;font-size:1.5rem}h3{font-size:1.375rem}h4{font-size:1.25rem}h5{font-size:1.125rem}h6{font-size:1rem}small{font-size:75%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}.ion-hide,.ion-hide-up,.ion-hide-down{display:none!important}@media (min-width: 576px){.ion-hide-sm-up{display:none!important}}@media (max-width: 575.98px){.ion-hide-sm-down{display:none!important}}@media (min-width: 768px){.ion-hide-md-up{display:none!important}}@media (max-width: 767.98px){.ion-hide-md-down{display:none!important}}@media (min-width: 992px){.ion-hide-lg-up{display:none!important}}@media (max-width: 991.98px){.ion-hide-lg-down{display:none!important}}@media (min-width: 1200px){.ion-hide-xl-up{display:none!important}}@media (max-width: 1199.98px){.ion-hide-xl-down{display:none!important}}.ion-align-self-start{align-self:flex-start!important}.ion-align-self-end{align-self:flex-end!important}.ion-align-self-center{align-self:center!important}.ion-align-self-stretch{align-self:stretch!important}.ion-align-self-baseline{align-self:baseline!important}.ion-align-self-auto{align-self:auto!important}.ion-wrap{flex-wrap:wrap!important}.ion-nowrap{flex-wrap:nowrap!important}.ion-wrap-reverse{flex-wrap:wrap-reverse!important}.ion-justify-content-start{justify-content:flex-start!important}.ion-justify-content-center{justify-content:center!important}.ion-justify-content-end{justify-content:flex-end!important}.ion-justify-content-around{justify-content:space-around!important}.ion-justify-content-between{justify-content:space-between!important}.ion-justify-content-evenly{justify-content:space-evenly!important}.ion-align-items-start{align-items:flex-start!important}.ion-align-items-center{align-items:center!important}.ion-align-items-end{align-items:flex-end!important}.ion-align-items-stretch{align-items:stretch!important}.ion-align-items-baseline{align-items:baseline!important}.ion-float-left{float:left!important}.ion-float-right{float:right!important}.ion-float-start{float:left!important}:host-context([dir=rtl]) .ion-float-start{float:right!important}[dir=rtl] .ion-float-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-start:dir(rtl){float:right!important}}.ion-float-end{float:right!important}:host-context([dir=rtl]) .ion-float-end{float:left!important}[dir=rtl] .ion-float-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-end:dir(rtl){float:left!important}}@media (min-width: 576px){.ion-float-sm-left{float:left!important}.ion-float-sm-right{float:right!important}.ion-float-sm-start{float:left!important}:host-context([dir=rtl]) .ion-float-sm-start{float:right!important}[dir=rtl] .ion-float-sm-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-sm-start:dir(rtl){float:right!important}}.ion-float-sm-end{float:right!important}:host-context([dir=rtl]) .ion-float-sm-end{float:left!important}[dir=rtl] .ion-float-sm-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-sm-end:dir(rtl){float:left!important}}}@media (min-width: 768px){.ion-float-md-left{float:left!important}.ion-float-md-right{float:right!important}.ion-float-md-start{float:left!important}:host-context([dir=rtl]) .ion-float-md-start{float:right!important}[dir=rtl] .ion-float-md-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-md-start:dir(rtl){float:right!important}}.ion-float-md-end{float:right!important}:host-context([dir=rtl]) .ion-float-md-end{float:left!important}[dir=rtl] .ion-float-md-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-md-end:dir(rtl){float:left!important}}}@media (min-width: 992px){.ion-float-lg-left{float:left!important}.ion-float-lg-right{float:right!important}.ion-float-lg-start{float:left!important}:host-context([dir=rtl]) .ion-float-lg-start{float:right!important}[dir=rtl] .ion-float-lg-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-lg-start:dir(rtl){float:right!important}}.ion-float-lg-end{float:right!important}:host-context([dir=rtl]) .ion-float-lg-end{float:left!important}[dir=rtl] .ion-float-lg-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-lg-end:dir(rtl){float:left!important}}}@media (min-width: 1200px){.ion-float-xl-left{float:left!important}.ion-float-xl-right{float:right!important}.ion-float-xl-start{float:left!important}:host-context([dir=rtl]) .ion-float-xl-start{float:right!important}[dir=rtl] .ion-float-xl-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-xl-start:dir(rtl){float:right!important}}.ion-float-xl-end{float:right!important}:host-context([dir=rtl]) .ion-float-xl-end{float:left!important}[dir=rtl] .ion-float-xl-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-xl-end:dir(rtl){float:left!important}}}.ion-no-padding{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;padding:0}.ion-padding{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-top{--padding-top: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px)}.ion-padding-start{--padding-start: var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px)}.ion-padding-end{--padding-end: var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-padding-bottom{--padding-bottom: var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-vertical{--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-horizontal{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-no-margin{--margin-start: 0;--margin-end: 0;--margin-top: 0;--margin-bottom: 0;margin:0}.ion-margin{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-top{--margin-top: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px)}.ion-margin-start{--margin-start: var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px)}.ion-margin-end{--margin-end: var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-margin-bottom{--margin-bottom: var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-vertical{--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-horizontal{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-text-center{text-align:center!important}.ion-text-justify{text-align:justify!important}.ion-text-start{text-align:start!important}.ion-text-end{text-align:end!important}.ion-text-left{text-align:left!important}.ion-text-right{text-align:right!important}.ion-text-nowrap{white-space:nowrap!important}.ion-text-wrap{white-space:normal!important}@media (min-width: 576px){.ion-text-sm-center{text-align:center!important}.ion-text-sm-justify{text-align:justify!important}.ion-text-sm-start{text-align:start!important}.ion-text-sm-end{text-align:end!important}.ion-text-sm-left{text-align:left!important}.ion-text-sm-right{text-align:right!important}.ion-text-sm-nowrap{white-space:nowrap!important}.ion-text-sm-wrap{white-space:normal!important}}@media (min-width: 768px){.ion-text-md-center{text-align:center!important}.ion-text-md-justify{text-align:justify!important}.ion-text-md-start{text-align:start!important}.ion-text-md-end{text-align:end!important}.ion-text-md-left{text-align:left!important}.ion-text-md-right{text-align:right!important}.ion-text-md-nowrap{white-space:nowrap!important}.ion-text-md-wrap{white-space:normal!important}}@media (min-width: 992px){.ion-text-lg-center{text-align:center!important}.ion-text-lg-justify{text-align:justify!important}.ion-text-lg-start{text-align:start!important}.ion-text-lg-end{text-align:end!important}.ion-text-lg-left{text-align:left!important}.ion-text-lg-right{text-align:right!important}.ion-text-lg-nowrap{white-space:nowrap!important}.ion-text-lg-wrap{white-space:normal!important}}@media (min-width: 1200px){.ion-text-xl-center{text-align:center!important}.ion-text-xl-justify{text-align:justify!important}.ion-text-xl-start{text-align:start!important}.ion-text-xl-end{text-align:end!important}.ion-text-xl-left{text-align:left!important}.ion-text-xl-right{text-align:right!important}.ion-text-xl-nowrap{white-space:nowrap!important}.ion-text-xl-wrap{white-space:normal!important}}.ion-text-uppercase{text-transform:uppercase!important}.ion-text-lowercase{text-transform:lowercase!important}.ion-text-capitalize{text-transform:capitalize!important}@media (min-width: 576px){.ion-text-sm-uppercase{text-transform:uppercase!important}.ion-text-sm-lowercase{text-transform:lowercase!important}.ion-text-sm-capitalize{text-transform:capitalize!important}}@media (min-width: 768px){.ion-text-md-uppercase{text-transform:uppercase!important}.ion-text-md-lowercase{text-transform:lowercase!important}.ion-text-md-capitalize{text-transform:capitalize!important}}@media (min-width: 992px){.ion-text-lg-uppercase{text-transform:uppercase!important}.ion-text-lg-lowercase{text-transform:lowercase!important}.ion-text-lg-capitalize{text-transform:capitalize!important}}@media (min-width: 1200px){.ion-text-xl-uppercase{text-transform:uppercase!important}.ion-text-xl-lowercase{text-transform:lowercase!important}.ion-text-xl-capitalize{text-transform:capitalize!important}}.ion-palette-dark{--ion-color-primary: #4d8dff;--ion-color-primary-rgb: 77, 141, 255;--ion-color-primary-contrast: #000;--ion-color-primary-contrast-rgb: 0, 0, 0;--ion-color-primary-shade: #447ce0;--ion-color-primary-tint: #5f98ff;--ion-color-secondary: #46b1ff;--ion-color-secondary-rgb: 70, 177, 255;--ion-color-secondary-contrast: #000;--ion-color-secondary-contrast-rgb: 0, 0, 0;--ion-color-secondary-shade: #3e9ce0;--ion-color-secondary-tint: #59b9ff;--ion-color-tertiary: #8482fb;--ion-color-tertiary-rgb: 132, 130, 251;--ion-color-tertiary-contrast: #000;--ion-color-tertiary-contrast-rgb: 0, 0, 0;--ion-color-tertiary-shade: #7472dd;--ion-color-tertiary-tint: #908ffb;--ion-color-success: #2dd55b;--ion-color-success-rgb: 45, 213, 91;--ion-color-success-contrast: #000;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #28bb50;--ion-color-success-tint: #42d96b;--ion-color-warning: #ffce31;--ion-color-warning-rgb: 255, 206, 49;--ion-color-warning-contrast: #000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0b52b;--ion-color-warning-tint: #ffd346;--ion-color-danger: #f24c58;--ion-color-danger-rgb: 242, 76, 88;--ion-color-danger-contrast: #000;--ion-color-danger-contrast-rgb: 0, 0, 0;--ion-color-danger-shade: #d5434d;--ion-color-danger-tint: #f35e69;--ion-color-light: #222428;--ion-color-light-rgb: 34, 36, 40;--ion-color-light-contrast: #fff;--ion-color-light-contrast-rgb: 255, 255, 255;--ion-color-light-shade: #1e2023;--ion-color-light-tint: #383a3e;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152, 154, 162;--ion-color-medium-contrast: #000;--ion-color-medium-contrast-rgb: 0, 0, 0;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-dark: #f4f5f8;--ion-color-dark-rgb: 244, 245, 248;--ion-color-dark-contrast: #000;--ion-color-dark-contrast-rgb: 0, 0, 0;--ion-color-dark-shade: #d7d8da;--ion-color-dark-tint: #f5f6f9}.ion-palette-dark.ios{--ion-background-color: #000000;--ion-background-color-rgb: 0, 0, 0;--ion-text-color: #ffffff;--ion-text-color-rgb: 255, 255, 255;--ion-background-color-step-50: #0d0d0d;--ion-background-color-step-100: #1a1a1a;--ion-background-color-step-150: #262626;--ion-background-color-step-200: #333333;--ion-background-color-step-250: #404040;--ion-background-color-step-300: #4d4d4d;--ion-background-color-step-350: #595959;--ion-background-color-step-400: #666666;--ion-background-color-step-450: #737373;--ion-background-color-step-500: #808080;--ion-background-color-step-550: #8c8c8c;--ion-background-color-step-600: #999999;--ion-background-color-step-650: #a6a6a6;--ion-background-color-step-700: #b3b3b3;--ion-background-color-step-750: #bfbfbf;--ion-background-color-step-800: #cccccc;--ion-background-color-step-850: #d9d9d9;--ion-background-color-step-900: #e6e6e6;--ion-background-color-step-950: #f2f2f2;--ion-text-color-step-50: #f2f2f2;--ion-text-color-step-100: #e6e6e6;--ion-text-color-step-150: #d9d9d9;--ion-text-color-step-200: #cccccc;--ion-text-color-step-250: #bfbfbf;--ion-text-color-step-300: #b3b3b3;--ion-text-color-step-350: #a6a6a6;--ion-text-color-step-400: #999999;--ion-text-color-step-450: #8c8c8c;--ion-text-color-step-500: #808080;--ion-text-color-step-550: #737373;--ion-text-color-step-600: #666666;--ion-text-color-step-650: #595959;--ion-text-color-step-700: #4d4d4d;--ion-text-color-step-750: #404040;--ion-text-color-step-800: #333333;--ion-text-color-step-850: #262626;--ion-text-color-step-900: #1a1a1a;--ion-text-color-step-950: #0d0d0d;--ion-item-background: #000000;--ion-card-background: #1c1c1d}.ion-palette-dark.ios ion-modal{--ion-background-color: var(--ion-color-step-100, var(--ion-background-color-step-100));--ion-toolbar-background: var(--ion-color-step-150, var(--ion-background-color-step-150));--ion-toolbar-border-color: var(--ion-color-step-250, var(--ion-background-color-step-250))}.ion-palette-dark.md{--ion-background-color: #121212;--ion-background-color-rgb: 18, 18, 18;--ion-text-color: #ffffff;--ion-text-color-rgb: 255, 255, 255;--ion-background-color-step-50: #1e1e1e;--ion-background-color-step-100: #2a2a2a;--ion-background-color-step-150: #363636;--ion-background-color-step-200: #414141;--ion-background-color-step-250: #4d4d4d;--ion-background-color-step-300: #595959;--ion-background-color-step-350: #656565;--ion-background-color-step-400: #717171;--ion-background-color-step-450: #7d7d7d;--ion-background-color-step-500: #898989;--ion-background-color-step-550: #949494;--ion-background-color-step-600: #a0a0a0;--ion-background-color-step-650: #acacac;--ion-background-color-step-700: #b8b8b8;--ion-background-color-step-750: #c4c4c4;--ion-background-color-step-800: #d0d0d0;--ion-background-color-step-850: #dbdbdb;--ion-background-color-step-900: #e7e7e7;--ion-background-color-step-950: #f3f3f3;--ion-text-color-step-50: #f3f3f3;--ion-text-color-step-100: #e7e7e7;--ion-text-color-step-150: #dbdbdb;--ion-text-color-step-200: #d0d0d0;--ion-text-color-step-250: #c4c4c4;--ion-text-color-step-300: #b8b8b8;--ion-text-color-step-350: #acacac;--ion-text-color-step-400: #a0a0a0;--ion-text-color-step-450: #949494;--ion-text-color-step-500: #898989;--ion-text-color-step-550: #7d7d7d;--ion-text-color-step-600: #717171;--ion-text-color-step-650: #656565;--ion-text-color-step-700: #595959;--ion-text-color-step-750: #4d4d4d;--ion-text-color-step-800: #414141;--ion-text-color-step-850: #363636;--ion-text-color-step-900: #2a2a2a;--ion-text-color-step-950: #1e1e1e;--ion-item-background: #1e1e1e;--ion-toolbar-background: #1f1f1f;--ion-tab-bar-background: #1f1f1f;--ion-card-background: #1e1e1e}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: \"\"}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",Segoe UI Symbol,\"Noto Color Emoji\";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}@font-face{font-family:Inter;src:url(/assets/Inter-VariableFont_opsz_wght-c8O0ljhh.ttf)}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}ion-toast.toast-warning{--background: #FDF6ED;--box-shadow: 3px 3px 10px 0 rgba(0, 0, 0, .2);--color: #000000;--border-width: 2px;--border-style:solid;--border-color: #F9E6CD}ion-toast.toast-warning::part(message){font-size:15px;font-weight:500}ion-toast.toast-success{--background: #edfdf6;--box-shadow: 3px 3px 10px 0 rgba(0, 0, 0, .2);--color: #000000;--border-width: 2px;--border-style:solid;--border-color: #CDF9E6}ion-toast.toast-success::part(message){font-size:14px;font-weight:500}ion-toast.toast-error{--background: #fdeced;--box-shadow: 3px 3px 10px 0 rgba(0, 0, 0, .2);--color: #000000;--border-width: 2px;--border-style:solid;--border-color: #f8cdd2}ion-toast.toast-error::part(message){font-size:15px;font-weight:400}.scrollbar-hidden{-ms-overflow-style:none;scrollbar-width:none}.scrollbar-hidden::-webkit-scrollbar{display:none}.noscroll{--offset-bottom: auto !important;--overflow: hidden;overflow:auto}.noscroll::-webkit-scrollbar{display:none}.centerModal{--width: 95%;--height: fit-content;--border-radius: 8px;--background:transparent;pointer-events:auto}.modalNoTrans{--width: 95%;--height: fit-content;--border-radius: 8px}.shadow-st{--tw-shadow: 0px 2px 3px -1px rgba(0,0,0,.1),0px 1px 0px 0px rgba(25,28,33,.02),0px 0px 0px 1px rgba(25,28,33,.08);--tw-shadow-colored: 0px 2px 3px -1px var(--tw-shadow-color), 0px 1px 0px 0px var(--tw-shadow-color), 0px 0px 0px 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-as{--tw-shadow: 0 3px 10px rgb(0,0,0,.2);--tw-shadow-colored: 0 3px 10px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.visible{visibility:visible}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.-bottom-0\\.5{bottom:-.125rem}.-bottom-2{bottom:-.5rem}.-right-1{right:-.25rem}.-top-2{top:-.5rem}.bottom-0{bottom:0}.left-0{left:0}.left-2{left:.5rem}.left-2\\.5{left:.625rem}.right-0{right:0}.right-1{right:.25rem}.right-2{right:.5rem}.right-\\[4\\%\\]{right:4%}.top-0{top:0}.top-1{top:.25rem}.top-2{top:.5rem}.top-\\[5\\%\\]{top:5%}.z-10{z-index:10}.z-50{z-index:50}.m-auto{margin:auto}.mx-0\\.5{margin-left:.125rem;margin-right:.125rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-2\\.5{margin-left:.625rem;margin-right:.625rem}.mx-3{margin-left:.75rem;margin-right:.75rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-1\\.5{margin-top:.375rem;margin-bottom:.375rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-2\\.5{margin-top:.625rem;margin-bottom:.625rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-3\\.5{margin-top:.875rem;margin-bottom:.875rem}.my-4{margin-top:1rem;margin-bottom:1rem}.my-6{margin-top:1.5rem;margin-bottom:1.5rem}.my-7{margin-top:1.75rem;margin-bottom:1.75rem}.my-auto{margin-top:auto;margin-bottom:auto}.\\!mb-3{margin-bottom:.75rem!important}.mb-0\\.5{margin-bottom:.125rem}.mb-1{margin-bottom:.25rem}.mb-1\\.5{margin-bottom:.375rem}.mb-10{margin-bottom:2.5rem}.mb-16{margin-bottom:4rem}.mb-2{margin-bottom:.5rem}.mb-2\\.5{margin-bottom:.625rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-7{margin-bottom:1.75rem}.ml-0\\.5{margin-left:.125rem}.ml-1\\.5{margin-left:.375rem}.ml-10{margin-left:2.5rem}.ml-11{margin-left:2.75rem}.ml-14{margin-left:3.5rem}.ml-2{margin-left:.5rem}.ml-2\\.5{margin-left:.625rem}.ml-3{margin-left:.75rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-1\\.5{margin-right:.375rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mr-auto{margin-right:auto}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-1\\.5{margin-top:.375rem}.mt-10{margin-top:2.5rem}.mt-2{margin-top:.5rem}.mt-2\\.5{margin-top:.625rem}.mt-20{margin-top:5rem}.mt-3{margin-top:.75rem}.mt-3\\.5{margin-top:.875rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mt-\\[10\\%\\]{margin-top:10%}.mt-\\[15\\%\\]{margin-top:15%}.mt-\\[20\\%\\]{margin-top:20%}.mt-\\[25\\%\\]{margin-top:25%}.mt-\\[30\\%\\]{margin-top:30%}.mt-\\[35\\%\\]{margin-top:35%}.mt-\\[70\\%\\]{margin-top:70%}.mt-\\[75\\%\\]{margin-top:75%}.line-clamp-1{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.line-clamp-3{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.aspect-video{aspect-ratio:16 / 9}.size-10{width:2.5rem;height:2.5rem}.size-11{width:2.75rem;height:2.75rem}.size-12{width:3rem;height:3rem}.size-14{width:3.5rem;height:3.5rem}.size-16{width:4rem;height:4rem}.size-20{width:5rem;height:5rem}.size-24{width:6rem;height:6rem}.size-28{width:7rem;height:7rem}.size-3{width:.75rem;height:.75rem}.size-3\\.5{width:.875rem;height:.875rem}.size-32{width:8rem;height:8rem}.size-36{width:9rem;height:9rem}.size-4{width:1rem;height:1rem}.size-40{width:10rem;height:10rem}.size-48{width:12rem;height:12rem}.size-5{width:1.25rem;height:1.25rem}.size-6{width:1.5rem;height:1.5rem}.size-7{width:1.75rem;height:1.75rem}.size-8{width:2rem;height:2rem}.size-9{width:2.25rem;height:2.25rem}.size-\\[18px\\]{width:18px;height:18px}.size-\\[24px\\]{width:24px;height:24px}.size-\\[30px\\]{width:30px;height:30px}.h-1{height:.25rem}.h-1\\.5{height:.375rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-2\\.5{height:.625rem}.h-28{height:7rem}.h-40{height:10rem}.h-48{height:12rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-9{height:2.25rem}.h-\\[1\\.5px\\]{height:1.5px}.h-\\[10\\%\\]{height:10%}.h-\\[140px\\]{height:140px}.h-\\[1px\\]{height:1px}.h-\\[20\\%\\]{height:20%}.h-\\[30px\\]{height:30px}.h-\\[50\\%\\]{height:50%}.h-\\[60\\%\\]{height:60%}.h-\\[75\\%\\]{height:75%}.h-\\[90\\%\\]{height:90%}.h-\\[95\\%\\]{height:95%}.h-auto{height:auto}.h-full{height:100%}.max-h-44{max-height:11rem}.max-h-screen{max-height:100vh}.min-h-10{min-height:2.5rem}.min-h-11{min-height:2.75rem}.min-h-24{min-height:6rem}.min-h-28{min-height:7rem}.w-1{width:.25rem}.w-1\\/2{width:50%}.w-12{width:3rem}.w-16{width:4rem}.w-2\\.5{width:.625rem}.w-2\\/3{width:66.666667%}.w-3\\/5{width:60%}.w-36{width:9rem}.w-4\\/5{width:80%}.w-5{width:1.25rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-9{width:2.25rem}.w-\\[20\\%\\]{width:20%}.w-\\[30px\\]{width:30px}.w-\\[49\\%\\]{width:49%}.w-\\[55\\%\\]{width:55%}.w-\\[69\\%\\]{width:69%}.w-\\[90\\%\\]{width:90%}.w-\\[95\\%\\]{width:95%}.w-auto{width:auto}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-11{min-width:2.75rem}.max-w-32{max-width:8rem}.max-w-\\[200px\\]{max-width:200px}.max-w-\\[400px\\]{max-width:400px}.max-w-\\[49\\%\\]{max-width:49%}.max-w-\\[80\\%\\]{max-width:80%}.max-w-\\[90\\%\\]{max-width:90%}.flex-1{flex:1 1 0%}.flex-\\[0\\.3\\]{flex:.3}.flex-\\[0\\.4\\]{flex:.4}.flex-\\[0\\.5\\]{flex:.5}.flex-\\[0\\.65\\]{flex:.65}.flex-\\[0\\.6\\]{flex:.6}.flex-none{flex:none}.flex-shrink-0{flex-shrink:0}.table-auto{table-layout:auto}.-translate-y-7{--tw-translate-y: -1.75rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\\[105px\\]{--tw-translate-x: 105px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-y-\\[-1\\]{--tw-scale-y: -1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;user-select:none}.select-text{-webkit-user-select:text;user-select:text}.list-disc{list-style-type:disc}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.place-items-end{place-items:end}.content-center{align-content:center}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-2\\.5{gap:.625rem}.gap-3{gap:.75rem}.gap-3\\.5{gap:.875rem}.gap-4{gap:1rem}.gap-5{gap:1.25rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.gap-x-1{column-gap:.25rem}.gap-x-2{column-gap:.5rem}.gap-y-1{row-gap:.25rem}.gap-y-4{row-gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.self-center{align-self:center}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-ellipsis{text-overflow:ellipsis}.whitespace-pre-wrap{white-space:pre-wrap}.text-wrap{text-wrap:wrap}.text-nowrap{text-wrap:nowrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-\\[18px\\]{border-radius:18px}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-e-lg{border-start-end-radius:.5rem;border-end-end-radius:.5rem}.rounded-s-lg{border-start-start-radius:.5rem;border-end-start-radius:.5rem}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.rounded-bl-xl{border-bottom-left-radius:.75rem}.rounded-br-xl{border-bottom-right-radius:.75rem}.rounded-tl-xl{border-top-left-radius:.75rem}.rounded-tr-xl{border-top-right-radius:.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-\\[0\\.4px\\]{border-width:.4px}.border-\\[1\\.5px\\]{border-width:1.5px}.border-\\[1px\\]{border-width:1px}.border-\\[2px\\]{border-width:2px}.border-\\[3px\\]{border-width:3px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-b-\\[0\\.15px\\]{border-bottom-width:.15px}.border-b-\\[0\\.2px\\]{border-bottom-width:.2px}.border-b-\\[0\\.5px\\]{border-bottom-width:.5px}.border-b-\\[0px\\]{border-bottom-width:0px}.border-b-\\[1\\.5px\\]{border-bottom-width:1.5px}.border-b-\\[1px\\]{border-bottom-width:1px}.border-l{border-left-width:1px}.border-l-2{border-left-width:2px}.border-l-\\[0\\.75px\\]{border-left-width:.75px}.border-l-\\[3px\\]{border-left-width:3px}.border-r-\\[0\\.75px\\]{border-right-width:.75px}.border-t{border-top-width:1px}.border-t-2{border-top-width:2px}.border-t-\\[1\\.5px\\]{border-top-width:1.5px}.border-t-\\[1px\\]{border-top-width:1px}.border-dashed{border-style:dashed}.border-\\[\\#909090\\]{--tw-border-opacity: 1;border-color:rgb(144 144 144 / var(--tw-border-opacity, 1))}.border-\\[\\#929292\\]{--tw-border-opacity: 1;border-color:rgb(146 146 146 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-blue1{--tw-border-opacity: 1;border-color:rgb(23 130 251 / var(--tw-border-opacity, 1))}.border-blue2{--tw-border-opacity: 1;border-color:rgb(4 110 233 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-gray1{--tw-border-opacity: 1;border-color:rgb(228 228 228 / var(--tw-border-opacity, 1))}.border-gray2{--tw-border-opacity: 1;border-color:rgb(146 146 146 / var(--tw-border-opacity, 1))}.border-gray3{--tw-border-opacity: 1;border-color:rgb(204 204 204 / var(--tw-border-opacity, 1))}.border-green-600{--tw-border-opacity: 1;border-color:rgb(22 163 74 / var(--tw-border-opacity, 1))}.border-red-300{--tw-border-opacity: 1;border-color:rgb(252 165 165 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-white3{--tw-border-opacity: 1;border-color:rgb(240 242 245 / var(--tw-border-opacity, 1))}.border-b-gray1{--tw-border-opacity: 1;border-bottom-color:rgb(228 228 228 / var(--tw-border-opacity, 1))}.border-b-white2{--tw-border-opacity: 1;border-bottom-color:rgb(241 241 241 / var(--tw-border-opacity, 1))}.border-l-blue1{--tw-border-opacity: 1;border-left-color:rgb(23 130 251 / var(--tw-border-opacity, 1))}.\\!bg-blue1-tint1{--tw-bg-opacity: 1 !important;background-color:rgb(189 219 254 / var(--tw-bg-opacity, 1))!important}.bg-\\[\\#00000080\\]{background-color:rgba(0,0,0,.5)}.bg-\\[\\#003555\\]{--tw-bg-opacity: 1;background-color:rgb(0 53 85 / var(--tw-bg-opacity, 1))}.bg-\\[\\#0D804F\\]{--tw-bg-opacity: 1;background-color:rgb(13 128 79 / var(--tw-bg-opacity, 1))}.bg-\\[\\#1782FB\\]{--tw-bg-opacity: 1;background-color:rgb(23 130 251 / var(--tw-bg-opacity, 1))}.bg-\\[\\#191919\\]{--tw-bg-opacity: 1;background-color:rgb(25 25 25 / var(--tw-bg-opacity, 1))}.bg-\\[\\#5AA6FC\\]{--tw-bg-opacity: 1;background-color:rgb(90 166 252 / var(--tw-bg-opacity, 1))}.bg-\\[\\#D2E7FF\\]{--tw-bg-opacity: 1;background-color:rgb(210 231 255 / var(--tw-bg-opacity, 1))}.bg-\\[\\#DADADA\\]{--tw-bg-opacity: 1;background-color:rgb(218 218 218 / var(--tw-bg-opacity, 1))}.bg-\\[\\#EBEBEB\\]{--tw-bg-opacity: 1;background-color:rgb(235 235 235 / var(--tw-bg-opacity, 1))}.bg-\\[\\#F0F0F0\\]{--tw-bg-opacity: 1;background-color:rgb(240 240 240 / var(--tw-bg-opacity, 1))}.bg-\\[\\#F0F2F5\\]{--tw-bg-opacity: 1;background-color:rgb(240 242 245 / var(--tw-bg-opacity, 1))}.bg-\\[\\#FFC451\\]{--tw-bg-opacity: 1;background-color:rgb(255 196 81 / var(--tw-bg-opacity, 1))}.bg-\\[\\#ba133a\\]{--tw-bg-opacity: 1;background-color:rgb(186 19 58 / var(--tw-bg-opacity, 1))}.bg-\\[\\#ddd\\]{--tw-bg-opacity: 1;background-color:rgb(221 221 221 / var(--tw-bg-opacity, 1))}.bg-\\[\\#f00\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity, 1))}.bg-\\[\\#f0f2f5\\]{--tw-bg-opacity: 1;background-color:rgb(240 242 245 / var(--tw-bg-opacity, 1))}.bg-\\[\\#f1f1f1\\]{--tw-bg-opacity: 1;background-color:rgb(241 241 241 / var(--tw-bg-opacity, 1))}.bg-\\[\\#ffffff\\]{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue1{--tw-bg-opacity: 1;background-color:rgb(23 130 251 / var(--tw-bg-opacity, 1))}.bg-blue1-tint1{--tw-bg-opacity: 1;background-color:rgb(189 219 254 / var(--tw-bg-opacity, 1))}.bg-blue1-tint2{--tw-bg-opacity: 1;background-color:rgb(222 237 254 / var(--tw-bg-opacity, 1))}.bg-blue1-tint3{--tw-bg-opacity: 1;background-color:rgb(235 244 254 / var(--tw-bg-opacity, 1))}.bg-blue2{--tw-bg-opacity: 1;background-color:rgb(4 110 233 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-gray1{--tw-bg-opacity: 1;background-color:rgb(228 228 228 / var(--tw-bg-opacity, 1))}.bg-gray2{--tw-bg-opacity: 1;background-color:rgb(146 146 146 / var(--tw-bg-opacity, 1))}.bg-gray3{--tw-bg-opacity: 1;background-color:rgb(204 204 204 / var(--tw-bg-opacity, 1))}.bg-gray4{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-orange-200\\/70{background-color:rgba(254,215,170,.7)}.bg-red-200{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white1{--tw-bg-opacity: 1;background-color:rgb(241 245 248 / var(--tw-bg-opacity, 1))}.bg-white2{--tw-bg-opacity: 1;background-color:rgb(241 241 241 / var(--tw-bg-opacity, 1))}.bg-white3{--tw-bg-opacity: 1;background-color:rgb(240 242 245 / var(--tw-bg-opacity, 1))}.bg-white4{--tw-bg-opacity: 1;background-color:rgb(225 229 233 / var(--tw-bg-opacity, 1))}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.p-2\\.5{padding:.625rem}.p-3{padding:.75rem}.p-3\\.5{padding:.875rem}.p-4{padding:1rem}.p-8{padding:2rem}.p-\\[9\\.5px\\]{padding:9.5px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-3\\.5{padding-left:.875rem;padding-right:.875rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-3\\.5{padding-top:.875rem;padding-bottom:.875rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.pb-0\\.5{padding-bottom:.125rem}.pb-1{padding-bottom:.25rem}.pb-1\\.5{padding-bottom:.375rem}.pb-10{padding-bottom:2.5rem}.pb-2{padding-bottom:.5rem}.pb-2\\.5{padding-bottom:.625rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pb-5{padding-bottom:1.25rem}.pb-6{padding-bottom:1.5rem}.pb-8{padding-bottom:2rem}.pl-0\\.5{padding-left:.125rem}.pl-1{padding-left:.25rem}.pl-2{padding-left:.5rem}.pl-2\\.5{padding-left:.625rem}.pl-4{padding-left:1rem}.pl-5{padding-left:1.25rem}.pl-6{padding-left:1.5rem}.pr-1{padding-right:.25rem}.pr-2{padding-right:.5rem}.pr-2\\.5{padding-right:.625rem}.pr-6{padding-right:1.5rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-1\\.5{padding-top:.375rem}.pt-2{padding-top:.5rem}.pt-2\\.5{padding-top:.625rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-start{text-align:start}.text-2xl{font-size:1.5rem;line-height:2rem}.text-\\[10px\\]{font-size:10px}.text-\\[13px\\]{font-size:13px}.text-\\[15px\\]{font-size:15px}.text-\\[20px\\]{font-size:20px}.text-\\[32px\\]{font-size:32px}.text-\\[8px\\]{font-size:8px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.normal-case{text-transform:none}.italic{font-style:italic}.leading-5{line-height:1.25rem}.leading-none{line-height:1}.text-\\[\\#003555\\]{--tw-text-opacity: 1;color:rgb(0 53 85 / var(--tw-text-opacity, 1))}.text-\\[\\#050505\\]{--tw-text-opacity: 1;color:rgb(5 5 5 / var(--tw-text-opacity, 1))}.text-\\[\\#0e1111\\]{--tw-text-opacity: 1;color:rgb(14 17 17 / var(--tw-text-opacity, 1))}.text-\\[\\#1782FB\\]{--tw-text-opacity: 1;color:rgb(23 130 251 / var(--tw-text-opacity, 1))}.text-\\[\\#444\\]{--tw-text-opacity: 1;color:rgb(68 68 68 / var(--tw-text-opacity, 1))}.text-\\[\\#4a4848\\]{--tw-text-opacity: 1;color:rgb(74 72 72 / var(--tw-text-opacity, 1))}.text-\\[\\#505050\\]{--tw-text-opacity: 1;color:rgb(80 80 80 / var(--tw-text-opacity, 1))}.text-\\[\\#555555\\],.text-\\[\\#555\\]{--tw-text-opacity: 1;color:rgb(85 85 85 / var(--tw-text-opacity, 1))}.text-\\[\\#6B7280\\]{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-\\[\\#777777\\]{--tw-text-opacity: 1;color:rgb(119 119 119 / var(--tw-text-opacity, 1))}.text-\\[\\#929292\\]{--tw-text-opacity: 1;color:rgb(146 146 146 / var(--tw-text-opacity, 1))}.text-\\[\\#999\\]{--tw-text-opacity: 1;color:rgb(153 153 153 / var(--tw-text-opacity, 1))}.text-\\[\\#aaa\\]{--tw-text-opacity: 1;color:rgb(170 170 170 / var(--tw-text-opacity, 1))}.text-\\[\\#f8f8f8\\]{--tw-text-opacity: 1;color:rgb(248 248 248 / var(--tw-text-opacity, 1))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-black1{--tw-text-opacity: 1;color:rgb(14 17 17 / var(--tw-text-opacity, 1))}.text-black2{--tw-text-opacity: 1;color:rgb(5 5 5 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue1{--tw-text-opacity: 1;color:rgb(23 130 251 / var(--tw-text-opacity, 1))}.text-blue2{--tw-text-opacity: 1;color:rgb(4 110 233 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray2{--tw-text-opacity: 1;color:rgb(146 146 146 / var(--tw-text-opacity, 1))}.text-gray3{--tw-text-opacity: 1;color:rgb(204 204 204 / var(--tw-text-opacity, 1))}.text-gray5{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-neutral-500{--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.text-orange-400{--tw-text-opacity: 1;color:rgb(251 146 60 / var(--tw-text-opacity, 1))}.text-orange1{--tw-text-opacity: 1;color:rgb(247 115 33 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-800{--tw-text-opacity: 1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-zinc-950{--tw-text-opacity: 1;color:rgb(9 9 11 / var(--tw-text-opacity, 1))}.no-underline{text-decoration-line:none}.opacity-0{opacity:0}.opacity-40{opacity:.4}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-0{outline-width:0px}.outline-1{outline-width:1px}.outline-gray2{outline-color:#929292}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\[overflow-wrap\\:anywhere\\]{overflow-wrap:anywhere}.hover\\:bg-slate-50:hover{--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}@media not all and (min-width: 640px){.max-sm\\:gap-3{gap:.75rem}}@media (min-width: 640px){.sm\\:flex-nowrap{flex-wrap:nowrap}.sm\\:text-sm{font-size:.875rem;line-height:1.25rem}}@media (min-width: 768px){.md\\:block{display:block}.md\\:pl-3{padding-left:.75rem}}:root{--ion-border-color: #cccccc;--ion-color-scheme: light;--ion-font-family: \"Inter\";--ck-color-mention-background: #d6e9ff;--ck-color-mention-text: #000000;--ck-color-base-background: #f1f1f1;--ck-focus-ring: 1px solid red;--ck-inner-shadow: 0px;--ck-resizer-border-width: 0px;--ck-drop-shadow: 0px;--ck-drop-shadow-active: 0px;--ion-color-white: #ffffff;--ion-color-white-rgb: 255, 255, 255;--ion-color-white-contrast: #000000;--ion-color-white-contrast-rgb: 0, 0, 0;--ion-color-white-shade: #e0e0e0;--ion-color-white-tint: #ffffff;--ion-color-white1: #f1f5f8;--ion-color-white1-rgb: 241, 245, 248;--ion-color-white1-contrast: #000000;--ion-color-white1-contrast-rgb: 0, 0, 0;--ion-color-white1-shade: #d4d8da;--ion-color-white1-tint: #f2f6f9;--ion-color-blue1: #1782fb;--ion-color-blue1-rgb: 23, 130, 251;--ion-color-blue1-contrast: #ffffff;--ion-color-blue1-contrast-rgb: 0, 0, 0;--ion-color-blue1-shade: #1472dd;--ion-color-blue1-tint: #2e8ffb;--ion-color-blue2: #046ee9;--ion-color-blue2-rgb: 4, 110, 233;--ion-color-blue2-contrast: #ffffff;--ion-color-blue2-contrast-rgb: 255, 255, 255;--ion-color-blue2-shade: #0461cd;--ion-color-blue2-tint: #1d7deb;--ion-color-blue1-tint1: #bddbfe;--ion-color-blue1-tint1-rgb: 189, 219, 254;--ion-color-blue1-tint1-contrast: #000000;--ion-color-blue1-tint1-contrast-rgb: 0, 0, 0;--ion-color-blue1-tint1-shade: #a6c1e0;--ion-color-blue1-tint1-tint: #c4dffe;--ion-color-blue1-tint2: #deedfe;--ion-color-blue1-tint2-rgb: 222, 237, 254;--ion-color-blue1-tint2-contrast: #000000;--ion-color-blue1-tint2-contrast-rgb: 0, 0, 0;--ion-color-blue1-tint2-shade: #c3d1e0;--ion-color-blue1-tint2-tint: #e1effe;--ion-color-blue3: #2276b5;--ion-color-blue3-rgb: 34, 118, 181;--ion-color-blue3-contrast: #ffffff;--ion-color-blue3-contrast-rgb: 255, 255, 255;--ion-color-blue3-shade: #1e689f;--ion-color-blue3-tint: #3884bc;--ion-color-orange1: #f77321;--ion-color-orange1-rgb: 247, 115, 33;--ion-color-orange1-contrast: #ffffff;--ion-color-orange1-contrast-rgb: 0, 0, 0;--ion-color-orange1-shade: #d9651d;--ion-color-orange1-tint: #f88137;--ion-color-gray1: #e4e4e4;--ion-color-gray1-rgb: 228, 228, 228;--ion-color-gray1-contrast: #929292;--ion-color-gray1-contrast-rgb: 0, 0, 0;--ion-color-gray1-shade: #c9c9c9;--ion-color-gray1-tint: #e7e7e7;--ion-color-gray2: #929292;--ion-color-gray2-rgb: 146, 146, 146;--ion-color-gray2-contrast: #000000;--ion-color-gray2-contrast-rgb: 0, 0, 0;--ion-color-gray2-shade: #808080;--ion-color-gray2-tint: #9d9d9d;--ion-color-gray3: #cccccc;--ion-color-gray3-rgb: 204, 204, 204;--ion-color-gray3-contrast: #929292;--ion-color-gray3-contrast-rgb: 0, 0, 0;--ion-color-gray3-shade: #b4b4b4;--ion-color-gray3-tint: #d1d1d1;--ion-color-gray4: #e5e7eb;--ion-color-gray4-rgb: 229, 231, 235;--ion-color-gray4-contrast: #6b7280;--ion-color-gray4-contrast-rgb: 0, 0, 0;--ion-color-gray4-shade: #cacbcf;--ion-color-gray4-tint: #e8e9ed;--ion-color-red: #ff0000;--ion-color-red-rgb: 255, 0, 0;--ion-color-red-contrast: #ffffff;--ion-color-red-contrast-rgb: 0, 0, 0;--ion-color-red-shade: #e00000;--ion-color-red-tint: #ff1a1a}.ion-color-red{--ion-color-base: var(--ion-color-red);--ion-color-base-rgb: var(--ion-color-red-rgb);--ion-color-contrast: var(--ion-color-red-contrast);--ion-color-contrast-rgb: var(--ion-color-red-contrast-rgb);--ion-color-shade: var(--ion-color-red-shade);--ion-color-tint: var(--ion-color-red-tint)}.ion-color-blue1{--ion-color-base: var(--ion-color-blue1);--ion-color-base-rgb: var(--ion-color-blue1-rgb);--ion-color-contrast: var(--ion-color-blue1-contrast);--ion-color-contrast-rgb: var(--ion-color-blue1-contrast-rgb);--ion-color-shade: var(--ion-color-blue1-shade);--ion-color-tint: var(--ion-color-blue1-tint)}.ion-color-blue2{--ion-color-base: var(--ion-color-blue2);--ion-color-base-rgb: var(--ion-color-blue2-rgb);--ion-color-contrast: var(--ion-color-blue2-contrast);--ion-color-contrast-rgb: var(--ion-color-blue2-contrast-rgb);--ion-color-shade: var(--ion-color-blue2-shade);--ion-color-tint: var(--ion-color-blue2-tint)}.ion-color-blue3{--ion-color-base: var(--ion-color-blue3);--ion-color-base-rgb: var(--ion-color-blue3-rgb);--ion-color-contrast: var(--ion-color-blue3-contrast);--ion-color-contrast-rgb: var(--ion-color-blue3-contrast-rgb);--ion-color-shade: var(--ion-color-blue3-shade);--ion-color-tint: var(--ion-color-blue3-tint)}.ion-color-blue1-tint1{--ion-color-base: var(--ion-color-blue1-tint1);--ion-color-base-rgb: var(--ion-color-blue1-tint1-rgb);--ion-color-contrast: var(--ion-color-blue1-tint1-contrast);--ion-color-contrast-rgb: var(--ion-color-blue1-tint1-contrast-rgb);--ion-color-shade: var(--ion-color-blue1-tint1-shade);--ion-color-tint: var(--ion-color-blue1-tint1-tint)}.ion-color-blue1-tint2{--ion-color-base: var(--ion-color-blue1-tint2);--ion-color-base-rgb: var(--ion-color-blue1-tint2-rgb);--ion-color-contrast: var(--ion-color-blue1-tint2-contrast);--ion-color-contrast-rgb: var(--ion-color-blue1-tint2-contrast-rgb);--ion-color-shade: var(--ion-color-blue1-tint2-shade);--ion-color-tint: var(--ion-color-blue1-tint2-tint)}.ion-color-white{--ion-color-base: var(--ion-color-white);--ion-color-base-rgb: var(--ion-color-white-rgb);--ion-color-contrast: var(--ion-color-white-contrast);--ion-color-contrast-rgb: var(--ion-color-white-contrast-rgb);--ion-color-shade: var(--ion-color-white-shade);--ion-color-tint: var(--ion-color-white-tint)}.ion-color-white1{--ion-color-base: var(--ion-color-white1);--ion-color-base-rgb: var(--ion-color-white1-rgb);--ion-color-contrast: var(--ion-color-white1-contrast);--ion-color-contrast-rgb: var(--ion-color-white1-contrast-rgb);--ion-color-shade: var(--ion-color-white1-shade);--ion-color-tint: var(--ion-color-white1-tint)}.ion-color-gray1{--ion-color-base: var(--ion-color-gray1);--ion-color-base-rgb: var(--ion-color-gray1-rgb);--ion-color-contrast: var(--ion-color-gray1-contrast);--ion-color-contrast-rgb: var(--ion-color-gray1-contrast-rgb);--ion-color-shade: var(--ion-color-gray1-shade);--ion-color-tint: var(--ion-color-gray1-tint)}.ion-color-gray2{--ion-color-base: var(--ion-color-gray2);--ion-color-base-rgb: var(--ion-color-gray2-rgb);--ion-color-contrast: var(--ion-color-gray2-contrast);--ion-color-contrast-rgb: var(--ion-color-gray2-contrast-rgb);--ion-color-shade: var(--ion-color-gray2-shade);--ion-color-tint: var(--ion-color-gray2-tint)}.ion-color-gray3{--ion-color-base: var(--ion-color-gray3);--ion-color-base-rgb: var(--ion-color-gray3-rgb);--ion-color-contrast: var(--ion-color-gray3-contrast);--ion-color-contrast-rgb: var(--ion-color-gray3-contrast-rgb);--ion-color-shade: var(--ion-color-gray3-shade);--ion-color-tint: var(--ion-color-gray3-tint)}.ion-color-gray4{--ion-color-base: var(--ion-color-gray4);--ion-color-base-rgb: var(--ion-color-gray4-rgb);--ion-color-contrast: var(--ion-color-gray4-contrast);--ion-color-contrast-rgb: var(--ion-color-gray4-contrast-rgb);--ion-color-shade: var(--ion-color-gray4-shade);--ion-color-tint: var(--ion-color-gray4-tint)}.ion-color-orange1{--ion-color-base: var(--ion-color-orange1);--ion-color-base-rgb: var(--ion-color-orange1-rgb);--ion-color-contrast: var(--ion-color-orange1-contrast);--ion-color-contrast-rgb: var(--ion-color-orange1-contrast-rgb);--ion-color-shade: var(--ion-color-orange1-shade);--ion-color-tint: var(--ion-color-orange1-tint)}@font-face{font-family:Inter;src:url(/assets/Inter-VariableFont_opsz_wght-c8O0ljhh.ttf)}:root{--ion-text-color: black}@media (prefers-color-scheme: dark){:root{--ion-color-scheme: light}}\n",document.head.appendChild(ne),i({A:function(){return Ao().attrs},C:Vr,D:pn,F:yo,G:Di,H:fo,I:Jr,L:Ve,M:Gn,N:Ti,P:function(e,t){return vr(e,null,t)},Q:is,R:xte,S:nn,T:kte,U:Xr,u:jn,v:$r,x:jr,y:Wr,z:We});const re={},se=[],ae=()=>{},le=()=>!1,ce=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),de=e=>e.startsWith("onUpdate:"),ue=Object.assign,he=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},pe=Object.prototype.hasOwnProperty,me=(e,t)=>pe.call(e,t),fe=Array.isArray,ge=e=>"[object Map]"===Ce(e),be=e=>"[object Set]"===Ce(e),ve=e=>"[object Date]"===Ce(e),ye=e=>"function"==typeof e,ke=e=>"string"==typeof e,we=e=>"symbol"==typeof e,xe=e=>null!==e&&"object"==typeof e,_e=e=>(xe(e)||ye(e))&&ye(e.then)&&ye(e.catch),Ee=Object.prototype.toString,Ce=e=>Ee.call(e),Ae=e=>"[object Object]"===Ce(e),Te=e=>ke(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,Se=oe(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ie=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Pe=/-(\w)/g,De=Ie((e=>e.replace(Pe,((e,t)=>t?t.toUpperCase():"")))),Re=/\B([A-Z])/g,Le=Ie((e=>e.replace(Re,"-$1").toLowerCase())),Me=Ie((e=>e.charAt(0).toUpperCase()+e.slice(1))),Oe=Ie((e=>e?`on${Me(e)}`:"")),Ne=(e,t)=>!Object.is(e,t),$e=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},Fe=(e,t,i,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:i})},Be=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ze;const je=()=>ze||(ze="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function Ve(e){if(fe(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],o=ke(n)?Ge(n):Ve(n);if(o)for(const e in o)t[e]=o[e]}return t}if(ke(e)||xe(e))return e}const Ue=/;(?![^(]*\))/g,He=/:([^]+)/,qe=/\/\*[^]*?\*\//g;function Ge(e){const t={};return e.replace(qe,"").split(Ue).forEach((e=>{if(e){const i=e.split(He);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}function We(e){let t="";if(ke(e))t=e;else if(fe(e))for(let i=0;i<e.length;i++){const n=We(e[i]);n&&(t+=n+" ")}else if(xe(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Ye=oe("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ke(e){return!!e||""===e}function Qe(e,t){if(e===t)return!0;let i=ve(e),n=ve(t);if(i||n)return!(!i||!n)&&e.getTime()===t.getTime();if(i=we(e),n=we(t),i||n)return e===t;if(i=fe(e),n=fe(t),i||n)return!(!i||!n)&&function(e,t){if(e.length!==t.length)return!1;let i=!0;for(let n=0;i&&n<e.length;n++)i=Qe(e[n],t[n]);return i}(e,t);if(i=xe(e),n=xe(t),i||n){if(!i||!n)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e){const n=e.hasOwnProperty(i),o=t.hasOwnProperty(i);if(n&&!o||!n&&o||!Qe(e[i],t[i]))return!1}}return String(e)===String(t)}function Xe(e,t){return e.findIndex((e=>Qe(e,t)))}const Je=e=>!(!e||!0!==e.__v_isRef),Ze=i("V",(e=>ke(e)?e:null==e?"":fe(e)||xe(e)&&(e.toString===Ee||!ye(e.toString))?Je(e)?Ze(e.value):JSON.stringify(e,et,2):String(e))),et=(e,t)=>Je(t)?et(e,t.value):ge(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,i],n)=>(e[tt(t,n)+" =>"]=i,e)),{})}:be(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>tt(e)))}:we(t)?tt(t):!xe(t)||fe(t)||Ae(t)?t:String(t),tt=(e,t="")=>{var i;return we(e)?`Symbol(${null!=(i=e.description)?i:t})`:e};
/**
            * @vue/reactivity v3.5.13
            * (c) 2018-present Yuxi (Evan) You and Vue contributors
            * @license MIT
            **/
let it,nt;class ot{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=it,!e&&it&&(this.index=(it.scopes||(it.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=it;try{return it=this,e()}finally{it=t}}}on(){it=this}off(){it=this.parent}stop(e){if(this._active){let t,i;for(this._active=!1,t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function rt(e){return new ot(e)}function st(){return it}function at(e,t=!1){it&&it.cleanups.push(e)}const lt=new WeakSet;class ct{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,it&&it.active&&it.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,lt.has(this)&&(lt.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||pt(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,At(this),gt(this);const e=nt,t=xt;nt=this,xt=!0;try{return this.fn()}finally{bt(this),nt=e,xt=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)kt(e);this.deps=this.depsTail=void 0,At(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?lt.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vt(this)&&this.run()}get dirty(){return vt(this)}}let dt,ut,ht=0;function pt(e,t=!1){if(e.flags|=8,t)return e.next=ut,void(ut=e);e.next=dt,dt=e}function mt(){ht++}function ft(){if(--ht>0)return;if(ut){let e=ut;for(ut=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;dt;){let t=dt;for(dt=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,1&t.flags)try{t.trigger()}catch(N0){e||(e=N0)}t=i}}if(e)throw e}function gt(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function bt(e){let t,i=e.depsTail,n=i;for(;n;){const e=n.prevDep;-1===n.version?(n===i&&(i=e),kt(n),wt(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=e}e.deps=t,e.depsTail=i}function vt(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(yt(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function yt(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Tt)return;e.globalVersion=Tt;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!vt(e))return void(e.flags&=-3);const i=nt,n=xt;nt=e,xt=!0;try{gt(e);const i=e.fn(e._value);(0===t.version||Ne(i,e._value))&&(e._value=i,t.version++)}catch(N0){throw t.version++,N0}finally{nt=i,xt=n,bt(e),e.flags&=-3}}function kt(e,t=!1){const{dep:i,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),i.subs===e&&(i.subs=n,!n&&i.computed)){i.computed.flags&=-5;for(let e=i.computed.deps;e;e=e.nextDep)kt(e,!0)}t||--i.sc||!i.map||i.map.delete(i.key)}function wt(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let xt=!0;const _t=[];function Et(){_t.push(xt),xt=!1}function Ct(){const e=_t.pop();xt=void 0===e||e}function At(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=nt;nt=void 0;try{t()}finally{nt=e}}}let Tt=0;class St{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class It{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!nt||!xt||nt===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==nt)t=this.activeLink=new St(nt,this),nt.deps?(t.prevDep=nt.depsTail,nt.depsTail.nextDep=t,nt.depsTail=t):nt.deps=nt.depsTail=t,Pt(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=nt.depsTail,t.nextDep=void 0,nt.depsTail.nextDep=t,nt.depsTail=t,nt.deps===t&&(nt.deps=e)}return t}trigger(e){this.version++,Tt++,this.notify(e)}notify(e){mt();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{ft()}}}function Pt(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Pt(e)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const Dt=new WeakMap,Rt=Symbol(""),Lt=Symbol(""),Mt=Symbol("");function Ot(e,t,i){if(xt&&nt){let t=Dt.get(e);t||Dt.set(e,t=new Map);let n=t.get(i);n||(t.set(i,n=new It),n.map=t,n.key=i),n.track()}}function Nt(e,t,i,n,o,r){const s=Dt.get(e);if(!s)return void Tt++;const a=e=>{e&&e.trigger()};if(mt(),"clear"===t)s.forEach(a);else{const o=fe(e),r=o&&Te(i);if(o&&"length"===i){const e=Number(n);s.forEach(((t,i)=>{("length"===i||i===Mt||!we(i)&&i>=e)&&a(t)}))}else switch((void 0!==i||s.has(void 0))&&a(s.get(i)),r&&a(s.get(Mt)),t){case"add":o?r&&a(s.get("length")):(a(s.get(Rt)),ge(e)&&a(s.get(Lt)));break;case"delete":o||(a(s.get(Rt)),ge(e)&&a(s.get(Lt)));break;case"set":ge(e)&&a(s.get(Rt))}}ft()}function $t(e){const t=xi(e);return t===e?t:(Ot(t,0,Mt),ki(e)?t:t.map(Ei))}function Ft(e){return Ot(e=xi(e),0,Mt),e}const Bt={__proto__:null,[Symbol.iterator](){return zt(this,Symbol.iterator,Ei)},concat(...e){return $t(this).concat(...e.map((e=>fe(e)?$t(e):e)))},entries(){return zt(this,"entries",(e=>(e[1]=Ei(e[1]),e)))},every(e,t){return Vt(this,"every",e,t,void 0,arguments)},filter(e,t){return Vt(this,"filter",e,t,(e=>e.map(Ei)),arguments)},find(e,t){return Vt(this,"find",e,t,Ei,arguments)},findIndex(e,t){return Vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Vt(this,"findLast",e,t,Ei,arguments)},findLastIndex(e,t){return Vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ht(this,"includes",e)},indexOf(...e){return Ht(this,"indexOf",e)},join(e){return $t(this).join(e)},lastIndexOf(...e){return Ht(this,"lastIndexOf",e)},map(e,t){return Vt(this,"map",e,t,void 0,arguments)},pop(){return qt(this,"pop")},push(...e){return qt(this,"push",e)},reduce(e,...t){return Ut(this,"reduce",e,t)},reduceRight(e,...t){return Ut(this,"reduceRight",e,t)},shift(){return qt(this,"shift")},some(e,t){return Vt(this,"some",e,t,void 0,arguments)},splice(...e){return qt(this,"splice",e)},toReversed(){return $t(this).toReversed()},toSorted(e){return $t(this).toSorted(e)},toSpliced(...e){return $t(this).toSpliced(...e)},unshift(...e){return qt(this,"unshift",e)},values(){return zt(this,"values",Ei)}};function zt(e,t,i){const n=Ft(e),o=n[t]();return n===e||ki(e)||(o._next=o.next,o.next=()=>{const e=o._next();return e.value&&(e.value=i(e.value)),e}),o}const jt=Array.prototype;function Vt(e,t,i,n,o,r){const s=Ft(e),a=s!==e&&!ki(e),l=s[t];if(l!==jt[t]){const t=l.apply(e,r);return a?Ei(t):t}let c=i;s!==e&&(a?c=function(t,n){return i.call(this,Ei(t),n,e)}:i.length>2&&(c=function(t,n){return i.call(this,t,n,e)}));const d=l.call(s,c,n);return a&&o?o(d):d}function Ut(e,t,i,n){const o=Ft(e);let r=i;return o!==e&&(ki(e)?i.length>3&&(r=function(t,n,o){return i.call(this,t,n,o,e)}):r=function(t,n,o){return i.call(this,t,Ei(n),o,e)}),o[t](r,...n)}function Ht(e,t,i){const n=xi(e);Ot(n,0,Mt);const o=n[t](...i);return-1!==o&&!1!==o||!wi(i[0])?o:(i[0]=xi(i[0]),n[t](...i))}function qt(e,t,i=[]){Et(),mt();const n=xi(e)[t].apply(e,i);return ft(),Ct(),n}const Gt=oe("__proto__,__v_isRef,__isVue"),Wt=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(we));function Yt(e){we(e)||(e=String(e));const t=xi(this);return Ot(t,0,e),t.hasOwnProperty(e)}class Kt{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if("__v_skip"===t)return e.__v_skip;const n=this._isReadonly,o=this._isShallow;if("__v_isReactive"===t)return!n;if("__v_isReadonly"===t)return n;if("__v_isShallow"===t)return o;if("__v_raw"===t)return i===(n?o?hi:ui:o?di:ci).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const r=fe(e);if(!n){let e;if(r&&(e=Bt[t]))return e;if("hasOwnProperty"===t)return Yt}const s=Reflect.get(e,t,Ai(e)?e:i);return(we(t)?Wt.has(t):Gt(t))?s:(n||Ot(e,0,t),o?s:Ai(s)?r&&Te(t)?s:s.value:xe(s)?n?gi(s):mi(s):s)}}class Qt extends Kt{constructor(e=!1){super(!1,e)}set(e,t,i,n){let o=e[t];if(!this._isShallow){const t=yi(o);if(ki(i)||yi(i)||(o=xi(o),i=xi(i)),!fe(e)&&Ai(o)&&!Ai(i))return!t&&(o.value=i,!0)}const r=fe(e)&&Te(t)?Number(t)<e.length:me(e,t),s=Reflect.set(e,t,i,Ai(e)?e:n);return e===xi(n)&&(r?Ne(i,o)&&Nt(e,"set",t,i):Nt(e,"add",t,i)),s}deleteProperty(e,t){const i=me(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&Nt(e,"delete",t,void 0),n}has(e,t){const i=Reflect.has(e,t);return we(t)&&Wt.has(t)||Ot(e,0,t),i}ownKeys(e){return Ot(e,0,fe(e)?"length":Rt),Reflect.ownKeys(e)}}class Xt extends Kt{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Jt=new Qt,Zt=new Xt,ei=new Qt(!0),ti=e=>e,ii=e=>Reflect.getPrototypeOf(e);function ni(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function oi(e,t){const i={get(i){const n=this.__v_raw,o=xi(n),r=xi(i);e||(Ne(i,r)&&Ot(o,0,i),Ot(o,0,r));const{has:s}=ii(o),a=t?ti:e?Ci:Ei;return s.call(o,i)?a(n.get(i)):s.call(o,r)?a(n.get(r)):void(n!==o&&n.get(i))},get size(){const t=this.__v_raw;return!e&&Ot(xi(t),0,Rt),Reflect.get(t,"size",t)},has(t){const i=this.__v_raw,n=xi(i),o=xi(t);return e||(Ne(t,o)&&Ot(n,0,t),Ot(n,0,o)),t===o?i.has(t):i.has(t)||i.has(o)},forEach(i,n){const o=this,r=o.__v_raw,s=xi(r),a=t?ti:e?Ci:Ei;return!e&&Ot(s,0,Rt),r.forEach(((e,t)=>i.call(n,a(e),a(t),o)))}};ue(i,e?{add:ni("add"),set:ni("set"),delete:ni("delete"),clear:ni("clear")}:{add(e){t||ki(e)||yi(e)||(e=xi(e));const i=xi(this);return ii(i).has.call(i,e)||(i.add(e),Nt(i,"add",e,e)),this},set(e,i){t||ki(i)||yi(i)||(i=xi(i));const n=xi(this),{has:o,get:r}=ii(n);let s=o.call(n,e);s||(e=xi(e),s=o.call(n,e));const a=r.call(n,e);return n.set(e,i),s?Ne(i,a)&&Nt(n,"set",e,i):Nt(n,"add",e,i),this},delete(e){const t=xi(this),{has:i,get:n}=ii(t);let o=i.call(t,e);o||(e=xi(e),o=i.call(t,e)),n&&n.call(t,e);const r=t.delete(e);return o&&Nt(t,"delete",e,void 0),r},clear(){const e=xi(this),t=0!==e.size,i=e.clear();return t&&Nt(e,"clear",void 0,void 0),i}});return["keys","values","entries",Symbol.iterator].forEach((n=>{i[n]=function(e,t,i){return function(...n){const o=this.__v_raw,r=xi(o),s=ge(r),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=o[e](...n),d=i?ti:t?Ci:Ei;return!t&&Ot(r,0,l?Lt:Rt),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}(n,e,t)})),i}function ri(e,t){const i=oi(e,t);return(t,n,o)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(me(i,n)&&n in t?i:t,n,o)}const si={get:ri(!1,!1)},ai={get:ri(!1,!0)},li={get:ri(!0,!1)},ci=new WeakMap,di=new WeakMap,ui=new WeakMap,hi=new WeakMap;function pi(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>Ce(e).slice(8,-1))(e))}function mi(e){return yi(e)?e:bi(e,!1,Jt,si,ci)}function fi(e){return bi(e,!1,ei,ai,di)}function gi(e){return bi(e,!0,Zt,li,ui)}function bi(e,t,i,n,o){if(!xe(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const s=pi(e);if(0===s)return e;const a=new Proxy(e,2===s?n:i);return o.set(e,a),a}function vi(e){return yi(e)?vi(e.__v_raw):!(!e||!e.__v_isReactive)}function yi(e){return!(!e||!e.__v_isReadonly)}function ki(e){return!(!e||!e.__v_isShallow)}function wi(e){return!!e&&!!e.__v_raw}function xi(e){const t=e&&e.__v_raw;return t?xi(t):e}function _i(e){return!me(e,"__v_skip")&&Object.isExtensible(e)&&Fe(e,"__v_skip",!0),e}const Ei=e=>xe(e)?mi(e):e,Ci=e=>xe(e)?gi(e):e;function Ai(e){return!!e&&!0===e.__v_isRef}function Ti(e){return Ii(e,!1)}function Si(e){return Ii(e,!0)}function Ii(e,t){return Ai(e)?e:new Pi(e,t)}class Pi{constructor(e,t){this.dep=new It,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:xi(e),this._value=t?e:Ei(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||ki(e)||yi(e);e=i?e:xi(e),Ne(e,t)&&(this._rawValue=e,this._value=i?e:Ei(e),this.dep.trigger())}}function Di(e){return Ai(e)?e.value:e}const Ri={get:(e,t,i)=>"__v_raw"===t?e:Di(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const o=e[t];return Ai(o)&&!Ai(i)?(o.value=i,!0):Reflect.set(e,t,i,n)}};function Li(e){return vi(e)?e:new Proxy(e,Ri)}class Mi{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new It,{get:i,set:n}=e(t.track.bind(t),t.trigger.bind(t));this._get=i,this._set=n}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Oi(e){const t=fe(e)?new Array(e.length):{};for(const i in e)t[i]=Bi(e,i);return t}class Ni{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const i=Dt.get(e);return i&&i.get(t)}(xi(this._object),this._key)}}class $i{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Fi(e,t,i){return Ai(e)?e:ye(e)?new $i(e):xe(e)&&arguments.length>1?Bi(e,t,i):Ti(e)}function Bi(e,t,i){const n=e[t];return Ai(n)?n:new Ni(e,t,i)}class zi{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new It(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Tt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(8&this.flags)&&nt!==this)return pt(this,!0),!0}get value(){const e=this.dep.track();return yt(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const ji={},Vi=new WeakMap;let Ui;function Hi(e,t,i=re){const{immediate:n,deep:o,once:r,scheduler:s,augmentJob:a,call:l}=i,c=e=>o?e:ki(e)||!1===o||0===o?qi(e,1):qi(e);let d,u,h,p,m=!1,f=!1;if(Ai(e)?(u=()=>e.value,m=ki(e)):vi(e)?(u=()=>c(e),m=!0):fe(e)?(f=!0,m=e.some((e=>vi(e)||ki(e))),u=()=>e.map((e=>Ai(e)?e.value:vi(e)?c(e):ye(e)?l?l(e,2):e():void 0))):u=ye(e)?t?l?()=>l(e,2):e:()=>{if(h){Et();try{h()}finally{Ct()}}const t=Ui;Ui=d;try{return l?l(e,3,[p]):e(p)}finally{Ui=t}}:ae,t&&o){const e=u,t=!0===o?1/0:o;u=()=>qi(e(),t)}const g=st(),b=()=>{d.stop(),g&&g.active&&he(g.effects,d)};if(r&&t){const e=t;t=(...t)=>{e(...t),b()}}let v=f?new Array(e.length).fill(ji):ji;const y=e=>{if(1&d.flags&&(d.dirty||e))if(t){const e=d.run();if(o||m||(f?e.some(((e,t)=>Ne(e,v[t]))):Ne(e,v))){h&&h();const i=Ui;Ui=d;try{const i=[e,v===ji?void 0:f&&v[0]===ji?[]:v,p];l?l(t,3,i):t(...i),v=e}finally{Ui=i}}}else d.run()};return a&&a(y),d=new ct(u),d.scheduler=s?()=>s(y,!1):y,p=e=>function(e,t=!1,i=Ui){if(i){let t=Vi.get(i);t||Vi.set(i,t=[]),t.push(e)}}(e,!1,d),h=d.onStop=()=>{const e=Vi.get(d);if(e){if(l)l(e,4);else for(const t of e)t();Vi.delete(d)}},t?n?y(!0):v=d.run():s?s(y.bind(null,!0),!0):d.run(),b.pause=d.pause.bind(d),b.resume=d.resume.bind(d),b.stop=b,b}function qi(e,t=1/0,i){if(t<=0||!xe(e)||e.__v_skip)return e;if((i=i||new Set).has(e))return e;if(i.add(e),t--,Ai(e))qi(e.value,t,i);else if(fe(e))for(let n=0;n<e.length;n++)qi(e[n],t,i);else if(be(e)||ge(e))e.forEach((e=>{qi(e,t,i)}));else if(Ae(e)){for(const n in e)qi(e[n],t,i);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&qi(e[n],t,i)}return e}
/**
            * @vue/runtime-core v3.5.13
            * (c) 2018-present Yuxi (Evan) You and Vue contributors
            * @license MIT
            **/function Gi(e,t,i,n){try{return n?e(...n):e()}catch(N0){Yi(N0,t,i)}}function Wi(e,t,i,n){if(ye(e)){const o=Gi(e,t,i,n);return o&&_e(o)&&o.catch((e=>{Yi(e,t,i)})),o}if(fe(e)){const o=[];for(let r=0;r<e.length;r++)o.push(Wi(e[r],t,i,n));return o}}function Yi(e,t,i,n=!0){t&&t.vnode;const{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||re;if(t){let n=t.parent;const r=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${i}`;for(;n;){const t=n.ec;if(t)for(let i=0;i<t.length;i++)if(!1===t[i](e,r,s))return;n=n.parent}if(o)return Et(),Gi(o,null,10,[e,r,s]),void Ct()}!function(e,t,i,n=!0,o=!1){if(o)throw e;console.error(e)}(e,0,0,n,r)}const Ki=[];let Qi=-1;const Xi=[];let Ji=null,Zi=0;const en=Promise.resolve();let tn=null;function nn(e){const t=tn||en;return e?t.then(this?e.bind(this):e):t}function on(e){if(!(1&e.flags)){const t=ln(e),i=Ki[Ki.length-1];!i||!(2&e.flags)&&t>=ln(i)?Ki.push(e):Ki.splice(function(e){let t=Qi+1,i=Ki.length;for(;t<i;){const n=t+i>>>1,o=Ki[n],r=ln(o);r<e||r===e&&2&o.flags?t=n+1:i=n}return t}(t),0,e),e.flags|=1,rn()}}function rn(){tn||(tn=en.then(cn))}function sn(e,t,i=Qi+1){for(;i<Ki.length;i++){const t=Ki[i];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;Ki.splice(i,1),i--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function an(e){if(Xi.length){const e=[...new Set(Xi)].sort(((e,t)=>ln(e)-ln(t)));if(Xi.length=0,Ji)return void Ji.push(...e);for(Ji=e,Zi=0;Zi<Ji.length;Zi++){const e=Ji[Zi];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Ji=null,Zi=0}}const ln=e=>null==e.id?2&e.flags?-1:1/0:e.id;function cn(e){try{for(Qi=0;Qi<Ki.length;Qi++){const e=Ki[Qi];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Gi(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;Qi<Ki.length;Qi++){const e=Ki[Qi];e&&(e.flags&=-2)}Qi=-1,Ki.length=0,an(),tn=null,(Ki.length||Xi.length)&&cn()}}let dn=null,un=null;function hn(e){const t=dn;return dn=e,un=e&&e.type.__scopeId||null,t}function pn(e,t=dn,i){if(!t)return e;if(e._n)return e;const n=(...i)=>{n._d&&Br(-1);const o=hn(t);let r;try{r=e(...i)}finally{hn(o),n._d&&Br(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function mn(e,t){if(null===dn)return e;const i=vs(dn),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,r,s,a=re]=t[o];e&&(ye(e)&&(e={mounted:e,updated:e}),e.deep&&qi(r),n.push({dir:e,instance:i,value:r,oldValue:void 0,arg:s,modifiers:a}))}return e}function fn(e,t,i,n){const o=e.dirs,r=t&&t.dirs;for(let s=0;s<o.length;s++){const a=o[s];r&&(a.oldValue=r[s].value);let l=a.dir[n];l&&(Et(),Wi(l,i,8,[e.el,a,e,t]),Ct())}}const gn=Symbol("_vte"),bn=e=>e.__isTeleport,vn=e=>e&&(e.disabled||""===e.disabled),yn=e=>e&&(e.defer||""===e.defer),kn=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,wn=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,xn=(e,t)=>{const i=e&&e.to;if(ke(i)){if(t){return t(i)}return null}return i},_n={name:"Teleport",__isTeleport:!0,process(e,t,i,n,o,r,s,a,l,c){const{mc:d,pc:u,pbc:h,o:{insert:p,querySelector:m,createText:f,createComment:g}}=c,b=vn(t.props);let{shapeFlag:v,children:y,dynamicChildren:k}=t;if(null==e){const e=t.el=f(""),c=t.anchor=f("");p(e,i,n),p(c,i,n);const u=(e,t)=>{16&v&&(o&&o.isCE&&(o.ce._teleportTarget=e),d(y,e,t,o,r,s,a,l))},h=()=>{const e=t.target=xn(t.props,m),i=Tn(e,t,f,p);e&&("svg"!==s&&kn(e)?s="svg":"mathml"!==s&&wn(e)&&(s="mathml"),b||(u(e,i),An(t,!1)))};b&&(u(i,c),An(t,!0)),yn(t.props)?lr((()=>{h(),t.el.__isMounted=!0}),r):h()}else{if(yn(t.props)&&!e.el.__isMounted)return void lr((()=>{_n.process(e,t,i,n,o,r,s,a,l,c),delete e.el.__isMounted}),r);t.el=e.el,t.targetStart=e.targetStart;const d=t.anchor=e.anchor,p=t.target=e.target,f=t.targetAnchor=e.targetAnchor,g=vn(e.props),v=g?i:p,y=g?d:f;if("svg"===s||kn(p)?s="svg":("mathml"===s||wn(p))&&(s="mathml"),k?(h(e.dynamicChildren,k,v,o,r,s,a),hr(e,t,!0)):l||u(e,t,v,y,o,r,s,a,!1),b)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):En(t,i,d,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=xn(t.props,m);e&&En(t,e,null,c,0)}else g&&En(t,p,f,c,1);An(t,b)}},remove(e,t,i,{um:n,o:{remove:o}},r){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:d,target:u,props:h}=e;if(u&&(o(c),o(d)),r&&o(l),16&s){const e=r||!vn(h);for(let o=0;o<a.length;o++){const r=a[o];n(r,t,i,e,!!r.dynamicChildren)}}},move:En,hydrate:function(e,t,i,n,o,r,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:d}},u){const h=t.target=xn(t.props,l);if(h){const l=vn(t.props),p=h._lpa||h.firstChild;if(16&t.shapeFlag)if(l)t.anchor=u(s(e),t,a(e),i,n,o,r),t.targetStart=p,t.targetAnchor=p&&s(p);else{t.anchor=s(e);let a=p;for(;a;){if(a&&8===a.nodeType)if("teleport start anchor"===a.data)t.targetStart=a;else if("teleport anchor"===a.data){t.targetAnchor=a,h._lpa=t.targetAnchor&&s(t.targetAnchor);break}a=s(a)}t.targetAnchor||Tn(h,t,d,c),u(p&&s(p),t,h,i,n,o,r)}An(t,l)}return t.anchor&&s(t.anchor)}};function En(e,t,i,{o:{insert:n},m:o},r=2){0===r&&n(e.targetAnchor,t,i);const{el:s,anchor:a,shapeFlag:l,children:c,props:d}=e,u=2===r;if(u&&n(s,t,i),(!u||vn(d))&&16&l)for(let h=0;h<c.length;h++)o(c[h],t,i,2);u&&n(a,t,i)}const Cn=_n;function An(e,t){const i=e.ctx;if(i&&i.ut){let n,o;for(t?(n=e.el,o=e.anchor):(n=e.targetStart,o=e.targetAnchor);n&&n!==o;)1===n.nodeType&&n.setAttribute("data-v-owner",i.uid),n=n.nextSibling;i.ut()}}function Tn(e,t,i,n){const o=t.targetStart=i(""),r=t.targetAnchor=i("");return o[gn]=r,e&&(n(o,e),n(r,e)),r}const Sn=Symbol("_leaveCb"),In=Symbol("_enterCb");const Pn=[Function,Array],Dn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pn,onEnter:Pn,onAfterEnter:Pn,onEnterCancelled:Pn,onBeforeLeave:Pn,onLeave:Pn,onAfterLeave:Pn,onLeaveCancelled:Pn,onBeforeAppear:Pn,onAppear:Pn,onAfterAppear:Pn,onAppearCancelled:Pn},Rn=e=>{const t=e.subTree;return t.component?Rn(t.component):t};function Ln(e){let t=e[0];if(e.length>1)for(const i of e)if(i.type!==Lr){t=i;break}return t}const Mn={name:"BaseTransition",props:Dn,setup(e,{slots:t}){const i=as(),n=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return io((()=>{e.isMounted=!0})),ro((()=>{e.isUnmounting=!0})),e}();return()=>{const o=t.default&&zn(t.default(),!0);if(!o||!o.length)return;const r=Ln(o),s=xi(e),{mode:a}=s;if(n.isLeaving)return $n(r);const l=Fn(r);if(!l)return $n(r);let c=Nn(l,s,n,i,(e=>c=e));l.type!==Lr&&Bn(l,c);let d=i.subTree&&Fn(i.subTree);if(d&&d.type!==Lr&&!Hr(l,d)&&Rn(i).type!==Lr){let e=Nn(d,s,n,i);if(Bn(d,e),"out-in"===a&&l.type!==Lr)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,8&i.job.flags||i.update(),delete e.afterLeave,d=void 0},$n(r);"in-out"===a&&l.type!==Lr?e.delayLeave=(e,t,i)=>{On(n,d)[String(d.key)]=d,e[Sn]=()=>{t(),e[Sn]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{i(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function On(e,t){const{leavingVNodes:i}=e;let n=i.get(t.type);return n||(n=Object.create(null),i.set(t.type,n)),n}function Nn(e,t,i,n,o){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:f,onBeforeAppear:g,onAppear:b,onAfterAppear:v,onAppearCancelled:y}=t,k=String(e.key),w=On(i,e),x=(e,t)=>{e&&Wi(e,n,9,t)},_=(e,t)=>{const i=t[1];x(e,t),fe(e)?e.every((e=>e.length<=1))&&i():e.length<=1&&i()},E={mode:s,persisted:a,beforeEnter(t){let n=l;if(!i.isMounted){if(!r)return;n=g||l}t[Sn]&&t[Sn](!0);const o=w[k];o&&Hr(e,o)&&o.el[Sn]&&o.el[Sn](),x(n,[t])},enter(e){let t=c,n=d,o=u;if(!i.isMounted){if(!r)return;t=b||c,n=v||d,o=y||u}let s=!1;const a=e[In]=t=>{s||(s=!0,x(t?o:n,[e]),E.delayedLeave&&E.delayedLeave(),e[In]=void 0)};t?_(t,[e,a]):a()},leave(t,n){const o=String(e.key);if(t[In]&&t[In](!0),i.isUnmounting)return n();x(h,[t]);let r=!1;const s=t[Sn]=i=>{r||(r=!0,n(),x(i?f:m,[t]),t[Sn]=void 0,w[o]===e&&delete w[o])};w[o]=e,p?_(p,[t,s]):s()},clone(e){const r=Nn(e,t,i,n,o);return o&&o(r),r}};return E}function $n(e){if(Yn(e))return(e=Qr(e)).children=null,e}function Fn(e){if(!Yn(e))return bn(e.type)&&e.children?Ln(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(16&t)return i[0];if(32&t&&ye(i.default))return i.default()}}function Bn(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Bn(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zn(e,t=!1,i){let n=[],o=0;for(let r=0;r<e.length;r++){let s=e[r];const a=null==i?s.key:String(i)+String(null!=s.key?s.key:r);s.type===Dr?(128&s.patchFlag&&o++,n=n.concat(zn(s.children,t,a))):(t||s.type!==Lr)&&n.push(null!=a?Qr(s,{key:a}):s)}if(o>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function jn(e,t){return ye(e)?(()=>ue({name:e.name},t,{setup:e}))():e}function Vn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Un(e,t,i,n,o=!1){if(fe(e))return void e.forEach(((e,r)=>Un(e,t&&(fe(t)?t[r]:t),i,n,o)));if(qn(n)&&!o)return void(512&n.shapeFlag&&n.type.__asyncResolved&&n.component.subTree.component&&Un(e,t,i,n.component.subTree));const r=4&n.shapeFlag?vs(n.component):n.el,s=o?null:r,{i:a,r:l}=e,c=t&&t.r,d=a.refs===re?a.refs={}:a.refs,u=a.setupState,h=xi(u),p=u===re?()=>!1:e=>me(h,e);if(null!=c&&c!==l&&(ke(c)?(d[c]=null,p(c)&&(u[c]=null)):Ai(c)&&(c.value=null)),ye(l))Gi(l,a,12,[s,d]);else{const t=ke(l),n=Ai(l);if(t||n){const a=()=>{if(e.f){const i=t?p(l)?u[l]:d[l]:l.value;o?fe(i)&&he(i,r):fe(i)?i.includes(r)||i.push(r):t?(d[l]=[r],p(l)&&(u[l]=d[l])):(l.value=[r],e.k&&(d[e.k]=l.value))}else t?(d[l]=s,p(l)&&(u[l]=s)):n&&(l.value=s,e.k&&(d[e.k]=s))};s?(a.id=-1,lr(a,i)):a()}}}const Hn=e=>8===e.nodeType;je().requestIdleCallback,je().cancelIdleCallback;const qn=e=>!!e.type.__asyncLoader/*! #__NO_SIDE_EFFECTS__ */;function Gn(e){ye(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:n,delay:o=200,hydrate:r,timeout:s,suspensible:a=!0,onError:l}=e;let c,d=null,u=0;const h=()=>{let e;return d||(e=d=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise(((t,i)=>{l(e,(()=>t((u++,d=null,h()))),(()=>i(e)),u+1)}));throw e})).then((t=>e!==d&&d?d:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t))))};return jn({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(e,t,i){const n=r?()=>{const n=r(i,(t=>function(e,t){if(Hn(e)&&"["===e.data){let i=1,n=e.nextSibling;for(;n;){if(1===n.nodeType){if(!1===t(n))break}else if(Hn(n))if("]"===n.data){if(0==--i)break}else"["===n.data&&i++;n=n.nextSibling}}else t(e)}(e,t)));n&&(t.bum||(t.bum=[])).push(n)}:i;c?n():h().then((()=>!t.isUnmounted&&n()))},get __asyncResolved(){return c},setup(){const e=ss;if(Vn(e),c)return()=>Wn(c,e);const t=t=>{d=null,Yi(t,e,13,!n)};if(a&&e.suspense||ps)return h().then((t=>()=>Wn(t,e))).catch((e=>(t(e),()=>n?Yr(n,{error:e}):null)));const r=Ti(!1),l=Ti(),u=Ti(!!o);return o&&setTimeout((()=>{u.value=!1}),o),null!=s&&setTimeout((()=>{if(!r.value&&!l.value){const e=new Error(`Async component timed out after ${s}ms.`);t(e),l.value=e}}),s),h().then((()=>{r.value=!0,e.parent&&Yn(e.parent.vnode)&&e.parent.update()})).catch((e=>{t(e),l.value=e})),()=>r.value&&c?Wn(c,e):l.value&&n?Yr(n,{error:l.value}):i&&!u.value?Yr(i):void 0}})}function Wn(e,t){const{ref:i,props:n,children:o,ce:r}=t.vnode,s=Yr(e,n,o);return s.ref=i,s.ce=r,delete t.vnode.ce,s}const Yn=e=>e.type.__isKeepAlive;function Kn(e,t){Xn(e,"a",t)}function Qn(e,t){Xn(e,"da",t)}function Xn(e,t,i=ss){const n=e.__wdc||(e.__wdc=()=>{let t=i;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Zn(t,n,i),i){let e=i.parent;for(;e&&e.parent;)Yn(e.parent.vnode)&&Jn(n,t,i,e),e=e.parent}}function Jn(e,t,i,n){const o=Zn(t,e,n,!0);so((()=>{he(n[t],o)}),i)}function Zn(e,t,i=ss,n=!1){if(i){const o=i[e]||(i[e]=[]),r=t.__weh||(t.__weh=(...n)=>{Et();const o=ds(i),r=Wi(t,i,e,n);return o(),Ct(),r});return n?o.unshift(r):o.push(r),r}}const eo=e=>(t,i=ss)=>{ps&&"sp"!==e||Zn(e,((...e)=>t(...e)),i)},to=eo("bm"),io=i("O",eo("m")),no=eo("bu"),oo=eo("u"),ro=eo("bum"),so=eo("um"),ao=eo("sp"),lo=eo("rtg"),co=eo("rtc");function uo(e,t=ss){Zn("ec",e,t)}const ho="components";function po(e,t){return go(ho,e,!0,t)||e}const mo=Symbol.for("v-ndc");function fo(e){return ke(e)?go(ho,e,!1)||e:e||mo}function go(e,t,i=!0,n=!1){const o=dn||ss;if(o){const i=o.type;{const e=ys(i,!1);if(e&&(e===t||e===De(t)||e===Me(De(t))))return i}const r=bo(o[e]||i[e],t)||bo(o.appContext[e],t);return!r&&n?i:r}}function bo(e,t){return e&&(e[t]||e[De(t)]||e[Me(De(t))])}function vo(e,t,i,n){let o;const r=i,s=fe(e);if(s||ke(e)){let i=!1;s&&vi(e)&&(i=!ki(e),e=Ft(e)),o=new Array(e.length);for(let n=0,s=e.length;n<s;n++)o[n]=t(i?Ei(e[n]):e[n],n,void 0,r)}else if("number"==typeof e){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,r)}else if(xe(e))if(e[Symbol.iterator])o=Array.from(e,((e,i)=>t(e,i,void 0,r)));else{const i=Object.keys(e);o=new Array(i.length);for(let n=0,s=i.length;n<s;n++){const s=i[n];o[n]=t(e[s],s,n,r)}}else o=[];return o}function yo(e,t,i={},n,o){if(dn.ce||dn.parent&&qn(dn.parent)&&dn.parent.ce)return"default"!==t&&(i.name=t),$r(),Vr(Dr,null,[Yr("slot",i,n&&n())],64);let r=e[t];r&&r._c&&(r._d=!1),$r();const s=r&&ko(r(i)),a=i.key||s&&s.key,l=Vr(Dr,{key:(a&&!we(a)?a:`_${t}`)+(!s&&n?"_fb":"")},s||(n?n():[]),s&&1===e._?64:-2);return r&&r._c&&(r._d=!0),l}function ko(e){return e.some((e=>!Ur(e)||e.type!==Lr&&!(e.type===Dr&&!ko(e.children))))?e:null}function wo(e,t){const i={};for(const n in e)i[/[A-Z]/.test(n)?`on:${n}`:Oe(n)]=e[n];return i}const xo=e=>e?hs(e)?vs(e):xo(e.parent):null,_o=ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xo(e.parent),$root:e=>xo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Lo(e),$forceUpdate:e=>e.f||(e.f=()=>{on(e.update)}),$nextTick:e=>e.n||(e.n=nn.bind(e.proxy)),$watch:e=>yr.bind(e)}),Eo=(e,t)=>e!==re&&!e.__isScriptSetup&&me(e,t),Co={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:i,setupState:n,data:o,props:r,accessCache:s,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 1:return n[t];case 2:return o[t];case 4:return i[t];case 3:return r[t]}else{if(Eo(n,t))return s[t]=1,n[t];if(o!==re&&me(o,t))return s[t]=2,o[t];if((c=e.propsOptions[0])&&me(c,t))return s[t]=3,r[t];if(i!==re&&me(i,t))return s[t]=4,i[t];Io&&(s[t]=0)}}const d=_o[t];let u,h;return d?("$attrs"===t&&Ot(e.attrs,0,""),d(e)):(u=a.__cssModules)&&(u=u[t])?u:i!==re&&me(i,t)?(s[t]=4,i[t]):(h=l.config.globalProperties,me(h,t)?h[t]:void 0)},set({_:e},t,i){const{data:n,setupState:o,ctx:r}=e;return Eo(o,t)?(o[t]=i,!0):n!==re&&me(n,t)?(n[t]=i,!0):!me(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(r[t]=i,!0))},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:o,propsOptions:r}},s){let a;return!!i[s]||e!==re&&me(e,s)||Eo(t,s)||(a=r[0])&&me(a,s)||me(n,s)||me(_o,s)||me(o.config.globalProperties,s)},defineProperty(e,t,i){return null!=i.get?e._.accessCache[t]=0:me(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function Ao(){const e=as();return e.setupContext||(e.setupContext=bs(e))}function To(e){return fe(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function So(e,t){return e&&t?fe(e)&&fe(t)?e.concat(t):ue({},To(e),To(t)):e||t}let Io=!0;function Po(e){const t=Lo(e),i=e.proxy,n=e.ctx;Io=!1,t.beforeCreate&&Do(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:s,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:h,beforeUpdate:p,updated:m,activated:f,deactivated:g,beforeDestroy:b,beforeUnmount:v,destroyed:y,unmounted:k,render:w,renderTracked:x,renderTriggered:_,errorCaptured:E,serverPrefetch:C,expose:A,inheritAttrs:T,components:S,directives:I,filters:P}=t;if(c&&function(e,t){fe(e)&&(e=$o(e));for(const i in e){const n=e[i];let o;o=xe(n)?"default"in n?Go(n.from||i,n.default,!0):Go(n.from||i):Go(n),Ai(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[i]=o}}(c,n,null),s)for(const R in s){const e=s[R];ye(e)&&(n[R]=e.bind(i))}if(o){const t=o.call(i,i);xe(t)&&(e.data=mi(t))}if(Io=!0,r)for(const R in r){const e=r[R],t=ye(e)?e.bind(i,i):ye(e.get)?e.get.bind(i,i):ae,o=!ye(e)&&ye(e.set)?e.set.bind(i):ae,s=ks({get:t,set:o});Object.defineProperty(n,R,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(a)for(const R in a)Ro(a[R],n,i,R);if(l){const e=ye(l)?l.call(i):l;Reflect.ownKeys(e).forEach((t=>{qo(t,e[t])}))}function D(e,t){fe(t)?t.forEach((t=>e(t.bind(i)))):t&&e(t.bind(i))}if(d&&Do(d,e,"c"),D(to,u),D(io,h),D(no,p),D(oo,m),D(Kn,f),D(Qn,g),D(uo,E),D(co,x),D(lo,_),D(ro,v),D(so,k),D(ao,C),fe(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>i[e],set:t=>i[e]=t})}))}else e.exposed||(e.exposed={});w&&e.render===ae&&(e.render=w),null!=T&&(e.inheritAttrs=T),S&&(e.components=S),I&&(e.directives=I),C&&Vn(e)}function Do(e,t,i){Wi(fe(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,i)}function Ro(e,t,i,n){let o=n.includes(".")?kr(i,n):()=>i[n];if(ke(e)){const i=t[e];ye(i)&&br(o,i)}else if(ye(e))br(o,e.bind(i));else if(xe(e))if(fe(e))e.forEach((e=>Ro(e,t,i,n)));else{const n=ye(e.handler)?e.handler.bind(i):t[e.handler];ye(n)&&br(o,n,e)}}function Lo(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:s}}=e.appContext,a=r.get(t);let l;return a?l=a:o.length||i||n?(l={},o.length&&o.forEach((e=>Mo(l,e,s,!0))),Mo(l,t,s)):l=t,xe(t)&&r.set(t,l),l}function Mo(e,t,i,n=!1){const{mixins:o,extends:r}=t;r&&Mo(e,r,i,!0),o&&o.forEach((t=>Mo(e,t,i,!0)));for(const s in t)if(n&&"expose"===s);else{const n=Oo[s]||i&&i[s];e[s]=n?n(e[s],t[s]):t[s]}return e}const Oo={data:No,props:zo,emits:zo,methods:Bo,computed:Bo,beforeCreate:Fo,created:Fo,beforeMount:Fo,mounted:Fo,beforeUpdate:Fo,updated:Fo,beforeDestroy:Fo,beforeUnmount:Fo,destroyed:Fo,unmounted:Fo,activated:Fo,deactivated:Fo,errorCaptured:Fo,serverPrefetch:Fo,components:Bo,directives:Bo,watch:function(e,t){if(!e)return t;if(!t)return e;const i=ue(Object.create(null),e);for(const n in t)i[n]=Fo(e[n],t[n]);return i},provide:No,inject:function(e,t){return Bo($o(e),$o(t))}};function No(e,t){return t?e?function(){return ue(ye(e)?e.call(this,this):e,ye(t)?t.call(this,this):t)}:t:e}function $o(e){if(fe(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Fo(e,t){return e?[...new Set([].concat(e,t))]:t}function Bo(e,t){return e?ue(Object.create(null),e,t):t}function zo(e,t){return e?fe(e)&&fe(t)?[...new Set([...e,...t])]:ue(Object.create(null),To(e),To(null!=t?t:{})):t}function jo(){return{app:null,config:{isNativeTag:le,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vo=0;function Uo(e,t){return function(t,i=null){ye(t)||(t=ue({},t)),null==i||xe(i)||(i=null);const n=jo(),o=new WeakSet,r=[];let s=!1;const a=n.app={_uid:Vo++,_component:t,_props:i,_container:null,_context:n,_instance:null,version:xs,get config(){return n.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&ye(e.install)?(o.add(e),e.install(a,...t)):ye(e)&&(o.add(e),e(a,...t))),a),mixin:e=>(n.mixins.includes(e)||n.mixins.push(e),a),component:(e,t)=>t?(n.components[e]=t,a):n.components[e],directive:(e,t)=>t?(n.directives[e]=t,a):n.directives[e],mount(o,r,l){if(!s){const r=a._ceVNode||Yr(t,i);return r.appContext=n,!0===l?l="svg":!1===l&&(l=void 0),e(r,o,l),s=!0,a._container=o,o.__vue_app__=a,vs(r.component)}},onUnmount(e){r.push(e)},unmount(){s&&(Wi(r,a._instance,16),e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(n.provides[e]=t,a),runWithContext(e){const t=Ho;Ho=a;try{return e()}finally{Ho=t}}};return a}}let Ho=null;function qo(e,t){if(ss){let i=ss.provides;const n=ss.parent&&ss.parent.provides;n===i&&(i=ss.provides=Object.create(n)),i[e]=t}else;}function Go(e,t,i=!1){const n=ss||dn;if(n||Ho){const o=Ho?Ho._context.provides:n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return i&&ye(t)?t.call(n&&n.proxy):t}}function Wo(){return!!(ss||dn||Ho)}const Yo={},Ko=()=>Object.create(Yo),Qo=e=>Object.getPrototypeOf(e)===Yo;function Xo(e,t,i,n){const[o,r]=e.propsOptions;let s,a=!1;if(t)for(let l in t){if(Se(l))continue;const c=t[l];let d;o&&me(o,d=De(l))?r&&r.includes(d)?(s||(s={}))[d]=c:i[d]=c:Cr(e.emitsOptions,l)||l in n&&c===n[l]||(n[l]=c,a=!0)}if(r){const t=xi(i),n=s||re;for(let s=0;s<r.length;s++){const a=r[s];i[a]=Jo(o,t,a,n[a],e,!me(n,a))}}return a}function Jo(e,t,i,n,o,r){const s=e[i];if(null!=s){const e=me(s,"default");if(e&&void 0===n){const e=s.default;if(s.type!==Function&&!s.skipFactory&&ye(e)){const{propsDefaults:r}=o;if(i in r)n=r[i];else{const s=ds(o);n=r[i]=e.call(null,t),s()}}else n=e;o.ce&&o.ce._setProp(i,n)}s[0]&&(r&&!e?n=!1:!s[1]||""!==n&&n!==Le(i)||(n=!0))}return n}const Zo=new WeakMap;function er(e,t,i=!1){const n=i?Zo:t.propsCache,o=n.get(e);if(o)return o;const r=e.props,s={},a=[];let l=!1;if(!ye(e)){const n=e=>{l=!0;const[i,n]=er(e,t,!0);ue(s,i),n&&a.push(...n)};!i&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!r&&!l)return xe(e)&&n.set(e,se),se;if(fe(r))for(let d=0;d<r.length;d++){const e=De(r[d]);tr(e)&&(s[e]=re)}else if(r)for(const d in r){const e=De(d);if(tr(e)){const t=r[d],i=s[e]=fe(t)||ye(t)?{type:t}:ue({},t),n=i.type;let o=!1,l=!0;if(fe(n))for(let e=0;e<n.length;++e){const t=n[e],i=ye(t)&&t.name;if("Boolean"===i){o=!0;break}"String"===i&&(l=!1)}else o=ye(n)&&"Boolean"===n.name;i[0]=o,i[1]=l,(o||me(i,"default"))&&a.push(e)}}const c=[s,a];return xe(e)&&n.set(e,c),c}function tr(e){return"$"!==e[0]&&!Se(e)}const ir=e=>"_"===e[0]||"$stable"===e,nr=e=>fe(e)?e.map(Zr):[Zr(e)],or=(e,t,i)=>{if(t._n)return t;const n=pn(((...e)=>nr(t(...e))),i);return n._c=!1,n},rr=(e,t,i)=>{const n=e._ctx;for(const o in e){if(ir(o))continue;const i=e[o];if(ye(i))t[o]=or(0,i,n);else if(null!=i){const e=nr(i);t[o]=()=>e}}},sr=(e,t)=>{const i=nr(t);e.slots.default=()=>i},ar=(e,t,i)=>{for(const n in t)(i||"_"!==n)&&(e[n]=t[n])},lr=function(e,t){t&&t.pendingBranch?fe(e)?t.effects.push(...e):t.effects.push(e):(fe(i=e)?Xi.push(...i):Ji&&-1===i.id?Ji.splice(Zi+1,0,i):1&i.flags||(Xi.push(i),i.flags|=1),rn());var i};function cr(e){return function(e){je().__VUE__=!0;const{insert:t,remove:i,patchProp:n,createElement:o,createText:r,createComment:s,setText:a,setElementText:l,parentNode:c,nextSibling:d,setScopeId:u=ae,insertStaticContent:h}=e,p=(e,t,i,n=null,o=null,r=null,s=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Hr(e,t)&&(n=j(e),N(e,o,r,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:d,shapeFlag:u}=t;switch(c){case Rr:m(e,t,i,n);break;case Lr:f(e,t,i,n);break;case Mr:null==e&&g(t,i,n,s);break;case Dr:A(e,t,i,n,o,r,s,a,l);break;default:1&u?y(e,t,i,n,o,r,s,a,l):6&u?T(e,t,i,n,o,r,s,a,l):(64&u||128&u)&&c.process(e,t,i,n,o,r,s,a,l,H)}null!=d&&o&&Un(d,e&&e.ref,r,t||e,!t)},m=(e,i,n,o)=>{if(null==e)t(i.el=r(i.children),n,o);else{const t=i.el=e.el;i.children!==e.children&&a(t,i.children)}},f=(e,i,n,o)=>{null==e?t(i.el=s(i.children||""),n,o):i.el=e.el},g=(e,t,i,n)=>{[e.el,e.anchor]=h(e.children,t,i,n,e.el,e.anchor)},b=({el:e,anchor:i},n,o)=>{let r;for(;e&&e!==i;)r=d(e),t(e,n,o),e=r;t(i,n,o)},v=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=d(e),i(e),e=n;i(t)},y=(e,t,i,n,o,r,s,a,l)=>{"svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e?k(t,i,n,o,r,s,a,l):_(e,t,o,r,s,a,l)},k=(e,i,r,s,a,c,d,u)=>{let h,p;const{props:m,shapeFlag:f,transition:g,dirs:b}=e;if(h=e.el=o(e.type,c,m&&m.is,m),8&f?l(h,e.children):16&f&&x(e.children,h,null,s,a,dr(e,c),d,u),b&&fn(e,null,s,"created"),w(h,e,e.scopeId,d,s),m){for(const e in m)"value"===e||Se(e)||n(h,e,null,m[e],c,s);"value"in m&&n(h,"value",null,m.value,c),(p=m.onVnodeBeforeMount)&&ns(p,s,e)}b&&fn(e,null,s,"beforeMount");const v=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(a,g);v&&g.beforeEnter(h),t(h,i,r),((p=m&&m.onVnodeMounted)||v||b)&&lr((()=>{p&&ns(p,s,e),v&&g.enter(h),b&&fn(e,null,s,"mounted")}),a)},w=(e,t,i,n,o)=>{if(i&&u(e,i),n)for(let r=0;r<n.length;r++)u(e,n[r]);if(o){let i=o.subTree;if(t===i||Pr(i.type)&&(i.ssContent===t||i.ssFallback===t)){const t=o.vnode;w(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},x=(e,t,i,n,o,r,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?es(e[c]):Zr(e[c]);p(null,l,t,i,n,o,r,s,a)}},_=(e,t,i,o,r,s,a)=>{const c=t.el=e.el;let{patchFlag:d,dynamicChildren:u,dirs:h}=t;d|=16&e.patchFlag;const p=e.props||re,m=t.props||re;let f;if(i&&ur(i,!1),(f=m.onVnodeBeforeUpdate)&&ns(f,i,t,e),h&&fn(t,e,i,"beforeUpdate"),i&&ur(i,!0),(p.innerHTML&&null==m.innerHTML||p.textContent&&null==m.textContent)&&l(c,""),u?E(e.dynamicChildren,u,c,i,o,dr(t,r),s):a||R(e,t,c,null,i,o,dr(t,r),s,!1),d>0){if(16&d)C(c,p,m,i,r);else if(2&d&&p.class!==m.class&&n(c,"class",null,m.class,r),4&d&&n(c,"style",p.style,m.style,r),8&d){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const o=e[t],s=p[o],a=m[o];a===s&&"value"!==o||n(c,o,s,a,r,i)}}1&d&&e.children!==t.children&&l(c,t.children)}else a||null!=u||C(c,p,m,i,r);((f=m.onVnodeUpdated)||h)&&lr((()=>{f&&ns(f,i,t,e),h&&fn(t,e,i,"updated")}),o)},E=(e,t,i,n,o,r,s)=>{for(let a=0;a<t.length;a++){const l=e[a],d=t[a],u=l.el&&(l.type===Dr||!Hr(l,d)||70&l.shapeFlag)?c(l.el):i;p(l,d,u,null,n,o,r,s,!0)}},C=(e,t,i,o,r)=>{if(t!==i){if(t!==re)for(const s in t)Se(s)||s in i||n(e,s,t[s],null,r,o);for(const s in i){if(Se(s))continue;const a=i[s],l=t[s];a!==l&&"value"!==s&&n(e,s,l,a,r,o)}"value"in i&&n(e,"value",t.value,i.value,r)}},A=(e,i,n,o,s,a,l,c,d)=>{const u=i.el=e?e.el:r(""),h=i.anchor=e?e.anchor:r("");let{patchFlag:p,dynamicChildren:m,slotScopeIds:f}=i;f&&(c=c?c.concat(f):f),null==e?(t(u,n,o),t(h,n,o),x(i.children||[],n,h,s,a,l,c,d)):p>0&&64&p&&m&&e.dynamicChildren?(E(e.dynamicChildren,m,n,s,a,l,c),(null!=i.key||s&&i===s.subTree)&&hr(e,i,!0)):R(e,i,n,h,s,a,l,c,d)},T=(e,t,i,n,o,r,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?o.ctx.activate(t,i,n,s,l):S(t,i,n,o,r,s,l):I(e,t,l)},S=(e,t,i,n,o,r,s)=>{const a=e.component=function(e,t,i){const n=e.type,o=(t?t.appContext:e.appContext)||os,r={uid:rs++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ot(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:er(n,o),emitsOptions:Er(n,o),emit:null,emitted:null,propsDefaults:re,inheritAttrs:n.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};r.ctx={_:r},r.root=t?t.root:r,r.emit=_r.bind(null,r),e.ce&&e.ce(r);return r}(e,n,o);if(Yn(e)&&(a.ctx.renderer=H),function(e,t=!1,i=!1){t&&cs(t);const{props:n,children:o}=e.vnode,r=hs(e);(function(e,t,i,n=!1){const o={},r=Ko();e.propsDefaults=Object.create(null),Xo(e,t,o,r);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);i?e.props=n?o:fi(o):e.type.props?e.props=o:e.props=r,e.attrs=r})(e,n,r,t),((e,t,i)=>{const n=e.slots=Ko();if(32&e.vnode.shapeFlag){const e=t._;e?(ar(n,t,i),i&&Fe(n,"_",e,!0)):rr(t,n)}else t&&sr(e,t)})(e,o,i);const s=r?function(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Co);const{setup:n}=i;if(n){Et();const i=e.setupContext=n.length>1?bs(e):null,o=ds(e),r=Gi(n,e,0,[e.props,i]),s=_e(r);if(Ct(),o(),!s&&!e.sp||qn(e)||Vn(e),s){if(r.then(us,us),t)return r.then((t=>{ms(e,t)})).catch((t=>{Yi(t,e,0)}));e.asyncDep=r}else ms(e,r)}else fs(e)}(e,t):void 0;t&&cs(!1)}(a,!1,s),a.asyncDep){if(o&&o.registerDep(a,P,s),!e.el){const e=a.subTree=Yr(Lr);f(null,e,t,i)}}else P(a,e,t,i,o,r,s)},I=(e,t,i)=>{const n=t.component=e.component;if(function(e,t,i){const{props:n,children:o,component:r}=e,{props:s,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(!(i&&l>=0))return!(!o&&!a||a&&a.$stable)||n!==s&&(n?!s||Ir(n,s,c):!!s);if(1024&l)return!0;if(16&l)return n?Ir(n,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const i=e[t];if(s[i]!==n[i]&&!Cr(c,i))return!0}}return!1}(e,t,i)){if(n.asyncDep&&!n.asyncResolved)return void D(n,t,i);n.next=t,n.update()}else t.el=e.el,n.vnode=t},P=(e,t,i,n,o,r,s)=>{const a=()=>{if(e.isMounted){let{next:t,bu:i,u:n,parent:l,vnode:d}=e;{const i=pr(e);if(i)return t&&(t.el=d.el,D(e,t,s)),void i.asyncDep.then((()=>{e.isUnmounted||a()}))}let u,h=t;ur(e,!1),t?(t.el=d.el,D(e,t,s)):t=d,i&&$e(i),(u=t.props&&t.props.onVnodeBeforeUpdate)&&ns(u,l,t,d),ur(e,!0);const m=Ar(e),f=e.subTree;e.subTree=m,p(f,m,c(f.el),j(f),e,o,r),t.el=m.el,null===h&&function({vnode:e,parent:t},i){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n!==e)break;(e=t.vnode).el=i,t=t.parent}}(e,m.el),n&&lr(n,o),(u=t.props&&t.props.onVnodeUpdated)&&lr((()=>ns(u,l,t,d)),o)}else{let s;const{el:a,props:l}=t,{bm:c,m:d,parent:u,root:h,type:m}=e,f=qn(t);ur(e,!1),c&&$e(c),!f&&(s=l&&l.onVnodeBeforeMount)&&ns(s,u,t),ur(e,!0);{h.ce&&h.ce._injectChildStyle(m);const s=e.subTree=Ar(e);p(null,s,i,n,e,o,r),t.el=s.el}if(d&&lr(d,o),!f&&(s=l&&l.onVnodeMounted)){const e=t;lr((()=>ns(s,u,e)),o)}(256&t.shapeFlag||u&&qn(u.vnode)&&256&u.vnode.shapeFlag)&&e.a&&lr(e.a,o),e.isMounted=!0,t=i=n=null}};e.scope.on();const l=e.effect=new ct(a);e.scope.off();const d=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>on(u),ur(e,!0),d()},D=(e,t,i)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,function(e,t,i,n){const{props:o,attrs:r,vnode:{patchFlag:s}}=e,a=xi(o),[l]=e.propsOptions;let c=!1;if(!(n||s>0)||16&s){let n;Xo(e,t,o,r)&&(c=!0);for(const r in a)t&&(me(t,r)||(n=Le(r))!==r&&me(t,n))||(l?!i||void 0===i[r]&&void 0===i[n]||(o[r]=Jo(l,a,r,void 0,e,!0)):delete o[r]);if(r!==a)for(const e in r)t&&me(t,e)||(delete r[e],c=!0)}else if(8&s){const i=e.vnode.dynamicProps;for(let n=0;n<i.length;n++){let s=i[n];if(Cr(e.emitsOptions,s))continue;const d=t[s];if(l)if(me(r,s))d!==r[s]&&(r[s]=d,c=!0);else{const t=De(s);o[t]=Jo(l,a,t,d,e,!1)}else d!==r[s]&&(r[s]=d,c=!0)}}c&&Nt(e.attrs,"set","")}(e,t.props,n,i),((e,t,i)=>{const{vnode:n,slots:o}=e;let r=!0,s=re;if(32&n.shapeFlag){const e=t._;e?i&&1===e?r=!1:ar(o,t,i):(r=!t.$stable,rr(t,o)),s=t}else t&&(sr(e,t),s={default:1});if(r)for(const a in o)ir(a)||null!=s[a]||delete o[a]})(e,t.children,i),Et(),sn(e),Ct()},R=(e,t,i,n,o,r,s,a,c=!1)=>{const d=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:m}=t;if(p>0){if(128&p)return void M(d,h,i,n,o,r,s,a,c);if(256&p)return void L(d,h,i,n,o,r,s,a,c)}8&m?(16&u&&z(d,o,r),h!==d&&l(i,h)):16&u?16&m?M(d,h,i,n,o,r,s,a,c):z(d,o,r,!0):(8&u&&l(i,""),16&m&&x(h,i,n,o,r,s,a,c))},L=(e,t,i,n,o,r,s,a,l)=>{t=t||se;const c=(e=e||se).length,d=t.length,u=Math.min(c,d);let h;for(h=0;h<u;h++){const n=t[h]=l?es(t[h]):Zr(t[h]);p(e[h],n,i,null,o,r,s,a,l)}c>d?z(e,o,r,!0,!1,u):x(t,i,n,o,r,s,a,l,u)},M=(e,t,i,n,o,r,s,a,l)=>{let c=0;const d=t.length;let u=e.length-1,h=d-1;for(;c<=u&&c<=h;){const n=e[c],d=t[c]=l?es(t[c]):Zr(t[c]);if(!Hr(n,d))break;p(n,d,i,null,o,r,s,a,l),c++}for(;c<=u&&c<=h;){const n=e[u],c=t[h]=l?es(t[h]):Zr(t[h]);if(!Hr(n,c))break;p(n,c,i,null,o,r,s,a,l),u--,h--}if(c>u){if(c<=h){const e=h+1,u=e<d?t[e].el:n;for(;c<=h;)p(null,t[c]=l?es(t[c]):Zr(t[c]),i,u,o,r,s,a,l),c++}}else if(c>h)for(;c<=u;)N(e[c],o,r,!0),c++;else{const m=c,f=c,g=new Map;for(c=f;c<=h;c++){const e=t[c]=l?es(t[c]):Zr(t[c]);null!=e.key&&g.set(e.key,c)}let b,v=0;const y=h-f+1;let k=!1,w=0;const x=new Array(y);for(c=0;c<y;c++)x[c]=0;for(c=m;c<=u;c++){const n=e[c];if(v>=y){N(n,o,r,!0);continue}let d;if(null!=n.key)d=g.get(n.key);else for(b=f;b<=h;b++)if(0===x[b-f]&&Hr(n,t[b])){d=b;break}void 0===d?N(n,o,r,!0):(x[d-f]=c+1,d>=w?w=d:k=!0,p(n,t[d],i,null,o,r,s,a,l),v++)}const _=k?function(e){const t=e.slice(),i=[0];let n,o,r,s,a;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(o=i[i.length-1],e[o]<l){t[n]=o,i.push(n);continue}for(r=0,s=i.length-1;r<s;)a=r+s>>1,e[i[a]]<l?r=a+1:s=a;l<e[i[r]]&&(r>0&&(t[n]=i[r-1]),i[r]=n)}}r=i.length,s=i[r-1];for(;r-- >0;)i[r]=s,s=t[s];return i}(x):se;for(b=_.length-1,c=y-1;c>=0;c--){const e=f+c,u=t[e],h=e+1<d?t[e+1].el:n;0===x[c]?p(null,u,i,h,o,r,s,a,l):k&&(b<0||c!==_[b]?O(u,i,h,2):b--)}}},O=(e,i,n,o,r=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:d}=e;if(6&d)return void O(e.component.subTree,i,n,o);if(128&d)return void e.suspense.move(i,n,o);if(64&d)return void a.move(e,i,n,H);if(a===Dr){t(s,i,n);for(let e=0;e<c.length;e++)O(c[e],i,n,o);return void t(e.anchor,i,n)}if(a===Mr)return void b(e,i,n);if(2!==o&&1&d&&l)if(0===o)l.beforeEnter(s),t(s,i,n),lr((()=>l.enter(s)),r);else{const{leave:e,delayLeave:o,afterLeave:r}=l,a=()=>t(s,i,n),c=()=>{e(s,(()=>{a(),r&&r()}))};o?o(s,a,c):c()}else t(s,i,n)},N=(e,t,i,n=!1,o=!1)=>{const{type:r,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:d,patchFlag:u,dirs:h,cacheIndex:p}=e;if(-2===u&&(o=!1),null!=a&&Un(a,null,i,e,!0),null!=p&&(t.renderCache[p]=void 0),256&d)return void t.ctx.deactivate(e);const m=1&d&&h,f=!qn(e);let g;if(f&&(g=s&&s.onVnodeBeforeUnmount)&&ns(g,t,e),6&d)B(e.component,i,n);else{if(128&d)return void e.suspense.unmount(i,n);m&&fn(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,i,H,n):c&&!c.hasOnce&&(r!==Dr||u>0&&64&u)?z(c,t,i,!1,!0):(r===Dr&&384&u||!o&&16&d)&&z(l,t,i),n&&$(e)}(f&&(g=s&&s.onVnodeUnmounted)||m)&&lr((()=>{g&&ns(g,t,e),m&&fn(e,null,t,"unmounted")}),i)},$=e=>{const{type:t,el:n,anchor:o,transition:r}=e;if(t===Dr)return void F(n,o);if(t===Mr)return void v(e);const s=()=>{i(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,o=()=>t(n,s);i?i(e.el,s,o):o()}else s()},F=(e,t)=>{let n;for(;e!==t;)n=d(e),i(e),e=n;i(t)},B=(e,t,i)=>{const{bum:n,scope:o,job:r,subTree:s,um:a,m:l,a:c}=e;mr(l),mr(c),n&&$e(n),o.stop(),r&&(r.flags|=8,N(s,e,t,i)),a&&lr(a,t),lr((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},z=(e,t,i,n=!1,o=!1,r=0)=>{for(let s=r;s<e.length;s++)N(e[s],t,i,n,o)},j=e=>{if(6&e.shapeFlag)return j(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=d(e.anchor||e.el),i=t&&t[gn];return i?d(i):t};let V=!1;const U=(e,t,i)=>{null==e?t._vnode&&N(t._vnode,null,null,!0):p(t._vnode||null,e,t,null,null,null,i),t._vnode=e,V||(V=!0,sn(),an(),V=!1)},H={p:p,um:N,m:O,r:$,mt:S,mc:x,pc:R,pbc:E,n:j,o:e};let q;return{render:U,hydrate:q,createApp:Uo(U)}}(e)}function dr({type:e,props:t},i){return"svg"===i&&"foreignObject"===e||"mathml"===i&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function ur({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function hr(e,t,i=!1){const n=e.children,o=t.children;if(fe(n)&&fe(o))for(let r=0;r<n.length;r++){const e=n[r];let t=o[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[r]=es(o[r]),t.el=e.el),i||-2===t.patchFlag||hr(e,t)),t.type===Rr&&(t.el=e.el)}}function pr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pr(t)}function mr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const fr=Symbol.for("v-scx"),gr=()=>Go(fr);function br(e,t,i){return vr(e,t,i)}function vr(e,t,i=re){const{immediate:n,deep:o,flush:r,once:s}=i,a=ue({},i),l=t&&n||!t&&"post"!==r;let c;if(ps)if("sync"===r){const e=gr();c=e.__watcherHandles||(e.__watcherHandles=[])}else if(!l){const e=()=>{};return e.stop=ae,e.resume=ae,e.pause=ae,e}const d=ss;a.call=(e,t,i)=>Wi(e,d,t,i);let u=!1;"post"===r?a.scheduler=e=>{lr(e,d&&d.suspense)}:"sync"!==r&&(u=!0,a.scheduler=(e,t)=>{t?e():on(e)}),a.augmentJob=e=>{t&&(e.flags|=4),u&&(e.flags|=2,d&&(e.id=d.uid,e.i=d))};const h=Hi(e,t,a);return ps&&(c?c.push(h):l&&h()),h}function yr(e,t,i){const n=this.proxy,o=ke(e)?e.includes(".")?kr(n,e):()=>n[e]:e.bind(n,n);let r;ye(t)?r=t:(r=t.handler,i=t);const s=ds(this),a=vr(o,r.bind(n),i);return s(),a}function kr(e,t){const i=t.split(".");return()=>{let t=e;for(let e=0;e<i.length&&t;e++)t=t[i[e]];return t}}function wr(e,t,i=re){const n=as(),o=De(t),r=Le(t),s=xr(e,o),a=(l=(s,a)=>{let l,c,d=re;return vr((()=>{const t=e[o];Ne(l,t)&&(l=t,a())}),null,{flush:"sync"}),{get:()=>(s(),i.get?i.get(l):l),set(e){const s=i.set?i.set(e):e;if(!(Ne(s,l)||d!==re&&Ne(e,d)))return;const u=n.vnode.props;u&&(t in u||o in u||r in u)&&(`onUpdate:${t}`in u||`onUpdate:${o}`in u||`onUpdate:${r}`in u)||(l=e,a()),n.emit(`update:${t}`,s),Ne(e,s)&&Ne(e,d)&&!Ne(s,c)&&a(),d=e,c=s}}},new Mi(l));var l;return a[Symbol.iterator]=()=>{let e=0;return{next:()=>e<2?{value:e++?s||re:a,done:!1}:{done:!0}}},a}const xr=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${De(t)}Modifiers`]||e[`${Le(t)}Modifiers`];function _r(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||re;let o=i;const r=t.startsWith("update:"),s=r&&xr(n,t.slice(7));let a;s&&(s.trim&&(o=i.map((e=>ke(e)?e.trim():e))),s.number&&(o=i.map(Be)));let l=n[a=Oe(t)]||n[a=Oe(De(t))];!l&&r&&(l=n[a=Oe(Le(t))]),l&&Wi(l,e,6,o);const c=n[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,Wi(c,e,6,o)}}function Er(e,t,i=!1){const n=t.emitsCache,o=n.get(e);if(void 0!==o)return o;const r=e.emits;let s={},a=!1;if(!ye(e)){const n=e=>{const i=Er(e,t,!0);i&&(a=!0,ue(s,i))};!i&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return r||a?(fe(r)?r.forEach((e=>s[e]=null)):ue(s,r),xe(e)&&n.set(e,s),s):(xe(e)&&n.set(e,null),null)}function Cr(e,t){return!(!e||!ce(t))&&(t=t.slice(2).replace(/Once$/,""),me(e,t[0].toLowerCase()+t.slice(1))||me(e,Le(t))||me(e,t))}function Ar(e){const{type:t,vnode:i,proxy:n,withProxy:o,propsOptions:[r],slots:s,attrs:a,emit:l,render:c,renderCache:d,props:u,data:h,setupState:p,ctx:m,inheritAttrs:f}=e,g=hn(e);let b,v;try{if(4&i.shapeFlag){const e=o||n,t=e;b=Zr(c.call(t,e,d,u,p,h,m)),v=a}else{const e=t;0,b=Zr(e.length>1?e(u,{attrs:a,slots:s,emit:l}):e(u,null)),v=t.props?a:Tr(a)}}catch(N0){Or.length=0,Yi(N0,e,1),b=Yr(Lr)}let y=b;if(v&&!1!==f){const e=Object.keys(v),{shapeFlag:t}=y;e.length&&7&t&&(r&&e.some(de)&&(v=Sr(v,r)),y=Qr(y,v,!1,!0))}return i.dirs&&(y=Qr(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(i.dirs):i.dirs),i.transition&&Bn(y,i.transition),b=y,hn(g),b}const Tr=e=>{let t;for(const i in e)("class"===i||"style"===i||ce(i))&&((t||(t={}))[i]=e[i]);return t},Sr=(e,t)=>{const i={};for(const n in e)de(n)&&n.slice(9)in t||(i[n]=e[n]);return i};function Ir(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(t[r]!==e[r]&&!Cr(i,r))return!0}return!1}const Pr=e=>e.__isSuspense;const Dr=Symbol.for("v-fgt"),Rr=Symbol.for("v-txt"),Lr=Symbol.for("v-cmt"),Mr=Symbol.for("v-stc"),Or=[];let Nr=null;function $r(e=!1){Or.push(Nr=e?null:[])}let Fr=1;function Br(e,t=!1){Fr+=e,e<0&&Nr&&t&&(Nr.hasOnce=!0)}function zr(e){return e.dynamicChildren=Fr>0?Nr||se:null,Or.pop(),Nr=Or[Or.length-1]||null,Fr>0&&Nr&&Nr.push(e),e}function jr(e,t,i,n,o,r){return zr(Wr(e,t,i,n,o,r,!0))}function Vr(e,t,i,n,o){return zr(Yr(e,t,i,n,o,!0))}function Ur(e){return!!e&&!0===e.__v_isVNode}function Hr(e,t){return e.type===t.type&&e.key===t.key}const qr=({key:e})=>null!=e?e:null,Gr=({ref:e,ref_key:t,ref_for:i})=>("number"==typeof e&&(e=""+e),null!=e?ke(e)||Ai(e)||ye(e)?{i:dn,r:e,k:t,f:!!i}:e:null);function Wr(e,t=null,i=null,n=0,o=null,r=(e===Dr?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qr(t),ref:t&&Gr(t),scopeId:un,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:dn};return a?(ts(l,i),128&r&&e.normalize(l)):i&&(l.shapeFlag|=ke(i)?8:16),Fr>0&&!s&&Nr&&(l.patchFlag>0||6&r)&&32!==l.patchFlag&&Nr.push(l),l}const Yr=i("J",(function(e,t=null,i=null,n=0,o=null,r=!1){e&&e!==mo||(e=Lr);if(Ur(e)){const n=Qr(e,t,!0);return i&&ts(n,i),Fr>0&&!r&&Nr&&(6&n.shapeFlag?Nr[Nr.indexOf(e)]=n:Nr.push(n)),n.patchFlag=-2,n}(function(e){return ye(e)&&"__vccOpts"in e})(e)&&(e=e.__vccOpts);if(t){t=Kr(t);let{class:e,style:i}=t;e&&!ke(e)&&(t.class=We(e)),xe(i)&&(wi(i)&&!fe(i)&&(i=ue({},i)),t.style=Ve(i))}const s=ke(e)?1:Pr(e)?128:bn(e)?64:xe(e)?4:ye(e)?2:0;return Wr(e,t,i,n,o,s,r,!0)}));function Kr(e){return e?wi(e)||Qo(e)?ue({},e):e:null}function Qr(e,t,i=!1,n=!1){const{props:o,ref:r,patchFlag:s,children:a,transition:l}=e,c=t?is(o||{},t):o,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&qr(c),ref:t&&t.ref?i&&r?fe(r)?r.concat(Gr(t)):[r,Gr(t)]:Gr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Dr?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qr(e.ssContent),ssFallback:e.ssFallback&&Qr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Bn(d,l.clone(d)),d}function Xr(e=" ",t=0){return Yr(Rr,null,e,t)}function Jr(e="",t=!1){return t?($r(),Vr(Lr,null,e)):Yr(Lr,null,e)}function Zr(e){return null==e||"boolean"==typeof e?Yr(Lr):fe(e)?Yr(Dr,null,e.slice()):Ur(e)?es(e):Yr(Rr,null,String(e))}function es(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Qr(e)}function ts(e,t){let i=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(fe(t))i=16;else if("object"==typeof t){if(65&n){const i=t.default;return void(i&&(i._c&&(i._d=!1),ts(e,i()),i._c&&(i._d=!0)))}{i=32;const n=t._;n||Qo(t)?3===n&&dn&&(1===dn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=dn}}else ye(t)?(t={default:t,_ctx:dn},i=32):(t=String(t),64&n?(i=16,t=[Xr(t)]):i=8);e.children=t,e.shapeFlag|=i}function is(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=We([t.class,n.class]));else if("style"===e)t.style=Ve([t.style,n.style]);else if(ce(e)){const i=t[e],o=n[e];!o||i===o||fe(i)&&i.includes(o)||(t[e]=i?[].concat(i,o):o)}else""!==e&&(t[e]=n[e])}return t}function ns(e,t,i,n=null){Wi(e,t,7,[i,n])}const os=jo();let rs=0;let ss=null;const as=()=>ss||dn;let ls,cs;{const e=je(),t=(t,i)=>{let n;return(n=e[t])||(n=e[t]=[]),n.push(i),e=>{n.length>1?n.forEach((t=>t(e))):n[0](e)}};ls=t("__VUE_INSTANCE_SETTERS__",(e=>ss=e)),cs=t("__VUE_SSR_SETTERS__",(e=>ps=e))}const ds=e=>{const t=ss;return ls(e),e.scope.on(),()=>{e.scope.off(),ls(t)}},us=()=>{ss&&ss.scope.off(),ls(null)};function hs(e){return 4&e.vnode.shapeFlag}let ps=!1;function ms(e,t,i){ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=Li(t)),fs(e)}function fs(e,t,i){const n=e.type;e.render||(e.render=n.render||ae);{const t=ds(e);Et();try{Po(e)}finally{Ct(),t()}}}const gs={get:(e,t)=>(Ot(e,0,""),e[t])};function bs(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,gs),slots:e.slots,emit:e.emit,expose:t}}function vs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Li(_i(e.exposed)),{get:(t,i)=>i in t?t[i]:i in _o?_o[i](e):void 0,has:(e,t)=>t in e||t in _o})):e.proxy}function ys(e,t=!0){return ye(e)?e.displayName||e.name:e.name||t&&e.__name}const ks=i("B",((e,t)=>{const i=function(e,t,i=!1){let n,o;return ye(e)?n=e:(n=e.get,o=e.set),new zi(n,o,i)}(e,0,ps);return i}));function ws(e,t,i){const n=arguments.length;return 2===n?xe(t)&&!fe(t)?Ur(t)?Yr(e,null,[t]):Yr(e,t):Yr(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):3===n&&Ur(i)&&(i=[i]),Yr(e,t,i))}const xs="3.5.13";
/**
            * @vue/runtime-dom v3.5.13
            * (c) 2018-present Yuxi (Evan) You and Vue contributors
            * @license MIT
            **/let _s;const Es="undefined"!=typeof window&&window.trustedTypes;if(Es)try{_s=Es.createPolicy("vue",{createHTML:e=>e})}catch(f1){}const Cs=_s?e=>_s.createHTML(e):e=>e,As="undefined"!=typeof document?document:null,Ts=As&&As.createElement("template"),Ss={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const o="svg"===t?As.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?As.createElementNS("http://www.w3.org/1998/Math/MathML",e):i?As.createElement(e,{is:i}):As.createElement(e);return"select"===e&&n&&null!=n.multiple&&o.setAttribute("multiple",n.multiple),o},createText:e=>As.createTextNode(e),createComment:e=>As.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>As.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,o,r){const s=i?i.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),i),o!==r&&(o=o.nextSibling););else{Ts.innerHTML=Cs("svg"===n?`<svg>${e}</svg>`:"mathml"===n?`<math>${e}</math>`:e);const o=Ts.content;if("svg"===n||"mathml"===n){const e=o.firstChild;for(;e.firstChild;)o.appendChild(e.firstChild);o.removeChild(e)}t.insertBefore(o,i)}return[s?s.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Is="transition",Ps="animation",Ds=Symbol("_vtc"),Rs={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ls=ue({},Dn,Rs),Ms=(e=>(e.displayName="Transition",e.props=Ls,e))(((e,{slots:t})=>ws(Mn,function(e){const t={};for(const S in e)S in Rs||(t[S]=e[S]);if(!1===e.css)return t;const{name:i="v",type:n,duration:o,enterFromClass:r=`${i}-enter-from`,enterActiveClass:s=`${i}-enter-active`,enterToClass:a=`${i}-enter-to`,appearFromClass:l=r,appearActiveClass:c=s,appearToClass:d=a,leaveFromClass:u=`${i}-leave-from`,leaveActiveClass:h=`${i}-leave-active`,leaveToClass:p=`${i}-leave-to`}=e,m=function(e){if(null==e)return null;if(xe(e))return[$s(e.enter),$s(e.leave)];{const t=$s(e);return[t,t]}}(o),f=m&&m[0],g=m&&m[1],{onBeforeEnter:b,onEnter:v,onEnterCancelled:y,onLeave:k,onLeaveCancelled:w,onBeforeAppear:x=b,onAppear:_=v,onAppearCancelled:E=y}=t,C=(e,t,i,n)=>{e._enterCancelled=n,Bs(e,t?d:a),Bs(e,t?c:s),i&&i()},A=(e,t)=>{e._isLeaving=!1,Bs(e,u),Bs(e,p),Bs(e,h),t&&t()},T=e=>(t,i)=>{const o=e?_:v,s=()=>C(t,e,i);Os(o,[t,s]),zs((()=>{Bs(t,e?l:r),Fs(t,e?d:a),Ns(o)||Vs(t,n,f,s)}))};return ue(t,{onBeforeEnter(e){Os(b,[e]),Fs(e,r),Fs(e,s)},onBeforeAppear(e){Os(x,[e]),Fs(e,l),Fs(e,c)},onEnter:T(!1),onAppear:T(!0),onLeave(e,t){e._isLeaving=!0;const i=()=>A(e,t);Fs(e,u),e._enterCancelled?(Fs(e,h),qs()):(qs(),Fs(e,h)),zs((()=>{e._isLeaving&&(Bs(e,u),Fs(e,p),Ns(k)||Vs(e,n,g,i))})),Os(k,[e,i])},onEnterCancelled(e){C(e,!1,void 0,!0),Os(y,[e])},onAppearCancelled(e){C(e,!0,void 0,!0),Os(E,[e])},onLeaveCancelled(e){A(e),Os(w,[e])}})}(e),t))),Os=(e,t=[])=>{fe(e)?e.forEach((e=>e(...t))):e&&e(...t)},Ns=e=>!!e&&(fe(e)?e.some((e=>e.length>1)):e.length>1);function $s(e){const t=(e=>{const t=ke(e)?Number(e):NaN;return isNaN(t)?e:t})(e);return t}function Fs(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[Ds]||(e[Ds]=new Set)).add(t)}function Bs(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const i=e[Ds];i&&(i.delete(t),i.size||(e[Ds]=void 0))}function zs(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let js=0;function Vs(e,t,i,n){const o=e._endId=++js,r=()=>{o===e._endId&&n()};if(null!=i)return setTimeout(r,i);const{type:s,timeout:a,propCount:l}=function(e,t){const i=window.getComputedStyle(e),n=e=>(i[e]||"").split(", "),o=n(`${Is}Delay`),r=n(`${Is}Duration`),s=Us(o,r),a=n(`${Ps}Delay`),l=n(`${Ps}Duration`),c=Us(a,l);let d=null,u=0,h=0;t===Is?s>0&&(d=Is,u=s,h=r.length):t===Ps?c>0&&(d=Ps,u=c,h=l.length):(u=Math.max(s,c),d=u>0?s>c?Is:Ps:null,h=d?d===Is?r.length:l.length:0);const p=d===Is&&/\b(transform|all)(,|$)/.test(n(`${Is}Property`).toString());return{type:d,timeout:u,propCount:h,hasTransform:p}}(e,t);if(!s)return n();const c=s+"end";let d=0;const u=()=>{e.removeEventListener(c,h),r()},h=t=>{t.target===e&&++d>=l&&u()};setTimeout((()=>{d<l&&u()}),a+1),e.addEventListener(c,h)}function Us(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,i)=>Hs(t)+Hs(e[i]))))}function Hs(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function qs(){return document.body.offsetHeight}const Gs=Symbol("_vod"),Ws=Symbol("_vsh"),Ys=Symbol(""),Ks=/(^|;)\s*display\s*:/;const Qs=/\s*!important$/;function Xs(e,t,i){if(fe(i))i.forEach((i=>Xs(e,t,i)));else if(null==i&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const n=function(e,t){const i=Zs[t];if(i)return i;let n=De(t);if("filter"!==n&&n in e)return Zs[t]=n;n=Me(n);for(let o=0;o<Js.length;o++){const i=Js[o]+n;if(i in e)return Zs[t]=i}return t}(e,t);Qs.test(i)?e.setProperty(Le(n),i.replace(Qs,""),"important"):e[n]=i}}const Js=["Webkit","Moz","ms"],Zs={};const ea="http://www.w3.org/1999/xlink";function ta(e,t,i,n,o,r=Ye(t)){n&&t.startsWith("xlink:")?null==i?e.removeAttributeNS(ea,t.slice(6,t.length)):e.setAttributeNS(ea,t,i):null==i||r&&!Ke(i)?e.removeAttribute(t):e.setAttribute(t,r?"":we(i)?String(i):i)}function ia(e,t,i,n,o){if("innerHTML"===t||"textContent"===t)return void(null!=i&&(e[t]="innerHTML"===t?Cs(i):i));const r=e.tagName;if("value"===t&&"PROGRESS"!==r&&!r.includes("-")){const n="OPTION"===r?e.getAttribute("value")||"":e.value,o=null==i?"checkbox"===e.type?"on":"":String(i);return n===o&&"_value"in e||(e.value=o),null==i&&e.removeAttribute(t),void(e._value=i)}let s=!1;if(""===i||null==i){const n=typeof e[t];"boolean"===n?i=Ke(i):null==i&&"string"===n?(i="",s=!0):"number"===n&&(i=0,s=!0)}try{e[t]=i}catch(f1){}s&&e.removeAttribute(o||t)}function na(e,t,i,n){e.addEventListener(t,i,n)}const oa=Symbol("_vei");function ra(e,t,i,n,o=null){const r=e[oa]||(e[oa]={}),s=r[t];if(n&&s)s.value=n;else{const[i,a]=function(e){let t;if(sa.test(e)){let i;for(t={};i=e.match(sa);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}const i=":"===e[2]?e.slice(3):Le(e.slice(2));return[i,t]}(t);if(n){const s=r[t]=function(e,t){const i=e=>{if(e._vts){if(e._vts<=i.attached)return}else e._vts=Date.now();Wi(function(e,t){if(fe(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,i.value),t,5,[e])};return i.value=e,i.attached=ca(),i}(n,o);na(e,i,s,a)}else s&&(!function(e,t,i,n){e.removeEventListener(t,i,n)}(e,i,s,a),r[t]=void 0)}}const sa=/(?:Once|Passive|Capture)$/;let aa=0;const la=Promise.resolve(),ca=()=>aa||(la.then((()=>aa=0)),aa=Date.now());const da=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const ua=e=>{const t=e.props["onUpdate:modelValue"]||!1;return fe(t)?e=>$e(t,e):t};function ha(e){e.target.composing=!0}function pa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ma=Symbol("_assign"),fa={created(e,{modifiers:{lazy:t,trim:i,number:n}},o){e[ma]=ua(o);const r=n||o.props&&"number"===o.props.type;na(e,t?"change":"input",(t=>{if(t.target.composing)return;let n=e.value;i&&(n=n.trim()),r&&(n=Be(n)),e[ma](n)})),i&&na(e,"change",(()=>{e.value=e.value.trim()})),t||(na(e,"compositionstart",ha),na(e,"compositionend",pa),na(e,"change",pa))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:n,trim:o,number:r}},s){if(e[ma]=ua(s),e.composing)return;const a=null==t?"":t;if((!r&&"number"!==e.type||/^0\d/.test(e.value)?e.value:Be(e.value))!==a){if(document.activeElement===e&&"range"!==e.type){if(n&&t===i)return;if(o&&e.value.trim()===a)return}e.value=a}}},ga={deep:!0,created(e,t,i){e[ma]=ua(i),na(e,"change",(()=>{const t=e._modelValue,i=wa(e),n=e.checked,o=e[ma];if(fe(t)){const e=Xe(t,i),r=-1!==e;if(n&&!r)o(t.concat(i));else if(!n&&r){const i=[...t];i.splice(e,1),o(i)}}else if(be(t)){const e=new Set(t);n?e.add(i):e.delete(i),o(e)}else o(xa(e,n))}))},mounted:ba,beforeUpdate(e,t,i){e[ma]=ua(i),ba(e,t,i)}};function ba(e,{value:t,oldValue:i},n){let o;if(e._modelValue=t,fe(t))o=Xe(t,n.props.value)>-1;else if(be(t))o=t.has(n.props.value);else{if(t===i)return;o=Qe(t,xa(e,!0))}e.checked!==o&&(e.checked=o)}const va={created(e,{value:t},i){e.checked=Qe(t,i.props.value),e[ma]=ua(i),na(e,"change",(()=>{e[ma](wa(e))}))},beforeUpdate(e,{value:t,oldValue:i},n){e[ma]=ua(n),t!==i&&(e.checked=Qe(t,n.props.value))}},ya={deep:!0,created(e,{value:t,modifiers:{number:i}},n){const o=be(t);na(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>i?Be(wa(e)):wa(e)));e[ma](e.multiple?o?new Set(t):t:t[0]),e._assigning=!0,nn((()=>{e._assigning=!1}))})),e[ma]=ua(n)},mounted(e,{value:t}){ka(e,t)},beforeUpdate(e,t,i){e[ma]=ua(i)},updated(e,{value:t}){e._assigning||ka(e,t)}};function ka(e,t){const i=e.multiple,n=fe(t);if(!i||n||be(t)){for(let o=0,r=e.options.length;o<r;o++){const r=e.options[o],s=wa(r);if(i)if(n){const e=typeof s;r.selected="string"===e||"number"===e?t.some((e=>String(e)===String(s))):Xe(t,s)>-1}else r.selected=t.has(s);else if(Qe(wa(r),t))return void(e.selectedIndex!==o&&(e.selectedIndex=o))}i||-1===e.selectedIndex||(e.selectedIndex=-1)}}function wa(e){return"_value"in e?e._value:e.value}function xa(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const _a={created(e,t,i){Ea(e,t,i,null,"created")},mounted(e,t,i){Ea(e,t,i,null,"mounted")},beforeUpdate(e,t,i,n){Ea(e,t,i,n,"beforeUpdate")},updated(e,t,i,n){Ea(e,t,i,n,"updated")}};function Ea(e,t,i,n,o){const r=function(e,t){switch(e){case"SELECT":return ya;case"TEXTAREA":return fa;default:switch(t){case"checkbox":return ga;case"radio":return va;default:return fa}}}(e.tagName,i.props&&i.props.type)[o];r&&r(e,t,i,n)}const Ca=["ctrl","shift","alt","meta"],Aa={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ca.some((i=>e[`${i}Key`]&&!t.includes(i)))},Ta=(e,t)=>{const i=e._withMods||(e._withMods={}),n=t.join(".");return i[n]||(i[n]=(i,...n)=>{for(let e=0;e<t.length;e++){const n=Aa[t[e]];if(n&&n(i,t))return}return e(i,...n)})},Sa=ue({patchProp:(e,t,i,n,o,r)=>{const s="svg"===o;"class"===t?function(e,t,i){const n=e[Ds];n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}(e,n,s):"style"===t?function(e,t,i){const n=e.style,o=ke(i);let r=!1;if(i&&!o){if(t)if(ke(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==i[t]&&Xs(n,t,"")}else for(const e in t)null==i[e]&&Xs(n,e,"");for(const e in i)"display"===e&&(r=!0),Xs(n,e,i[e])}else if(o){if(t!==i){const e=n[Ys];e&&(i+=";"+e),n.cssText=i,r=Ks.test(i)}}else t&&e.removeAttribute("style");Gs in e&&(e[Gs]=r?n.display:"",e[Ws]&&(n.display="none"))}(e,i,n):ce(t)?de(t)||ra(e,t,0,n,r):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,i,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&da(t)&&ye(i));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(da(t)&&ke(i))return!1;return t in e}(e,t,n,s))?(ia(e,t,n),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||ta(e,t,n,s,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&ke(n)?("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),ta(e,t,n,s)):ia(e,De(t),n,0,t)}},Ss);let Ia;const Pa=(...e)=>{const t=(Ia||(Ia=cr(Sa))).createApp(...e),{mount:i}=t;return t.mount=e=>{const n=function(e){if(ke(e)){return document.querySelector(e)}return e}(e);if(!n)return;const o=t._component;ye(o)||o.render||o.template||(o.template=n.innerHTML),1===n.nodeType&&(n.textContent="");const r=i(n,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};const Da=i("_",(function(e,t,i){let n=Promise.resolve();return n.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))}));var Ra={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},La=Object.defineProperty,Ma=!0,Oa=new WeakMap,Na=e=>Oa.get(e),$a=(e,t)=>t in e,Fa=(e,t)=>(0,console.error)(e,t),Ba=new Map,za=[],ja="http://www.w3.org/1999/xlink",Va="undefined"!=typeof window?window:{},Ua=Va.document||{head:{}},Ha=Va.HTMLElement||class{},qa={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,n)=>e.addEventListener(t,i,n),rel:(e,t,i,n)=>e.removeEventListener(t,i,n),ce:(e,t)=>new CustomEvent(e,t)},Ga=(()=>{let e=!1;try{Ua.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(f1){}return e})(),Wa=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(f1){}return!1})(),Ya=!1,Ka=[],Qa=[],Xa=(e,t)=>i=>{e.push(i),Ya||(Ya=!0,t&&4&qa.$flags$?el(Za):qa.raf(Za))},Ja=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(f1){Fa(f1)}e.length=0},Za=()=>{Ja(Ka),Ja(Qa),(Ya=Ka.length>0)&&qa.raf(Za)},el=e=>{return Promise.resolve(t).then(e);var t},tl=i("r",Xa(Ka,!1)),il=i("w",Xa(Qa,!0)),nl=e=>{const t=new URL(e,qa.$resourcesUrl$);return t.origin!==Va.location.origin?t.href:t.pathname},ol={},rl=e=>"object"===(e=typeof e)||"function"===e;((e,t)=>{for(var i in t)La(e,i,{get:t[i],enumerable:!0})})({},{err:()=>al,map:()=>ll,ok:()=>sl,unwrap:()=>hl,unwrapErr:()=>pl});var sl=e=>({isOk:!0,isErr:!1,value:e}),al=e=>({isOk:!1,isErr:!0,value:e});function ll(e,t){if(e.isOk){const i=t(e.value);return i instanceof Promise?i.then((e=>sl(e))):sl(i)}if(e.isErr){const t=e.value;return al(t)}throw"should never get here"}var cl,dl,ul,hl=e=>{if(e.isOk)return e.value;throw e.value},pl=e=>{if(e.isErr)return e.value;throw e.value},ml=(e,t,...i)=>{let n=null,o=null,r=null,s=!1,a=!1;const l=[],c=t=>{for(let i=0;i<t.length;i++)n=t[i],Array.isArray(n)?c(n):null!=n&&"boolean"!=typeof n&&((s="function"!=typeof e&&!rl(n))&&(n=String(n)),s&&a?l[l.length-1].$text$+=n:l.push(s?fl(null,n):n),a=s)};if(c(i),t){t.key&&(o=t.key),t.name&&(r=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,l,bl);const d=fl(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=o,d.$name$=r,d},fl=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return i},gl={},bl={forEach:(e,t)=>e.map(vl).forEach(t),map:(e,t)=>e.map(vl).map(t).map(yl)},vl=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),yl=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),ml(e.vtag,t,...e.vchildren||[])}const t=fl(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},kl=(e,t,i)=>{const n=e;return{emit:e=>wl(n,t,{bubbles:!!(4&i),composed:!!(2&i),cancelable:!!(1&i),detail:e})}},wl=(e,t,i)=>{const n=qa.ce(t,i);return e.dispatchEvent(n),n},xl=new WeakMap,_l=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,o=(t.$tagName$,()=>{}),r=((e,t,i)=>{var n;const o=El(t,i),r=Ba.get(o);if(e=11===e.nodeType?e:Ua,r)if("string"==typeof r){e=e.head||e;let i,s=xl.get(e);if(s||xl.set(e,s=new Set),!s.has(o)){{i=Ua.createElement("style"),i.innerHTML=r;const o=null!=(n=qa.$nonce$)?n:function(e){var t,i,n;return null!=(n=null==(i=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:i.getAttribute("content"))?n:void 0}(Ua);null!=o&&i.setAttribute("nonce",o),(!(1&t.$flags$)||1&t.$flags$&&"HEAD"!==e.nodeName)&&e.insertBefore(i,e.querySelector("link"))}4&t.$flags$&&(i.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),s&&s.add(o)}}else e.adoptedStyleSheets.includes(r)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,r]);return o})(i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);10&n&&2&n&&(i["s-sc"]=r,i.classList.add(r+"-h"),2&n&&i.classList.add(r+"-s")),o()},El=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),Cl=(e,t,i,n,o,r)=>{if(i!==n){let s=$a(e,t),a=t.toLowerCase();if("class"===t){const t=e.classList,o=Tl(i),r=Tl(n);t.remove(...o.filter((e=>e&&!r.includes(e)))),t.add(...r.filter((e=>e&&!o.includes(e))))}else if("style"===t){for(const t in i)n&&null!=n[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in n)i&&n[t]===i[t]||(t.includes("-")?e.style.setProperty(t,n[t]):e.style[t]=n[t])}else if("key"===t);else if("ref"===t)n&&n(e);else if(e.__lookupSetter__(t)||"o"!==t[0]||"n"!==t[1]){const l=rl(n);if((s||l&&null!==n)&&!o)try{if(e.tagName.includes("-"))e[t]=n;else{const o=null==n?"":n;"list"===t?s=!1:null!=i&&e[t]==o||(e[t]=o)}}catch(f1){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),null==n||!1===n?!1===n&&""!==e.getAttribute(t)||(c?e.removeAttributeNS(ja,t):e.removeAttribute(t)):(!s||4&r||o)&&!l&&(n=!0===n?"":n,c?e.setAttributeNS(ja,t,n):e.setAttribute(t,n))}else if(t="-"===t[2]?t.slice(3):$a(Va,a)?a.slice(2):a[2]+t.slice(3),i||n){const o=t.endsWith(Sl);t=t.replace(Il,""),i&&qa.rel(e,t,i,o),n&&qa.ael(e,t,n,o)}}},Al=/\s/,Tl=e=>e?e.split(Al):[],Sl="Capture",Il=new RegExp(Sl+"$"),Pl=(e,t,i)=>{const n=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||ol,r=t.$attrs$||ol;for(const s of Dl(Object.keys(o)))s in r||Cl(n,s,o[s],void 0,i,t.$flags$);for(const s of Dl(Object.keys(r)))Cl(n,s,o[s],r[s],i,t.$flags$)};function Dl(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var Rl=!1,Ll=!1,Ml=!1,Ol=!1,Nl=(e,t,i,n)=>{var o;const r=t.$children$[i];let s,a,l,c=0;if(Rl||(Ml=!0,"slot"===r.$tag$&&(cl&&n.classList.add(cl+"-s"),r.$flags$|=r.$children$?2:1)),null!==r.$text$)s=r.$elm$=Ua.createTextNode(r.$text$);else if(1&r.$flags$)s=r.$elm$=Ua.createTextNode("");else{Ol||(Ol="svg"===r.$tag$),s=r.$elm$=Ua.createElementNS(Ol?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Rl&&Ra.slotRelocation&&2&r.$flags$?"slot-fb":r.$tag$),Ol&&"foreignObject"===r.$tag$&&(Ol=!1),Pl(null,r,Ol);if(!!s.getRootNode().querySelector("body")&&Ra.scoped&&null!=cl&&s["s-si"]!==cl&&s.classList.add(s["s-si"]=cl),Xl(s,n),r.$children$)for(c=0;c<r.$children$.length;++c)a=Nl(e,r,c,s),a&&s.appendChild(a);"svg"===r.$tag$?Ol=!1:"foreignObject"===s.tagName&&(Ol=!0)}return s["s-hn"]=ul,3&r.$flags$&&(s["s-sr"]=!0,s["s-cr"]=dl,s["s-sn"]=r.$name$||"",s["s-rf"]=null==(o=r.$attrs$)?void 0:o.ref,l=e&&e.$children$&&e.$children$[i],l&&l.$tag$===r.$tag$&&e.$elm$&&$l(e.$elm$,!1)),s},$l=(e,t)=>{qa.$flags$|=1;const i=Array.from(e.childNodes);e["s-sr"];for(let n=i.length-1;n>=0;n--){const e=i[n];e["s-hn"]!==ul&&e["s-ol"]&&(Kl(Vl(e),e,jl(e)),e["s-ol"].remove(),e["s-ol"]=void 0,e["s-sh"]=void 0,Ml=!0),t&&$l(e,t)}qa.$flags$&=-2},Fl=(e,t,i,n,o,r)=>{let s,a=e["s-cr"]&&e["s-cr"].parentNode||e;for(a.shadowRoot&&a.tagName===ul&&(a=a.shadowRoot);o<=r;++o)n[o]&&(s=Nl(null,i,o,e),s&&(n[o].$elm$=s,Kl(a,s,jl(t))))},Bl=(e,t,i)=>{for(let n=t;n<=i;++n){const t=e[n];if(t){const e=t.$elm$;Yl(t),e&&(Ll=!0,e["s-ol"]?e["s-ol"].remove():$l(e,!0),e.remove())}}},zl=(e,t,i=!1)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?(!("$nodeId$"in e)||!i||8===e.$elm$.nodeType)&&e.$name$===t.$name$:!!i||e.$key$===t.$key$),jl=e=>e&&e["s-ol"]||e,Vl=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Ul=(e,t,i=!1)=>{const n=t.$elm$=e.$elm$,o=e.$children$,r=t.$children$,s=t.$tag$,a=t.$text$;let l;null===a?(Ol="svg"===s||"foreignObject"!==s&&Ol,("slot"!==s||Rl)&&Pl(e,t,Ol),null!==o&&null!==r?((e,t,i,n,o=!1)=>{let r,s,a=0,l=0,c=0,d=0,u=t.length-1,h=t[0],p=t[u],m=n.length-1,f=n[0],g=n[m];for(;a<=u&&l<=m;)if(null==h)h=t[++a];else if(null==p)p=t[--u];else if(null==f)f=n[++l];else if(null==g)g=n[--m];else if(zl(h,f,o))Ul(h,f,o),h=t[++a],f=n[++l];else if(zl(p,g,o))Ul(p,g,o),p=t[--u],g=n[--m];else if(zl(h,g,o))"slot"!==h.$tag$&&"slot"!==g.$tag$||$l(h.$elm$.parentNode,!1),Ul(h,g,o),Kl(e,h.$elm$,p.$elm$.nextSibling),h=t[++a],g=n[--m];else if(zl(p,f,o))"slot"!==h.$tag$&&"slot"!==g.$tag$||$l(p.$elm$.parentNode,!1),Ul(p,f,o),Kl(e,p.$elm$,h.$elm$),p=t[--u],f=n[++l];else{for(c=-1,d=a;d<=u;++d)if(t[d]&&null!==t[d].$key$&&t[d].$key$===f.$key$){c=d;break}c>=0?(s=t[c],s.$tag$!==f.$tag$?r=Nl(t&&t[l],i,c,e):(Ul(s,f,o),t[c]=void 0,r=s.$elm$),f=n[++l]):(r=Nl(t&&t[l],i,l,e),f=n[++l]),r&&Kl(Vl(h.$elm$),r,jl(h.$elm$))}a>u?Fl(e,null==n[m+1]?null:n[m+1].$elm$,i,n,l,m):l>m&&Bl(t,a,u)})(n,o,t,r,i):null!==r?(null!==e.$text$&&(n.textContent=""),Fl(n,null,t,r,0,r.length-1)):!i&&Ra.updatable&&null!==o&&Bl(o,0,o.length-1),Ol&&"svg"===s&&(Ol=!1)):(l=n["s-cr"])?l.parentNode.textContent=a:e.$text$!==a&&(n.data=a)},Hl=e=>{const t=e.childNodes;for(const i of t)if(1===i.nodeType){if(i["s-sr"]){const e=i["s-sn"];i.hidden=!1;for(const n of t)if(n!==i)if(n["s-hn"]!==i["s-hn"]||""!==e){if(1===n.nodeType&&(e===n.getAttribute("slot")||e===n["s-sn"])||3===n.nodeType&&e===n["s-sn"]){i.hidden=!0;break}}else if(1===n.nodeType||3===n.nodeType&&""!==n.textContent.trim()){i.hidden=!0;break}}Hl(i)}},ql=[],Gl=e=>{let t,i,n;for(const o of e.childNodes){if(o["s-sr"]&&(t=o["s-cr"])&&t.parentNode){i=t.parentNode.childNodes;const e=o["s-sn"];for(n=i.length-1;n>=0;n--)if(t=i[n],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==o["s-hn"])if(Wl(t,e)){let i=ql.find((e=>e.$nodeToRelocate$===t));Ll=!0,t["s-sn"]=t["s-sn"]||e,i?(i.$nodeToRelocate$["s-sh"]=o["s-hn"],i.$slotRefNode$=o):(t["s-sh"]=o["s-hn"],ql.push({$slotRefNode$:o,$nodeToRelocate$:t})),t["s-sr"]&&ql.map((e=>{Wl(e.$nodeToRelocate$,t["s-sn"])&&(i=ql.find((e=>e.$nodeToRelocate$===t)),i&&!e.$slotRefNode$&&(e.$slotRefNode$=i.$slotRefNode$))}))}else ql.some((e=>e.$nodeToRelocate$===t))||ql.push({$nodeToRelocate$:t})}1===o.nodeType&&Gl(o)}},Wl=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,Yl=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Yl)},Kl=(e,t,i)=>{const n=null==e?void 0:e.insertBefore(t,i);return Xl(t,e),n},Ql=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...Ql(e.parentElement)),t},Xl=(e,t,i=!1)=>{var n;if(e&&t&&1===e.nodeType){const o=new Set(Ql(t).filter(Boolean));if(o.size&&(null==(n=e.classList)||n.add(...e["s-scs"]=[...o]),e["s-ol"]||i))for(const t of Array.from(e.childNodes))Xl(t,e,!0)}},Jl=(e,t,i=!1)=>{var n,o,r,s,a;const l=e.$hostElement$,c=e.$cmpMeta$,d=e.$vnode$||fl(null,null),u=(h=t)&&h.$tag$===gl?t:ml(null,null,t);var h;if(ul=l.tagName,c.$attrsToReflect$&&(u.$attrs$=u.$attrs$||{},c.$attrsToReflect$.map((([e,t])=>u.$attrs$[t]=l[e]))),i&&u.$attrs$)for(const p of Object.keys(u.$attrs$))l.hasAttribute(p)&&!["key","ref","style","class"].includes(p)&&(u.$attrs$[p]=l[p]);if(u.$tag$=null,u.$flags$|=4,e.$vnode$=u,u.$elm$=d.$elm$=l.shadowRoot||l,cl=l["s-sc"],Rl=!!(1&c.$flags$),dl=l["s-cr"],Ll=!1,Ul(d,u,i),qa.$flags$|=1,Ml){Gl(u.$elm$);for(const e of ql){const t=e.$nodeToRelocate$;if(!t["s-ol"]){const e=Ua.createTextNode("");e["s-nr"]=t,Kl(t.parentNode,t["s-ol"]=e,t)}}for(const e of ql){const t=e.$nodeToRelocate$,a=e.$slotRefNode$;if(a){const e=a.parentNode;let i=a.nextSibling;{let r=null==(n=t["s-ol"])?void 0:n.previousSibling;for(;r;){let n=null!=(o=r["s-nr"])?o:null;if(n&&n["s-sn"]===t["s-sn"]&&e===n.parentNode){for(n=n.nextSibling;n===t||(null==n?void 0:n["s-sr"]);)n=null==n?void 0:n.nextSibling;if(!n||!n["s-nr"]){i=n;break}}r=r.previousSibling}}(!i&&e!==t.parentNode||t.nextSibling!==i)&&t!==i&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),Kl(e,t,i),1===t.nodeType&&(t.hidden=null!=(r=t["s-ih"])&&r)),t&&"function"==typeof a["s-rf"]&&a["s-rf"](t)}else 1===t.nodeType&&(i&&(t["s-ih"]=null!=(s=t.hidden)&&s),t.hidden=!0)}}if(Ll&&Hl(u.$elm$),qa.$flags$&=-2,ql.length=0,Ra.experimentalScopedSlotChanges&&2&c.$flags$)for(const p of u.$elm$.childNodes)p["s-hn"]===ul||p["s-sh"]||(i&&null==p["s-ih"]&&(p["s-ih"]=null!=(a=p.hidden)&&a),p.hidden=!0);dl=void 0},Zl=(e,t)=>{e.$flags$|=16,e.$ancestorComponent$;return il((()=>ec(e,t)))},ec=(e,t)=>{const i=e.$hostElement$,n=(e.$cmpMeta$.$tagName$,()=>{}),o=i;if(!o)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let r;return r=ac(o,t?"componentWillLoad":"componentWillUpdate"),r=tc(r,(()=>ac(o,"componentWillRender"))),n(),tc(r,(()=>nc(e,o,t)))},tc=(e,t)=>ic(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),ic=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,nc=async(e,t,i)=>{const n=e.$hostElement$,o=(e.$cmpMeta$.$tagName$,()=>{});n["s-rc"],i&&_l(e);const r=(e.$cmpMeta$.$tagName$,()=>{});oc(e,t,n,i),r(),o(),rc(e)},oc=(e,t,i,n)=>{try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Ra.hasRenderFn||Ra.reflect)&&(Ra.vdomRender||Ra.reflect)&&(Ra.hydrateServerSide||Jl(e,t,n))}catch(f1){Fa(f1,e.$hostElement$)}return null},rc=e=>{e.$cmpMeta$.$tagName$;const t=()=>{},i=e.$hostElement$;e.$ancestorComponent$,ac(i,"componentDidRender"),64&e.$flags$?(ac(i,"componentDidUpdate"),t()):(e.$flags$|=64,ac(i,"componentDidLoad"),t())},sc=e=>{{const t=Na(e),i=t.$hostElement$.isConnected;return i&&2==(18&t.$flags$)&&Zl(t,!1),i}},ac=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(f1){Fa(f1)}},lc=(e,t,i,n)=>{const o=Na(e),r=e,s=o.$instanceValues$.get(t),a=o.$flags$,l=r;var c,d;c=i,d=n.$members$[t][0],i=null==c||rl(c)?c:4&d?"false"!==c&&(""===c||!!c):2&d?parseFloat(c):1&d?String(c):c;const u=Number.isNaN(s)&&Number.isNaN(i);if(i!==s&&!u){if(o.$instanceValues$.set(t,i),n.$watchers$&&128&a){const e=n.$watchers$[t];e&&e.map((e=>{try{l[e](i,s,t)}catch(f1){Fa(f1,r)}}))}if(2==(18&a)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(i,s,t))return;Zl(o,!1)}}},cc=(e,t,i)=>{var n,o;const r=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const i=Object.entries(null!=(n=t.$members$)?n:{});i.map((([e,[i]])=>{(31&i||32&i)&&Object.defineProperty(r,e,{get(){return((e,t)=>Na(e).$instanceValues$.get(t))(this,e)},set(i){lc(this,e,i,t)},configurable:!0,enumerable:!0})}));{const n=new Map;r.attributeChangedCallback=function(e,i,o){qa.jmp((()=>{var s;const a=n.get(e);if(this.hasOwnProperty(a))o=this[a],delete this[a];else{if(r.hasOwnProperty(a)&&"number"==typeof this[a]&&this[a]==o)return;if(null==a){const n=Na(this),r=null==n?void 0:n.$flags$;if(r&&!(8&r)&&128&r&&o!==i){const n=this,r=null==(s=t.$watchers$)?void 0:s[e];null==r||r.forEach((t=>{null!=n[t]&&n[t].call(n,o,i,e)}))}return}}this[a]=(null!==o||"boolean"!=typeof this[a])&&o}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(o=t.$watchers$)?o:{}),...i.filter((([e,t])=>15&t[0])).map((([e,i])=>{var o;const r=i[1]||e;return n.set(r,e),512&i[0]&&(null==(o=t.$attrsToReflect$)||o.push([e,r])),r}))]))}}return e},dc=async(e,t,i,n)=>{let o;if(!(32&t.$flags$)){t.$flags$|=32,i.$lazyBundleId$;{o=e.constructor;const i=e.localName;customElements.whenDefined(i).then((()=>t.$flags$|=128))}if(o&&o.style){let n;"string"==typeof o.style?n=o.style:"string"!=typeof o.style&&(t.$modeName$=(e=>za.map((t=>t(e))).find((e=>!!e)))(e),t.$modeName$&&(n=o.style[t.$modeName$]));const r=El(i,t.$modeName$);if(!Ba.has(r)){const e=(i.$tagName$,()=>{});((e,t,i)=>{let n=Ba.get(e);Wa&&i?(n=n||new CSSStyleSheet,"string"==typeof n?n=t:n.replaceSync(t)):n=t,Ba.set(e,n)})(r,n,!!(1&i.$flags$)),e()}}}t.$ancestorComponent$;Zl(t,!0)},uc=e=>{const t=e["s-cr"]=Ua.createComment("");t["s-cn"]=!0,Kl(e,t,e.firstChild)},hc=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[];const n=e.prototype.connectedCallback,o=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){((e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};Oa.set(e,i)})(this,i)},connectedCallback(){const e=Na(this);pc(this,e,i.$listeners$),(e=>{if(!(1&qa.$flags$)){const t=Na(e),i=t.$cmpMeta$,n=(i.$tagName$,()=>{});1&t.$flags$?(pc(e,t,i.$listeners$),(null==t?void 0:t.$lazyInstance$)?t.$lazyInstance$:(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>{t.$lazyInstance$}))):(t.$flags$|=1,12&i.$flags$&&uc(e),i.$members$&&Object.entries(i.$members$).map((([t,[i]])=>{if(31&i&&e.hasOwnProperty(t)){const i=e[t];delete e[t],e[t]=i}})),dc(e,t,i)),n()}})(this),n&&n.call(this)},disconnectedCallback(){(async e=>{if(!(1&qa.$flags$)){const t=Na(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0)}})(this),o&&o.call(this)},__attachShadow(){if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${i.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else this.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)})}}),e.is=i.$tagName$,cc(e,i)},pc=(e,t,i,n)=>{i&&i.map((([i,n,o])=>{const r=fc(e,i),s=mc(t,o),a=gc(i);qa.ael(r,n,s,a),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>qa.rel(r,n,s,a)))}))},mc=(e,t)=>i=>{try{Ra.lazyLoad||e.$hostElement$[t](i)}catch(f1){Fa(f1)}},fc=(e,t)=>4&t?Ua:8&t?Va:16&t?Ua.body:e,gc=e=>Ga?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e)
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */;const bc=(e,t=0)=>new Promise((i=>{vc(e,t,i)})),vc=(e,t=0,i)=>{let n,o;const r={passive:!0},s=()=>{n&&n()},a=t=>{void 0!==t&&e!==t.target||(s(),i(t))};return e&&(e.addEventListener("webkitTransitionEnd",a,r),e.addEventListener("transitionend",a,r),o=setTimeout(a,t+500),n=()=>{void 0!==o&&(clearTimeout(o),o=void 0),e.removeEventListener("webkitTransitionEnd",a,r),e.removeEventListener("transitionend",a,r)}),s},yc=i("e",((e,t)=>{e.componentOnReady?e.componentOnReady().then((e=>t(e))):Tc((()=>t(e)))})),kc=e=>void 0!==e.componentOnReady,wc=(e,t=[])=>{const i={};return t.forEach((t=>{if(e.hasAttribute(t)){null!==e.getAttribute(t)&&(i[t]=e.getAttribute(t)),e.removeAttribute(t)}})),i},xc=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],_c=(e,t)=>wc(e,xc),Ec=i("h",((e,t,i,n)=>{var o;if("undefined"!=typeof window){const r=window,s=null===(o=null==r?void 0:r.Ionic)||void 0===o?void 0:o.config;if(s){const o=s.get("_ael");if(o)return o(e,t,i,n);if(s._ael)return s._ael(e,t,i,n)}}return e.addEventListener(t,i,n)})),Cc=i("j",((e,t,i,n)=>{var o;if("undefined"!=typeof window){const r=window,s=null===(o=null==r?void 0:r.Ionic)||void 0===o?void 0:o.config;if(s){const o=s.get("_rel");if(o)return o(e,t,i,n);if(s._rel)return s._rel(e,t,i,n)}}return e.removeEventListener(t,i,n)})),Ac=(e,t=e)=>e.shadowRoot||t,Tc=i("m",(e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e))),Sc=e=>{if(e.focus(),e.classList.contains("ion-focusable")){const t=e.closest("ion-app");t&&t.setFocus([e])}},Ic=(e,t,i,n,o)=>{{let e=t.querySelector("input.aux-input");e||(e=t.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),t.appendChild(e)),e.disabled=o,e.name=i,e.value=n||""}},Pc=i("a",((e,t,i)=>Math.max(e,Math.min(t,i)))),Dc=(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}},Rc=(i("p",(e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}})),e=>{const t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}}),Lc=(e,t)=>{const i=e._original||e;return{_original:e,emit:Mc(i.emit.bind(i),t)}},Mc=(e,t=0)=>{let i;return(...n)=>{clearTimeout(i),i=setTimeout(e,t,...n)}},Oc=(e,t)=>{if(null!=e||(e={}),null!=t||(t={}),e===t)return!0;const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;for(const n of i){if(!(n in t))return!1;if(e[n]!==t[n])return!1}return!0},Nc="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",$c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",Fc="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let Bc=class{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const i=this.m.get(e);return void 0!==i?i:t}getBoolean(e,t=!1){const i=this.m.get(e);return void 0===i?t:"string"==typeof i?"true"===i:!!i}getNumber(e,t){const i=parseFloat(this.m.get(e));return isNaN(i)?void 0!==t?t:NaN:i}set(e,t){this.m.set(e,t)}};const zc=new Bc,jc=(e,t)=>e.substr(0,t.length)===t,Vc="ionic:",Uc="ionic-persist-config",Hc=(e,t)=>("string"==typeof e&&(t=e,e=void 0),(e=>qc(e))(e).includes(t)),qc=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=Gc(e),t.forEach((t=>e.document.documentElement.classList.add(`plt-${t}`)))),t},Gc=e=>{const t=zc.get("platform");return Object.keys(td).filter((i=>{const n=null==t?void 0:t[i];return"function"==typeof n?n(e):td[i](e)}))},Wc=e=>!!Zc(e,/iPad/i)||!(!Zc(e,/Macintosh/i)||!Kc(e)),Yc=e=>Zc(e,/android|sink/i),Kc=e=>ed(e,"(any-pointer:coarse)"),Qc=e=>Xc(e)||Jc(e),Xc=e=>!!(e.cordova||e.phonegap||e.PhoneGap),Jc=e=>{const t=e.Capacitor;return!!(null==t?void 0:t.isNative)},Zc=(e,t)=>t.test(e.navigator.userAgent),ed=(e,t)=>{var i;return null===(i=e.matchMedia)||void 0===i?void 0:i.call(e,t).matches},td={ipad:Wc,iphone:e=>Zc(e,/iPhone/i),ios:e=>Zc(e,/iPhone|iPod/i)||Wc(e),android:Yc,phablet:e=>{const t=e.innerWidth,i=e.innerHeight,n=Math.min(t,i),o=Math.max(t,i);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,i=e.innerHeight,n=Math.min(t,i),o=Math.max(t,i);return Wc(e)||(e=>Yc(e)&&!Zc(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:Xc,capacitor:Jc,electron:e=>Zc(e,/electron/i),pwa:e=>{var t;return!(!(null===(t=e.matchMedia)||void 0===t?void 0:t.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:Kc,mobileweb:e=>Kc(e)&&!Qc(e),desktop:e=>!Kc(e),hybrid:Qc};let id;const nd=e=>e&&(e=>Na(e).$modeName$)(e)||id,od=(e={})=>{if("undefined"==typeof window)return;const t=window.document,i=window,n=i.Ionic=i.Ionic||{},o={};var r;e._ael&&(o.ael=e._ael),e._rel&&(o.rel=e._rel),e._ce&&(o.ce=e._ce),r=o,Object.assign(qa,r);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(e=>{try{const t=e.sessionStorage.getItem(Uc);return null!==t?JSON.parse(t):{}}catch(f1){return{}}})(i)),{persistConfig:!1}),n.config),(e=>{const t={};return e.location.search.slice(1).split("&").map((e=>e.split("="))).map((([e,t])=>{try{return[decodeURIComponent(e),decodeURIComponent(t)]}catch(f1){return["",""]}})).filter((([e])=>jc(e,Vc))).map((([e,t])=>[e.slice(Vc.length),t])).forEach((([e,i])=>{t[e]=i})),t})(i)),e);zc.reset(s),zc.getBoolean("persistConfig")&&((e,t)=>{try{e.sessionStorage.setItem(Uc,JSON.stringify(t))}catch(f1){return}})(i,s),qc(i),n.config=zc,n.mode=id=zc.get("mode",t.documentElement.getAttribute("mode")||(Hc(i,"ios")?"ios":"md")),zc.set("mode",id),t.documentElement.setAttribute("mode",id),t.documentElement.classList.add(id),zc.getBoolean("_testing")&&zc.set("animated",!1);const a=e=>{var t;return null===(t=e.tagName)||void 0===t?void 0:t.startsWith("ION-")},l=e=>["ios","md"].includes(e);var c;c=e=>{for(;e;){const t=e.mode||e.getAttribute("mode");if(t){if(l(t))return t;a(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return id},za.push(c)};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let rd;const sd=(e,t)=>{const i=(()=>{if("undefined"==typeof window)return new Map;if(!rd){const e=window;e.Ionicons=e.Ionicons||{},rd=e.Ionicons.map=e.Ionicons.map||new Map}return rd})().get(e);if(i)return i;try{return nl(`svg/${e}.svg`)}catch(f1){console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},ad=(e,t,i,n,o)=>{if(i="ios"===(i&&ud(i))?"ios":"md",n&&"ios"===i?e=ud(n):o&&"md"===i?e=ud(o):(e||!t||cd(t)||(e=t),dd(e)&&(e=ud(e))),!dd(e)||""===e.trim())return null;return""!==e.replace(/[a-z]|-|\d/gi,"")?null:e},ld=e=>dd(e)&&(e=e.trim(),cd(e))?e:null,cd=e=>e.length>0&&/(\/|\.)/.test(e),dd=e=>"string"==typeof e,ud=e=>e.toLowerCase(),hd=e=>{if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(let t=0;t<e.attributes.length;t++){const i=e.attributes[t].name;if(dd(i)&&0===i.toLowerCase().indexOf("on"))return!1}for(let t=0;t<e.childNodes.length;t++)if(!hd(e.childNodes[t]))return!1}return!0},pd=new Map,md=new Map;let fd;const gd=(e,t)=>{let i=md.get(e);if(!i){if("undefined"==typeof fetch||"undefined"==typeof document)return pd.set(e,""),Promise.resolve();if((e=>e.startsWith("data:image/svg+xml"))(e)&&(e=>-1!==e.indexOf(";utf8,"))(e)){fd||(fd=new DOMParser);const t=fd.parseFromString(e,"text/html").querySelector("svg");return t&&pd.set(e,t.outerHTML),Promise.resolve()}i=fetch(e).then((i=>{if(i.ok)return i.text().then((i=>{i&&!1!==t&&(i=(e=>{const t=document.createElement("div");t.innerHTML=e;for(let n=t.childNodes.length-1;n>=0;n--)"svg"!==t.childNodes[n].nodeName.toLowerCase()&&t.removeChild(t.childNodes[n]);const i=t.firstElementChild;if(i&&"svg"===i.nodeName.toLowerCase()){const e=i.getAttribute("class")||"";if(i.setAttribute("class",(e+" s-ion-icon").trim()),hd(i))return t.innerHTML}return""})(i)),pd.set(e,i||"")}));pd.set(e,"")})),md.set(e,i)}return i},bd=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=vd(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((e,t=[])=>{const i={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(i[t]=e.getAttribute(t)),e.removeAttribute(t))})),i})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,i){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const n=this.io=new window.IntersectionObserver((e=>{e[0].isIntersecting&&(n.disconnect(),this.io=void 0,i())}),{rootMargin:t});n.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=(e=>{let t=ld(e.src);if(t)return t;if(t=ad(e.name,e.icon,e.mode,e.ios,e.md),t)return sd(t,e);if(e.icon){if(t=ld(e.icon),t)return t;if(t=ld(e.icon[e.mode]),t)return t}return null})(this);e&&(pd.has(e)?this.svgContent=pd.get(e):gd(e,this.sanitize).then((()=>this.svgContent=pd.get(e))),this.didLoadIcon=!0)}this.iconName=ad(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:i,el:n}=this,o=this.mode||"md",r=!!t&&((t.includes("arrow")||t.includes("chevron"))&&!1!==e),s=e||r;return ml(gl,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},yd(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&(a=n,a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},i),this.svgContent?ml("div",{class:"icon-inner",innerHTML:this.svgContent}):ml("div",{class:"icon-inner"}));var a}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),vd=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",yd=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;function kd(){if("undefined"==typeof customElements)return;["ion-icon"].forEach((e=>{if("ion-icon"===e)customElements.get(e)||customElements.define(e,bd)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const wd=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.updateListener=()=>this.updateState(!1),this.setItemDefaults=()=>{const e=this.getSlottedHeaderIonItem();e&&(e.button=!0,e.detail=!1,void 0===e.lines&&(e.lines="full"))},this.getSlottedHeaderIonItem=()=>{const{headerEl:e}=this;if(!e)return;const t=e.querySelector("slot");return t&&void 0!==t.assignedElements?t.assignedElements().find((e=>"ION-ITEM"===e.tagName)):void 0},this.setAria=(e=!1)=>{const t=this.getSlottedHeaderIonItem();if(!t)return;const i=Ac(t).querySelector("button");i&&i.setAttribute("aria-expanded",`${e}`)},this.slotToggleIcon=()=>{const e=this.getSlottedHeaderIonItem();if(!e)return;const{toggleIconSlot:t,toggleIcon:i}=this;if(e.querySelector(".ion-accordion-toggle-icon"))return;const n=document.createElement("ion-icon");n.slot=t,n.lazy=!1,n.classList.add("ion-accordion-toggle-icon"),n.icon=i,n.setAttribute("aria-hidden","true"),e.appendChild(n)},this.expandAccordion=(e=!1)=>{const{contentEl:t,contentElWrapper:i}=this;e||void 0===t||void 0===i?this.state=4:4!==this.state&&(void 0!==this.currentRaf&&cancelAnimationFrame(this.currentRaf),this.shouldAnimate()?Tc((()=>{this.state=8,this.currentRaf=Tc((async()=>{const e=i.offsetHeight,n=bc(t,2e3);t.style.setProperty("max-height",`${e}px`),await n,this.state=4,t.style.removeProperty("max-height")}))})):this.state=4)},this.collapseAccordion=(e=!1)=>{const{contentEl:t}=this;e||void 0===t?this.state=1:1!==this.state&&(void 0!==this.currentRaf&&cancelAnimationFrame(this.currentRaf),this.shouldAnimate()?this.currentRaf=Tc((async()=>{const e=t.offsetHeight;t.style.setProperty("max-height",`${e}px`),Tc((async()=>{const e=bc(t,2e3);this.state=2,await e,this.state=1,t.style.removeProperty("max-height")}))})):this.state=1)},this.shouldAnimate=()=>{if("undefined"==typeof window)return!1;if(matchMedia("(prefers-reduced-motion: reduce)").matches)return!1;return!!zc.get("animated",!0)&&!(this.accordionGroupEl&&!this.accordionGroupEl.animated)},this.updateState=async(e=!1)=>{const t=this.accordionGroupEl,i=this.value;if(!t)return;const n=t.value;if(Array.isArray(n)?n.includes(i):n===i)this.expandAccordion(e),this.isNext=this.isPrevious=!1;else{this.collapseAccordion(e);const t=this.getNextSibling(),i=null==t?void 0:t.value;void 0!==i&&(this.isPrevious=Array.isArray(n)?n.includes(i):n===i);const o=this.getPreviousSibling(),r=null==o?void 0:o.value;void 0!==r&&(this.isNext=Array.isArray(n)?n.includes(r):n===r)}},this.getNextSibling=()=>{if(!this.el)return;const e=this.el.nextElementSibling;return"ION-ACCORDION"===(null==e?void 0:e.tagName)?e:void 0},this.getPreviousSibling=()=>{if(!this.el)return;const e=this.el.previousElementSibling;return"ION-ACCORDION"===(null==e?void 0:e.tagName)?e:void 0},this.state=1,this.isNext=!1,this.isPrevious=!1,this.value="ion-accordion-"+xd++,this.disabled=!1,this.readonly=!1,this.toggleIcon=$c,this.toggleIconSlot="end"}valueChanged(){this.updateState()}connectedCallback(){var e;const t=this.accordionGroupEl=null===(e=this.el)||void 0===e?void 0:e.closest("ion-accordion-group");t&&(this.updateState(!0),Ec(t,"ionValueChange",this.updateListener))}disconnectedCallback(){const e=this.accordionGroupEl;e&&Cc(e,"ionValueChange",this.updateListener)}componentDidLoad(){this.setItemDefaults(),this.slotToggleIcon(),Tc((()=>{const e=4===this.state||8===this.state;this.setAria(e)}))}toggleExpanded(){const{accordionGroupEl:e,disabled:t,readonly:i,value:n,state:o}=this;if(!t&&!i&&e){const t=1===o||2===o;e.requestAccordionToggle(n,t)}}render(){const{disabled:e,readonly:t}=this,i=nd(this),n=4===this.state||8===this.state,o=n?"header expanded":"header",r=n?"content expanded":"content";return this.setAria(n),ml(gl,{key:"073e1d02c18dcbc20c68648426e87c14750c031d",class:{[i]:!0,"accordion-expanding":8===this.state,"accordion-expanded":4===this.state,"accordion-collapsing":2===this.state,"accordion-collapsed":1===this.state,"accordion-next":this.isNext,"accordion-previous":this.isPrevious,"accordion-disabled":e,"accordion-readonly":t,"accordion-animated":this.shouldAnimate()}},ml("div",{key:"9b4cf326de8bb6b4033992903c0c1bfd7eea9bcc",onClick:()=>this.toggleExpanded(),id:"header",part:o,"aria-controls":"content",ref:e=>this.headerEl=e},ml("slot",{key:"464c32a37f64655eacf4218284214f5f30b14a1e",name:"header"})),ml("div",{key:"8bb52e6a62d7de0106b253201a89a32e79d9a594",id:"content",part:r,role:"region","aria-labelledby":"header",ref:e=>this.contentEl=e},ml("div",{key:"1d9dfd952ad493754aaeea7a8f625b33c2dd90a0",id:"content-wrapper",ref:e=>this.contentElWrapper=e},ml("slot",{key:"970dfbc55a612d739d0ca3b7b1a08e5c96d0c479",name:"content"}))))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:":host{display:block;position:relative;width:100%;background-color:var(--ion-background-color, #ffffff);overflow:hidden;z-index:0}:host(.accordion-expanding) ::slotted(ion-item[slot=header]),:host(.accordion-expanded) ::slotted(ion-item[slot=header]){--border-width:0px}:host(.accordion-animated){-webkit-transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1);transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}:host(.accordion-animated) #content{-webkit-transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1);transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}#content{overflow:hidden;will-change:max-height}:host(.accordion-collapsing) #content{max-height:0 !important}:host(.accordion-collapsed) #content{display:none}:host(.accordion-expanding) #content{max-height:0}:host(.accordion-expanding) #content-wrapper{overflow:auto}:host(.accordion-disabled) #header,:host(.accordion-readonly) #header,:host(.accordion-disabled) #content,:host(.accordion-readonly) #content{pointer-events:none}:host(.accordion-disabled) #header,:host(.accordion-disabled) #content{opacity:0.4}@media (prefers-reduced-motion: reduce){:host,#content{-webkit-transition:none !important;transition:none !important}}:host(.accordion-next) ::slotted(ion-item[slot=header]){--border-width:0.55px 0px 0.55px 0px}",md:":host{display:block;position:relative;width:100%;background-color:var(--ion-background-color, #ffffff);overflow:hidden;z-index:0}:host(.accordion-expanding) ::slotted(ion-item[slot=header]),:host(.accordion-expanded) ::slotted(ion-item[slot=header]){--border-width:0px}:host(.accordion-animated){-webkit-transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1);transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}:host(.accordion-animated) #content{-webkit-transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1);transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}#content{overflow:hidden;will-change:max-height}:host(.accordion-collapsing) #content{max-height:0 !important}:host(.accordion-collapsed) #content{display:none}:host(.accordion-expanding) #content{max-height:0}:host(.accordion-expanding) #content-wrapper{overflow:auto}:host(.accordion-disabled) #header,:host(.accordion-readonly) #header,:host(.accordion-disabled) #content,:host(.accordion-readonly) #content{pointer-events:none}:host(.accordion-disabled) #header,:host(.accordion-disabled) #content{opacity:0.4}@media (prefers-reduced-motion: reduce){:host,#content{-webkit-transition:none !important;transition:none !important}}"}}},[49,"ion-accordion",{value:[1],disabled:[4],readonly:[4],toggleIcon:[1,"toggle-icon"],toggleIconSlot:[1,"toggle-icon-slot"],state:[32],isNext:[32],isPrevious:[32]},void 0,{value:["valueChanged"]}]);let xd=0;const _d=function(){if("undefined"==typeof customElements)return;["ion-accordion","ion-icon"].forEach((e=>{switch(e){case"ion-accordion":customElements.get(e)||customElements.define(e,wd);break;case"ion-icon":customElements.get(e)||kd()}}))},Ed=(e,...t)=>console.warn(`[Ionic Warning]: ${e}`,...t),Cd=(e,...t)=>console.error(`[Ionic Error]: ${e}`,...t),Ad=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=kl(this,"ionChange",7),this.ionValueChange=kl(this,"ionValueChange",7),this.animated=!0,this.multiple=void 0,this.value=void 0,this.disabled=!1,this.readonly=!1,this.expand="compact"}valueChanged(){const{value:e,multiple:t}=this;!t&&Array.isArray(e)&&Ed(`ion-accordion-group was passed an array of values, but multiple="false". This is incorrect usage and may result in unexpected behaviors. To dismiss this warning, pass a string to the "value" property when multiple="false".\n\n  Value Passed: [${e.map((e=>`'${e}'`)).join(", ")}]\n`,this.el),this.ionValueChange.emit({value:this.value})}async disabledChanged(){const{disabled:e}=this,t=await this.getAccordions();for(const i of t)i.disabled=e}async readonlyChanged(){const{readonly:e}=this,t=await this.getAccordions();for(const i of t)i.readonly=e}async onKeydown(e){const t=document.activeElement;if(!t)return;if(!t.closest('ion-accordion [slot="header"]'))return;const i="ION-ACCORDION"===t.tagName?t:t.closest("ion-accordion");if(!i)return;if(i.closest("ion-accordion-group")!==this.el)return;const n=await this.getAccordions(),o=n.findIndex((e=>e===i));if(-1===o)return;let r;"ArrowDown"===e.key?r=this.findNextAccordion(n,o):"ArrowUp"===e.key?r=this.findPreviousAccordion(n,o):"Home"===e.key?r=n[0]:"End"===e.key&&(r=n[n.length-1]),void 0!==r&&r!==t&&r.focus()}async componentDidLoad(){this.disabled&&this.disabledChanged(),this.readonly&&this.readonlyChanged(),this.valueChanged()}setValue(e){const t=this.value=e;this.ionChange.emit({value:t})}async requestAccordionToggle(e,t){const{multiple:i,value:n,readonly:o,disabled:r}=this;if(!o&&!r)if(t)if(i){const t=null!=n?n:[],i=Array.isArray(t)?t:[t];void 0===i.find((t=>t===e))&&void 0!==e&&this.setValue([...i,e])}else this.setValue(e);else if(i){const t=null!=n?n:[],i=Array.isArray(t)?t:[t];this.setValue(i.filter((t=>t!==e)))}else this.setValue(void 0)}findNextAccordion(e,t){const i=e[t+1];return void 0===i?e[0]:i}findPreviousAccordion(e,t){const i=e[t-1];return void 0===i?e[e.length-1]:i}async getAccordions(){return Array.from(this.el.querySelectorAll(":scope > ion-accordion"))}render(){const{disabled:e,readonly:t,expand:i}=this,n=nd(this);return ml(gl,{key:"82f3e77066fabb4736638ee4c487ad56efd39c63",class:{[n]:!0,"accordion-group-disabled":e,"accordion-group-readonly":t,[`accordion-group-expand-${i}`]:!0},role:"presentation"},ml("slot",{key:"a3c791ea887fc640b512f81d429be465ae902b3d"}))}get el(){return this}static get watchers(){return{value:["valueChanged"],disabled:["disabledChanged"],readonly:["readonlyChanged"]}}static get style(){return{ios:":host{display:block}:host(.accordion-group-expand-inset){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px}:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-expanding),:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-expanded){border-bottom:none}",md:":host{display:block}:host(.accordion-group-expand-inset){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px}:host(.accordion-group-expand-inset) ::slotted(ion-accordion){-webkit-box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-expanding),:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-expanded){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;border-radius:6px}:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-previous){border-end-end-radius:6px;border-end-start-radius:6px}:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-next){border-start-start-radius:6px;border-start-end-radius:6px}:host(.accordion-group-expand-inset) ::slotted(ion-accordion):first-of-type{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}"}}},[33,"ion-accordion-group",{animated:[4],multiple:[4],value:[1025],disabled:[4],readonly:[4],expand:[1],requestAccordionToggle:[64],getAccordions:[64]},[[0,"keydown","onKeydown"]],{value:["valueChanged"],disabled:["disabledChanged"],readonly:["readonlyChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Td=function(){if("undefined"==typeof customElements)return;["ion-accordion-group"].forEach((e=>{if("ion-accordion-group"===e)customElements.get(e)||customElements.define(e,Ad)}))},Sd=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=kl(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=nd(this);return ml(gl,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",md:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}"}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function Id(){if("undefined"==typeof customElements)return;["ion-backdrop"].forEach((e=>{if("ion-backdrop"===e)customElements.get(e)||customElements.define(e,Sd)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Pd=(e,t)=>null!==t.closest(e),Dd=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,Rd=e=>{const t={};return(e=>{if(void 0!==e)return(Array.isArray(e)?e:e.split(" ")).filter((e=>null!=e)).map((e=>e.trim())).filter((e=>""!==e));return[]})(e).forEach((e=>t[e]=!0)),t},Ld=/^[a-z][a-z0-9+\-.]*:/,Md=async(e,t,i,n)=>{if(null!=e&&"#"!==e[0]&&!Ld.test(e)){const o=document.querySelector("ion-router");if(o)return null!=t&&t.preventDefault(),o.push(e,i,n)}return!1},Od=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=nd(this);return ml(gl,{key:"1a2d39c5deec771a2f2196447627b62a7d4c8389",class:Dd(this.color,{[e]:!0})},ml("slot",{key:"fc1b6587f1ed24715748eb6785e7fb7a57cdd5cd"}))}static get style(){return{ios:":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px;font-size:max(13px, 0.8125rem)}",md:":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}"}}},[33,"ion-badge",{color:[513]}]);const Nd=function(){if("undefined"==typeof customElements)return;["ion-badge"].forEach((e=>{if("ion-badge"===e)customElements.get(e)||customElements.define(e,Od)}))},$d=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise((i=>{tl((()=>{const n=this.el.getBoundingClientRect(),o=n.width,r=n.height,s=Math.sqrt(o*o+r*r),a=Math.max(r,o),l=this.unbounded?a:s+Bd,c=Math.floor(a*zd),d=l/c;let u=e-n.left,h=t-n.top;this.unbounded&&(u=.5*o,h=.5*r);const p=u-.5*c,m=h-.5*c,f=.5*o-u,g=.5*r-h;il((()=>{const e=document.createElement("div");e.classList.add("ripple-effect");const t=e.style;t.top=m+"px",t.left=p+"px",t.width=t.height=c+"px",t.setProperty("--final-scale",`${d}`),t.setProperty("--translate-end",`${f}px, ${g}px`);(this.el.shadowRoot||this.el).appendChild(e),setTimeout((()=>{i((()=>{Fd(e)}))}),325)}))}))}))}get unbounded(){return"unbounded"===this.type}render(){const e=nd(this);return ml(gl,{key:"7ae559bda5d2c1856a45bfa150c2cb4f83373f8e",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),Fd=e=>{e.classList.add("fade-out"),setTimeout((()=>{e.remove()}),200)},Bd=10,zd=.5;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function jd(){if("undefined"==typeof customElements)return;["ion-ripple-effect"].forEach((e=>{if("ion-ripple-effect"===e)customElements.get(e)||customElements.define(e,$d)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Vd=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=kl(this,"ionFocus",7),this.ionBlur=kl(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:t}=this;"button"===this.type?Md(this.href,e,this.routerDirection,this.routerAnimation):(e=>!!e.shadowRoot&&!!e.attachShadow)(t)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:t}=this;if(null!==t&&e.contains(t))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=_c(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(void 0===this.fill||"clear"===this.fill)&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if("string"==typeof e){const t=document.getElementById(e);return t?t instanceof HTMLFormElement?t:(Ed(`Form with selector: "#${e}" could not be found. Verify that the id is attached to a <form> element.`,this.el),null):(Ed(`Form with selector: "#${e}" could not be found. Verify that the id is correct and the form is rendered in the DOM.`,this.el),null)}return void 0!==e?(Ed('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=nd(this),{buttonType:t,type:i,disabled:n,rel:o,target:r,size:s,href:a,color:l,expand:c,hasIconOnly:d,shape:u,strong:h,inheritedAttributes:p}=this,m=void 0===s&&this.inItem?"small":s,f=void 0===a?"button":"a",g="button"===f?{type:i}:{download:this.download,href:a,rel:o,target:r};let b=this.fill;return null==b&&(b=this.inToolbar||this.inListHeader?"clear":"solid"),"button"!==i&&this.renderHiddenButton(),ml(gl,{key:"340a809d85698741bb36e796355cae89a970655f",onClick:this.handleClick,"aria-disabled":n?"true":null,class:Dd(l,{[e]:!0,[t]:!0,[`${t}-${c}`]:void 0!==c,[`${t}-${m}`]:void 0!==m,[`${t}-${u}`]:void 0!==u,[`${t}-${b}`]:!0,[`${t}-strong`]:h,"in-toolbar":Pd("ion-toolbar",this.el),"in-toolbar-color":Pd("ion-toolbar[color]",this.el),"in-buttons":Pd("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":n,"ion-activatable":!0,"ion-focusable":!0})},ml(f,Object.assign({key:"03ae1b94a0d606aa65aa6f82c2fc76abcf3f1300"},g,{class:"button-native",part:"native",disabled:n,onFocus:this.onFocus,onBlur:this.onBlur},p),ml("span",{key:"90bf53d4ffcab88ee596ece7113d5b6409e61143",class:"button-inner"},ml("slot",{key:"a7876695f0d8702e8bcb471ae4c0984f27d77458",name:"icon-only",onSlotchange:this.slotChanged}),ml("slot",{key:"2c8551586f8726884d7797a6d3fee2d4b3aab35f",name:"start"}),ml("slot",{key:"9ab07accdb22b08d0a463a7c821c9793507d1f7d"}),ml("slot",{key:"8984afe177e6ba021435875a3798e2a64f3bdf2c",name:"end"})),"md"===e&&ml("ion-ripple-effect",{key:"3e9f01e7a1198b6b7109502293a971da7072a4f3",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',md:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}'}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);function Ud(){if("undefined"==typeof customElements)return;["ion-button","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-button":customElements.get(e)||customElements.define(e,Vd);break;case"ion-ripple-effect":customElements.get(e)||jd()}}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Hd=Ud,qd=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=nd(this);return ml(gl,{key:"58c1fc5eb867d0731c63549b1ccb3ec3bbbe6e1b",class:{[e]:!0,"buttons-collapse":this.collapse}},ml("slot",{key:"0c8f95b9840c8fa0c4e50be84c5159620a3eb5c8"}))}static get style(){return{ios:".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",md:".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}"}}},[38,"ion-buttons",{collapse:[4]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Gd=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.color=void 0,this.button=!1,this.type="button",this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0}componentWillLoad(){this.inheritedAriaAttributes=wc(this.el,["aria-label"])}isClickable(){return void 0!==this.href||this.button}renderCard(e){const t=this.isClickable();if(!t)return[ml("slot",null)];const{href:i,routerAnimation:n,routerDirection:o,inheritedAriaAttributes:r}=this,s=t?void 0===i?"button":"a":"div",a="button"===s?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return ml(s,Object.assign({},a,r,{class:"card-native",part:"native",disabled:this.disabled,onClick:e=>Md(i,e,o,n)}),ml("slot",null),t&&"md"===e&&ml("ion-ripple-effect",null))}render(){const e=nd(this);return ml(gl,{key:"85e9b30bd81e79a0c7ac75cb3664bdcf9e4afc4d",class:Dd(this.color,{[e]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(e))}get el(){return this}static get style(){return{ios:":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",md:":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}"}}},[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]);const Wd=function(){if("undefined"==typeof customElements)return;["ion-card","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-card":customElements.get(e)||customElements.define(e,Gd);break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},Yd=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=kl(this,"ionChange",7),this.ionFocus=kl(this,"ionFocus",7),this.ionBlur=kl(this,"ionBlur",7),this.inputId="ion-cb-"+Kd++,this.inheritedAttributes={},this.setChecked=e=>{const t=this.checked=e;this.ionChange.emit({checked:t,value:this.value})},this.toggleChecked=e=>{e.preventDefault(),this.setFocus(),this.setChecked(!this.checked),this.indeterminate=!1},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onClick=e=>{this.disabled||this.toggleChecked(e)},this.color=void 0,this.name=this.inputId,this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.value="on",this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}componentWillLoad(){this.inheritedAttributes=Object.assign({},_c(this.el))}async setFocus(){this.focusEl&&this.focusEl.focus()}render(){const{color:e,checked:t,disabled:i,el:n,getSVGPath:o,indeterminate:r,inheritedAttributes:s,inputId:a,justify:l,labelPlacement:c,name:d,value:u,alignment:h}=this,p=nd(this),m=o(p,r);return Ic(0,n,d,t?u:"",i),ml(gl,{key:"6dc787e1100521d08c4900104e1a3e2f594e919f","aria-checked":r?"mixed":`${t}`,class:Dd(e,{[p]:!0,"in-item":Pd("ion-item",n),"checkbox-checked":t,"checkbox-disabled":i,"checkbox-indeterminate":r,interactive:!0,[`checkbox-justify-${l}`]:void 0!==l,[`checkbox-alignment-${h}`]:void 0!==h,[`checkbox-label-placement-${c}`]:!0}),onClick:this.onClick},ml("label",{key:"68222fb736a5ec3f2e488649b0e2ce0417dcb224",class:"checkbox-wrapper"},ml("input",Object.assign({key:"f12962d7e9b19c744cfdbdeccc67ae7f5d080281",type:"checkbox",checked:!!t||void 0,disabled:i,id:a,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:e=>this.focusEl=e},s)),ml("div",{key:"c72df2699414b1e5a41a1bc267bc634f0c93dcff",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":""===n.textContent},part:"label"},ml("slot",{key:"a2a80285178a7e0e3b536fc9ca26b8b444aa4307"})),ml("div",{key:"c2b05e0d1fe8df5dcd72858220b5ff51ecaee4cc",class:"native-wrapper"},ml("svg",{key:"ee24913fded72258ebd9713654a6dba92a18fcf7",class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},m))))}getSVGPath(e,t){let i=ml("path",t?{d:"M6 12L18 12",part:"mark"}:{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return"md"===e&&(i=ml("path",t?{d:"M2 12H22",part:"mark"}:{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),i}get el(){return this}static get style(){return{ios:":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:0.125rem;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--size:min(1.375rem, 55.836px);--checkmark-width:1.5px}:host(.checkbox-disabled){opacity:0.3}",md:":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--checkmark-width:3;--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.checkbox-disabled) .label-text-wrapper{opacity:0.38}:host(.checkbox-disabled) .native-wrapper{opacity:0.63}"}}},[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],setFocus:[64]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let Kd=0;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Qd=function(){if("undefined"==typeof customElements)return;["ion-checkbox"].forEach((e=>{if("ion-checkbox"===e)customElements.get(e)||customElements.define(e,Yd)}))},Xd=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.outline=!1,this.disabled=!1}render(){const e=nd(this);return ml(gl,{key:"fa2e9a4837ef87a17ef10f388e8caa7f604d9145","aria-disabled":this.disabled?"true":null,class:Dd(this.color,{[e]:!0,"chip-outline":this.outline,"chip-disabled":this.disabled,"ion-activatable":!0})},ml("slot",{key:"3793fbd9d915cef7241fb101e2bc64c08b9ba482"}),"md"===e&&ml("ion-ripple-effect",{key:"d3b95b53918611dec095a50f2aaaab65617947a4"}))}static get style(){return{ios:":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:clamp(13px, 0.875rem, 22px)}",md:":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:0.875rem}"}}},[33,"ion-chip",{color:[513],outline:[4],disabled:[4]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Jd=function(){if("undefined"==typeof customElements)return;["ion-chip","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-chip":customElements.get(e)||customElements.define(e,Xd);break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},Zd="undefined"!=typeof window?window:void 0;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */Zd&&Zd.CSS&&Zd.CSS.supports&&Zd.CSS.supports("--a: 0");
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const eu=i("i",(e=>e&&""!==e.dir?"rtl"===e.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))),tu=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=kl(this,"ionScrollStart",7),this.ionScroll=kl(this,"ionScroll",7),this.ionScrollEnd=kl(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=_c(this.el)}connectedCallback(){if(this.isMainContent=null===this.el.closest("ion-menu, ion-popover, ion-modal"),kc(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");null!==e&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),kc(this.el)){const{tabsElement:e,tabsLoadCallback:t}=this;null!==e&&void 0!==t&&e.removeEventListener("ionTabBarLoaded",t),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout((()=>{null!==this.el.offsetParent&&this.resize()}),100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,t=nd(this);return void 0===e?"ios"===t&&Hc("ios"):e}resize(){this.fullscreen?tl((()=>this.readDimensions())):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,sc(this))}readDimensions(){const e=iu(this.el),t=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||i!==this.cBottom)&&(this.cTop=t,this.cBottom=i,sc(this))}onScroll(e){const t=Date.now(),i=!this.isScrolling;this.lastScroll=t,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,tl((t=>{this.queued=!1,this.detail.event=e,nu(this.detail,this.scrollEl,t,i),this.ionScroll.emit(this.detail)})))}async getScrollElement(){return this.scrollEl||await new Promise((e=>yc(this.el,e))),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise((e=>yc(this.el,e))),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const t=await this.getScrollElement(),i=t.scrollHeight-t.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,t,i){const n=await this.getScrollElement();return this.scrollToPoint(e+n.scrollLeft,t+n.scrollTop,i)}async scrollToPoint(e,t,i=0){const n=await this.getScrollElement();if(i<32)return null!=t&&(n.scrollTop=t),void(null!=e&&(n.scrollLeft=e));let o,r=0;const s=new Promise((e=>o=e)),a=n.scrollTop,l=n.scrollLeft,c=null!=t?t-a:0,d=null!=e?e-l:0,u=e=>{const t=Math.min(1,(e-r)/i)-1,s=Math.pow(t,3)+1;0!==c&&(n.scrollTop=Math.floor(s*c+a)),0!==d&&(n.scrollLeft=Math.floor(s*d+l)),s<1?requestAnimationFrame(u):o()};return requestAnimationFrame((e=>{r=e,u(e)})),s}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval((()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()}),100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:t,isMainContent:i,scrollX:n,scrollY:o,el:r}=this,s=eu(r)?"rtl":"ltr",a=nd(this),l=this.shouldForceOverscroll(),c="ios"===a;return this.resize(),ml(gl,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:i?"main":void 0,class:Dd(this.color,{[a]:!0,"content-sizing":Pd("ion-popover",this.el),overscroll:l,[`content-${s}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},t),ml("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:e=>this.backgroundContentEl=e,id:"background-content",part:"background"}),"before"===e?ml("slot",{name:"fixed"}):null,ml("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":n,"scroll-y":o,overscroll:(n||o)&&l},ref:e=>this.scrollEl=e,onScroll:this.scrollEvents?e=>this.onScroll(e):void 0,part:"scroll"},ml("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),c?ml("div",{class:"transition-effect"},ml("div",{class:"transition-cover"}),ml("div",{class:"transition-shadow"})):null,"after"===e?ml("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}'}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),iu=e=>{const t=e.closest("ion-tabs");if(t)return t;const i=e.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return i||(e=>{var t;return e.parentElement?e.parentElement:(null===(t=e.parentNode)||void 0===t?void 0:t.host)?e.parentNode.host:null})(e)},nu=(e,t,i,n)=>{const o=e.currentX,r=e.currentY,s=e.currentTime,a=t.scrollLeft,l=t.scrollTop,c=i-s;if(n&&(e.startTime=i,e.startX=a,e.startY=l,e.velocityX=e.velocityY=0),e.currentTime=i,e.currentX=e.scrollLeft=a,e.currentY=e.scrollTop=l,e.deltaX=a-e.startX,e.deltaY=l-e.startY,c>0&&c<100){const t=(a-o)/c,i=(l-r)/c;e.velocityX=.7*t+.3*e.velocityX,e.velocityY=.7*i+.3*e.velocityY}};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const ou=function(){if("undefined"==typeof customElements)return;["ion-content"].forEach((e=>{if("ion-content"===e)customElements.get(e)||customElements.define(e,tu)}))},ru="ion-focused",su=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],au=e=>{let t=[],i=!0;const n=e?e.shadowRoot:document,o=e||document.body,r=e=>{t.forEach((e=>e.classList.remove(ru))),e.forEach((e=>e.classList.add(ru))),t=e},s=()=>{i=!1,r([])},a=e=>{i=su.includes(e.key),i||r([])},l=e=>{if(i&&void 0!==e.composedPath){const t=e.composedPath().filter((e=>!!e.classList&&e.classList.contains("ion-focusable")));r(t)}},c=()=>{n.activeElement===o&&r([])};n.addEventListener("keydown",a),n.addEventListener("focusin",l),n.addEventListener("focusout",c),n.addEventListener("touchstart",s,{passive:!0}),n.addEventListener("mousedown",s);return{destroy:()=>{n.removeEventListener("keydown",a),n.removeEventListener("focusin",l),n.removeEventListener("focusout",c),n.removeEventListener("touchstart",s),n.removeEventListener("mousedown",s)},setFocus:r}},lu=Object.freeze(Object.defineProperty({__proto__:null,startFocusVisible:au},Symbol.toStringTag,{value:"Module"})),cu=(e,t)=>e.month===t.month&&e.day===t.day&&e.year===t.year,du=(e,t)=>!!(e.year<t.year||e.year===t.year&&e.month<t.month||e.year===t.year&&e.month===t.month&&null!==e.day&&e.day<t.day),uu=(e,t)=>!!(e.year>t.year||e.year===t.year&&e.month>t.month||e.year===t.year&&e.month===t.month&&null!==e.day&&e.day>t.day),hu=(e,t)=>{if(void 0!==t)return t;const i=new Intl.DateTimeFormat(e,{hour:"numeric"}),n=i.resolvedOptions();if(void 0!==n.hourCycle)return n.hourCycle;const o=new Date("5/18/2021 00:00"),r=i.formatToParts(o).find((e=>"hour"===e.type));if(!r)throw new Error("Hour value not found from DateTimeFormat");switch(r.value){case"0":return"h11";case"12":return"h12";case"00":return"h23";case"24":return"h24";default:throw new Error(`Invalid hour cycle "${t}"`)}},pu=e=>"h23"===e||"h24"===e,mu=(e,t)=>4===e||6===e||9===e||11===e?30:2===e?(e=>e%4==0&&e%100!=0||e%400==0)(t)?29:28:31,fu=(e,t={month:"numeric",year:"numeric"})=>"month"===new Intl.DateTimeFormat(e,t).formatToParts(new Date)[0].type,gu=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,bu=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,vu=e=>{if(void 0===e)return;let t,i=e;return"string"==typeof e&&(i=e.replace(/\[|\]|\s/g,"").split(",")),t=Array.isArray(i)?i.map((e=>parseInt(e,10))).filter(isFinite):[i],t};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function yu(e){if(Array.isArray(e)){const t=[];for(const i of e){const e=yu(i);if(!e)return;t.push(e)}return t}let t=null;if(null!=e&&""!==e&&(t=bu.exec(e),t?(t.unshift(void 0,void 0),t[2]=t[3]=void 0):t=gu.exec(e)),null!==t){for(let e=1;e<8;e++)t[e]=void 0!==t[e]?parseInt(t[e],10):void 0;return{year:t[1],month:t[2],day:t[3],hour:t[4],minute:t[5],ampm:t[4]<12?"am":"pm"}}Ed(`Unable to parse date string: ${e}. Please provide a valid ISO 8601 datetime string.`)}const ku=(e,t,i)=>t&&du(e,t)?t:i&&uu(e,i)?i:e,wu=e=>e>=12?"pm":"am",xu=e=>("0"+(void 0!==e?Math.abs(e):"0")).slice(-2);function _u(e){if(Array.isArray(e))return e.map((e=>_u(e)));let t="";var i;return void 0!==e.year?(t=("000"+(void 0!==(i=e.year)?Math.abs(i):"0")).slice(-4),void 0!==e.month&&(t+="-"+xu(e.month),void 0!==e.day&&(t+="-"+xu(e.day),void 0!==e.hour&&(t+=`T${xu(e.hour)}:${xu(e.minute)}:00`)))):void 0!==e.hour&&(t=xu(e.hour)+":"+xu(e.minute)),t}const Eu=(e,t)=>void 0===t?e:"am"===t?12===e?0:e:12===e?12:e+12,Cu=(e,t)=>{const{month:i,day:n,year:o}=e;if(null===n)throw new Error("No day provided");const r={month:i,day:n,year:o};if(r.day=n-t,r.day<1&&(r.month-=1),r.month<1&&(r.month=12,r.year-=1),r.day<1){const e=mu(r.month,r.year);r.day=e+r.day}return r},Au=(e,t)=>{const{month:i,day:n,year:o}=e;if(null===n)throw new Error("No day provided");const r={month:i,day:n,year:o},s=mu(i,o);return r.day=n+t,r.day>s&&(r.day-=s,r.month+=1),r.month>12&&(r.month=1,r.year+=1),r},Tu=e=>{const t=1===e.month?12:e.month-1,i=1===e.month?e.year-1:e.year,n=mu(t,i);return{month:t,year:i,day:n<e.day?n:e.day}},Su=e=>{const t=12===e.month?1:e.month+1,i=12===e.month?e.year+1:e.year,n=mu(t,i);return{month:t,year:i,day:n<e.day?n:e.day}},Iu=(e,t)=>{const i=e.month,n=e.year+t,o=mu(i,n);return{month:i,year:n,day:o<e.day?o:e.day}},Pu=(e,t,i)=>t?e:Eu(e,i),Du=(e,t)=>{let i=t[0],n=Math.abs(i-e);for(let o=1;o<t.length;o++){const r=t[o],s=Math.abs(r-e);s<n&&(i=r,n=s)}return i},Ru=e=>Object.assign(Object.assign({},e),{timeZone:"UTC",timeZoneName:void 0}),Lu=(e,t,i,n={hour:"numeric",minute:"numeric"})=>{const o={hour:t.hour,minute:t.minute};return void 0===o.hour||void 0===o.minute?"Invalid Time":new Intl.DateTimeFormat(e,Object.assign(Object.assign({},Ru(n)),{hourCycle:i})).format(new Date(_u(Object.assign({year:2023,day:1,month:1},o))+"Z"))},Mu=e=>{const t=e.toString();return t.length>1?t:`0${t}`},Ou=(e,t)=>{if(0===e)switch(t){case"h11":return"0";case"h12":return"12";case"h23":return"00";case"h24":return"24";default:throw new Error(`Invalid hour cycle "${t}"`)}return pu(t)?Mu(e):e.toString()},Nu=(e,t,i)=>{if(null===i.day)return null;const n=Bu(i),o=new Intl.DateTimeFormat(e,{weekday:"long",month:"long",day:"numeric",timeZone:"UTC"}).format(n);return t?`Today, ${o}`:o},$u=(e,t)=>ju(e,t,{day:"numeric"}).find((e=>"day"===e.type)).value,Fu=(e,t)=>zu(e,t,{year:"numeric"}),Bu=e=>{var t,i,n;const o=void 0!==e.hour&&void 0!==e.minute?` ${e.hour}:${e.minute}`:"";return new Date(`${null!==(t=e.month)&&void 0!==t?t:1}/${null!==(i=e.day)&&void 0!==i?i:1}/${null!==(n=e.year)&&void 0!==n?n:2023}${o} GMT+0000`)},zu=(e,t,i)=>{const n=Bu(t);return Vu(e,Ru(i)).format(n)},ju=(e,t,i)=>{const n=Bu(t);return Vu(e,i).formatToParts(n)},Vu=(e,t)=>new Intl.DateTimeFormat(e,Object.assign(Object.assign({},t),{timeZone:"UTC"})),Uu=e=>{if("RelativeTimeFormat"in Intl){const t=new Intl.RelativeTimeFormat(e,{numeric:"auto"}).format(0,"day");return t.charAt(0).toUpperCase()+t.slice(1)}return"Today"},Hu=e=>{const t=e.getTimezoneOffset();return e.setMinutes(e.getMinutes()-t),e},qu=Hu(new Date("2022T01:00")),Gu=Hu(new Date("2022T13:00")),Wu=(e,t)=>{const i="am"===t?qu:Gu,n=new Intl.DateTimeFormat(e,{hour:"numeric",timeZone:"UTC"}).formatToParts(i).find((e=>"dayPeriod"===e.type));return n?n.value:(e=>void 0===e?"":e.toUpperCase())(t)},Yu=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],Ku=[0,1,2,3,4,5,6,7,8,9,10,11],Qu=[0,1,2,3,4,5,6,7,8,9,10,11],Xu=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],Ju=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0],Zu=(e,t,i="h12",n,o,r,s)=>{const a=hu(e,i),l=pu(a);let c=(e=>{switch(e){case"h11":return Ku;case"h12":return Qu;case"h23":return Xu;case"h24":return Ju;default:throw new Error(`Invalid hour cycle "${e}"`)}})(a),d=Yu,u=!0,h=!0;if(r&&(c=c.filter((e=>r.includes(e)))),s&&(d=d.filter((e=>s.includes(e)))),n)if(cu(t,n)){if(void 0!==n.hour&&(c=c.filter((e=>{const i="pm"===t.ampm?(e+12)%24:e;return(l?e:i)>=n.hour})),u=n.hour<13),void 0!==n.minute){let e=!1;void 0!==n.hour&&void 0!==t.hour&&t.hour>n.hour&&(e=!0),d=d.filter((t=>!!e||t>=n.minute))}}else du(t,n)&&(c=[],d=[],u=h=!1);return o&&(cu(t,o)?(void 0!==o.hour&&(c=c.filter((e=>{const i="pm"===t.ampm?(e+12)%24:e;return(l?e:i)<=o.hour})),h=o.hour>=12),void 0!==o.minute&&t.hour===o.hour&&(d=d.filter((e=>e<=o.minute)))):uu(t,o)&&(c=[],d=[],u=h=!1)),{hours:c,minutes:d,am:u,pm:h}},eh=(e,t)=>{const i={month:e.month,year:e.year,day:e.day};if(void 0!==t&&(e.month!==t.month||e.year!==t.year)){const n={month:t.month,year:t.year,day:t.day};return du(n,i)?[n,i,Su(e)]:[Tu(e),i,n]}return[Tu(e),i,Su(e)]},th=(e,t,i,n,o,r={day:"numeric"})=>{const{month:s,year:a}=t,l=[],c=mu(s,a),d=null!==(null==n?void 0:n.day)&&void 0!==(null==n?void 0:n.day)&&n.year===a&&n.month===s?n.day:c,u=null!==(null==i?void 0:i.day)&&void 0!==(null==i?void 0:i.day)&&i.year===a&&i.month===s?i.day:1;if(void 0!==o){let t=o;t=t.filter((e=>e>=u&&e<=d)),t.forEach((t=>{const i=new Date(`${s}/${t}/${a} GMT+0000`),n=new Intl.DateTimeFormat(e,Object.assign(Object.assign({},r),{timeZone:"UTC"})).format(i);l.push({text:n,value:t})}))}else for(let h=u;h<=d;h++){const t=new Date(`${s}/${h}/${a} GMT+0000`),i=new Intl.DateTimeFormat(e,Object.assign(Object.assign({},r),{timeZone:"UTC"})).format(t);l.push({text:i,value:h})}return l},ih=(e,t)=>e.month===t.month&&e.year===t.year?[e]:[e,...ih(Su(e),t)],nh=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionInputModeChange=kl(this,"ionInputModeChange",7),this.useInputMode=!1,this.isInHighlightBounds=e=>{const{highlightEl:t}=this;if(!t)return!1;const i=t.getBoundingClientRect(),n=e.clientX<i.left||e.clientX>i.right,o=e.clientY<i.top||e.clientY>i.bottom;return!n&&!o},this.onFocusOut=e=>{const{relatedTarget:t}=e;(!t||"ION-PICKER-COLUMN"!==t.tagName&&t!==this.inputEl)&&this.exitInputMode()},this.onFocusIn=e=>{const{target:t}=e;if("ION-PICKER-COLUMN"===t.tagName&&!this.actionOnClick){const e=t;e.numericInput?this.enterInputMode(e,!1):this.exitInputMode()}},this.onClick=()=>{const{actionOnClick:e}=this;e&&(e(),this.actionOnClick=void 0)},this.onPointerDown=e=>{const{useInputMode:t,inputModeColumn:i,el:n}=this;if(this.isInHighlightBounds(e))if(t)"ION-PICKER-COLUMN"===e.target.tagName?i&&i===e.target?this.actionOnClick=()=>{this.enterInputMode()}:this.actionOnClick=()=>{this.enterInputMode(e.target)}:this.actionOnClick=()=>{this.exitInputMode()};else{const t=1===n.querySelectorAll("ion-picker-column.picker-column-numeric-input").length?e.target:void 0;this.actionOnClick=()=>{this.enterInputMode(t)}}else this.actionOnClick=()=>{this.exitInputMode()}},this.enterInputMode=(e,t=!0)=>{const{inputEl:i,el:n}=this;if(!i)return;n.querySelector("ion-picker-column.picker-column-numeric-input")&&(this.useInputMode=!0,this.inputModeColumn=e,t?(this.destroyKeypressListener&&(this.destroyKeypressListener(),this.destroyKeypressListener=void 0),i.focus()):(n.addEventListener("keypress",this.onKeyPress),this.destroyKeypressListener=()=>{n.removeEventListener("keypress",this.onKeyPress)}),this.emitInputModeChange())},this.onKeyPress=e=>{const{inputEl:t}=this;if(!t)return;const i=parseInt(e.key,10);Number.isNaN(i)||(t.value+=e.key,this.onInputChange())},this.selectSingleColumn=()=>{const{inputEl:e,inputModeColumn:t,singleColumnSearchTimeout:i}=this;if(!e||!t)return;const n=Array.from(t.querySelectorAll("ion-picker-column-option")).filter((e=>!0!==e.disabled));if(i&&clearTimeout(i),this.singleColumnSearchTimeout=setTimeout((()=>{e.value="",this.singleColumnSearchTimeout=void 0}),1e3),e.value.length>=3){const t=e.value.length-2,i=e.value.substring(t);return e.value=i,void this.selectSingleColumn()}const o=n.find((({textContent:t})=>t.replace(/^0+(?=[1-9])|0+(?=0$)/,"")===e.value));if(o)t.setValue(o.value);else if(2===e.value.length){const t=e.value.substring(e.value.length-1);e.value=t,this.selectSingleColumn()}},this.searchColumn=(e,t,i="start")=>{const n="start"===i?/^0+/:/0$/,o=Array.from(e.querySelectorAll("ion-picker-column-option")).find((e=>!0!==e.disabled&&e.textContent.replace(n,"")===t));o&&e.setValue(o.value)},this.selectMultiColumn=()=>{const{inputEl:e,el:t}=this;if(!e)return;const i=Array.from(t.querySelectorAll("ion-picker-column")).filter((e=>e.numericInput)),n=i[0],o=i[1];let r,s=e.value;switch(s.length){case 1:this.searchColumn(n,s);break;case 2:const t=e.value.substring(0,1);s="0"===t||"1"===t?e.value:t,this.searchColumn(n,s),1===s.length&&(r=e.value.substring(e.value.length-1),this.searchColumn(o,r,"end"));break;case 3:const i=e.value.substring(0,1);s="0"===i||"1"===i?e.value.substring(0,2):i,this.searchColumn(n,s),r=1===s.length?e.value.substring(1):e.value.substring(2),this.searchColumn(o,r,"end");break;case 4:const a=e.value.substring(0,1);s="0"===a||"1"===a?e.value.substring(0,2):a,this.searchColumn(n,s);const l=1===s.length?e.value.substring(1,e.value.length):e.value.substring(2,e.value.length);this.searchColumn(o,l,"end");break;default:const c=e.value.length-4,d=e.value.substring(c);e.value=d,this.selectMultiColumn()}},this.onInputChange=()=>{const{useInputMode:e,inputEl:t,inputModeColumn:i}=this;e&&t&&(i?this.selectSingleColumn():this.selectMultiColumn())},this.emitInputModeChange=()=>{const{useInputMode:e,inputModeColumn:t}=this;this.ionInputModeChange.emit({useInputMode:e,inputModeColumn:t})}}preventTouchStartPropagation(e){e.stopPropagation()}componentWillLoad(){Ac(this.el).addEventListener("focusin",this.onFocusIn),Ac(this.el).addEventListener("focusout",this.onFocusOut)}async exitInputMode(){const{inputEl:e,useInputMode:t}=this;t&&e&&(this.useInputMode=!1,this.inputModeColumn=void 0,e.blur(),e.value="",this.destroyKeypressListener&&(this.destroyKeypressListener(),this.destroyKeypressListener=void 0),this.emitInputModeChange())}render(){return ml(gl,{key:"f92214a09dc85b65873676f40fde2b802960e704",onPointerDown:e=>this.onPointerDown(e),onClick:()=>this.onClick()},ml("input",{key:"6da37f75aca4ea1c9cb3bc733ebda2116279f313","aria-hidden":"true",tabindex:-1,inputmode:"numeric",type:"number",onKeyDown:e=>{var t;"Enter"===e.key&&(null===(t=this.inputEl)||void 0===t||t.blur())},ref:e=>this.inputEl=e,onInput:()=>this.onInputChange(),onBlur:()=>this.exitInputMode()}),ml("div",{key:"298e99d83dd3f5bf2798150bab0bb4024af472fa",class:"picker-before"}),ml("div",{key:"ea578f04eb562a4dc6d6cc92de133dcb9fb7f42a",class:"picker-after"}),ml("div",{key:"84567824956dfe967992a629904836ba8b75b3ec",class:"picker-highlight",ref:e=>this.highlightEl=e}),ml("slot",{key:"df81f8fb90e1f649b608328034528f5c31c70c3b"}))}get el(){return this}static get style(){return{ios:":host{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:1;pointer-events:none}:host .picker-before{top:0;height:83px}:host .picker-before{inset-inline-start:0}:host .picker-after{top:116px;height:84px}:host .picker-after{inset-inline-start:0}:host .picker-highlight{border-radius:var(--highlight-border-radius, 8px);left:0;right:0;top:50%;bottom:0;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;-webkit-transform:translateY(-50%);transform:translateY(-50%);background:var(--highlight-background);z-index:-1}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column:first-of-type){text-align:start}:host ::slotted(ion-picker-column:last-of-type){text-align:end}:host ::slotted(ion-picker-column:only-child){text-align:center}:host .picker-before{background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), to(rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8)));background:linear-gradient(to bottom, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8) 100%)}:host .picker-after{background:-webkit-gradient(linear, left bottom, left top, color-stop(20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), to(rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8)));background:linear-gradient(to top, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8) 100%)}:host .picker-highlight{background:var(--highlight-background, var(--ion-color-step-150, var(--ion-background-color-step-150, #eeeeef)))}",md:":host{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:1;pointer-events:none}:host .picker-before{top:0;height:83px}:host .picker-before{inset-inline-start:0}:host .picker-after{top:116px;height:84px}:host .picker-after{inset-inline-start:0}:host .picker-highlight{border-radius:var(--highlight-border-radius, 8px);left:0;right:0;top:50%;bottom:0;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;-webkit-transform:translateY(-50%);transform:translateY(-50%);background:var(--highlight-background);z-index:-1}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column:first-of-type){text-align:start}:host ::slotted(ion-picker-column:last-of-type){text-align:end}:host ::slotted(ion-picker-column:only-child){text-align:center}:host .picker-before{background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), color-stop(90%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0)));background:linear-gradient(to bottom, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 20%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0) 90%)}:host .picker-after{background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), color-stop(90%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0)));background:linear-gradient(to top, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 30%, rgba(var(--fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0) 90%)}"}}},[33,"ion-picker",{exitInputMode:[64]},[[1,"touchstart","preventTouchStartPropagation"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const oh=i("l","undefined"!=typeof window?window:void 0),rh=i("d","undefined"!=typeof document?document:void 0),sh=()=>{if(void 0!==oh)return oh.Capacitor};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var ah,lh;!function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(ah||(ah={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(lh||(lh={}));const ch={getEngine(){const e=sh();if(null==e?void 0:e.isPluginAvailable("Haptics"))return e.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=sh();return"web"!==(null==e?void 0:e.getPlatform())||"undefined"!=typeof navigator&&void 0!==navigator.vibrate},impact(e){const t=this.getEngine();t&&t.impact({style:e.style})},notification(e){const t=this.getEngine();t&&t.notification({type:e.type})},selection(){this.impact({style:ah.Light})},selectionStart(){const e=this.getEngine();e&&e.selectionStart()},selectionChanged(){const e=this.getEngine();e&&e.selectionChanged()},selectionEnd(){const e=this.getEngine();e&&e.selectionEnd()}},dh=()=>ch.available(),uh=()=>{dh()&&ch.selectionStart()},hh=()=>{dh()&&ch.selectionChanged()},ph=()=>{dh()&&ch.selectionEnd()},mh=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=kl(this,"ionChange",7),this.isScrolling=!1,this.isColumnVisible=!1,this.canExitInputMode=!0,this.updateValueTextOnScroll=!1,this.centerPickerItemInView=(e,t=!0,i=!0)=>{const{isColumnVisible:n,scrollEl:o}=this;if(n&&o){const n=e.offsetTop-3*e.clientHeight+e.clientHeight/2;o.scrollTop!==n&&(this.canExitInputMode=i,this.updateValueTextOnScroll=!1,o.scroll({top:n,left:0,behavior:t?"smooth":void 0}))}},this.setPickerItemActiveState=(e,t)=>{t?e.classList.add(fh):e.classList.remove(fh)},this.inputModeChange=e=>{if(!this.numericInput)return;const{useInputMode:t,inputModeColumn:i}=e.detail,n=void 0===i||i===this.el;t&&n?this.setInputModeActive(!0):this.setInputModeActive(!1)},this.setInputModeActive=e=>{this.isScrolling?this.scrollEndCallback=()=>{this.isActive=e}:this.isActive=e},this.initializeScrollListener=()=>{const e=Hc("ios"),{el:t,scrollEl:i}=this;let n,o=this.activeItem;const r=()=>{Tc((()=>{var r;if(!i)return;n&&(clearTimeout(n),n=void 0),this.isScrolling||(e&&uh(),this.isScrolling=!0);const s=i.getBoundingClientRect(),a=s.x+s.width/2,l=s.y+s.height/2,c=t.getRootNode(),d=c instanceof ShadowRoot?c:rh;if(void 0===d)return;const u=d.elementsFromPoint(a,l).find((e=>"ION-PICKER-COLUMN-OPTION"===e.tagName));void 0!==o&&this.setPickerItemActiveState(o,!1),void 0===u||u.disabled||(u!==o&&(e&&hh(),this.canExitInputMode&&this.exitInputMode()),o=u,this.setPickerItemActiveState(u,!0),this.updateValueTextOnScroll&&(null===(r=this.assistiveFocusable)||void 0===r||r.setAttribute("aria-valuetext",this.getOptionValueText(u))),n=setTimeout((()=>{this.isScrolling=!1,this.updateValueTextOnScroll=!0,e&&ph();const{scrollEndCallback:t}=this;t&&(t(),this.scrollEndCallback=void 0),this.canExitInputMode=!0,this.setValue(u.value)}),250))}))};Tc((()=>{i&&(i.addEventListener("scroll",r),this.destroyScrollListener=()=>{i.removeEventListener("scroll",r)})}))},this.exitInputMode=()=>{const{parentEl:e}=this;null!=e&&(e.exitInputMode(),this.el.classList.remove("picker-column-active"))},this.findNextOption=(e=1)=>{const{activeItem:t}=this;if(!t)return null;let i=t,n=t.nextElementSibling;for(;null!=n;){if(e>0&&e--,"ION-PICKER-COLUMN-OPTION"===n.tagName&&!n.disabled&&0===e)return n;i=n,n=n.nextElementSibling}return i},this.findPreviousOption=(e=1)=>{const{activeItem:t}=this;if(!t)return null;let i=t,n=t.previousElementSibling;for(;null!=n;){if(e>0&&e--,"ION-PICKER-COLUMN-OPTION"===n.tagName&&!n.disabled&&0===e)return n;i=n,n=n.previousElementSibling}return i},this.onKeyDown=e=>{const t=Hc("mobile");let i=null;switch(e.key){case"ArrowDown":i=t?this.findPreviousOption():this.findNextOption();break;case"ArrowUp":i=t?this.findNextOption():this.findPreviousOption();break;case"PageUp":i=t?this.findNextOption(5):this.findPreviousOption(5);break;case"PageDown":i=t?this.findPreviousOption(5):this.findNextOption(5);break;case"Home":i=this.el.querySelector("ion-picker-column-option:first-of-type");break;case"End":i=this.el.querySelector("ion-picker-column-option:last-of-type")}null!==i&&(this.setValue(i.value),e.preventDefault())},this.getOptionValueText=e=>{var t;return e?null!==(t=e.getAttribute("aria-label"))&&void 0!==t?t:e.innerText:""},this.renderAssistiveFocusable=()=>{const{activeItem:e}=this,t=this.getOptionValueText(e);return ml("div",{ref:e=>this.assistiveFocusable=e,class:"assistive-focusable",role:"slider",tabindex:this.disabled?void 0:0,"aria-label":this.ariaLabel,"aria-valuemin":0,"aria-valuemax":0,"aria-valuenow":0,"aria-valuetext":t,"aria-orientation":"vertical",onKeyDown:e=>this.onKeyDown(e)})},this.ariaLabel=null,this.isActive=!1,this.disabled=!1,this.value=void 0,this.color="primary",this.numericInput=!1}ariaLabelChanged(e){this.ariaLabel=e}valueChange(){this.isColumnVisible&&this.scrollActiveItemIntoView(!0)}componentWillLoad(){const e=this.parentEl=this.el.closest("ion-picker");new IntersectionObserver((e=>{if(e[e.length-1].isIntersecting){const{activeItem:e,el:t}=this;this.isColumnVisible=!0;const i=Ac(t).querySelector(`.${fh}`);i&&this.setPickerItemActiveState(i,!1),this.scrollActiveItemIntoView(),e&&this.setPickerItemActiveState(e,!0),this.initializeScrollListener()}else this.isColumnVisible=!1,this.destroyScrollListener&&(this.destroyScrollListener(),this.destroyScrollListener=void 0)}),{threshold:.001,root:this.parentEl}).observe(this.el),null!==e&&e.addEventListener("ionInputModeChange",(e=>this.inputModeChange(e)))}componentDidRender(){const{el:e,activeItem:t,isColumnVisible:i,value:n}=this;if(i&&!t){const t=e.querySelector("ion-picker-column-option");null!==t&&t.value!==n&&this.setValue(t.value)}}async scrollActiveItemIntoView(e=!1){const t=this.activeItem;t&&this.centerPickerItemInView(t,e,!1)}async setValue(e){!0!==this.disabled&&this.value!==e&&(this.value=e,this.ionChange.emit({value:e}))}async setFocus(){this.assistiveFocusable&&this.assistiveFocusable.focus()}connectedCallback(){var e;this.ariaLabel=null!==(e=this.el.getAttribute("aria-label"))&&void 0!==e?e:"Select a value"}get activeItem(){const{value:e}=this;return Array.from(this.el.querySelectorAll("ion-picker-column-option")).find((t=>!(!this.disabled&&t.disabled)&&t.value===e))}render(){const{color:e,disabled:t,isActive:i,numericInput:n}=this,o=nd(this);return ml(gl,{key:"a221dc10f1eb7c41637a16d2c7167c16939822fd",class:Dd(e,{[o]:!0,"picker-column-active":i,"picker-column-numeric-input":n,"picker-column-disabled":t})},this.renderAssistiveFocusable(),ml("slot",{key:"81b0656f606856f3dc0a657bf167d81a5011405e",name:"prefix"}),ml("div",{key:"71b9de67c04150255dd66592601c9d926db0c31c","aria-hidden":"true",class:"picker-opts",ref:e=>{this.scrollEl=e},tabIndex:-1},ml("div",{key:"ebdc2f08c83db0cf17b4be29f28fcb00f529601e",class:"picker-item-empty","aria-hidden":"true"}," "),ml("div",{key:"04ab56fcb8e6a7d6af00204c4560feb99ff34a56",class:"picker-item-empty","aria-hidden":"true"}," "),ml("div",{key:"6cf8f538903faf0fe1e4130f3eaf7b4e2e17cb52",class:"picker-item-empty","aria-hidden":"true"}," "),ml("slot",{key:"1cc392307b70c576be5b81b5226ceba735957f0f"}),ml("div",{key:"23e3f28e2a99b9aa8b7c8f68ad9583e3ca63e9e2",class:"picker-item-empty","aria-hidden":"true"}," "),ml("div",{key:"8a0563f09780c3116af0caebe4f40587ec1f041f",class:"picker-item-empty","aria-hidden":"true"}," "),ml("div",{key:"13207e248fc0009f37e0c90a3ee2bac2f130b856",class:"picker-item-empty","aria-hidden":"true"}," ")),ml("slot",{key:"55ecf2ab5f214f936c2468cbdb7952daf89416b8",name:"suffix"}))}get el(){return this}static get watchers(){return{"aria-label":["ariaLabelChanged"],value:["valueChange"]}}static get style(){return":host{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;max-width:100%;height:200px;font-size:22px;text-align:center}.assistive-focusable{left:0;right:0;top:0;bottom:0;position:absolute;z-index:1;pointer-events:none}.assistive-focusable:focus{outline:none}.picker-opts{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0px;padding-bottom:0px;min-width:26px;max-height:200px;outline:none;text-align:inherit;-webkit-scroll-snap-type:y mandatory;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none}.picker-item-empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;height:34px;border:0px;outline:none;background:transparent;color:inherit;font-family:var(--ion-font-family, inherit);font-size:inherit;line-height:34px;text-align:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.picker-opts::-webkit-scrollbar{display:none}::slotted(ion-picker-column-option){display:block;scroll-snap-align:center}.picker-item-empty,:host(:not([disabled])) ::slotted(ion-picker-column-option.option-disabled){scroll-snap-align:none}::slotted([slot=prefix]),::slotted([slot=suffix]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}::slotted([slot=prefix]){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:0;-ms-flex-pack:end;justify-content:end}::slotted([slot=suffix]){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:0;-ms-flex-pack:start;justify-content:start}:host(.picker-column-disabled) .picker-opts{overflow-y:hidden}:host(.picker-column-disabled) ::slotted(ion-picker-column-option){cursor:default;opacity:0.4;pointer-events:none}@media (any-hover: hover){:host(:focus) .picker-opts{outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}"}},[1,"ion-picker-column",{disabled:[4],value:[1032],color:[513],numericInput:[4,"numeric-input"],ariaLabel:[32],isActive:[32],scrollActiveItemIntoView:[64],setValue:[64],setFocus:[64]},void 0,{"aria-label":["ariaLabelChanged"],value:["valueChange"]}]),fh="option-active";
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const gh=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.pickerColumn=null,this.ariaLabel=null,this.disabled=!1,this.value=void 0,this.color="primary"}onAriaLabelChange(e){this.ariaLabel=e}componentWillLoad(){const e=wc(this.el,["aria-label"]);this.ariaLabel=e["aria-label"]||null}connectedCallback(){this.pickerColumn=this.el.closest("ion-picker-column")}disconnectedCallback(){this.pickerColumn=null}componentDidLoad(){const{pickerColumn:e}=this;null!==e&&e.scrollActiveItemIntoView()}onClick(){const{pickerColumn:e}=this;null!==e&&e.setValue(this.value)}render(){const{color:e,disabled:t,ariaLabel:i}=this,n=nd(this);return ml(gl,{key:"c743c6ef44bb9f765cc15b3b5d2864de6520203a",class:Dd(e,{[n]:!0,"option-disabled":t})},ml("button",{key:"4c3d9eb245c52b2c007f727e145cfb55759bd7a9",tabindex:"-1","aria-label":i,disabled:t,onClick:()=>this.onClick()},ml("slot",{key:"4c907d2187cbe9d5941e27f2b12578e2b7271461"})))}get el(){return this}static get watchers(){return{"aria-label":["onAriaLabelChange"]}}static get style(){return{ios:"button{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:100%;height:34px;border:0px;outline:none;background:transparent;color:inherit;font-family:var(--ion-font-family, inherit);font-size:inherit;line-height:34px;text-align:inherit;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;overflow:hidden}:host(.option-disabled){opacity:0.4}:host(.option-disabled) button{cursor:default}",md:"button{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:100%;height:34px;border:0px;outline:none;background:transparent;color:inherit;font-family:var(--ion-font-family, inherit);font-size:inherit;line-height:34px;text-align:inherit;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;overflow:hidden}:host(.option-disabled){opacity:0.4}:host(.option-disabled) button{cursor:default}:host(.option-active){color:var(--ion-color-base)}"}}},[33,"ion-picker-column-option",{disabled:[4],value:[8],color:[513],ariaLabel:[32]},void 0,{"aria-label":["onAriaLabelChange"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const bh=()=>zc.get("experimentalCloseWatcher",!1)&&void 0!==oh&&"CloseWatcher"in oh,vh=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:99,OVERLAY_BACK_BUTTON_PRIORITY:100,blockHardwareBackButton:()=>{document.addEventListener("backbutton",(()=>{}))},shouldUseCloseWatcher:bh,startHardwareBackButton:()=>{const e=document;let t=!1;const i=()=>{if(t)return;let i=0,n=[];const o=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){n.push({priority:e,handler:t,id:i++})}}});e.dispatchEvent(o);const r=()=>{if(n.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};n.forEach((t=>{t.priority>=e.priority&&(e=t)})),t=!0,n=n.filter((t=>t.id!==e.id)),(async e=>{try{if(null==e?void 0:e.handler){const t=e.handler(r);null!=t&&await t}}catch(f1){console.error(f1)}})(e).then((()=>t=!1))}};r()};if(bh()){let e;const t=()=>{null==e||e.destroy(),e=new oh.CloseWatcher,e.onclose=()=>{i(),t()}};t()}else e.addEventListener("backbutton",i)}},Symbol.toStringTag,{value:"Module"})),yh=async(e,t,i,n,o,r)=>{var s;if(e)return e.attachViewToDom(t,i,o,n);if(!(r||"string"==typeof i||i instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof i?null===(s=t.ownerDocument)||void 0===s?void 0:s.createElement(i):i;return n&&n.forEach((e=>a.classList.add(e))),o&&Object.assign(a,o),t.appendChild(a),await new Promise((e=>yc(a,e))),a},kh=(e,t)=>{if(t){if(e){const i=t.parentElement;return e.removeViewFromDom(i,t)}t.remove()}return Promise.resolve()},wh=()=>{let e,t;return{attachViewToDom:async(i,n,o={},r=[])=>{var s,a;let l;if(e=i,n){const t="string"==typeof n?null===(s=e.ownerDocument)||void 0===s?void 0:s.createElement(n):n;r.forEach((e=>t.classList.add(e))),Object.assign(t,o),e.appendChild(t),l=t,await new Promise((e=>yc(t,e)))}else if(e.children.length>0&&("ION-MODAL"===e.tagName||"ION-POPOVER"===e.tagName)){if(!(l=e.children[0]).classList.contains("ion-delegate-host")){const t=null===(a=e.ownerDocument)||void 0===a?void 0:a.createElement("div");t.classList.add("ion-delegate-host"),r.forEach((e=>t.classList.add(e))),t.append(...e.children),e.appendChild(t),l=t}}const c=document.querySelector("ion-app")||document.body;return t=document.createComment("ionic teleport"),e.parentNode.insertBefore(t,e),c.appendChild(e),null!=l?l:e},removeViewFromDom:()=>(e&&t&&(t.parentNode.insertBefore(e,t),t.remove()),Promise.resolve())}};class xh{constructor(e,t,i,n,o){this.id=t,this.name=i,this.disableScroll=o,this.priority=1e6*n+t,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class _h{constructor(e,t,i,n){this.id=t,this.disable=i,this.disableScroll=n,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Eh="backdrop-no-scroll",Ch=new
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var t;return new xh(this,this.newID(),e.name,null!==(t=e.priority)&&void 0!==t?t:0,!!e.disableScroll)}createBlocker(e={}){return new _h(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,i){return this.canStart(e)?(this.requestedStart.set(t,i),!0):(this.requestedStart.delete(t),!1)}capture(e,t,i){if(!this.start(e,t,i))return!1;const n=this.requestedStart;let o=-1e4;if(n.forEach((e=>{o=Math.max(o,e)})),o===i){this.capturedId=t,n.clear();const i=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(i),!0}return n.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let i=this.disabledGestures.get(e);void 0===i&&(i=new Set,this.disabledGestures.set(e,i)),i.add(t)}enableGesture(e,t){const i=this.disabledGestures.get(e);void 0!==i&&i.delete(t)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(Eh)}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(Eh)}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}},Ah='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Th=(e,t)=>{const i=e.querySelector(Ah);Ih(i,null!=t?t:e)},Sh=(e,t)=>{const i=Array.from(e.querySelectorAll(Ah)),n=i.length>0?i[i.length-1]:null;Ih(n,null!=t?t:e)},Ih=(e,t)=>{let i=e;const n=null==e?void 0:e.shadowRoot;if(n&&(i=n.querySelector(Ah)||e),i){const e=i.closest("ion-radio-group");e?e.setFocus():Sc(i)}else t.focus()};let Ph=0,Dh=0;const Rh=new WeakMap,Lh=e=>({create:t=>jh(e,t),dismiss:(t,i,n)=>qh(document,t,i,e,n),getTop:async()=>Wh(document,e)}),Mh=Lh("ion-alert"),Oh=Lh("ion-action-sheet"),Nh=Lh("ion-modal"),$h=Lh("ion-popover"),Fh=Lh("ion-toast"),Bh=e=>{"undefined"!=typeof document&&Hh(document);const t=Ph++;e.overlayIndex=t},zh=e=>(e.hasAttribute("id")||(e.id="ion-overlay-"+ ++Dh),e.id),jh=(e,t)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(e).then((()=>{const i=document.createElement(e);return i.classList.add("overlay-hidden"),Object.assign(i,Object.assign(Object.assign({},t),{hasController:!0})),Jh(document).appendChild(i),new Promise((e=>yc(i,e)))})):Promise.resolve(),Vh=(e,t)=>{let i=e;const n=null==e?void 0:e.shadowRoot;n&&(i=n.querySelector(Ah)||e),i?Sc(i):t.focus()},Uh=(e,t)=>{const i=Wh(t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),n=e.target;if(!i||!n)return;if(i.classList.contains(hp))return;i.shadowRoot?(()=>{if(i.contains(n))i.lastFocus=n;else if("ION-TOAST"===n.tagName)Vh(i.lastFocus,i);else{const e=i.lastFocus;Th(i),e===t.activeElement&&Sh(i),i.lastFocus=t.activeElement}})():(()=>{if(i===n)i.lastFocus=void 0;else if("ION-TOAST"===n.tagName)Vh(i.lastFocus,i);else{const e=Ac(i);if(!e.contains(n))return;const o=e.querySelector(".ion-overlay-wrapper");if(!o)return;if(o.contains(n)||n===e.querySelector("ion-backdrop"))i.lastFocus=n;else{const e=i.lastFocus;Th(o,i),e===t.activeElement&&Sh(o,i),i.lastFocus=t.activeElement}}})()},Hh=e=>{0===Ph&&(Ph=1,e.addEventListener("focus",(t=>{Uh(t,e)}),!0),e.addEventListener("ionBackButton",(t=>{const i=Wh(e);(null==i?void 0:i.backdropDismiss)&&t.detail.register(100,(()=>{i.dismiss(void 0,rp)}))})),bh()||e.addEventListener("keydown",(t=>{if("Escape"===t.key){const t=Wh(e);(null==t?void 0:t.backdropDismiss)&&t.dismiss(void 0,rp)}})))},qh=(e,t,i,n,o)=>{const r=Wh(e,n,o);return r?r.dismiss(t,i):Promise.reject("overlay does not exist")},Gh=(e,t)=>((e,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter((e=>e.overlayIndex>0))))(e,t).filter((e=>!e.classList.contains("overlay-hidden"))),Wh=(e,t,i)=>{const n=Gh(e,t);return void 0===i?n[n.length-1]:n.find((e=>e.id===i))},Yh=(e=!1)=>{const t=Jh(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},Kh=async(e,t,i,n,o)=>{var r,s;if(e.presented)return;"ION-TOAST"!==e.el.tagName&&Yh(!0),document.body.classList.add(Eh),dp(e.el),cp(e.el),e.presented=!0,e.willPresent.emit(),null===(r=e.willPresentShorthand)||void 0===r||r.emit();const a=nd(e),l=e.enterAnimation?e.enterAnimation:zc.get(t,"ios"===a?i:n);await Zh(e,l,e.el,o)&&(e.didPresent.emit(),null===(s=e.didPresentShorthand)||void 0===s||s.emit()),"ION-TOAST"!==e.el.tagName&&Qh(e.el),!e.keyboardClose||null!==document.activeElement&&e.el.contains(document.activeElement)||e.el.focus(),e.el.removeAttribute("aria-hidden")},Qh=async e=>{let t=document.activeElement;if(!t)return;const i=null==t?void 0:t.shadowRoot;i&&(t=i.querySelector(Ah)||t),await e.onDidDismiss(),null!==document.activeElement&&document.activeElement!==document.body||t.focus()},Xh=async(e,t,i,n,o,r,s)=>{var a,l;if(!e.presented)return!1;const c=void 0!==rh?Gh(rh).filter((e=>"ION-TOAST"!==e.tagName)):[];1===c.length&&c[0].id===e.el.id&&(Yh(!1),document.body.classList.remove(Eh)),e.presented=!1;try{cp(e.el),e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:i}),null===(a=e.willDismissShorthand)||void 0===a||a.emit({data:t,role:i});const c=nd(e),d=e.leaveAnimation?e.leaveAnimation:zc.get(n,"ios"===c?o:r);i!==sp&&await Zh(e,d,e.el,s),e.didDismiss.emit({data:t,role:i}),null===(l=e.didDismissShorthand)||void 0===l||l.emit({data:t,role:i});(Rh.get(e)||[]).forEach((e=>e.destroy())),Rh.delete(e),e.el.classList.add("overlay-hidden"),e.el.style.removeProperty("pointer-events"),void 0!==e.el.lastFocus&&(e.el.lastFocus=void 0)}catch(N0){console.error(N0)}return e.el.remove(),up(),!0},Jh=e=>e.querySelector("ion-app")||e.body,Zh=async(e,t,i,n)=>{i.classList.remove("overlay-hidden");const o=t(e.el,n);e.animated&&zc.getBoolean("animated",!0)||o.duration(0),e.keyboardClose&&o.beforeAddWrite((()=>{const e=i.ownerDocument.activeElement;(null==e?void 0:e.matches("input,ion-input, ion-textarea"))&&e.blur()}));const r=Rh.get(e)||[];return Rh.set(e,[...r,o]),await o.play(),!0},ep=(e,t)=>{let i;const n=new Promise((e=>i=e));return tp(e,t,(e=>{i(e.detail)})),n},tp=(e,t,i)=>{const n=o=>{Cc(e,t,n),i(o)};Ec(e,t,n)},ip=e=>"cancel"===e||e===rp,np=e=>e(),op=(e,t)=>{if("function"==typeof e){return zc.get("_zoneGate",np)((()=>{try{return e(t)}catch(f1){throw f1}}))}},rp="backdrop",sp="gesture",ap=e=>{let t,i=!1;const n=wh(),o=(o=!1)=>{if(t&&!o)return{delegate:t,inline:i};const{el:r,hasController:s,delegate:a}=e,l=r.parentNode;return i=null!==l&&!s,t=i?a||n:a,{inline:i,delegate:t}};return{attachViewToDom:async t=>{const{delegate:i}=o(!0);if(i)return await i.attachViewToDom(e.el,t);const{hasController:n}=e;if(n&&void 0!==t)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:t}=o();t&&void 0!==e.el&&t.removeViewFromDom(e.el.parentElement,e.el)}}},lp=()=>{let e;const t=()=>{e&&(e(),e=void 0)};return{addClickListener:(i,n)=>{t();const o=void 0!==n?document.getElementById(n):null;if(!o)return void Ed(`A trigger element with the ID "${n}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,i);e=((e,t)=>{const i=()=>{t.present()};return e.addEventListener("click",i),()=>{e.removeEventListener("click",i)}})(o,i)},removeClickListener:t}},cp=e=>{void 0!==rh&&Hc("android")&&e.setAttribute("aria-hidden","true")},dp=e=>{var t;if(void 0===rh)return;const i=Gh(rh);for(let n=i.length-1;n>=0;n--){const o=i[n],r=null!==(t=i[n+1])&&void 0!==t?t:e;(r.hasAttribute("aria-hidden")||"ION-TOAST"!==r.tagName)&&o.setAttribute("aria-hidden","true")}},up=()=>{if(void 0===rh)return;const e=Gh(rh);for(let t=e.length-1;t>=0;t--){const i=e[t];if(i.removeAttribute("aria-hidden"),"ION-TOAST"!==i.tagName)break}},hp="ion-disable-focus-trap",pp=()=>{let e;return{lock:async()=>{const t=e;let i;return e=new Promise((e=>i=e)),void 0!==t&&await t,i}}},mp="ionViewWillEnter",fp="ionViewDidEnter",gp="ionViewWillLeave",bp="ionViewDidLeave",vp="ionViewWillUnload",yp=e=>{e.tabIndex=-1,e.focus()},kp=e=>null!==e.offsetParent,wp="ion-last-focus",xp={saveViewFocus:e=>{if(zc.get("focusManagerPriority",!1)){const t=document.activeElement;null!==t&&(null==e?void 0:e.contains(t))&&t.setAttribute(wp,"true")}},setViewFocus:e=>{const t=zc.get("focusManagerPriority",!1);if(Array.isArray(t)&&!e.contains(document.activeElement)){const i=e.querySelector(`[${wp}]`);if(i&&kp(i))return void yp(i);for(const n of t)switch(n){case"content":const t=e.querySelector('main, [role="main"]');if(t&&kp(t))return void yp(t);break;case"heading":const i=e.querySelector('h1, [role="heading"][aria-level="1"]');if(i&&kp(i))return void yp(i);break;case"banner":const o=e.querySelector('header, [role="banner"]');if(o&&kp(o))return void yp(o);break;default:Ed(`Unrecognized focus manager priority value ${n}`)}yp(e)}}},_p=e=>new Promise(((t,i)=>{il((()=>{Ep(e),Cp(e).then((i=>{i.animation&&i.animation.destroy(),Ap(e),t(i)}),(t=>{Ap(e),i(t)}))}))})),Ep=e=>{const t=e.enteringEl,i=e.leavingEl;xp.saveViewFocus(i),Bp(t,i,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),Fp(t,!1),t.style.setProperty("pointer-events","none"),i&&(Fp(i,!1),i.style.setProperty("pointer-events","none"))},Cp=async e=>{const t=await Tp(e);return t&&Ma?Sp(t,e):Ip(e)},Ap=e=>{const t=e.enteringEl,i=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==i&&(i.classList.remove("ion-page-invisible"),i.style.removeProperty("pointer-events")),xp.setViewFocus(t)},Tp=async e=>{if(!e.leavingEl||!e.animated||0===e.duration)return;if(e.animationBuilder)return e.animationBuilder;return"ios"===e.mode?(await Da((()=>a.import("./ios.transition-legacy-CQYWdJ4Z.js")),void 0)).iosTransitionAnimation:(await Da((()=>a.import("./md.transition-legacy-BelAHTZ1.js")),void 0)).mdTransitionAnimation},Sp=async(e,t)=>{await Pp(t,!0);const i=e(t.baseEl,t);Lp(t.enteringEl,t.leavingEl);const n=await Rp(i,t);return t.progressCallback&&t.progressCallback(void 0),n&&Mp(t.enteringEl,t.leavingEl),{hasCompleted:n,animation:i}},Ip=async e=>{const t=e.enteringEl,i=e.leavingEl,n=zc.get("focusManagerPriority",!1);return await Pp(e,n),Lp(t,i),Mp(t,i),{hasCompleted:!0}},Pp=async(e,t)=>{(void 0!==e.deepWait?e.deepWait:t)&&await Promise.all([$p(e.enteringEl),$p(e.leavingEl)]),await Dp(e.viewIsReady,e.enteringEl)},Dp=async(e,t)=>{e&&await e(t)},Rp=(e,t)=>{const i=t.progressCallback,n=new Promise((t=>{e.onFinish((e=>t(1===e)))}));return i?(e.progressStart(!0),i(e)):e.play(),n},Lp=(e,t)=>{Op(t,gp),Op(e,mp)},Mp=(e,t)=>{Op(e,fp),Op(t,bp)},Op=(e,t)=>{if(e){const i=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(i)}},Np=()=>new Promise((e=>Tc((()=>Tc((()=>e())))))),$p=async e=>{const t=e;if(t){if(null!=t.componentOnReady){if(null!=await t.componentOnReady())return}else if(null!=t.__registerHost){const e=new Promise((e=>Tc(e)));return void(await e)}await Promise.all(Array.from(t.children).map($p))}},Fp=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},Bp=(e,t,i)=>{void 0!==e&&(e.style.zIndex="back"===i?"99":"101"),void 0!==t&&(t.style.zIndex="100")};i("g",(e=>{if(e.classList.contains("ion-page"))return e;const t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e}));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let zp;const jp=(e,t,i)=>{const n=t.startsWith("animation")?(e=>{if(void 0===zp){const t=void 0!==e.style.animationName,i=void 0!==e.style.webkitAnimationName;zp=!t&&i?"-webkit-":""}return zp})(e):"";e.style.setProperty(n+t,i)},Vp=(e=[],t)=>{if(void 0!==t){const i=Array.isArray(t)?t:[t];return[...e,...i]}return e},Up=i("b",(e=>{let t,i,n,o,r,s,a,l,c,d,u,h=[],p=[],m=[],f=!1,g={},b=[],v=[],y={},k=0,w=!1,x=!1,_=!0,E=!1,C=!0,A=!1;const T=e,S=[],I=[],P=[],D=[],R=[],L=[],M=[],O=[],N=[],$=[],F=[],B="function"==typeof AnimationEffect||void 0!==oh&&"function"==typeof oh.AnimationEffect,z="function"==typeof Element&&"function"==typeof Element.prototype.animate&&B,j=()=>F,V=e=>{G(),e&&W()},U=(e,t)=>{const i=t.findIndex((t=>t.c===e));i>-1&&t.splice(i,1)},H=(e,t)=>(((null==t?void 0:t.oneTimeCallback)?I:S).push({c:e,o:t}),u),q=()=>(S.length=0,I.length=0,u),G=()=>{z&&(F.forEach((e=>{e.cancel()})),F.length=0)},W=()=>{L.forEach((e=>{(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),L.length=0},Y=()=>void 0!==r?r:a?a.getFill():"both",K=()=>void 0!==l?l:void 0!==s?s:a?a.getDirection():"normal",Q=()=>w?"linear":void 0!==n?n:a?a.getEasing():"linear",X=()=>x?0:void 0!==c?c:void 0!==i?i:a?a.getDuration():0,J=()=>void 0!==o?o:a?a.getIterations():1,Z=()=>void 0!==d?d:void 0!==t?t:a?a.getDelay():0,ee=e=>{z&&j().forEach((t=>{const i=t.effect;if(i.setKeyframes)i.setKeyframes(e);else{const n=new KeyframeEffect(i.target,e,i.getTiming());t.effect=n}}))},te=()=>{0!==k&&(k--,0===k&&((()=>{N.forEach((e=>e())),$.forEach((e=>e()));const e=_?1:0,t=b,i=v,n=y;D.forEach((e=>{const o=e.classList;t.forEach((e=>o.add(e))),i.forEach((e=>o.remove(e)));for(const t in n)n.hasOwnProperty(t)&&jp(e,t,n[t])})),c=void 0,l=void 0,d=void 0,S.forEach((t=>t.c(e,u))),I.forEach((t=>t.c(e,u))),I.length=0,C=!0,_&&(E=!0),_=!0})(),a&&a.animationFinish()))},ie=()=>{(()=>{M.forEach((e=>e())),O.forEach((e=>e()));const e=p,t=m,i=g;D.forEach((n=>{const o=n.classList;e.forEach((e=>o.add(e))),t.forEach((e=>o.remove(e)));for(const e in i)i.hasOwnProperty(e)&&jp(n,e,i[e])}))})(),h.length>0&&z&&(D.forEach((e=>{const t=e.animate(h,{id:T,delay:Z(),duration:X(),easing:Q(),iterations:J(),fill:Y(),direction:K()});t.pause(),F.push(t)})),F.length>0&&(F[0].onfinish=()=>{te()})),f=!0},ne=e=>{e=Math.min(Math.max(e,0),.9999),z&&F.forEach((t=>{t.currentTime=t.effect.getComputedTiming().delay+X()*e,t.pause()}))},oe=e=>{F.forEach((e=>{e.effect.updateTiming({delay:Z(),duration:X(),easing:Q(),iterations:J(),fill:Y(),direction:K()})})),void 0!==e&&ne(e)},re=(e=!1,t=!0,i)=>(e&&R.forEach((n=>{n.update(e,t,i)})),z&&oe(i),u),se=()=>{f&&(z?F.forEach((e=>{e.pause()})):D.forEach((e=>{jp(e,"animation-play-state","paused")})),A=!0)},ae=e=>new Promise((t=>{(null==e?void 0:e.sync)&&(x=!0,H((()=>x=!1),{oneTimeCallback:!0})),f||ie(),E&&(z&&(ne(0),oe()),E=!1),C&&(k=R.length+1,C=!1);const i=()=>{U(n,I),t()},n=()=>{U(i,P),t()};H(n,{oneTimeCallback:!0}),((e,t)=>{P.push({c:e,o:t})})(i,{oneTimeCallback:!0}),R.forEach((e=>{e.play()})),z?(F.forEach((e=>{e.play()})),0!==h.length&&0!==D.length||te()):te(),A=!1})),le=(e,t)=>{const i=h[0];return void 0===i||void 0!==i.offset&&0!==i.offset?h=[{offset:0,[e]:t},...h]:i[e]=t,u};return u={parentAnimation:a,elements:D,childAnimations:R,id:T,animationFinish:te,from:le,to:(e,t)=>{const i=h[h.length-1];return void 0===i||void 0!==i.offset&&1!==i.offset?h=[...h,{offset:1,[e]:t}]:i[e]=t,u},fromTo:(e,t,i)=>le(e,t).to(e,i),parent:e=>(a=e,u),play:ae,pause:()=>(R.forEach((e=>{e.pause()})),se(),u),stop:()=>{R.forEach((e=>{e.stop()})),f&&(G(),f=!1),w=!1,x=!1,C=!0,l=void 0,c=void 0,d=void 0,k=0,E=!1,_=!0,A=!1,P.forEach((e=>e.c(0,u))),P.length=0},destroy:e=>(R.forEach((t=>{t.destroy(e)})),V(e),D.length=0,R.length=0,h.length=0,q(),f=!1,C=!0,u),keyframes:e=>{const t=h!==e;return h=e,t&&ee(h),u},addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(u),R.push(t);else e.parent(u),R.push(e);return u},addElement:e=>{if(null!=e)if(1===e.nodeType)D.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)D.push(e[t]);else console.error("Invalid addElement value");return u},update:re,fill:e=>(r=e,re(!0),u),direction:e=>(s=e,re(!0),u),iterations:e=>(o=e,re(!0),u),duration:e=>(z||0!==e||(e=1),i=e,re(!0),u),easing:e=>(n=e,re(!0),u),delay:e=>(t=e,re(!0),u),getWebAnimations:j,getKeyframes:()=>h,getFill:Y,getDirection:K,getDelay:Z,getIterations:J,getEasing:Q,getDuration:X,afterAddRead:e=>(N.push(e),u),afterAddWrite:e=>($.push(e),u),afterClearStyles:(e=[])=>{for(const t of e)y[t]="";return u},afterStyles:(e={})=>(y=e,u),afterRemoveClass:e=>(v=Vp(v,e),u),afterAddClass:e=>(b=Vp(b,e),u),beforeAddRead:e=>(M.push(e),u),beforeAddWrite:e=>(O.push(e),u),beforeClearStyles:(e=[])=>{for(const t of e)g[t]="";return u},beforeStyles:(e={})=>(g=e,u),beforeRemoveClass:e=>(m=Vp(m,e),u),beforeAddClass:e=>(p=Vp(p,e),u),onFinish:H,isRunning:()=>0!==k&&!A,progressStart:(e=!1,t)=>(R.forEach((i=>{i.progressStart(e,t)})),se(),w=e,f||ie(),re(!1,!0,t),u),progressStep:e=>(R.forEach((t=>{t.progressStep(e)})),ne(e),u),progressEnd:(e,t,i)=>(w=!1,R.forEach((n=>{n.progressEnd(e,t,i)})),void 0!==i&&(c=i),E=!1,_=!0,0===e?(l="reverse"===K()?"normal":"reverse","reverse"===l&&(_=!1),z?(re(),ne(1-t)):(d=(1-t)*X()*-1,re(!1,!1))):1===e&&(z?(re(),ne(t)):(d=t*X()*-1,re(!1,!1))),void 0===e||a||ae(),u)}})),Hp=(e,t,i)=>{const n=t.getBoundingClientRect(),o=n.height;let r=n.width;if("cover"===e&&i){r=i.getBoundingClientRect().width}return{contentWidth:r,contentHeight:o}},qp=(e,t)=>t&&"ION-ITEM"===t.tagName?e.findIndex((e=>e===t)):-1,Gp=e=>{const t=Ac(e).querySelector("button");t&&Tc((()=>t.focus()))},Wp=e=>{const t=async t=>{var i;const n=document.activeElement;let o=[];const r=null===(i=t.target)||void 0===i?void 0:i.tagName;if("ION-POPOVER"===r||"ION-ITEM"===r){try{o=Array.from(e.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(s){}switch(t.key){case"ArrowLeft":await e.getParentPopover()&&e.dismiss(void 0,void 0,!1);break;case"ArrowDown":t.preventDefault();const i=((e,t)=>e[qp(e,t)+1])(o,n);void 0!==i&&Gp(i);break;case"ArrowUp":t.preventDefault();const r=((e,t)=>e[qp(e,t)-1])(o,n);void 0!==r&&Gp(r);break;case"Home":t.preventDefault();const s=o[0];void 0!==s&&Gp(s);break;case"End":t.preventDefault();const a=o[o.length-1];void 0!==a&&Gp(a);break;case"ArrowRight":case" ":case"Enter":if(n&&n.hasAttribute("data-ion-popover-trigger")){const e=new CustomEvent("ionPopoverActivateTrigger");n.dispatchEvent(e)}}}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)},Yp=(e,t,i,n,o,r,s,a,l,c,d)=>{var u;let h={top:0,left:0,width:0,height:0};if("event"===r){if(!d)return l;const e=d;h={top:e.clientY,left:e.clientX,width:1,height:1}}else{const e=d,t=c||(null===(u=null==e?void 0:e.detail)||void 0===u?void 0:u.ionShadowTarget)||(null==e?void 0:e.target);if(!t)return l;const i=t.getBoundingClientRect();h={top:i.top,left:i.left,width:i.width,height:i.height}}const p=Zp(s,h,t,i,n,o,e),m=em(a,s,h,t,i),f=p.top+m.top,g=p.left+m.left,{arrowTop:b,arrowLeft:v}=Jp(s,n,o,f,g,t,i,e),{originX:y,originY:k}=Kp(s,a,e);return{top:f,left:g,referenceCoordinates:h,arrowTop:b,arrowLeft:v,originX:y,originY:k}},Kp=(e,t,i)=>{switch(e){case"top":return{originX:Qp(t),originY:"bottom"};case"bottom":return{originX:Qp(t),originY:"top"};case"left":return{originX:"right",originY:Xp(t)};case"right":return{originX:"left",originY:Xp(t)};case"start":return{originX:i?"left":"right",originY:Xp(t)};case"end":return{originX:i?"right":"left",originY:Xp(t)}}},Qp=e=>{switch(e){case"start":return"left";case"center":return"center";case"end":return"right"}},Xp=e=>{switch(e){case"start":return"top";case"center":return"center";case"end":return"bottom"}},Jp=(e,t,i,n,o,r,s,a)=>{const l={arrowTop:n+s/2-t/2,arrowLeft:o+r-t/2},c={arrowTop:n+s/2-t/2,arrowLeft:o-1.5*t};switch(e){case"top":return{arrowTop:n+s,arrowLeft:o+r/2-t/2};case"bottom":return{arrowTop:n-i,arrowLeft:o+r/2-t/2};case"left":return l;case"right":return c;case"start":return a?c:l;case"end":return a?l:c;default:return{arrowTop:0,arrowLeft:0}}},Zp=(e,t,i,n,o,r,s)=>{const a={top:t.top,left:t.left-i-o},l={top:t.top,left:t.left+t.width+o};switch(e){case"top":return{top:t.top-n-r,left:t.left};case"right":return l;case"bottom":return{top:t.top+t.height+r,left:t.left};case"left":return a;case"start":return s?l:a;case"end":return s?a:l}},em=(e,t,i,n,o)=>{switch(e){case"center":return im(t,i,n,o);case"end":return tm(t,i,n,o);default:return{top:0,left:0}}},tm=(e,t,i,n)=>{switch(e){case"start":case"end":case"left":case"right":return{top:-(n-t.height),left:0};default:return{top:0,left:-(i-t.width)}}},im=(e,t,i,n)=>{switch(e){case"start":case"end":case"left":case"right":return{top:-(n/2-t.height/2),left:0};default:return{top:0,left:-(i/2-t.width/2)}}},nm=(e,t,i,n,o,r,s,a,l,c,d,u,h=0,p=0,m=0)=>{let f=h;const g=p;let b,v=i,y=t,k=c,w=d,x=!1,_=!1;const E=u?u.top+u.height:r/2-a/2,C=u?u.height:0;let A=!1;return v<n+l?(v=n,x=!0,k="left"):s+n+v+l>o&&(_=!0,v=o-s-n,k="right"),E+C+a>r&&("top"===e||"bottom"===e)&&(E-a>0?(y=Math.max(12,E-a-C-(m-1)),f=y+a,w="bottom",A=!0):b=n),{top:y,left:v,bottom:b,originX:k,originY:w,checkSafeAreaLeft:x,checkSafeAreaRight:_,arrowTop:f,arrowLeft:g,addPopoverBottomClass:A}},om=(e,t)=>{var i;const{event:n,size:o,trigger:r,reference:s,side:a,align:l}=t,c=e.ownerDocument,d="rtl"===c.dir,u=c.defaultView.innerWidth,h=c.defaultView.innerHeight,p=Ac(e),m=p.querySelector(".popover-content"),f=p.querySelector(".popover-arrow"),g=r||(null===(i=null==n?void 0:n.detail)||void 0===i?void 0:i.ionShadowTarget)||(null==n?void 0:n.target),{contentWidth:b,contentHeight:v}=Hp(o,m,g),{arrowWidth:y,arrowHeight:k}=(e=>{if(!e)return{arrowWidth:0,arrowHeight:0};const{width:t,height:i}=e.getBoundingClientRect();return{arrowWidth:t,arrowHeight:i}})(f),w=Yp(d,b,v,y,k,s,a,l,{top:h/2-v/2,left:u/2-b/2,originX:d?"right":"left",originY:"top"},r,n),x="cover"===o?0:5,_="cover"===o?0:25,{originX:E,originY:C,top:A,left:T,bottom:S,checkSafeAreaLeft:I,checkSafeAreaRight:P,arrowTop:D,arrowLeft:R,addPopoverBottomClass:L}=nm(a,w.top,w.left,x,u,h,b,v,_,w.originX,w.originY,w.referenceCoordinates,w.arrowTop,w.arrowLeft,k),M=Up(),O=Up(),N=Up();return O.addElement(p.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),N.addElement(p.querySelector(".popover-arrow")).addElement(p.querySelector(".popover-content")).fromTo("opacity",.01,1),M.easing("ease").duration(100).beforeAddWrite((()=>{"cover"===o&&e.style.setProperty("--width",`${b}px`),L&&e.classList.add("popover-bottom"),void 0!==S&&m.style.setProperty("bottom",`${S}px`);let t=`${T}px`;if(I&&(t=`${T}px + var(--ion-safe-area-left, 0)`),P&&(t=`${T}px - var(--ion-safe-area-right, 0)`),m.style.setProperty("top",`calc(${A}px + var(--offset-y, 0))`),m.style.setProperty("left",`calc(${t} + var(--offset-x, 0))`),m.style.setProperty("transform-origin",`${C} ${E}`),null!==f){const e=w.top!==A||w.left!==T,t=((e,t=!1,i,n)=>!(!i&&!n||"top"!==e&&"bottom"!==e&&t))(a,e,n,r);t?(f.style.setProperty("top",`calc(${D}px + var(--offset-y, 0))`),f.style.setProperty("left",`calc(${R}px + var(--offset-x, 0))`)):f.style.setProperty("display","none")}})).addAnimation([O,N])},rm=e=>{const t=Ac(e),i=t.querySelector(".popover-content"),n=t.querySelector(".popover-arrow"),o=Up(),r=Up(),s=Up();return r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s.addElement(t.querySelector(".popover-arrow")).addElement(t.querySelector(".popover-content")).fromTo("opacity",.99,0),o.easing("ease").afterAddWrite((()=>{e.style.removeProperty("--width"),e.classList.remove("popover-bottom"),i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("bottom"),i.style.removeProperty("transform-origin"),n&&(n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("display"))})).duration(300).addAnimation([r,s])},sm=(e,t)=>{var i;const{event:n,size:o,trigger:r,reference:s,side:a,align:l}=t,c=e.ownerDocument,d="rtl"===c.dir,u=c.defaultView.innerWidth,h=c.defaultView.innerHeight,p=Ac(e),m=p.querySelector(".popover-content"),f=r||(null===(i=null==n?void 0:n.detail)||void 0===i?void 0:i.ionShadowTarget)||(null==n?void 0:n.target),{contentWidth:g,contentHeight:b}=Hp(o,m,f),v=Yp(d,g,b,0,0,s,a,l,{top:h/2-b/2,left:u/2-g/2,originX:d?"right":"left",originY:"top"},r,n),y="cover"===o?0:12,{originX:k,originY:w,top:x,left:_,bottom:E}=nm(a,v.top,v.left,y,u,h,g,b,0,v.originX,v.originY,v.referenceCoordinates),C=Up(),A=Up(),T=Up(),S=Up(),I=Up();return A.addElement(p.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),T.addElement(p.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),S.addElement(m).beforeStyles({top:`calc(${x}px + var(--offset-y, 0px))`,left:`calc(${_}px + var(--offset-x, 0px))`,"transform-origin":`${w} ${k}`}).beforeAddWrite((()=>{void 0!==E&&m.style.setProperty("bottom",`${E}px`)})).fromTo("transform","scale(0.8)","scale(1)"),I.addElement(p.querySelector(".popover-viewport")).fromTo("opacity",.01,1),C.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite((()=>{"cover"===o&&e.style.setProperty("--width",`${g}px`),"bottom"===w&&e.classList.add("popover-bottom")})).addAnimation([A,T,S,I])},am=e=>{const t=Ac(e),i=t.querySelector(".popover-content"),n=Up(),o=Up(),r=Up();return o.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(t.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),n.easing("ease").afterAddWrite((()=>{e.style.removeProperty("--width"),e.classList.remove("popover-bottom"),i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("bottom"),i.style.removeProperty("transform-origin")})).duration(150).addAnimation([o,r])},lm=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=kl(this,"ionPopoverDidPresent",7),this.willPresent=kl(this,"ionPopoverWillPresent",7),this.willDismiss=kl(this,"ionPopoverWillDismiss",7),this.didDismiss=kl(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=kl(this,"didPresent",7),this.willPresentShorthand=kl(this,"willPresent",7),this.willDismissShorthand=kl(this,"willDismiss",7),this.didDismissShorthand=kl(this,"didDismiss",7),this.ionMount=kl(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=wh(),this.lockController=pp(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,rp)},this.onLifecycle=e=>{const t=this.usersElement,i=cm[e.type];if(t&&i){const n=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(n)}},this.configureTriggerInteraction=()=>{const{trigger:e,triggerAction:t,el:i,destroyTriggerInteraction:n}=this;if(n&&n(),void 0===e)return;const o=this.triggerEl=void 0!==e?document.getElementById(e):null;o?this.destroyTriggerInteraction=((e,t,i)=>{let n=[];switch(t){case"hover":let e;n=[{eventName:"mouseenter",callback:async t=>{t.stopPropagation(),e&&clearTimeout(e),e=setTimeout((()=>{Tc((()=>{i.presentFromTrigger(t),e=void 0}))}),100)}},{eventName:"mouseleave",callback:t=>{e&&clearTimeout(e);const n=t.relatedTarget;n&&n.closest("ion-popover")!==i&&i.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:e=>e.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:e=>i.presentFromTrigger(e,!0)}];break;case"context-menu":n=[{eventName:"contextmenu",callback:e=>{e.preventDefault(),i.presentFromTrigger(e)}},{eventName:"click",callback:e=>e.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:e=>i.presentFromTrigger(e,!0)}];break;default:n=[{eventName:"click",callback:e=>i.presentFromTrigger(e)},{eventName:"ionPopoverActivateTrigger",callback:e=>i.presentFromTrigger(e,!0)}]}return n.forEach((({eventName:t,callback:i})=>e.addEventListener(t,i))),e.setAttribute("data-ion-popover-trigger","true"),()=>{n.forEach((({eventName:t,callback:i})=>e.removeEventListener(t,i))),e.removeAttribute("data-ion-popover-trigger")}})(o,t,i):Ed(`A trigger element with the ID "${e}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`,this.el)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:e,el:t}=this;e&&e(),this.destroyKeyboardInteraction=Wp(t)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:e,parentPopover:t,triggerAction:i,triggerEl:n,el:o}=this;t&&n&&(e&&e(),this.destroyDismissInteraction=((e,t,i,n)=>{let o=[];const r=Ac(n).querySelector(".popover-content");o="hover"===t?[{eventName:"mouseenter",callback:t=>{document.elementFromPoint(t.clientX,t.clientY)!==e&&i.dismiss(void 0,void 0,!1)}}]:[{eventName:"click",callback:t=>{t.target.closest("[data-ion-popover-trigger]")!==e?i.dismiss(void 0,void 0,!1):t.stopPropagation()}}];return o.forEach((({eventName:e,callback:t})=>r.addEventListener(e,t))),()=>{o.forEach((({eventName:e,callback:t})=>r.removeEventListener(e,t)))}})(n,i,o,t))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:e,el:t}=this;Bh(t),e()}disconnectedCallback(){const{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,t;const{el:i}=this,n=null!==(t=null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)&&void 0!==t?t:zh(i);this.parentPopover=i.closest(`ion-popover:not(#${n})`),void 0===this.alignment&&(this.alignment="ios"===nd(this)?"center":"start")}componentDidLoad(){const{parentPopover:e,isOpen:t}=this;!0===t&&Tc((()=>this.present())),e&&Ec(e,"ionPopoverWillDismiss",(()=>{this.dismiss(void 0,void 0,!1)})),this.configureTriggerInteraction()}async presentFromTrigger(e,t=!1){this.focusDescendantOnPresent=t,await this.present(e),this.focusDescendantOnPresent=!1}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,i=this.inline=null!==t&&!this.hasController;return{inline:i,delegate:this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate}}async present(e){const t=await this.lockController.lock();if(this.presented)return void t();const{el:i}=this,{inline:n,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await yh(o,i,this.component,["popover-viewport"],this.componentProps,n),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),kc(i)?await $p(this.usersElement):this.keepContentsMounted||await Np(),await Kh(this,"popoverEnter",om,sm,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&Th(i),t()}async dismiss(e,t,i=!0){const n=await this.lockController.lock(),{destroyKeyboardInteraction:o,destroyDismissInteraction:r}=this;i&&this.parentPopover&&this.parentPopover.dismiss(e,t,i);const s=await Xh(this,e,t,"popoverLeave",rm,am,this.event);if(s){o&&(o(),this.destroyKeyboardInteraction=void 0),r&&(r(),this.destroyDismissInteraction=void 0);const{delegate:e}=this.getDelegate();await kh(e,this.usersElement)}return n(),s}async getParentPopover(){return this.parentPopover}onDidDismiss(){return ep(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return ep(this.el,"ionPopoverWillDismiss")}render(){const e=nd(this),{onLifecycle:t,parentPopover:i,dismissOnSelect:n,side:o,arrow:r,htmlAttributes:s,focusTrap:a}=this,l=Hc("desktop"),c=r&&!i;return ml(gl,Object.assign({key:"ffe8b37c9ffb5cac210a7307e6cdfcf78712905b","aria-modal":"true","no-router":!0,tabindex:"-1"},s,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({},Rd(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":l,[`popover-side-${o}`]:!0,[hp]:!1===a,"popover-nested":!!i}),onIonPopoverDidPresent:t,onIonPopoverWillPresent:t,onIonPopoverWillDismiss:t,onIonPopoverDidDismiss:t,onIonBackdropTap:this.onBackdropTap}),!i&&ml("ion-backdrop",{key:"12b3ffa3928b4d56a4f09c3d2f5d493d47b45255",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),ml("div",{key:"2c2862d5c7e75b637973c712b4982bf4978c0cdf",class:"popover-wrapper ion-overlay-wrapper",onClick:n?()=>this.dismiss():void 0},c&&ml("div",{key:"0cfacc52afaa7abc28c1b7742889d7a1c23a37ad",class:"popover-arrow",part:"arrow"}),ml("div",{key:"3ef570c44d4fe7f063dd419008c92c8c40d3cd22",class:"popover-content",part:"content"},ml("slot",{key:"6fc5dfdce20fee1642bc1f05d41b5bf7d1034457"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',md:":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}"}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),cm={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function dm(){if("undefined"==typeof customElements)return;["ion-popover","ion-backdrop"].forEach((e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,lm);break;case"ion-backdrop":customElements.get(e)||Id()}}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const um=(e,t,i,n)=>null===e.day||(void 0!==n&&!n.includes(e.day)||(!(!t||!du(e,t))||!(!i||!uu(e,i)))),hm=(e,t,i,n,o,r,s)=>{const a=void 0!==(Array.isArray(i)?i:[i]).find((e=>cu(t,e))),l=cu(t,n);return{disabled:um(t,o,r,s),isActive:a,isToday:l,ariaSelected:a?"true":null,ariaLabel:Nu(e,l,t),text:null!=t.day?$u(e,t):null}},pm=(e,{minParts:t,maxParts:i})=>!!((e,t,i)=>!!(t&&t.year>e)||!!(i&&i.year<e))(e.year,t,i)||!!(t&&du(e,t)||i&&uu(e,i)),mm=(e,t)=>{var i,n,o,r;((null===(i=null==t?void 0:t.date)||void 0===i?void 0:i.timeZone)||(null===(n=null==t?void 0:t.date)||void 0===n?void 0:n.timeZoneName)||(null===(o=null==t?void 0:t.time)||void 0===o?void 0:o.timeZone)||(null===(r=null==t?void 0:t.time)||void 0===r?void 0:r.timeZoneName))&&Ed('Datetime: "timeZone" and "timeZoneName" are not supported in "formatOptions".',e)},fm=(e,t,i)=>{if(i)switch(t){case"date":case"month-year":case"month":case"year":void 0===i.date&&Ed(`Datetime: The '${t}' presentation requires a date object in formatOptions.`,e);break;case"time":void 0===i.time&&Ed("Datetime: The 'time' presentation requires a time object in formatOptions.",e);break;case"date-time":case"time-date":void 0===i.date&&void 0===i.time&&Ed(`Datetime: The '${t}' presentation requires either a date or time object (or both) in formatOptions.`,e)}},gm=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionCancel=kl(this,"ionCancel",7),this.ionChange=kl(this,"ionChange",7),this.ionValueChange=kl(this,"ionValueChange",7),this.ionFocus=kl(this,"ionFocus",7),this.ionBlur=kl(this,"ionBlur",7),this.ionStyle=kl(this,"ionStyle",7),this.ionRender=kl(this,"ionRender",7),this.inputId="ion-dt-"+bm++,this.prevPresentation=null,this.warnIfIncorrectValueUsage=()=>{const{multiple:e,value:t}=this;!e&&Array.isArray(t)&&Ed(`ion-datetime was passed an array of values, but multiple="false". This is incorrect usage and may result in unexpected behaviors. To dismiss this warning, pass a string to the "value" property when multiple="false".\n\n  Value Passed: [${t.map((e=>`'${e}'`)).join(", ")}]\n`,this.el)},this.setValue=e=>{this.value=e,this.ionChange.emit({value:e})},this.getActivePartsWithFallback=()=>{var e;const{defaultParts:t}=this;return null!==(e=this.getActivePart())&&void 0!==e?e:t},this.getActivePart=()=>{const{activeParts:e}=this;return Array.isArray(e)?e[0]:e},this.closeParentOverlay=e=>{const t=this.el.closest("ion-modal, ion-popover");t&&t.dismiss(void 0,e)},this.setWorkingParts=e=>{this.workingParts=Object.assign({},e)},this.setActiveParts=(e,t=!1)=>{if(this.readonly)return;const{multiple:i,minParts:n,maxParts:o,activeParts:r}=this,s=((e,t,i)=>{const{month:n,day:o,year:r}=e,s=ku(Object.assign({},e),t,i),a=mu(n,r);return null!==o&&a<o&&(s.day=a),void 0!==t&&cu(s,t)&&void 0!==s.hour&&void 0!==t.hour&&(s.hour<t.hour?(s.hour=t.hour,s.minute=t.minute):s.hour===t.hour&&void 0!==s.minute&&void 0!==t.minute&&s.minute<t.minute&&(s.minute=t.minute)),void 0!==i&&cu(e,i)&&void 0!==s.hour&&void 0!==i.hour&&(s.hour>i.hour?(s.hour=i.hour,s.minute=i.minute):s.hour===i.hour&&void 0!==s.minute&&void 0!==i.minute&&s.minute>i.minute&&(s.minute=i.minute)),s})(e,n,o);if(this.setWorkingParts(s),i){const e=Array.isArray(r)?r:[r];this.activeParts=t?e.filter((e=>!cu(e,s))):[...e,s]}else this.activeParts=Object.assign({},s);null!==this.el.querySelector('[slot="buttons"]')||this.showDefaultButtons||this.confirm()},this.initializeKeyboardListeners=()=>{const e=this.calendarBodyRef;if(!e)return;const t=this.el.shadowRoot,i=e.querySelector(".calendar-month:nth-of-type(2)"),n=new MutationObserver((t=>{var n;!(null===(n=t[0].oldValue)||void 0===n?void 0:n.includes("ion-focused"))&&e.classList.contains("ion-focused")&&this.focusWorkingDay(i)}));n.observe(e,{attributeFilter:["class"],attributeOldValue:!0}),this.destroyKeyboardMO=()=>{null==n||n.disconnect()},e.addEventListener("keydown",(e=>{const n=t.activeElement;if(!n||!n.classList.contains("calendar-day"))return;const o=(r=n,{month:parseInt(r.getAttribute("data-month"),10),day:parseInt(r.getAttribute("data-day"),10),year:parseInt(r.getAttribute("data-year"),10),dayOfWeek:parseInt(r.getAttribute("data-day-of-week"),10)});var r;let s;switch(e.key){case"ArrowDown":e.preventDefault(),s=Au(o,7);break;case"ArrowUp":e.preventDefault(),s=(e=>Cu(e,7))(o);break;case"ArrowRight":e.preventDefault(),s=(e=>Au(e,1))(o);break;case"ArrowLeft":e.preventDefault(),s=(e=>Cu(e,1))(o);break;case"Home":e.preventDefault(),s=(e=>{const{dayOfWeek:t}=e;if(null==t)throw new Error("No day of week provided");return Cu(e,t)})(o);break;case"End":e.preventDefault(),s=(e=>{const{dayOfWeek:t}=e;if(null==t)throw new Error("No day of week provided");return Au(e,6-t)})(o);break;case"PageUp":e.preventDefault(),s=e.shiftKey?(e=>Iu(e,-1))(o):Tu(o);break;case"PageDown":e.preventDefault(),s=e.shiftKey?(e=>Iu(e,1))(o):Su(o);break;default:return}um(s,this.minParts,this.maxParts)||(this.setWorkingParts(Object.assign(Object.assign({},this.workingParts),s)),requestAnimationFrame((()=>this.focusWorkingDay(i))))}))},this.focusWorkingDay=e=>{const t=e.querySelectorAll(".calendar-day-padding"),{day:i}=this.workingParts;if(null===i)return;const n=e.querySelector(`.calendar-day-wrapper:nth-of-type(${t.length+i}) .calendar-day`);n&&n.focus()},this.processMinParts=()=>{const{min:e,defaultParts:t}=this;this.minParts=void 0!==e?((e,t)=>{const i=yu(e);if(void 0===i)return;const{month:n,day:o,year:r,hour:s,minute:a}=i;return{month:null!=n?n:1,day:null!=o?o:1,year:null!=r?r:t.year,hour:null!=s?s:0,minute:null!=a?a:0}})(e,t):void 0},this.processMaxParts=()=>{const{max:e,defaultParts:t}=this;this.maxParts=void 0!==e?((e,t)=>{const i=yu(e);if(void 0===i)return;const{month:n,day:o,year:r,hour:s,minute:a}=i,l=null!=r?r:t.year,c=null!=n?n:12;return{month:c,day:null!=o?o:mu(c,l),year:l,hour:null!=s?s:23,minute:null!=a?a:59}})(e,t):void 0},this.initializeCalendarListener=()=>{const e=this.calendarBodyRef;if(!e)return;const t=e.querySelectorAll(".calendar-month"),i=t[0],n=t[1],o=t[2],r="ios"===nd(this)&&"undefined"!=typeof navigator&&navigator.maxTouchPoints>1;il((()=>{e.scrollLeft=i.clientWidth*(eu(this.el)?-1:1);const t=t=>{const n=e.getBoundingClientRect(),r=(eu(this.el)?e.scrollLeft>=-2:e.scrollLeft<=2)?i:o,s=r.getBoundingClientRect();if(Math.abs(s.x-n.x)>2)return;const{forceRenderDate:a}=this;return void 0!==a?{month:a.month,year:a.year,day:a.day}:r===i?Tu(t):r===o?Su(t):void 0},s=()=>{r&&(e.style.removeProperty("pointer-events"),l=!1);const i=t(this.workingParts);if(!i)return;const{month:o,day:s,year:a}=i;pm({month:o,year:a,day:null},{minParts:Object.assign(Object.assign({},this.minParts),{day:null}),maxParts:Object.assign(Object.assign({},this.maxParts),{day:null})})||(e.style.setProperty("overflow","hidden"),il((()=>{this.setWorkingParts(Object.assign(Object.assign({},this.workingParts),{month:o,day:s,year:a})),e.scrollLeft=n.clientWidth*(eu(this.el)?-1:1),e.style.removeProperty("overflow"),this.resolveForceDateScrolling&&this.resolveForceDateScrolling()})))};let a,l=!1;const c=()=>{a&&clearTimeout(a),!l&&r&&(e.style.setProperty("pointer-events","none"),l=!0),a=setTimeout(s,50)};e.addEventListener("scroll",c),this.destroyCalendarListener=()=>{e.removeEventListener("scroll",c)}}))},this.destroyInteractionListeners=()=>{const{destroyCalendarListener:e,destroyKeyboardMO:t}=this;void 0!==e&&e(),void 0!==t&&t()},this.processValue=e=>{const t=null!=e&&""!==e&&(!Array.isArray(e)||e.length>0),i=t?yu(e):this.defaultParts,{minParts:n,maxParts:o,workingParts:r,el:s}=this;if(this.warnIfIncorrectValueUsage(),!i)return;t&&((e,t,i)=>{const n=Array.isArray(e)?e:[e];for(const o of n)if(void 0!==t&&du(o,t)||void 0!==i&&uu(o,i)){Ed(`The value provided to ion-datetime is out of bounds.\n\nMin: ${JSON.stringify(t)}\nMax: ${JSON.stringify(i)}\nValue: ${JSON.stringify(e)}`);break}})(i,n,o);const a=Array.isArray(i)?i[0]:i,l=ku(a,n,o),{month:c,day:d,year:u,hour:h,minute:p}=l,m=wu(h);t?Array.isArray(i)?this.activeParts=[...i]:this.activeParts={month:c,day:d,year:u,hour:h,minute:p,ampm:m}:this.activeParts=[];const f=void 0!==c&&c!==r.month||void 0!==u&&u!==r.year,g=s.classList.contains("datetime-ready"),{isGridStyle:b,showMonthAndYear:v}=this;let y=!0;if(Array.isArray(i)){const e=i[0].month;for(const t of i)if(t.month!==e){y=!1;break}}y&&(b&&f&&g&&!v?this.animateToDate(l):this.setWorkingParts({month:c,day:d,year:u,hour:h,minute:p,ampm:m}))},this.animateToDate=async e=>{const{workingParts:t}=this;this.forceRenderDate=e;const i=new Promise((e=>{this.resolveForceDateScrolling=e}));du(e,t)?this.prevMonth():this.nextMonth(),await i,this.resolveForceDateScrolling=void 0,this.forceRenderDate=void 0},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.hasValue=()=>null!=this.value,this.nextMonth=()=>{const e=this.calendarBodyRef;if(!e)return;const t=e.querySelector(".calendar-month:last-of-type");if(!t)return;const i=2*t.offsetWidth;e.scrollTo({top:0,left:i*(eu(this.el)?-1:1),behavior:"smooth"})},this.prevMonth=()=>{const e=this.calendarBodyRef;if(!e)return;e.querySelector(".calendar-month:first-of-type")&&e.scrollTo({top:0,left:0,behavior:"smooth"})},this.toggleMonthAndYearView=()=>{this.showMonthAndYear=!this.showMonthAndYear},this.showMonthAndYear=!1,this.activeParts=[],this.workingParts={month:5,day:28,year:2021,hour:13,minute:52,ampm:"pm"},this.isTimePopoverOpen=!1,this.forceRenderDate=void 0,this.color="primary",this.name=this.inputId,this.disabled=!1,this.formatOptions=void 0,this.readonly=!1,this.isDateEnabled=void 0,this.min=void 0,this.max=void 0,this.presentation="date-time",this.cancelText="Cancel",this.doneText="Done",this.clearText="Clear",this.yearValues=void 0,this.monthValues=void 0,this.dayValues=void 0,this.hourValues=void 0,this.minuteValues=void 0,this.locale="default",this.firstDayOfWeek=0,this.titleSelectedDatesFormatter=void 0,this.multiple=!1,this.highlightedDates=void 0,this.value=void 0,this.showDefaultTitle=!1,this.showDefaultButtons=!1,this.showClearButton=!1,this.showDefaultTimeLabel=!0,this.hourCycle=void 0,this.size="fixed",this.preferWheel=!1}formatOptionsChanged(){const{el:e,formatOptions:t,presentation:i}=this;fm(e,i,t),mm(e,t)}disabledChanged(){this.emitStyle()}minChanged(){this.processMinParts()}maxChanged(){this.processMaxParts()}presentationChanged(){const{el:e,formatOptions:t,presentation:i}=this;fm(e,i,t)}get isGridStyle(){const{presentation:e,preferWheel:t}=this;return("date"===e||"date-time"===e||"time-date"===e)&&!t}yearValuesChanged(){this.parsedYearValues=vu(this.yearValues)}monthValuesChanged(){this.parsedMonthValues=vu(this.monthValues)}dayValuesChanged(){this.parsedDayValues=vu(this.dayValues)}hourValuesChanged(){this.parsedHourValues=vu(this.hourValues)}minuteValuesChanged(){this.parsedMinuteValues=vu(this.minuteValues)}async valueChanged(){const{value:e}=this;this.hasValue()&&this.processValue(e),this.emitStyle(),this.ionValueChange.emit({value:e})}async confirm(e=!1){const{isCalendarPicker:t,activeParts:i,preferWheel:n,workingParts:o}=this;if(void 0!==i||!t){Array.isArray(i)&&0===i.length?n?this.setValue(_u(o)):this.setValue(void 0):this.setValue(_u(i))}e&&this.closeParentOverlay(ym)}async reset(e){this.processValue(e)}async cancel(e=!1){this.ionCancel.emit(),e&&this.closeParentOverlay(vm)}get isCalendarPicker(){const{presentation:e}=this;return"date"===e||"date-time"===e||"time-date"===e}connectedCallback(){this.clearFocusVisible=au(this.el).destroy}disconnectedCallback(){this.clearFocusVisible&&(this.clearFocusVisible(),this.clearFocusVisible=void 0)}initializeListeners(){this.initializeCalendarListener(),this.initializeKeyboardListeners()}componentDidLoad(){const{el:e,intersectionTrackerRef:t}=this,i=new IntersectionObserver((e=>{e[0].isIntersecting&&(this.initializeListeners(),il((()=>{this.el.classList.add("datetime-ready")})))}),{threshold:.01,root:e});Tc((()=>null==i?void 0:i.observe(t)));const n=new IntersectionObserver((e=>{e[0].isIntersecting||(this.destroyInteractionListeners(),this.showMonthAndYear=!1,il((()=>{this.el.classList.remove("datetime-ready")})))}),{threshold:0,root:e});Tc((()=>null==n?void 0:n.observe(t)));const o=Ac(this.el);o.addEventListener("ionFocus",(e=>e.stopPropagation())),o.addEventListener("ionBlur",(e=>e.stopPropagation()))}componentDidRender(){const{presentation:e,prevPresentation:t,calendarBodyRef:i,minParts:n,preferWheel:o,forceRenderDate:r}=this,s=!o&&["date-time","time-date","date"].includes(e);if(void 0!==n&&s&&i){const e=i.querySelector(".calendar-month:nth-of-type(1)");e&&void 0===r&&(i.scrollLeft=e.clientWidth*(eu(this.el)?-1:1))}null!==t?e!==t&&(this.prevPresentation=e,this.destroyInteractionListeners(),this.initializeListeners(),this.showMonthAndYear=!1,Tc((()=>{this.ionRender.emit()}))):this.prevPresentation=e}componentWillLoad(){const{el:e,formatOptions:t,highlightedDates:i,multiple:n,presentation:o,preferWheel:r}=this;n&&("date"!==o&&Ed('Multiple date selection is only supported for presentation="date".',e),r&&Ed('Multiple date selection is not supported with preferWheel="true".',e)),void 0!==i&&("date"!==o&&"date-time"!==o&&"time-date"!==o&&Ed("The highlightedDates property is only supported with the date, date-time, and time-date presentations.",e),r&&Ed('The highlightedDates property is not supported with preferWheel="true".',e)),t&&(fm(e,o,t),mm(e,t));const s=this.parsedHourValues=vu(this.hourValues),a=this.parsedMinuteValues=vu(this.minuteValues),l=this.parsedMonthValues=vu(this.monthValues),c=this.parsedYearValues=vu(this.yearValues),d=this.parsedDayValues=vu(this.dayValues),u=this.todayParts=yu(Hu(new Date).toISOString());this.processMinParts(),this.processMaxParts(),this.defaultParts=(({refParts:e,monthValues:t,dayValues:i,yearValues:n,hourValues:o,minuteValues:r,minParts:s,maxParts:a})=>{const{hour:l,minute:c,day:d,month:u,year:h}=e,p=Object.assign(Object.assign({},e),{dayOfWeek:void 0});if(void 0!==n){const e=n.filter((e=>!(void 0!==s&&e<s.year||void 0!==a&&e>a.year)));p.year=Du(h,e)}if(void 0!==t){const e=t.filter((e=>!(void 0!==s&&p.year===s.year&&e<s.month||void 0!==a&&p.year===a.year&&e>a.month)));p.month=Du(u,e)}if(null!==d&&void 0!==i){const e=i.filter((e=>!(void 0!==s&&du(Object.assign(Object.assign({},p),{day:e}),s)||void 0!==a&&uu(Object.assign(Object.assign({},p),{day:e}),a))));p.day=Du(d,e)}if(void 0!==l&&void 0!==o){const e=o.filter((e=>!(void 0!==(null==s?void 0:s.hour)&&cu(p,s)&&e<s.hour||void 0!==(null==a?void 0:a.hour)&&cu(p,a)&&e>a.hour)));p.hour=Du(l,e),p.ampm=wu(p.hour)}if(void 0!==c&&void 0!==r){const e=r.filter((e=>!(void 0!==(null==s?void 0:s.minute)&&cu(p,s)&&p.hour===s.hour&&e<s.minute||void 0!==(null==a?void 0:a.minute)&&cu(p,a)&&p.hour===a.hour&&e>a.minute)));p.minute=Du(c,e)}return p})({refParts:u,monthValues:l,dayValues:d,yearValues:c,hourValues:s,minuteValues:a,minParts:this.minParts,maxParts:this.maxParts}),this.processValue(this.value),this.emitStyle()}emitStyle(){this.ionStyle.emit({interactive:!0,datetime:!0,"interactive-disabled":this.disabled})}renderFooter(){const{disabled:e,readonly:t,showDefaultButtons:i,showClearButton:n}=this,o=e||t;if(!(null!==this.el.querySelector('[slot="buttons"]'))&&!i&&!n)return;const r=()=>{this.reset(),this.setValue(void 0)};return ml("div",{class:"datetime-footer"},ml("div",{class:"datetime-buttons"},ml("div",{class:{"datetime-action-buttons":!0,"has-clear-button":this.showClearButton}},ml("slot",{name:"buttons"},ml("ion-buttons",null,i&&ml("ion-button",{id:"cancel-button",color:this.color,onClick:()=>this.cancel(!0),disabled:o},this.cancelText),ml("div",{class:"datetime-action-buttons-container"},n&&ml("ion-button",{id:"clear-button",color:this.color,onClick:()=>r(),disabled:o},this.clearText),i&&ml("ion-button",{id:"confirm-button",color:this.color,onClick:()=>this.confirm(!0),disabled:o},this.doneText)))))))}renderWheelPicker(e=this.presentation){const t="time-date"===e?[this.renderTimePickerColumns(e),this.renderDatePickerColumns(e)]:[this.renderDatePickerColumns(e),this.renderTimePickerColumns(e)];return ml("ion-picker",null,t)}renderDatePickerColumns(e){return"date-time"===e||"time-date"===e?this.renderCombinedDatePickerColumn():this.renderIndividualDatePickerColumns(e)}renderCombinedDatePickerColumn(){const{defaultParts:e,disabled:t,workingParts:i,locale:n,minParts:o,maxParts:r,todayParts:s,isDateEnabled:a}=this,l=this.getActivePartsWithFallback(),c=eh(i),d=c[c.length-1];c[0].day=1,d.day=mu(d.month,d.year);const u=((e,t,i,n,o,r)=>{let s=[],a=[],l=ih(i,n);return r&&(l=l.filter((({month:e})=>r.includes(e)))),l.forEach((r=>{const l={month:r.month,day:null,year:r.year},c=th(e,l,i,n,o,{month:"short",day:"numeric",weekday:"short"}),d=[],u=[];c.forEach((i=>{const n=cu(Object.assign(Object.assign({},l),{day:i.value}),t);u.push({text:n?Uu(e):i.text,value:`${l.year}-${l.month}-${i.value}`}),d.push({month:l.month,year:l.year,day:i.value})})),a=[...a,...d],s=[...s,...u]})),{parts:a,items:s}})(n,s,void 0!==o&&uu(o,c[0])?o:c[0],void 0!==r&&du(r,d)?r:d,this.parsedDayValues,this.parsedMonthValues);let h=u.items;const p=u.parts;a&&(h=h.map(((e,t)=>{const i=p[t];let n;try{n=!a(_u(i))}catch(f1){Cd("Exception thrown from provided `isDateEnabled` function. Please check your function and try again.",f1)}return Object.assign(Object.assign({},e),{disabled:n})})));const m=null!==i.day?`${i.year}-${i.month}-${i.day}`:`${e.year}-${e.month}-${e.day}`;return ml("ion-picker-column",{"aria-label":"Select a date",class:"date-column",color:this.color,disabled:t,value:m,onIonChange:e=>{const{value:t}=e.detail,n=p.find((({month:e,day:i,year:n})=>t===`${n}-${e}-${i}`));this.setWorkingParts(Object.assign(Object.assign({},i),n)),this.setActiveParts(Object.assign(Object.assign({},l),n)),e.stopPropagation()}},h.map((e=>ml("ion-picker-column-option",{part:e.value===m?`${km} ${wm}`:km,key:e.value,disabled:e.disabled,value:e.value},e.text))))}renderIndividualDatePickerColumns(e){const{workingParts:t,isDateEnabled:i}=this,n="year"!==e&&"time"!==e?((e,t,i,n,o,r={month:"long"})=>{const{year:s}=t,a=[];if(void 0!==o){let t=o;void 0!==(null==n?void 0:n.month)&&(t=t.filter((e=>e<=n.month))),void 0!==(null==i?void 0:i.month)&&(t=t.filter((e=>e>=i.month))),t.forEach((t=>{const i=new Date(`${t}/1/${s} GMT+0000`),n=new Intl.DateTimeFormat(e,Object.assign(Object.assign({},r),{timeZone:"UTC"})).format(i);a.push({text:n,value:t})}))}else{const t=n&&n.year===s?n.month:12;for(let n=i&&i.year===s?i.month:1;n<=t;n++){const t=new Date(`${n}/1/${s} GMT+0000`),i=new Intl.DateTimeFormat(e,Object.assign(Object.assign({},r),{timeZone:"UTC"})).format(t);a.push({text:i,value:n})}}return a})(this.locale,t,this.minParts,this.maxParts,this.parsedMonthValues):[];let o="date"===e?th(this.locale,t,this.minParts,this.maxParts,this.parsedDayValues):[];i&&(o=o.map((e=>{const{value:n}=e,o="string"==typeof n?parseInt(n):n,r={month:t.month,day:o,year:t.year};let s;try{s=!i(_u(r))}catch(f1){Cd("Exception thrown from provided `isDateEnabled` function. Please check your function and try again.",f1)}return Object.assign(Object.assign({},e),{disabled:s})})));const r="month"!==e&&"time"!==e?((e,t,i,n,o)=>{var r,s;let a=[];if(void 0!==o)a=o,void 0!==(null==n?void 0:n.year)&&(a=a.filter((e=>e<=n.year))),void 0!==(null==i?void 0:i.year)&&(a=a.filter((e=>e>=i.year)));else{const{year:e}=t,o=null!==(r=null==n?void 0:n.year)&&void 0!==r?r:e;for(let t=null!==(s=null==i?void 0:i.year)&&void 0!==s?s:e-100;t<=o;t++)a.push(t)}return a.map((i=>({text:Fu(e,{year:i,month:t.month,day:t.day}),value:i})))})(this.locale,this.defaultParts,this.minParts,this.maxParts,this.parsedYearValues):[];let s=[];return s=fu(this.locale,{month:"numeric",day:"numeric"})?[this.renderMonthPickerColumn(n),this.renderDayPickerColumn(o),this.renderYearPickerColumn(r)]:[this.renderDayPickerColumn(o),this.renderMonthPickerColumn(n),this.renderYearPickerColumn(r)],s}renderDayPickerColumn(e){var t;if(0===e.length)return[];const{disabled:i,workingParts:n}=this,o=this.getActivePartsWithFallback(),r=null!==(t=null!==n.day?n.day:this.defaultParts.day)&&void 0!==t?t:void 0;return ml("ion-picker-column",{"aria-label":"Select a day",class:"day-column",color:this.color,disabled:i,value:r,onIonChange:e=>{this.setWorkingParts(Object.assign(Object.assign({},n),{day:e.detail.value})),this.setActiveParts(Object.assign(Object.assign({},o),{day:e.detail.value})),e.stopPropagation()}},e.map((e=>ml("ion-picker-column-option",{part:e.value===r?`${km} ${wm}`:km,key:e.value,disabled:e.disabled,value:e.value},e.text))))}renderMonthPickerColumn(e){if(0===e.length)return[];const{disabled:t,workingParts:i}=this,n=this.getActivePartsWithFallback();return ml("ion-picker-column",{"aria-label":"Select a month",class:"month-column",color:this.color,disabled:t,value:i.month,onIonChange:e=>{this.setWorkingParts(Object.assign(Object.assign({},i),{month:e.detail.value})),this.setActiveParts(Object.assign(Object.assign({},n),{month:e.detail.value})),e.stopPropagation()}},e.map((e=>ml("ion-picker-column-option",{part:e.value===i.month?`${km} ${wm}`:km,key:e.value,disabled:e.disabled,value:e.value},e.text))))}renderYearPickerColumn(e){if(0===e.length)return[];const{disabled:t,workingParts:i}=this,n=this.getActivePartsWithFallback();return ml("ion-picker-column",{"aria-label":"Select a year",class:"year-column",color:this.color,disabled:t,value:i.year,onIonChange:e=>{this.setWorkingParts(Object.assign(Object.assign({},i),{year:e.detail.value})),this.setActiveParts(Object.assign(Object.assign({},n),{year:e.detail.value})),e.stopPropagation()}},e.map((e=>ml("ion-picker-column-option",{part:e.value===i.year?`${km} ${wm}`:km,key:e.value,disabled:e.disabled,value:e.value},e.text))))}renderTimePickerColumns(e){if(["date","month","month-year","year"].includes(e))return[];const t=void 0!==this.getActivePart(),{hoursData:i,minutesData:n,dayPeriodData:o}=((e,t,i,n,o,r,s)=>{const a=hu(e,i),l=pu(a),{hours:c,minutes:d,am:u,pm:h}=Zu(e,t,a,n,o,r,s),p=c.map((e=>({text:Ou(e,a),value:Pu(e,l,t.ampm)}))),m=d.map((e=>({text:Mu(e),value:e}))),f=[];return u&&!l&&f.push({text:Wu(e,"am"),value:"am"}),h&&!l&&f.push({text:Wu(e,"pm"),value:"pm"}),{minutesData:m,hoursData:p,dayPeriodData:f}})(this.locale,this.workingParts,this.hourCycle,t?this.minParts:void 0,t?this.maxParts:void 0,this.parsedHourValues,this.parsedMinuteValues);return[this.renderHourPickerColumn(i),this.renderMinutePickerColumn(n),this.renderDayPeriodPickerColumn(o)]}renderHourPickerColumn(e){const{disabled:t,workingParts:i}=this;if(0===e.length)return[];const n=this.getActivePartsWithFallback();return ml("ion-picker-column",{"aria-label":"Select an hour",color:this.color,disabled:t,value:n.hour,numericInput:!0,onIonChange:e=>{this.setWorkingParts(Object.assign(Object.assign({},i),{hour:e.detail.value})),this.setActiveParts(Object.assign(Object.assign({},n),{hour:e.detail.value})),e.stopPropagation()}},e.map((e=>ml("ion-picker-column-option",{part:e.value===n.hour?`${km} ${wm}`:km,key:e.value,disabled:e.disabled,value:e.value},e.text))))}renderMinutePickerColumn(e){const{disabled:t,workingParts:i}=this;if(0===e.length)return[];const n=this.getActivePartsWithFallback();return ml("ion-picker-column",{"aria-label":"Select a minute",color:this.color,disabled:t,value:n.minute,numericInput:!0,onIonChange:e=>{this.setWorkingParts(Object.assign(Object.assign({},i),{minute:e.detail.value})),this.setActiveParts(Object.assign(Object.assign({},n),{minute:e.detail.value})),e.stopPropagation()}},e.map((e=>ml("ion-picker-column-option",{part:e.value===n.minute?`${km} ${wm}`:km,key:e.value,disabled:e.disabled,value:e.value},e.text))))}renderDayPeriodPickerColumn(e){const{disabled:t,workingParts:i}=this;if(0===e.length)return[];const n=this.getActivePartsWithFallback(),o=(r=this.locale,"dayPeriod"===new Intl.DateTimeFormat(r,{hour:"numeric"}).formatToParts(new Date)[0].type);var r;return ml("ion-picker-column",{"aria-label":"Select a day period",style:o?{order:"-1"}:{},color:this.color,disabled:t,value:n.ampm,onIonChange:e=>{const t=((e,t)=>{const{ampm:i,hour:n}=e;let o=n;return"am"===i&&"pm"===t?o=Eu(o,"pm"):"pm"===i&&"am"===t&&(o=Math.abs(o-12)),o})(i,e.detail.value);this.setWorkingParts(Object.assign(Object.assign({},i),{ampm:e.detail.value,hour:t})),this.setActiveParts(Object.assign(Object.assign({},n),{ampm:e.detail.value,hour:t})),e.stopPropagation()}},e.map((e=>ml("ion-picker-column-option",{part:e.value===n.ampm?`${km} ${wm}`:km,key:e.value,disabled:e.disabled,value:e.value},e.text))))}renderWheelView(e){const{locale:t}=this,i=fu(t)?"month-first":"year-first";return ml("div",{class:{[`wheel-order-${i}`]:!0}},this.renderWheelPicker(e))}renderCalendarHeader(e){const{disabled:t}=this,i="ios"===e?$c:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 368L256 144 64 368h384z'/></svg>",n="ios"===e?Fc:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",o=t||((e,t,i)=>{const n=Object.assign(Object.assign({},Tu(e)),{day:null});return pm(n,{minParts:t,maxParts:i})})(this.workingParts,this.minParts,this.maxParts),r=t||((e,t)=>{const i=Object.assign(Object.assign({},Su(e)),{day:null});return pm(i,{maxParts:t})})(this.workingParts,this.maxParts),s=this.el.getAttribute("dir")||void 0;return ml("div",{class:"calendar-header"},ml("div",{class:"calendar-action-buttons"},ml("div",{class:"calendar-month-year"},ml("button",{class:{"calendar-month-year-toggle":!0,"ion-activatable":!0,"ion-focusable":!0},part:"month-year-button",disabled:t,"aria-label":this.showMonthAndYear?"Hide year picker":"Show year picker",onClick:()=>this.toggleMonthAndYearView()},ml("span",{id:"toggle-wrapper"},((e,t)=>{const i=Bu(t);return new Intl.DateTimeFormat(e,{month:"long",year:"numeric",timeZone:"UTC"}).format(i)})(this.locale,this.workingParts),ml("ion-icon",{"aria-hidden":"true",icon:this.showMonthAndYear?i:n,lazy:!1,flipRtl:!0})),"md"===e&&ml("ion-ripple-effect",null))),ml("div",{class:"calendar-next-prev"},ml("ion-buttons",null,ml("ion-button",{"aria-label":"Previous month",disabled:o,onClick:()=>this.prevMonth()},ml("ion-icon",{dir:s,"aria-hidden":"true",slot:"icon-only",icon:Nc,lazy:!1,flipRtl:!0})),ml("ion-button",{"aria-label":"Next month",disabled:r,onClick:()=>this.nextMonth()},ml("ion-icon",{dir:s,"aria-hidden":"true",slot:"icon-only",icon:Fc,lazy:!1,flipRtl:!0}))))),ml("div",{class:"calendar-days-of-week","aria-hidden":"true"},((e,t,i=0)=>{const n="ios"===t?"short":"narrow",o=new Intl.DateTimeFormat(e,{weekday:n}),r=new Date("11/01/2020"),s=[];for(let a=i;a<i+7;a++){const e=new Date(r);e.setDate(e.getDate()+a),s.push(o.format(e))}return s})(this.locale,e,this.firstDayOfWeek%7).map((e=>ml("div",{class:"day-of-week"},e)))))}renderMonth(e,t){const{disabled:i,readonly:n}=this,o=void 0===this.parsedYearValues||this.parsedYearValues.includes(t),r=void 0===this.parsedMonthValues||this.parsedMonthValues.includes(e),s=!o||!r,a=i||n,l=i||pm({month:e,year:t,day:null},{minParts:Object.assign(Object.assign({},this.minParts),{day:null}),maxParts:Object.assign(Object.assign({},this.maxParts),{day:null})}),c=this.workingParts.month===e&&this.workingParts.year===t,d=this.getActivePartsWithFallback();return ml("div",{"aria-hidden":c?null:"true",class:{"calendar-month":!0,"calendar-month-disabled":!c&&l}},ml("div",{class:"calendar-month-grid"},((e,t,i)=>{const n=mu(e,t),o=new Date(`${e}/1/${t}`).getDay(),r=o>=i?o-(i+1):6-(i-o);let s=[];for(let a=1;a<=n;a++)s.push({day:a,dayOfWeek:(r+a)%7});for(let a=0;a<=r;a++)s=[{day:null,dayOfWeek:null},...s];return s})(e,t,this.firstDayOfWeek%7).map(((i,n)=>{const{day:o,dayOfWeek:r}=i,{el:l,highlightedDates:c,isDateEnabled:u,multiple:h}=this,p={month:e,day:o,year:t},m=null===o,{isActive:f,isToday:g,ariaLabel:b,ariaSelected:v,disabled:y,text:k}=hm(this.locale,p,this.activeParts,this.todayParts,this.minParts,this.maxParts,this.parsedDayValues),w=_u(p);let x=s||y;if(!x&&void 0!==u)try{x=!u(w)}catch(f1){Cd("Exception thrown from provided `isDateEnabled` function. Please check your function and try again.",l,f1)}const _=x&&a,E=x||a;let C,A;return void 0===c||f||null===o||(C=((e,t,i)=>{if(Array.isArray(e)){const i=t.split("T")[0],n=e.find((e=>e.date===i));if(n)return{textColor:n.textColor,backgroundColor:n.backgroundColor}}else try{return e(t)}catch(f1){Cd("Exception thrown from provided `highlightedDates` callback. Please check your function and try again.",i,f1)}})(c,w,l)),m||(A=`calendar-day${f?" active":""}${g?" today":""}${x?" disabled":""}`),ml("div",{class:"calendar-day-wrapper"},ml("button",{ref:e=>{e&&(e.style.setProperty("color",`${C?C.textColor:""}`,"important"),e.style.setProperty("background-color",`${C?C.backgroundColor:""}`,"important"))},tabindex:"-1","data-day":o,"data-month":e,"data-year":t,"data-index":n,"data-day-of-week":r,disabled:E,class:{"calendar-day-padding":m,"calendar-day":!0,"calendar-day-active":f,"calendar-day-constrained":_,"calendar-day-today":g},part:A,"aria-hidden":m?"true":null,"aria-selected":v,"aria-label":b,onClick:()=>{m||(this.setWorkingParts(Object.assign(Object.assign({},this.workingParts),{month:e,day:o,year:t})),h?this.setActiveParts({month:e,day:o,year:t},f):this.setActiveParts(Object.assign(Object.assign({},d),{month:e,day:o,year:t})))}},k))}))))}renderCalendarBody(){return ml("div",{class:"calendar-body ion-focusable",ref:e=>this.calendarBodyRef=e,tabindex:"0"},eh(this.workingParts,this.forceRenderDate).map((({month:e,year:t})=>this.renderMonth(e,t))))}renderCalendar(e){return ml("div",{class:"datetime-calendar",key:"datetime-calendar"},this.renderCalendarHeader(e),this.renderCalendarBody())}renderTimeLabel(){if(null!==this.el.querySelector('[slot="time-label"]')||this.showDefaultTimeLabel)return ml("slot",{name:"time-label"},"Time")}renderTimeOverlay(){const{disabled:e,hourCycle:t,isTimePopoverOpen:i,locale:n,formatOptions:o}=this,r=hu(n,t),s=this.getActivePartsWithFallback();return[ml("div",{class:"time-header"},this.renderTimeLabel()),ml("button",{class:{"time-body":!0,"time-body-active":i},part:"time-button"+(i?" active":""),"aria-expanded":"false","aria-haspopup":"true",disabled:e,onClick:async e=>{const{popoverRef:t}=this;t&&(this.isTimePopoverOpen=!0,t.present(new CustomEvent("ionShadowTarget",{detail:{ionShadowTarget:e.target}})),await t.onWillDismiss(),this.isTimePopoverOpen=!1)}},Lu(n,s,r,null==o?void 0:o.time)),ml("ion-popover",{alignment:"center",translucent:!0,overlayIndex:1,arrow:!1,onWillPresent:e=>{e.target.querySelectorAll("ion-picker-column").forEach((e=>e.scrollActiveItemIntoView()))},style:{"--offset-y":"-10px","--min-width":"fit-content"},keyboardEvents:!0,ref:e=>this.popoverRef=e},this.renderWheelPicker("time"))]}getHeaderSelectedDateText(){var e;const{activeParts:t,formatOptions:i,multiple:n,titleSelectedDatesFormatter:o}=this,r=Array.isArray(t);let s;if(n&&r&&1!==t.length){if(s=`${t.length} days`,void 0!==o)try{s=o(_u(t))}catch(f1){Cd("Exception in provided `titleSelectedDatesFormatter`: ",f1)}}else s=zu(this.locale,this.getActivePartsWithFallback(),null!==(e=null==i?void 0:i.date)&&void 0!==e?e:{weekday:"short",month:"short",day:"numeric"});return s}renderHeader(e=!0){if(null!==this.el.querySelector('[slot="title"]')||this.showDefaultTitle)return ml("div",{class:"datetime-header"},ml("div",{class:"datetime-title"},ml("slot",{name:"title"},"Select Date")),e&&ml("div",{class:"datetime-selected-date"},this.getHeaderSelectedDateText()))}renderTime(){const{presentation:e}=this;return ml("div",{class:"datetime-time"},"time"===e?this.renderWheelPicker():this.renderTimeOverlay())}renderCalendarViewMonthYearPicker(){return ml("div",{class:"datetime-year"},this.renderWheelView("month-year"))}renderDatetime(e){const{presentation:t,preferWheel:i}=this;if(i&&("date"===t||"date-time"===t||"time-date"===t))return[this.renderHeader(!1),this.renderWheelView(),this.renderFooter()];switch(t){case"date-time":return[this.renderHeader(),this.renderCalendar(e),this.renderCalendarViewMonthYearPicker(),this.renderTime(),this.renderFooter()];case"time-date":return[this.renderHeader(),this.renderTime(),this.renderCalendar(e),this.renderCalendarViewMonthYearPicker(),this.renderFooter()];case"time":return[this.renderHeader(!1),this.renderTime(),this.renderFooter()];case"month":case"month-year":case"year":return[this.renderHeader(!1),this.renderWheelView(),this.renderFooter()];default:return[this.renderHeader(),this.renderCalendar(e),this.renderCalendarViewMonthYearPicker(),this.renderFooter()]}}render(){const{name:e,value:t,disabled:i,el:n,color:o,readonly:r,showMonthAndYear:s,preferWheel:a,presentation:l,size:c,isGridStyle:d}=this,u=nd(this),h="year"===l||"month"===l||"month-year"===l,p=s||h,m=s&&!h,f=("date"===l||"date-time"===l||"time-date"===l)&&a;return Ic(0,n,e,(e=>Array.isArray(e)?e.join(","):e)(t),i),ml(gl,{key:"7afbb1a7e6c78389b4588999779e5c90e010e85d","aria-disabled":i?"true":null,onFocus:this.onFocus,onBlur:this.onBlur,class:Object.assign({},Dd(o,{[u]:!0,"datetime-readonly":r,"datetime-disabled":i,"show-month-and-year":p,"month-year-picker-open":m,[`datetime-presentation-${l}`]:!0,[`datetime-size-${c}`]:!0,"datetime-prefer-wheel":f,"datetime-grid":d}))},ml("div",{key:"297c458d4d17154cb297e2ef5926505bcb2d1fce",class:"intersection-tracker",ref:e=>this.intersectionTrackerRef=e}),this.renderDatetime(u))}get el(){return this}static get watchers(){return{formatOptions:["formatOptionsChanged"],disabled:["disabledChanged"],min:["minChanged"],max:["maxChanged"],presentation:["presentationChanged"],yearValues:["yearValuesChanged"],monthValues:["monthValuesChanged"],dayValues:["dayValuesChanged"],hourValues:["hourValuesChanged"],minuteValues:["minuteValuesChanged"],value:["valueChanged"]}}static get style(){return{ios:':host{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;background:var(--background);overflow:hidden}:host(.datetime-size-fixed){width:auto;height:auto}:host(.datetime-size-fixed:not(.datetime-prefer-wheel)){max-width:350px}:host(.datetime-size-fixed.datetime-prefer-wheel){min-width:350px;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content}:host(.datetime-size-cover){width:100%}:host .calendar-body,:host .datetime-year{opacity:0}:host(:not(.datetime-ready)) .datetime-year{position:absolute;pointer-events:none}:host(.datetime-ready) .calendar-body{opacity:1}:host(.datetime-ready) .datetime-year{display:none;opacity:1}:host .wheel-order-year-first .day-column{-ms-flex-order:3;order:3;text-align:end}:host .wheel-order-year-first .month-column{-ms-flex-order:2;order:2;text-align:end}:host .wheel-order-year-first .year-column{-ms-flex-order:1;order:1;text-align:start}:host .datetime-calendar,:host .datetime-year{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-flow:column;flex-flow:column}:host(.show-month-and-year) .datetime-year{display:-ms-flexbox;display:flex}:host(.show-month-and-year) .calendar-next-prev,:host(.show-month-and-year) .calendar-days-of-week,:host(.show-month-and-year) .calendar-body,:host(.show-month-and-year) .datetime-time{display:none}:host(.month-year-picker-open) .datetime-footer{display:none}:host(.datetime-disabled){pointer-events:none}:host(.datetime-disabled) .calendar-days-of-week,:host(.datetime-disabled) .datetime-time{opacity:0.4}:host(.datetime-readonly){pointer-events:none;}:host(.datetime-readonly) .calendar-action-buttons,:host(.datetime-readonly) .calendar-body,:host(.datetime-readonly) .datetime-year{pointer-events:initial}:host(.datetime-readonly) .calendar-day[disabled]:not(.calendar-day-constrained),:host(.datetime-readonly) .datetime-action-buttons ion-button[disabled]{opacity:1}:host .datetime-header .datetime-title{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host .datetime-action-buttons.has-clear-button{width:100%}:host .datetime-action-buttons ion-buttons{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.datetime-action-buttons .datetime-action-buttons-container{display:-ms-flexbox;display:flex}:host .calendar-action-buttons{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host .calendar-action-buttons ion-button{--background:transparent}:host .calendar-days-of-week{display:grid;grid-template-columns:repeat(7, 1fr);text-align:center}.calendar-days-of-week .day-of-week{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0}:host .calendar-body{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;overflow-x:scroll;overflow-y:hidden;scrollbar-width:none;outline:none}:host .calendar-body .calendar-month{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;scroll-snap-align:start;scroll-snap-stop:always;-ms-flex-negative:0;flex-shrink:0;width:100%}:host .calendar-body .calendar-month-disabled{scroll-snap-align:none}:host .calendar-body::-webkit-scrollbar{display:none}:host .calendar-body .calendar-month-grid{display:grid;grid-template-columns:repeat(7, 1fr)}:host .calendar-day-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;min-width:0;min-height:0;overflow:visible}.calendar-day{border-radius:50%;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:0px;margin-bottom:0px;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border:none;outline:none;background:none;color:currentColor;font-family:var(--ion-font-family, inherit);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:0}:host .calendar-day[disabled]{pointer-events:none;opacity:0.4}.calendar-day:focus{background:rgba(var(--ion-color-base-rgb), 0.2);-webkit-box-shadow:0px 0px 0px 4px rgba(var(--ion-color-base-rgb), 0.2);box-shadow:0px 0px 0px 4px rgba(var(--ion-color-base-rgb), 0.2)}:host .datetime-time{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host(.datetime-presentation-time) .datetime-time{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host ion-popover{--height:200px}:host .time-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .time-body{border-radius:8px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-flexbox;display:flex;border:none;background:var(--ion-color-step-300, var(--ion-background-color-step-300, #edeef0));color:var(--ion-text-color, #000);font-family:inherit;font-size:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}:host .time-body-active{color:var(--ion-color-base)}:host(.in-item){position:static}:host(.show-month-and-year) .calendar-action-buttons .calendar-month-year-toggle{color:var(--ion-color-base)}.calendar-month-year{min-width:0}.calendar-month-year-toggle{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;position:relative;border:0;outline:none;background:transparent;cursor:pointer;z-index:1}.calendar-month-year-toggle::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:opacity 15ms linear, background-color 15ms linear;transition:opacity 15ms linear, background-color 15ms linear;z-index:-1}.calendar-month-year-toggle.ion-focused::after{background:currentColor}.calendar-month-year-toggle:disabled{opacity:0.3;pointer-events:none}.calendar-month-year-toggle ion-icon{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:0;padding-inline-end:0;padding-top:0;padding-bottom:0;-ms-flex-negative:0;flex-shrink:0}.calendar-month-year-toggle #toggle-wrapper{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center}ion-picker{--highlight-background:var(--wheel-highlight-background);--highlight-border-radius:var(--wheel-highlight-border-radius);--fade-background-rgb:var(--wheel-fade-background-rgb)}:host{--background:var(--ion-color-light, #f4f5f8);--background-rgb:var(--ion-color-light-rgb, 244, 245, 248);--title-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}:host(.datetime-presentation-date-time:not(.datetime-prefer-wheel)),:host(.datetime-presentation-time-date:not(.datetime-prefer-wheel)),:host(.datetime-presentation-date:not(.datetime-prefer-wheel)){min-height:350px}:host .datetime-header{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:16px;padding-bottom:16px;border-bottom:0.55px solid var(--ion-color-step-200, var(--ion-background-color-step-200, #cccccc));font-size:min(0.875rem, 22.4px)}:host .datetime-header .datetime-title{color:var(--title-color)}:host .datetime-header .datetime-selected-date{margin-top:10px}.calendar-month-year-toggle{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0px;padding-bottom:0px;min-height:44px;font-size:min(1rem, 25.6px);font-weight:600}.calendar-month-year-toggle.ion-focused::after{opacity:0.15}.calendar-month-year-toggle #toggle-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host .calendar-action-buttons .calendar-month-year-toggle ion-icon,:host .calendar-action-buttons ion-buttons ion-button{color:var(--ion-color-base)}:host .calendar-action-buttons ion-buttons{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:0}:host .calendar-action-buttons ion-buttons ion-button{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host .calendar-days-of-week{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0;color:var(--ion-color-step-300, var(--ion-text-color-step-700, #b3b3b3));font-size:min(0.75rem, 19.2px);font-weight:600;line-height:24px;text-transform:uppercase}@supports (border-radius: mod(1px, 1px)){.calendar-days-of-week .day-of-week{width:clamp(20px, calc(mod(min(1rem, 24px), 24px) * 10), 100%);height:24px;overflow:hidden}.calendar-day{border-radius:max(8px, mod(min(1rem, 24px), 24px) * 10)}}@supports ((border-radius: mod(1px, 1px)) and (background: -webkit-named-image(apple-pay-logo-black)) and (not (contain-intrinsic-size: none))) or (not (border-radius: mod(1px, 1px))){.calendar-days-of-week .day-of-week{width:auto;height:auto;overflow:initial}.calendar-day{border-radius:32px}}:host .calendar-body .calendar-month .calendar-month-grid{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-ms-flex-align:center;align-items:center;height:calc(100% - 16px)}:host .calendar-day-wrapper{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;height:0;min-height:1rem}:host .calendar-day{width:40px;min-width:40px;height:40px;font-size:min(1.25rem, 32px)}.calendar-day.calendar-day-active{background:rgba(var(--ion-color-base-rgb), 0.2);font-size:min(1.375rem, 35.2px)}:host .calendar-day.calendar-day-today{color:var(--ion-color-base)}:host .calendar-day.calendar-day-active{color:var(--ion-color-base);font-weight:600}:host .calendar-day.calendar-day-today.calendar-day-active{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host .datetime-time{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:8px;padding-bottom:16px;font-size:min(1rem, 25.6px)}:host .datetime-time .time-header{font-weight:600}:host .datetime-buttons{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;border-top:0.55px solid var(--ion-color-step-200, var(--ion-background-color-step-200, #cccccc))}:host .datetime-buttons ::slotted(ion-buttons),:host .datetime-buttons ion-buttons{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}:host .datetime-action-buttons{width:100%}',md:':host{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;background:var(--background);overflow:hidden}:host(.datetime-size-fixed){width:auto;height:auto}:host(.datetime-size-fixed:not(.datetime-prefer-wheel)){max-width:350px}:host(.datetime-size-fixed.datetime-prefer-wheel){min-width:350px;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content}:host(.datetime-size-cover){width:100%}:host .calendar-body,:host .datetime-year{opacity:0}:host(:not(.datetime-ready)) .datetime-year{position:absolute;pointer-events:none}:host(.datetime-ready) .calendar-body{opacity:1}:host(.datetime-ready) .datetime-year{display:none;opacity:1}:host .wheel-order-year-first .day-column{-ms-flex-order:3;order:3;text-align:end}:host .wheel-order-year-first .month-column{-ms-flex-order:2;order:2;text-align:end}:host .wheel-order-year-first .year-column{-ms-flex-order:1;order:1;text-align:start}:host .datetime-calendar,:host .datetime-year{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-flow:column;flex-flow:column}:host(.show-month-and-year) .datetime-year{display:-ms-flexbox;display:flex}:host(.show-month-and-year) .calendar-next-prev,:host(.show-month-and-year) .calendar-days-of-week,:host(.show-month-and-year) .calendar-body,:host(.show-month-and-year) .datetime-time{display:none}:host(.month-year-picker-open) .datetime-footer{display:none}:host(.datetime-disabled){pointer-events:none}:host(.datetime-disabled) .calendar-days-of-week,:host(.datetime-disabled) .datetime-time{opacity:0.4}:host(.datetime-readonly){pointer-events:none;}:host(.datetime-readonly) .calendar-action-buttons,:host(.datetime-readonly) .calendar-body,:host(.datetime-readonly) .datetime-year{pointer-events:initial}:host(.datetime-readonly) .calendar-day[disabled]:not(.calendar-day-constrained),:host(.datetime-readonly) .datetime-action-buttons ion-button[disabled]{opacity:1}:host .datetime-header .datetime-title{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host .datetime-action-buttons.has-clear-button{width:100%}:host .datetime-action-buttons ion-buttons{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.datetime-action-buttons .datetime-action-buttons-container{display:-ms-flexbox;display:flex}:host .calendar-action-buttons{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host .calendar-action-buttons ion-button{--background:transparent}:host .calendar-days-of-week{display:grid;grid-template-columns:repeat(7, 1fr);text-align:center}.calendar-days-of-week .day-of-week{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0}:host .calendar-body{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;overflow-x:scroll;overflow-y:hidden;scrollbar-width:none;outline:none}:host .calendar-body .calendar-month{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;scroll-snap-align:start;scroll-snap-stop:always;-ms-flex-negative:0;flex-shrink:0;width:100%}:host .calendar-body .calendar-month-disabled{scroll-snap-align:none}:host .calendar-body::-webkit-scrollbar{display:none}:host .calendar-body .calendar-month-grid{display:grid;grid-template-columns:repeat(7, 1fr)}:host .calendar-day-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;min-width:0;min-height:0;overflow:visible}.calendar-day{border-radius:50%;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:0px;margin-bottom:0px;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border:none;outline:none;background:none;color:currentColor;font-family:var(--ion-font-family, inherit);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:0}:host .calendar-day[disabled]{pointer-events:none;opacity:0.4}.calendar-day:focus{background:rgba(var(--ion-color-base-rgb), 0.2);-webkit-box-shadow:0px 0px 0px 4px rgba(var(--ion-color-base-rgb), 0.2);box-shadow:0px 0px 0px 4px rgba(var(--ion-color-base-rgb), 0.2)}:host .datetime-time{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host(.datetime-presentation-time) .datetime-time{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host ion-popover{--height:200px}:host .time-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .time-body{border-radius:8px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-flexbox;display:flex;border:none;background:var(--ion-color-step-300, var(--ion-background-color-step-300, #edeef0));color:var(--ion-text-color, #000);font-family:inherit;font-size:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}:host .time-body-active{color:var(--ion-color-base)}:host(.in-item){position:static}:host(.show-month-and-year) .calendar-action-buttons .calendar-month-year-toggle{color:var(--ion-color-base)}.calendar-month-year{min-width:0}.calendar-month-year-toggle{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;position:relative;border:0;outline:none;background:transparent;cursor:pointer;z-index:1}.calendar-month-year-toggle::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:opacity 15ms linear, background-color 15ms linear;transition:opacity 15ms linear, background-color 15ms linear;z-index:-1}.calendar-month-year-toggle.ion-focused::after{background:currentColor}.calendar-month-year-toggle:disabled{opacity:0.3;pointer-events:none}.calendar-month-year-toggle ion-icon{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:0;padding-inline-end:0;padding-top:0;padding-bottom:0;-ms-flex-negative:0;flex-shrink:0}.calendar-month-year-toggle #toggle-wrapper{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center}ion-picker{--highlight-background:var(--wheel-highlight-background);--highlight-border-radius:var(--wheel-highlight-border-radius);--fade-background-rgb:var(--wheel-fade-background-rgb)}:host{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #ffffff));--title-color:var(--ion-color-contrast)}:host .datetime-header{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:20px;background:var(--ion-color-base);color:var(--title-color)}:host .datetime-header .datetime-title{font-size:0.75rem;text-transform:uppercase}:host .datetime-header .datetime-selected-date{margin-top:30px;font-size:2.125rem}:host .calendar-action-buttons ion-button{--color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959))}.calendar-month-year-toggle{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;min-height:48px;background:transparent;color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959));z-index:1}.calendar-month-year-toggle.ion-focused::after{opacity:0.04}.calendar-month-year-toggle ion-ripple-effect{color:currentColor}@media (any-hover: hover){.calendar-month-year-toggle.ion-activatable:not(.ion-focused):hover::after{background:currentColor;opacity:0.04}}:host .calendar-days-of-week{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:0px;padding-bottom:0px;color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray));font-size:0.875rem;line-height:36px}:host .calendar-body .calendar-month .calendar-month-grid{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:4px;padding-bottom:4px;grid-template-rows:repeat(6, 1fr)}:host .calendar-day{width:42px;min-width:42px;height:42px;font-size:0.875rem}:host .calendar-day.calendar-day-today{border:1px solid var(--ion-color-base);color:var(--ion-color-base)}:host .calendar-day.calendar-day-active{color:var(--ion-color-contrast)}.calendar-day.calendar-day-active{border:1px solid var(--ion-color-base);background:var(--ion-color-base)}:host .datetime-time{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:8px;padding-bottom:8px}:host .time-header{color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959))}:host(.datetime-presentation-month) .datetime-year,:host(.datetime-presentation-year) .datetime-year,:host(.datetime-presentation-month-year) .datetime-year{margin-top:20px;margin-bottom:20px}:host .datetime-buttons{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end}'}}},[33,"ion-datetime",{color:[1],name:[1],disabled:[4],formatOptions:[16],readonly:[4],isDateEnabled:[16],min:[1025],max:[1025],presentation:[1],cancelText:[1,"cancel-text"],doneText:[1,"done-text"],clearText:[1,"clear-text"],yearValues:[8,"year-values"],monthValues:[8,"month-values"],dayValues:[8,"day-values"],hourValues:[8,"hour-values"],minuteValues:[8,"minute-values"],locale:[1],firstDayOfWeek:[2,"first-day-of-week"],titleSelectedDatesFormatter:[16],multiple:[4],highlightedDates:[16],value:[1025],showDefaultTitle:[4,"show-default-title"],showDefaultButtons:[4,"show-default-buttons"],showClearButton:[4,"show-clear-button"],showDefaultTimeLabel:[4,"show-default-time-label"],hourCycle:[1,"hour-cycle"],size:[1],preferWheel:[4,"prefer-wheel"],showMonthAndYear:[32],activeParts:[32],workingParts:[32],isTimePopoverOpen:[32],forceRenderDate:[32],confirm:[64],reset:[64],cancel:[64]},void 0,{formatOptions:["formatOptionsChanged"],disabled:["disabledChanged"],min:["minChanged"],max:["maxChanged"],presentation:["presentationChanged"],yearValues:["yearValuesChanged"],monthValues:["monthValuesChanged"],dayValues:["dayValuesChanged"],hourValues:["hourValuesChanged"],minuteValues:["minuteValuesChanged"],value:["valueChanged"]}]);let bm=0;const vm="datetime-cancel",ym="datetime-confirm",km="wheel-item",wm="active";const xm=function(){if("undefined"==typeof customElements)return;["ion-datetime","ion-backdrop","ion-button","ion-buttons","ion-icon","ion-picker","ion-picker-column","ion-picker-column-option","ion-popover","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-datetime":customElements.get(e)||customElements.define(e,gm);break;case"ion-backdrop":customElements.get(e)||Id();break;case"ion-button":customElements.get(e)||Ud();break;case"ion-buttons":customElements.get(e)||function(){if("undefined"==typeof customElements)return;["ion-buttons"].forEach((e=>{"ion-buttons"===e&&(customElements.get(e)||customElements.define(e,qd))}))}();break;case"ion-icon":customElements.get(e)||kd();break;case"ion-picker":customElements.get(e)||function(){if("undefined"==typeof customElements)return;["ion-picker"].forEach((e=>{"ion-picker"===e&&(customElements.get(e)||customElements.define(e,nh))}))}();break;case"ion-picker-column":customElements.get(e)||function(){if("undefined"==typeof customElements)return;["ion-picker-column"].forEach((e=>{"ion-picker-column"===e&&(customElements.get(e)||customElements.define(e,mh))}))}();break;case"ion-picker-column-option":customElements.get(e)||function(){if("undefined"==typeof customElements)return;["ion-picker-column-option"].forEach((e=>{"ion-picker-column-option"===e&&(customElements.get(e)||customElements.define(e,gh))}))}();break;case"ion-popover":customElements.get(e)||dm();break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},_m="ion-content",Em=".ion-content-scroll-host",Cm=`${_m}, ${Em}`,Am=e=>"ION-CONTENT"===e.tagName,Tm=i("n",(async e=>Am(e)?(await new Promise((t=>yc(e,t))),e.getScrollElement()):e)),Sm=e=>{const t=e.querySelector(Em);return t||e.querySelector(Cm)},Im=i("f",(e=>e.closest(Cm))),Pm=(i("s",((e,t)=>{if(Am(e)){return e.scrollToTop(t)}return Promise.resolve(e.scrollTo({top:0,left:0,behavior:"smooth"}))})),i("o",((e,t,i,n)=>{if(Am(e)){return e.scrollByPoint(t,i,n)}return Promise.resolve(e.scrollBy({top:i,left:t,behavior:n>0?"smooth":"auto"}))})),e=>((e,...t)=>console.error(`<${e.tagName.toLowerCase()}> must be used inside ${t.join(" or ")}.`))(e,_m)),Dm=e=>{if(Am(e)){const t=e,i=t.scrollY;return t.scrollY=!1,i}return e.style.setProperty("overflow","hidden"),!0};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var Rm,Lm;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(Rm||(Rm={})),i("k",Lm),function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"}(Lm||i("k",Lm={}));const Mm=i("K",{getEngine(){const e=sh();if(null==e?void 0:e.isPluginAvailable("Keyboard"))return e.Plugins.Keyboard},getResizeMode(){const e=this.getEngine();return(null==e?void 0:e.getResizeMode)?e.getResizeMode().catch((e=>{if(e.code!==Rm.Unimplemented)throw e})):Promise.resolve(void 0)}}),Om=e=>{if(void 0===rh||e===Lm.None||void 0===e)return null;const t=rh.querySelector("ion-app");return null!=t?t:rh.body},Nm=e=>{const t=Om(e);return null===t?0:t.clientHeight},$m=async e=>{let t,i,n,o;const r=async()=>{const e=await Mm.getResizeMode(),r=void 0===e?void 0:e.mode;t=()=>{void 0===o&&(o=Nm(r)),n=!0,s(n,r)},i=()=>{n=!1,s(n,r)},null==oh||oh.addEventListener("keyboardWillShow",t),null==oh||oh.addEventListener("keyboardWillHide",i)},s=(t,i)=>{e&&e(t,a(i))},a=e=>{if(0===o||o===Nm(e))return;const t=Om(e);return null!==t?new Promise((e=>{const i=new ResizeObserver((()=>{t.clientHeight===o&&(i.disconnect(),e())}));i.observe(t)})):void 0};return await r(),{init:r,destroy:()=>{null==oh||oh.removeEventListener("keyboardWillShow",t),null==oh||oh.removeEventListener("keyboardWillHide",i),t=i=void 0},isKeyboardVisible:()=>n}},Fm=(e,t)=>{tl((()=>{const i=e.scrollTop,n=e.scrollHeight-e.clientHeight,o=Pc(0,1-(i-(n-10))/10,1);il((()=>{t.style.setProperty("--opacity-scale",o.toString())}))}))},Bm=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if("ios"!==nd(this))return;const{collapse:e}=this,t="fade"===e;if(this.destroyCollapsibleFooter(),t){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),t=e?Sm(e):null;if(!t)return void Pm(this.el);this.setupFadeFooter(t)}},this.setupFadeFooter=async e=>{const t=this.scrollEl=await Tm(e);this.contentScrollCallback=()=>{Fm(t,this.el)},t.addEventListener("scroll",this.contentScrollCallback),Fm(t,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await $m((async(e,t)=>{!1===e&&void 0!==t&&await t,this.keyboardVisible=e}))}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:t}=this,i=nd(this),n=this.el.closest("ion-tabs"),o=null==n?void 0:n.querySelector(":scope > ion-tab-bar");return ml(gl,{key:"ddc228f1a1e7fa4f707dccf74db2490ca3241137",role:"contentinfo",class:{[i]:!0,[`footer-${i}`]:!0,"footer-translucent":e,[`footer-translucent-${i}`]:e,"footer-toolbar-padding":!(this.keyboardVisible||o&&"bottom"===o.slot),[`footer-collapse-${t}`]:void 0!==t}},"ios"===i&&e&&ml("div",{key:"e16ed4963ff94e06de77eb8038201820af73937c",class:"footer-background"}),ml("slot",{key:"f186934febf85d37133d9351a96c1a64b0a4b203"}))}get el(){return this}static get style(){return{ios:"ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",md:"ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}"}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const zm=function(){if("undefined"==typeof customElements)return;["ion-footer"].forEach((e=>{if("ion-footer"===e)customElements.get(e)||customElements.define(e,Bm)}))},jm=e=>{const t=document.querySelector(`${e}.ion-cloned-element`);if(null!==t)return t;const i=document.createElement(e);return i.classList.add("ion-cloned-element"),i.style.setProperty("display","none"),document.body.appendChild(i),i},Vm=e=>{if(!e)return;const t=e.querySelectorAll("ion-toolbar");return{el:e,toolbars:Array.from(t).map((e=>{const t=e.querySelector("ion-title");return{el:e,background:e.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:t,innerTitleEl:t?t.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(e.querySelectorAll("ion-buttons"))}}))}},Um=(e,t)=>{"fade"!==e.collapse&&(void 0===t?e.style.removeProperty("--opacity-scale"):e.style.setProperty("--opacity-scale",t.toString()))},Hm=(e,t,i,n)=>{il((()=>{const o=n.scrollTop;((e,t,i)=>{if(!e[0].isIntersecting)return;const n=e[0].intersectionRatio>.9||i<=0?0:100*(1-e[0].intersectionRatio)/75;Um(t.el,1===n?void 0:n)})(e,t,o);const r=e[0],s=r.intersectionRect,a=s.width*s.height,l=r.rootBounds.width*r.rootBounds.height,c=0===a&&0===l,d=Math.abs(s.left-r.boundingClientRect.left),u=Math.abs(s.right-r.boundingClientRect.right);if(!c&&!(a>0&&(d>=5||u>=5)))if(r.isIntersecting)qm(t,!1),qm(i);else{(0===s.x&&0===s.y||0!==s.width&&0!==s.height)&&o>0&&(qm(t),qm(i,!1),Um(t.el))}}))},qm=(e,t=!0)=>{const i=e.el,n=e.toolbars.map((e=>e.ionTitleEl));t?(i.classList.remove("header-collapse-condense-inactive"),n.forEach((e=>{e&&e.removeAttribute("aria-hidden")}))):(i.classList.add("header-collapse-condense-inactive"),n.forEach((e=>{e&&e.setAttribute("aria-hidden","true")})))},Gm=(e=[],t=1,i=!1)=>{e.forEach((e=>{const n=e.ionTitleEl,o=e.innerTitleEl;n&&"large"===n.size&&(o.style.transition=i?"all 0.2s ease-in-out":"",o.style.transform=`scale3d(${t}, ${t}, 1)`)}))},Wm=(e,t,i)=>{tl((()=>{const n=e.scrollTop,o=t.clientHeight,r=i?i.clientHeight:0;if(null!==i&&n<r)return t.style.setProperty("--opacity-scale","0"),void e.style.setProperty("clip-path",`inset(${o}px 0px 0px 0px)`);const s=Pc(0,(n-r)/10,1);il((()=>{e.style.removeProperty("clip-path"),t.style.setProperty("--opacity-scale",s.toString())}))}))},Ym=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,t)=>{const i=this.scrollEl=await Tm(e);this.contentScrollCallback=()=>{Wm(this.scrollEl,this.el,t)},i.addEventListener("scroll",this.contentScrollCallback),Wm(this.scrollEl,this.el,t)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=_c(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if("ios"!==nd(this))return;const{collapse:e}=this,t="condense"===e,i="fade"===e;if(this.destroyCollapsibleHeader(),t){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),t=e?Sm(e):null;il((()=>{jm("ion-title").size="large",jm("ion-back-button")})),await this.setupCondenseHeader(t,e)}else if(i){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),t=e?Sm(e):null;if(!t)return void Pm(this.el);const i=t.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(t,i)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,t){if(!e||!t)return void Pm(this.el);if("undefined"==typeof IntersectionObserver)return;this.scrollEl=await Tm(e);const i=t.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find((e=>"condense"!==e.collapse)),!this.collapsibleMainHeader)return;const n=Vm(this.collapsibleMainHeader),o=Vm(this.el);if(!n||!o)return;qm(n,!1),Um(n.el,0);this.intersectionObserver=new IntersectionObserver((e=>{Hm(e,n,o,this.scrollEl)}),{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{((e,t,i)=>{tl((()=>{const n=e.scrollTop,o=Pc(1,1+-n/500,1.1);null===i.querySelector("ion-refresher.refresher-native")&&il((()=>{Gm(t.toolbars,o)}))}))})(this.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),il((()=>{void 0!==this.collapsibleMainHeader&&this.collapsibleMainHeader.classList.add("header-collapse-main")}))}render(){const{translucent:e,inheritedAttributes:t}=this,i=nd(this),n=this.collapse||"none",o=Pd("ion-menu",this.el)?"none":"banner";return ml(gl,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:o,class:{[i]:!0,[`header-${i}`]:!0,"header-translucent":this.translucent,[`header-collapse-${n}`]:!0,[`header-translucent-${i}`]:this.translucent}},t),"ios"===i&&e&&ml("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),ml("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",md:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}"}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Km=function(){if("undefined"==typeof customElements)return;["ion-header"].forEach((e=>{if("ion-header"===e)customElements.get(e)||customElements.define(e,Ym)}))},Qm=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.ionInfinite=kl(this,"ionInfinite",7),this.thrPx=0,this.thrPc=0,this.didFire=!1,this.isBusy=!1,this.onScroll=()=>{const e=this.scrollEl;if(!e||!this.canStart())return 1;const t=this.el.offsetHeight;if(0===t)return 2;const i=e.scrollTop,n=e.scrollHeight,o=e.offsetHeight,r=0!==this.thrPc?o*this.thrPc:this.thrPx;return("bottom"===this.position?n-t-i-r-o:i-t-r)<0&&!this.didFire?(this.isLoading=!0,this.didFire=!0,this.ionInfinite.emit(),3):4},this.isLoading=!1,this.threshold="15%",this.disabled=!1,this.position="bottom"}thresholdChanged(){const e=this.threshold;e.lastIndexOf("%")>-1?(this.thrPx=0,this.thrPc=parseFloat(e)/100):(this.thrPx=parseFloat(e),this.thrPc=0)}disabledChanged(){const e=this.disabled;e&&(this.isLoading=!1,this.isBusy=!1),this.enableScrollEvents(!e)}async connectedCallback(){const e=Im(this.el);e?(this.scrollEl=await Tm(e),this.thresholdChanged(),this.disabledChanged(),"top"===this.position&&il((()=>{this.scrollEl&&(this.scrollEl.scrollTop=this.scrollEl.scrollHeight-this.scrollEl.clientHeight)}))):Pm(this.el)}disconnectedCallback(){this.enableScrollEvents(!1),this.scrollEl=void 0}async complete(){const e=this.scrollEl;if(this.isLoading&&e)if(this.isLoading=!1,"top"===this.position){this.isBusy=!0;const t=e.scrollHeight-e.scrollTop;requestAnimationFrame((()=>{tl((()=>{const i=e.scrollHeight-t;requestAnimationFrame((()=>{il((()=>{e.scrollTop=i,this.isBusy=!1,this.didFire=!1}))}))}))}))}else this.didFire=!1}canStart(){return!(this.disabled||this.isBusy||!this.scrollEl||this.isLoading)}enableScrollEvents(e){this.scrollEl&&(e?this.scrollEl.addEventListener("scroll",this.onScroll):this.scrollEl.removeEventListener("scroll",this.onScroll))}render(){const e=nd(this),t=this.disabled;return ml(gl,{key:"e844956795f69be33396ce4480aa7a54ad01b28c",class:{[e]:!0,"infinite-scroll-loading":this.isLoading,"infinite-scroll-enabled":!t}})}get el(){return this}static get watchers(){return{threshold:["thresholdChanged"],disabled:["disabledChanged"]}}static get style(){return"ion-infinite-scroll{display:none;width:100%}.infinite-scroll-enabled{display:block}"}},[0,"ion-infinite-scroll",{threshold:[1],disabled:[4],position:[1],isLoading:[32],complete:[64]},void 0,{threshold:["thresholdChanged"],disabled:["disabledChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Xm=function(){if("undefined"==typeof customElements)return;["ion-infinite-scroll"].forEach((e=>{if("ion-infinite-scroll"===e)customElements.get(e)||customElements.define(e,Qm)}))},Jm=e=>{try{if(e instanceof rf)return e.value;if(!tf()||"string"!=typeof e||""===e)return e;if(e.includes("onload="))return"";const t=document.createDocumentFragment(),i=document.createElement("div");t.appendChild(i),i.innerHTML=e,of.forEach((e=>{const i=t.querySelectorAll(e);for(let n=i.length-1;n>=0;n--){const e=i[n];e.parentNode?e.parentNode.removeChild(e):t.removeChild(e);const o=ef(e);for(let t=0;t<o.length;t++)Zm(o[t])}}));const n=ef(t);for(let e=0;e<n.length;e++)Zm(n[e]);const o=document.createElement("div");o.appendChild(t);const r=o.querySelector("div");return null!==r?r.innerHTML:o.innerHTML}catch(N0){return console.error(N0),""}},Zm=e=>{if(e.nodeType&&1!==e.nodeType)return;if("undefined"!=typeof NamedNodeMap&&!(e.attributes instanceof NamedNodeMap))return void e.remove();for(let i=e.attributes.length-1;i>=0;i--){const t=e.attributes.item(i),n=t.name;if(!nf.includes(n.toLowerCase())){e.removeAttribute(n);continue}const o=t.value,r=e[n];(null!=o&&o.toLowerCase().includes("javascript:")||null!=r&&r.toLowerCase().includes("javascript:"))&&e.removeAttribute(n)}const t=ef(e);for(let i=0;i<t.length;i++)Zm(t[i])},ef=e=>null!=e.children?e.children:e.childNodes,tf=()=>{var e;const t=window,i=null===(e=null==t?void 0:t.Ionic)||void 0===e?void 0:e.config;return!i||(i.get?i.get("sanitizerEnabled",!0):!0===i.sanitizerEnabled||void 0===i.sanitizerEnabled)},nf=["class","id","href","src","name","slot"],of=["script","style","iframe","meta","link","object","embed"];
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */class rf{constructor(e){this.value=e}}const sf=!1,af={bubbles:{dur:1e3,circles:9,fn:(e,t,i)=>{const n=e*t/i-e+"ms",o=2*Math.PI*t/i;return{r:5,style:{top:32*Math.sin(o)+"%",left:32*Math.cos(o)+"%","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(e,t,i)=>{const n=t/i,o=e*n-e+"ms",r=2*Math.PI*n;return{r:5,style:{top:32*Math.sin(r)+"%",left:32*Math.cos(r)+"%","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:32-32*t+"%","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:8,fn:(e,t,i)=>({y1:14,y2:26,style:{transform:`rotate(${360/i*t+(t<i/2?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(e,t,i)=>({y1:12,y2:20,style:{transform:`rotate(${360/i*t+(t<i/2?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(e,t,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(e,t,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})}},lf=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||zc.get("spinner"),t=nd(this);return e||("ios"===t?"lines":"circular")}render(){var e;const t=this,i=nd(t),n=t.getName(),o=null!==(e=af[n])&&void 0!==e?e:af.lines,r="number"==typeof t.duration&&t.duration>10?t.duration:o.dur,s=[];if(void 0!==o.circles)for(let a=0;a<o.circles;a++)s.push(cf(o,r,a,o.circles));else if(void 0!==o.lines)for(let a=0;a<o.lines;a++)s.push(df(o,r,a,o.lines));return ml(gl,{key:"9d30ee9f5aa0dd0e220da07e75d05b8b2435224d",class:Dd(t.color,{[i]:!0,[`spinner-${n}`]:!0,"spinner-paused":t.paused||zc.getBoolean("_testing")}),role:"progressbar",style:o.elmDuration?{animationDuration:r+"ms"}:{}},s)}static get style(){return":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}"}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),cf=(e,t,i,n)=>{const o=e.fn(t,i,n);return o.style["animation-duration"]=t+"ms",ml("svg",{viewBox:o.viewBox||"0 0 64 64",style:o.style},ml("circle",{transform:o.transform||"translate(32,32)",cx:o.cx,cy:o.cy,r:o.r,style:e.elmDuration?{animationDuration:t+"ms"}:{}}))},df=(e,t,i,n)=>{const o=e.fn(t,i,n);return o.style["animation-duration"]=t+"ms",ml("svg",{viewBox:o.viewBox||"0 0 64 64",style:o.style},ml("line",{transform:"translate(32,32)",y1:o.y1,y2:o.y2}))};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function uf(){if("undefined"==typeof customElements)return;["ion-spinner"].forEach((e=>{if("ion-spinner"===e)customElements.get(e)||customElements.define(e,lf)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const hf=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.customHTMLEnabled=zc.get("innerHTMLTemplatesEnabled",sf),this.loadingSpinner=void 0,this.loadingText=void 0}componentDidLoad(){if(void 0===this.loadingSpinner){const e=nd(this);this.loadingSpinner=zc.get("infiniteLoadingSpinner",zc.get("spinner","ios"===e?"lines":"crescent"))}}renderLoadingText(){const{customHTMLEnabled:e,loadingText:t}=this;return e?ml("div",{class:"infinite-loading-text",innerHTML:Jm(t)}):ml("div",{class:"infinite-loading-text"},this.loadingText)}render(){const e=nd(this);return ml(gl,{key:"7c16060dcfe2a0b0fb3e2f8f4c449589a76f1baa",class:{[e]:!0,[`infinite-scroll-content-${e}`]:!0}},ml("div",{key:"a94f4d8746e053dc718f97520bd7e48cb316443a",class:"infinite-loading"},this.loadingSpinner&&ml("div",{key:"10143d5d2a50a2a2bc5de1cee8e7ab51263bcf23",class:"infinite-loading-spinner"},ml("ion-spinner",{key:"8846e88191690d9c61a0b462889ed56fbfed8b0d",name:this.loadingSpinner})),void 0!==this.loadingText&&this.renderLoadingText()))}static get style(){return{ios:"ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:4px;margin-bottom:0}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-ios .infinite-loading-text{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-small-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}",md:"ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:4px;margin-bottom:0}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-md .infinite-loading-text{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-small-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.infinite-scroll-content-md .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}"}}},[32,"ion-infinite-scroll-content",{loadingSpinner:[1025,"loading-spinner"],loadingText:[1,"loading-text"]}]);const pf=function(){if("undefined"==typeof customElements)return;["ion-infinite-scroll-content","ion-spinner"].forEach((e=>{switch(e){case"ion-infinite-scroll-content":customElements.get(e)||customElements.define(e,hf);break;case"ion-spinner":customElements.get(e)||uf()}}))},mf=(e,t,i)=>{let n;const o=()=>void 0!==t()&&void 0===e.label&&null!==i(),r=()=>{const s=t();if(void 0===s)return;if(!o())return void s.style.removeProperty("width");const a=i().scrollWidth;if(0===a&&null===s.offsetParent&&void 0!==oh&&"IntersectionObserver"in oh){if(void 0!==n)return;const t=n=new IntersectionObserver((e=>{1===e[0].intersectionRatio&&(r(),t.disconnect(),n=void 0)}),{threshold:.01,root:e});t.observe(s)}else s.style.setProperty("width",.75*a+"px")};return{calculateNotchWidth:()=>{o()&&Tc((()=>{r()}))},destroy:()=>{n&&(n.disconnect(),n=void 0)}}},ff=(e,t,i)=>{let n,o;if(void 0!==oh&&"MutationObserver"in oh){const o=Array.isArray(t)?t:[t];n=new MutationObserver((e=>{for(const t of e)for(const e of t.addedNodes)if(e.nodeType===Node.ELEMENT_NODE&&o.includes(e.slot))return i(),void Tc((()=>r(e)))})),n.observe(e,{childList:!0,subtree:!0})}const r=e=>{var n;o&&(o.disconnect(),o=void 0),o=new MutationObserver((e=>{i();for(const i of e)for(const e of i.removedNodes)e.nodeType===Node.ELEMENT_NODE&&e.slot===t&&s()})),o.observe(null!==(n=e.parentElement)&&void 0!==n?n:e,{subtree:!0,childList:!0})},s=()=>{o&&(o.disconnect(),o=void 0)};return{destroy:()=>{n&&(n.disconnect(),n=void 0),s()}}},gf=(e,t,i)=>{const n=null==e?0:e.toString().length,o=bf(n,t);if(void 0===i)return o;try{return i(n,t)}catch(f1){return Cd("Exception in provided `counterFormatter`.",f1),o}},bf=(e,t)=>`${e} / ${t}`,vf=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.ionInput=kl(this,"ionInput",7),this.ionChange=kl(this,"ionChange",7),this.ionBlur=kl(this,"ionBlur",7),this.ionFocus=kl(this,"ionFocus",7),this.inputId="ion-input-"+yf++,this.helperTextId=`${this.inputId}-helper-text`,this.errorTextId=`${this.inputId}-error-text`,this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=void 0===t?null!=i?i:e:Lc(e,t)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&!this.isComposing&&(e.value=t)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},_c(this.el)),wc(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=ff(e,["label","start","end"],(()=>sc(this))),this.notchController=mf(e,(()=>this.notchSpacerEl),(()=>this.labelSlot)),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;null===(e=this.notchController)||void 0===e||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise((e=>yc(this.el,e))),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,i=null==t?t:t.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:t}=this,i=null==t?t:t.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:t}=this;return void 0===t?"password"===e:t}getValue(){return"number"==typeof this.value?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const t=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);this.didInputClearOnEdit||!this.hasValue()||t||(this.value="",this.emitInputChange(e)),t||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:t,helperTextId:i,errorTextId:n}=this;return[ml("div",{id:i,class:"helper-text"},e),ml("div",{id:n,class:"error-text"},t)]}getHintTextID(){const{el:e,helperText:t,errorText:i,helperTextId:n,errorTextId:o}=this;return e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i?o:t?n:void 0}renderCounter(){const{counter:e,maxlength:t,counterFormatter:i,value:n}=this;if(!0===e&&void 0!==t)return ml("div",{class:"counter"},gf(n,t,i))}renderBottomContent(){const{counter:e,helperText:t,errorText:i,maxlength:n}=this;if(!!t||!!i||!0===e&&void 0!==n)return ml("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return ml("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},void 0===e?ml("slot",{name:"label"}):ml("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return void 0!==this.label||null!==this.labelSlot}renderLabelContainer(){return"md"===nd(this)&&"outline"===this.fill?[ml("div",{class:"input-outline-container"},ml("div",{class:"input-outline-start"}),ml("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},ml("div",{class:"notch-spacer","aria-hidden":"true",ref:e=>this.notchSpacerEl=e},this.label)),ml("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:t,readonly:i,shape:n,inputId:o,labelPlacement:r,el:s,hasFocus:a,clearInputIcon:l}=this,c=nd(this),d=this.getValue(),u=Pd("ion-item",this.el),h="md"===c&&"outline"!==t&&!u,p=null!=l?l:"ios"===c?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",m=this.hasValue(),f=null!==s.querySelector('[slot="start"], [slot="end"]'),g="stacked"===r||"floating"===r&&(m||a||f);return ml(gl,{key:"54b5662d9a7f011a85e4119650c92b9af275bf96",class:Dd(this.color,{[c]:!0,"has-value":m,"has-focus":a,"label-floating":g,[`input-fill-${t}`]:void 0!==t,[`input-shape-${n}`]:void 0!==n,[`input-label-placement-${r}`]:!0,"in-item":u,"in-item-color":Pd("ion-item.ion-color",this.el),"input-disabled":e})},ml("label",{key:"551cf8a932af3275689ecf32988b84355404e8f1",class:"input-wrapper",htmlFor:o},this.renderLabelContainer(),ml("div",{key:"b3601dca7e0f23517748f6e7feb899c953355bc4",class:"native-wrapper"},ml("slot",{key:"d687a9bb4c5778cfee35ce1b8d6d16ddc8eca768",name:"start"}),ml("input",Object.assign({key:"ab927e84e43bedf8b7827bb743888a1778292deb",class:"native-input",ref:e=>this.nativeInput=e,id:o,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:d,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes)),this.clearInput&&!i&&!e&&ml("button",{key:"0d2ee3f7e69cee75f071f37b2e9bc174572c5a01","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:e=>{e.preventDefault()},onFocusin:e=>{e.stopPropagation()},onClick:this.clearTextInput},ml("ion-icon",{key:"c7715111897f43839c10d38662616edb662cd49b","aria-hidden":"true",icon:p})),ml("slot",{key:"afc44cbe1ad50f17942d5297a12509abecbd6ecd",name:"end"})),h&&ml("div",{key:"ee3af32cd9003d497f33e352e56313d43295f3a9",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}}static get style(){return{ios:".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",md:".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}"}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},void 0,{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let yf=0;const kf=function(){if("undefined"==typeof customElements)return;["ion-input","ion-icon"].forEach((e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,vf);break;case"ion-icon":customElements.get(e)||kd()}}))},wf=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.togglePasswordVisibility=()=>{const{inputElRef:e}=this;e&&(e.type="text"===e.type?"password":"text")},this.color=void 0,this.showIcon=void 0,this.hideIcon=void 0,this.type="password"}onTypeChange(e){"text"===e||"password"===e||Ed(`ion-input-password-toggle only supports inputs of type "text" or "password". Input of type "${e}" is not compatible.`,this.el)}connectedCallback(){const{el:e}=this,t=this.inputElRef=e.closest("ion-input");t?this.type=t.type:Ed("No ancestor ion-input found for ion-input-password-toggle. This component must be slotted inside of an ion-input.",e)}disconnectedCallback(){this.inputElRef=null}render(){var e,t;const{color:i,type:n}=this,o=nd(this),r=null!==(e=this.showIcon)&&void 0!==e?e:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",s=null!==(t=this.hideIcon)&&void 0!==t?t:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>",a="text"===n;return ml(gl,{key:"d9811e25bfeb2aa197352bb9be852e9e420739d5",class:Dd(i,{[o]:!0})},ml("ion-button",{key:"1eaea1442b248fb2b8d61538b27274e647a07804",mode:o,color:i,fill:"clear",shape:"round","aria-checked":a?"true":"false","aria-label":"show password",role:"switch",type:"button",onPointerDown:e=>{e.preventDefault()},onClick:this.togglePasswordVisibility},ml("ion-icon",{key:"9c88de8f4631d9bde222ce2edf6950d639e04773",slot:"icon-only","aria-hidden":"true",icon:a?s:r})))}get el(){return this}static get watchers(){return{type:["onTypeChange"]}}static get style(){return{ios:"",md:""}}},[33,"ion-input-password-toggle",{color:[513],showIcon:[1,"show-icon"],hideIcon:[1,"hide-icon"],type:[1025]},void 0,{type:["onTypeChange"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const xf=function(){if("undefined"==typeof customElements)return;["ion-input-password-toggle","ion-button","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-input-password-toggle":customElements.get(e)||customElements.define(e,wf);break;case"ion-button":customElements.get(e)||Ud();break;case"ion-icon":customElements.get(e)||kd();break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},_f=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=Fc,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:t}=this;void 0===t&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,n={},o=this.itemStyles.get(t)||{};let r=!1;Object.keys(i).forEach((e=>{if(i[e]){const t=`item-${e}`;o[t]||(r=!0),n[t]=!0}})),r||Object.keys(n).length===Object.keys(o).length||(r=!0),r&&(this.itemStyles.set(t,n),sc(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=wc(this.el,["aria-label"])}componentDidLoad(){Tc((()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()}))}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return 1===this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length&&!this.multipleInputs}isClickable(){return void 0!==this.href||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||null!==e}hasStartEl(){null!==this.el.querySelector('[slot="start"]')&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:t,download:i,labelColorStyles:n,lines:o,disabled:r,href:s,rel:a,target:l,routerAnimation:c,routerDirection:d,inheritedAriaAttributes:u,multipleInputs:h}=this,p={},m=nd(this),f=this.isClickable(),g=this.canActivate(),b=f?void 0===s?"button":"a":"div",v="button"===b?{type:this.type}:{download:i,href:s,rel:a,target:l};let y={};const k=this.getFirstInteractive();(f||void 0!==k&&!h)&&(y={onClick:e=>{if(f&&Md(s,e,d,c),void 0!==k&&!h){const t=e.composedPath()[0];if(e.isTrusted){this.el.shadowRoot.contains(t)&&("ION-INPUT"===k.tagName||"ION-TEXTAREA"===k.tagName?k.setFocus():k.click())}}}});const w=void 0!==e?e:"ios"===m&&f;this.itemStyles.forEach((e=>{Object.assign(p,e)}));const x=r||p["item-interactive-disabled"]?"true":null,_=Pd("ion-list",this.el)&&!Pd("ion-radio-group",this.el),E=void 0!==k&&!["ION-INPUT","ION-TEXTAREA"].includes(k.tagName);return ml(gl,{key:"02f540d8666146b5f2665ba6b39dfe774c65d5e6","aria-disabled":x,class:Object.assign(Object.assign(Object.assign({},p),n),Dd(this.color,{item:!0,[m]:!0,"item-lines-default":void 0===o,[`item-lines-${o}`]:void 0!==o,"item-control-needs-pointer-cursor":E,"item-disabled":r,"in-list":_,"item-multiple-inputs":this.multipleInputs,"ion-activatable":g,"ion-focusable":this.focusable,"item-rtl":"rtl"===document.dir})),role:_?"listitem":null},ml(b,Object.assign({key:"91cf3eedc2d7eca40a45fc3b0aaae5a87d387eb7"},v,u,{class:"item-native",part:"native",disabled:r},y),ml("slot",{key:"ae4c679ca903a78a7c933c1d02f21f5d677b6388",name:"start"}),ml("div",{key:"a61de72dce135b6dce18e6fa19680524958924dd",class:"item-inner"},ml("div",{key:"d5b09966b6de8d6b4da8e139875edec4eeb1ae27",class:"input-wrapper"},ml("slot",{key:"79077e5708a1783b135fab6f8caff9fb2f6f387a"})),ml("slot",{key:"cdcc71689a87e985d32170ab98538ef25227f384",name:"end"}),w&&ml("ion-icon",{key:"1e82f2d0e2d2fc18bd3429a7c72e4e57447cad7a",icon:t,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":t===Fc})),g&&"md"===m&&ml("ion-ripple-effect",{key:"ab9842d0d9c64408573f07323e10f9ed29fbe6e2"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',md:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}'}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Ef=function(){if("undefined"==typeof customElements)return;["ion-item","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,_f);break;case"ion-icon":customElements.get(e)||kd();break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},Cf=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.ionColor=kl(this,"ionColor",7),this.ionStyle=kl(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate="floating"===this.position,this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout((()=>{this.noAnimate=!1}),1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":void 0!==e,[`ion-color-${e}`]:void 0!==e})}emitStyle(){const{inRange:e,position:t}=this;e||this.ionStyle.emit({label:!0,[`label-${t}`]:void 0!==t})}render(){const e=this.position,t=nd(this);return ml(gl,{key:"6353a70565ef6fbbbf4042b000e536c61bcf99a9",class:Dd(this.color,{[t]:!0,"in-item-color":Pd("ion-item.ion-color",this.el),[`label-${e}`]:void 0!==e,"label-no-animate":this.noAnimate,"label-rtl":"rtl"===document.dir})},ml("slot",{key:"6ef9c2758c0168442aa84941af0a6cec1ef1ec21"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",md:".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}"}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Af=function(){if("undefined"==typeof customElements)return;["ion-label"].forEach((e=>{if("ion-label"===e)customElements.get(e)||customElements.define(e,Cf)}))},Tf=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return!!(null==e?void 0:e.closeOpened)&&e.closeOpened()}render(){const e=nd(this),{lines:t,inset:i}=this;return ml(gl,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,[`list-${e}`]:!0,"list-inset":i,[`list-lines-${t}`]:void 0!==t,[`list-${e}-lines-${t}`]:void 0!==t}})}get el(){return this}static get style(){return{ios:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",md:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}"}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Sf=function(){if("undefined"==typeof customElements)return;["ion-list"].forEach((e=>{if("ion-list"===e)customElements.get(e)||customElements.define(e,Tf)}))},If=(e,t,i,n,o)=>Df(e[1],t[1],i[1],n[1],o).map((o=>Pf(e[0],t[0],i[0],n[0],o))),Pf=(e,t,i,n,o)=>o*(3*t*Math.pow(o-1,2)+o*(-3*i*o+3*i+n*o))-e*Math.pow(o-1,3),Df=(e,t,i,n,o)=>Rf((n-=o)-3*(i-=o)+3*(t-=o)-(e-=o),3*i-6*t+3*e,3*t-3*e,e).filter((e=>e>=0&&e<=1)),Rf=(e,t,i,n)=>{if(0===e)return((e,t,i)=>{const n=t*t-4*e*i;return n<0?[]:[(-t+Math.sqrt(n))/(2*e),(-t-Math.sqrt(n))/(2*e)]})(t,i,n);const o=(3*(i/=e)-(t/=e)*t)/3,r=(2*t*t*t-9*t*i+27*(n/=e))/27;if(0===o)return[Math.pow(-r,1/3)];if(0===r)return[Math.sqrt(-o),-Math.sqrt(-o)];const s=Math.pow(r/2,2)+Math.pow(o/3,3);if(0===s)return[Math.pow(r/2,.5)-t/3];if(s>0)return[Math.pow(-r/2+Math.sqrt(s),1/3)-Math.pow(r/2+Math.sqrt(s),1/3)-t/3];const a=Math.sqrt(Math.pow(-o/3,3)),l=Math.acos(-r/(2*Math.sqrt(Math.pow(-o/3,3)))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-t/3,c*Math.cos((l+2*Math.PI)/3)-t/3,c*Math.cos((l+4*Math.PI)/3)-t/3]},Lf=e=>Up().duration(e?400:300),Mf=e=>{let t,i;const n=e.width+8,o=Up(),r=Up();e.isEndSide?(t=n+"px",i="0px"):(t=-n+"px",i="0px"),o.addElement(e.menuInnerEl).fromTo("transform",`translateX(${t})`,`translateX(${i})`);const s="ios"===nd(e),a=s?.2:.25;return r.addElement(e.backdropEl).fromTo("opacity",.01,a),Lf(s).addAnimation([o,r])},Of=e=>{let t,i;const n=nd(e),o=e.width;e.isEndSide?(t=-o+"px",i=o+"px"):(t=o+"px",i=-o+"px");const r=Up().addElement(e.menuInnerEl).fromTo("transform",`translateX(${i})`,"translateX(0px)"),s=Up().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`),a=Up().addElement(e.backdropEl).fromTo("opacity",.01,.32);return Lf("ios"===n).addAnimation([r,s,a])},Nf=e=>{const t=nd(e),i=e.width*(e.isEndSide?-1:1)+"px",n=Up().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${i})`);return Lf("ios"===t).addAnimation(n)},$f=()=>{const e=new Map,t=[],i=async(e,i=!1)=>{if(await c(),"start"===e||"end"===e){const n=t.filter((t=>t.side===e&&!t.disabled));if(n.length>=1)return n.length>1&&i&&Ed(`menuController queried for a menu on the "${e}" side, but ${n.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,n.map((e=>e.el))),n[0].el;const o=t.filter((t=>t.side===e));if(o.length>=1)return o.length>1&&i&&Ed(`menuController queried for a menu on the "${e}" side, but ${o.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,o.map((e=>e.el))),o[0].el}else if(null!=e)return l((t=>t.menuId===e));const n=l((e=>!e.disabled));return n||(t.length>0?t[0].el:void 0)},n=async()=>(await c(),r()),o=(t,i)=>{e.set(t,i)},r=()=>l((e=>e._isOpen)),s=()=>t.map((e=>e.el)),a=()=>t.some((e=>e.isAnimating)),l=e=>{const i=t.find(e);if(void 0!==i)return i.el},c=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map((e=>new Promise((t=>yc(e,t))))));return o("reveal",Nf),o("push",Of),o("overlay",Mf),null==rh||rh.addEventListener("ionBackButton",(e=>{const t=r();t&&e.detail.register(99,(()=>t.close()))})),{registerAnimation:o,get:i,getMenus:async()=>(await c(),s()),getOpen:n,isEnabled:async e=>{const t=await i(e);return!!t&&!t.disabled},swipeGesture:async(e,t)=>{const n=await i(t);return n&&(n.swipeGesture=e),n},isAnimating:async()=>(await c(),a()),isOpen:async e=>{if(null!=e){const t=await i(e);return void 0!==t&&t.isOpen()}return void 0!==await n()},enable:async(e,t)=>{const n=await i(t);return n&&(n.disabled=!e),n},toggle:async e=>{const t=await i(e,!0);return!!t&&t.toggle()},close:async e=>{const t=await(void 0!==e?i(e,!0):n());return void 0!==t&&t.close()},open:async e=>{const t=await i(e,!0);return!!t&&t.open()},_getOpenSync:r,_createAnimation:(t,i)=>{const n=e.get(t);if(!n)throw new Error("animation not registered");return n(i)},_register:e=>{t.indexOf(e)<0&&t.push(e)},_unregister:e=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},_setOpen:async(e,t,i,o)=>{if(a())return!1;if(t){const t=await n();t&&e.el!==t&&await t.setOpen(!1,!1)}return e._setOpen(t,i,o)}}},Ff=$f(),Bf=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=kl(this,"ionWillOpen",7),this.ionWillClose=kl(this,"ionWillClose",7),this.ionDidOpen=kl(this,"ionDidOpen",7),this.ionDidClose=kl(this,"ionDidClose",7),this.ionMenuChange=kl(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=Ch.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const t=Wh(document);t&&!t.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,t){const i=this.contentEl;i&&(void 0!==t&&i.classList.remove(`menu-content-${t}`),i.classList.add(`menu-content-${e}`),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=Rc(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){"undefined"!=typeof customElements&&null!=customElements&&await customElements.whenDefined("ion-menu"),void 0===this.type&&(this.type=zc.get("menuType","overlay"));const e=void 0!==this.contentId?document.getElementById(this.contentId):null;null!==e?(this.el.contains(e)&&console.error('Menu: "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),Ff._register(this),this.menuChanged(),this.gesture=(await Da((()=>Promise.resolve().then((()=>jg))),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:e=>this.canStart(e),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:e=>this.onMove(e),onEnd:e=>this.onEnd(e)}),this.updateState()):console.error('Menu: must have a "content" element to listen for drag events on.')}componentWillLoad(){this.inheritedAttributes=_c(this.el)}async componentDidLoad(){this.didLoad=!0;const e=this.el.closest("ion-split-pane");null!==e&&(this.isPaneVisible=await e.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),Ff._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const t=this.el.closest("ion-split-pane");null!==t&&t===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){if(this._isOpen&&this.lastOnEnd<e.timeStamp-100){!!e.composedPath&&!e.composedPath().includes(this.menuInnerEl)&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,rp))}}onKeydown(e){"Escape"===e.key&&this.close(void 0,rp)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,t){return this.setOpen(!1,e,t)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,t=!0,i){return Ff._setOpen(this,e,t,i)}trapKeyboardFocus(e,t){const i=e.target;if(i)if(this.el.contains(i))this.lastFocus=i;else{const{el:e}=this;Th(e),this.lastFocus===t.activeElement&&Sh(e)}}async _setOpen(e,t=!0,i){return!(!this._isActive()||this.isAnimating||e===this._isOpen)&&(this.beforeAnimation(e,i),await this.loadAnimation(),await this.startAnimation(e,t),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,i),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,t=Rc(this.side);if(e===this.width&&void 0!==this.animation&&t===this.isEndSide)return;this.width=e,this.isEndSide=t,this.animation&&(this.animation.destroy(),this.animation=void 0);const i=this.animation=await Ff._createAnimation(this.type,this);zc.getBoolean("animated",!0)||i.duration(0),i.fill("both")}async startAnimation(e,t){const i=!e,n=nd(this),o="ios"===n?"cubic-bezier(0.32,0.72,0,1)":"cubic-bezier(0.0,0.0,0.2,1)",r="ios"===n?"cubic-bezier(1, 0, 0.68, 0.28)":"cubic-bezier(0.4, 0, 0.6, 1)",s=this.animation.direction(i?"reverse":"normal").easing(i?r:o);t?await s.play():s.play({sync:!0}),"reverse"===s.getDirection()&&s.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!(!!document.querySelector("ion-modal.show-modal")||!this.canSwipe())&&(!!this._isOpen||!Ff._getOpenSync()&&jf(window,e.currentX,this.isEndSide,this.maxEdgeStart))}onWillStart(){return this.beforeAnimation(!this._isOpen,sp),this.loadAnimation()}onStart(){this.isAnimating&&this.animation?this.animation.progressStart(!0,this._isOpen?1:0):Dc(!1,"isAnimating has to be true")}onMove(e){if(!this.isAnimating||!this.animation)return void Dc(!1,"isAnimating has to be true");const t=zf(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-t:t)}onEnd(e){if(!this.isAnimating||!this.animation)return void Dc(!1,"isAnimating has to be true");const t=this._isOpen,i=this.isEndSide,n=zf(e.deltaX,t,i),o=this.width,r=n/o,s=e.velocityX,a=o/2,l=s>=0&&(s>.2||e.deltaX>a),c=s<=0&&(s<-.2||e.deltaX<-a),d=t?i?l:c:i?c:l;let u=!t&&d;t&&!d&&(u=!0),this.lastOnEnd=e.currentTime;let h=d?.001:-.001;h+=If([0,0],[.4,0],[.6,1],[1,1],Pc(0,r<0?.01:r,.9999))[0]||0;const p=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish((()=>this.afterAnimation(u,sp)),{oneTimeCallback:!0}).progressEnd(p?1:0,this._isOpen?1-h:h,300)}beforeAnimation(e,t){Dc(!this.isAnimating,"_before() should not be called while animating"),Hc("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(Vf),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(Uf),this.contentEl&&(this.contentEl.classList.add(Hf),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:t})}afterAnimation(e,t){var i;if(this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e){Hc("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit();(null===(i=document.activeElement)||void 0===i?void 0:i.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)}else this.el.removeAttribute("aria-hidden"),this.el.classList.remove(Vf),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(Hf),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(Uf),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:t}),document.removeEventListener("focus",this.handleFocus,!0)}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,sp))}render(){const{type:e,disabled:t,el:i,isPaneVisible:n,inheritedAttributes:o,side:r}=this,s=nd(this);return ml(gl,{key:"da96fdb4c5ddf60e615cc4cdda7ccdb3fd7e089b",onKeyDown:bh()?null:this.onKeydown,role:"navigation","aria-label":o["aria-label"]||"menu",class:{[s]:!0,[`menu-type-${e}`]:!0,"menu-enabled":!t,[`menu-side-${r}`]:!0,"menu-pane-visible":n,"split-pane-side":Pd("ion-split-pane",i)}},ml("div",{key:"894e680fe227534711128c7aca980964ddb5a08a",class:"menu-inner",part:"container",ref:e=>this.menuInnerEl=e},ml("slot",{key:"e9f5934518dc0cceaeadf1f2820614595fec6bc9"})),ml("ion-backdrop",{key:"7282077817657b1bb6c155f1404c0a519fece993",ref:e=>this.backdropEl=e,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",md:":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}"}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),zf=(e,t,i)=>Math.max(0,t!==i?-e:e),jf=(e,t,i,n)=>i?t>=e.innerWidth-n:t<=n,Vf="show-menu",Uf="show-backdrop",Hf="menu-content-open";
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const qf=function(){if("undefined"==typeof customElements)return;["ion-menu","ion-backdrop"].forEach((e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,Bf);break;case"ion-backdrop":customElements.get(e)||Id()}}))};class Gf{constructor(e,t){this.component=e,this.params=t,this.state=1}async init(e){if(this.state=2,!this.element){const t=this.component;this.element=await yh(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){Dc(3!==this.state,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=3}}const Wf=(e,t,i)=>!!e&&(e.component===t&&Oc(e.params,i)),Yf=(e,t)=>e?e instanceof Gf?e:new Gf(e,t):null,Kf=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=kl(this,"ionNavWillLoad",7),this.ionNavWillChange=kl(this,"ionNavWillChange",3),this.ionNavDidChange=kl(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}rootChanged(){void 0!==this.root&&!1!==this.didLoad&&(this.useRouter||void 0!==this.root&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=null!==document.querySelector("ion-router")&&null===this.el.closest("[no-router]"),void 0===this.swipeGesture){const e=nd(this);this.swipeGesture=zc.getBoolean("swipeBackEnabled","ios"===e)}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Da((()=>a.import("./swipe-back-legacy-BRKCHh9P.js")),void 0)).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Op(e.element,vp),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,i,n){return this.insert(-1,e,t,i,n)}insert(e,t,i,n,o){return this.insertPages(e,[{component:t,componentProps:i}],n,o)}insertPages(e,t,i,n){return this.queueTrns({insertStart:e,insertViews:t,opts:i},n)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,i){const n={removeStart:-1,removeCount:-1,opts:t};return"object"==typeof e&&e.component?(n.removeView=e,n.removeStart=1):"number"==typeof e&&(n.removeStart=e+1),this.queueTrns(n,i)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,i,n){return this.queueTrns({removeStart:e,removeCount:t,opts:i},n)}setRoot(e,t,i,n){return this.setPages([{component:e,componentProps:t}],i,n)}setPages(e,t,i){return null!=t||(t={}),!0!==t.animated&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},i)}setRouteId(e,t,i,n){const o=this.getActiveSync();if(Wf(o,e,t))return Promise.resolve({changed:!1,element:o.element});let r;const s=new Promise((e=>r=e));let a;const l={updateURL:!1,viewIsReady:e=>{let t;const i=new Promise((e=>t=e));return r({changed:!0,element:e,markVisible:async()=>{t(),await a}}),i}};if("root"===i)a=this.setRoot(e,t,l);else{const o=this.views.find((i=>Wf(i,e,t)));o?a=this.popTo(o,Object.assign(Object.assign({},l),{direction:"back",animationBuilder:n})):"forward"===i?a=this.push(e,t,Object.assign(Object.assign({},l),{animationBuilder:n})):"back"===i&&(a=this.setRoot(e,t,Object.assign(Object.assign({},l),{direction:"back",animated:!0,animationBuilder:n})))}return s}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!(!e||!this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,i=t.indexOf(e);return i>0?t[i-1]:void 0}async queueTrns(e,t){var i,n;if(this.isTransitioning&&(null===(i=e.opts)||void 0===i?void 0:i.skipIfBusy))return!1;const o=new Promise(((t,i)=>{e.resolve=t,e.reject=i}));if(e.done=t,e.opts&&!1!==e.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const i=await t.canTransition();if(!1===i)return!1;if("string"==typeof i)return t.push(i,e.opts.direction||"back"),!1}}return 0===(null===(n=e.insertViews)||void 0===n?void 0:n.length)&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),o}success(e,t){if(this.destroyed)this.fireError("nav controller was destroyed",t);else if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),!1!==t.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const i="back"===e.direction?"back":"forward";t.navChanged(i)}}}failed(e,t){this.destroyed?this.fireError("nav controller was destroyed",t):(this.transInstr.length=0,this.fireError(e,t))}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return!!e&&(this.runTransition(e),!0)}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),i=this.getEnteringView(e,t);if(!t&&!i)throw new Error("no views in the stack to be removed");i&&1===i.state&&await i.init(this.el),this.postViewInit(i,t,e);const n=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==t;if(n&&e.opts&&t){"back"===e.opts.direction&&(e.opts.animationBuilder=e.opts.animationBuilder||(null==i?void 0:i.animationBuilder)),t.animationBuilder=e.opts.animationBuilder}let o;o=n?await this.transition(i,t,e):{hasCompleted:!0,requiresTransition:!1},this.success(o,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,i,n;const o=this.views.length;if(null!==(t=e.opts)&&void 0!==t||(e.opts={}),null!==(i=(n=e.opts).delegate)&&void 0!==i||(n.delegate=this.delegate),void 0!==e.removeView){Dc(void 0!==e.removeStart,"removeView needs removeStart"),Dc(void 0!==e.removeCount,"removeView needs removeCount");const t=this.views.indexOf(e.removeView);if(t<0)throw new Error("removeView was not found");e.removeStart+=t}void 0!==e.removeStart&&(e.removeStart<0&&(e.removeStart=o-1),e.removeCount<0&&(e.removeCount=o-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===o),e.insertViews&&((e.insertStart<0||e.insertStart>o)&&(e.insertStart=o),e.enteringRequiresTransition=e.insertStart===o);const r=e.insertViews;if(!r)return;Dc(r.length>0,"length can not be zero");const s=r.map((e=>e instanceof Gf?e:"component"in e?Yf(e.component,null===e.componentProps?void 0:e.componentProps):Yf(e,void 0))).filter((e=>null!==e));if(0===s.length)throw new Error("invalid views to insert");for(const a of s){a.delegate=e.opts.delegate;const t=a.nav;if(t&&t!==this)throw new Error("inserted view was already inserted");if(3===a.state)throw new Error("inserted view was already destroyed")}e.insertViews=s}getEnteringView(e,t){const i=e.insertViews;if(void 0!==i)return i[i.length-1];const n=e.removeStart;if(void 0!==n){const i=this.views,o=n+e.removeCount;for(let e=i.length-1;e>=0;e--){const r=i[e];if((e<n||e>=o)&&r!==t)return r}}}postViewInit(e,t,i){var n,o,r;Dc(t||e,"Both leavingView and enteringView are null"),Dc(i.resolve,"resolve must be valid"),Dc(i.reject,"reject must be valid");const s=i.opts,{insertViews:a,removeStart:l,removeCount:c}=i;let d;if(void 0!==l&&void 0!==c){Dc(l>=0,"removeStart can not be negative"),Dc(c>=0,"removeCount can not be negative"),d=[];for(let i=l;i<l+c;i++){const n=this.views[i];void 0!==n&&n!==e&&n!==t&&d.push(n)}null!==(n=s.direction)&&void 0!==n||(s.direction="back")}const u=this.views.length+(null!==(o=null==a?void 0:a.length)&&void 0!==o?o:0)-(null!=c?c:0);if(Dc(u>=0,"final balance can not be negative"),0===u)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(a){let e=i.insertStart;for(const t of a)this.insertViewAt(t,e),e++;i.enteringRequiresTransition&&(null!==(r=s.direction)&&void 0!==r||(s.direction="forward"))}if(d&&d.length>0){for(const e of d)Op(e.element,gp),Op(e.element,bp),Op(e.element,vp);for(const e of d)this.destroyView(e)}}async transition(e,t,i){const n=i.opts,o=n.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.sbAni=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0,r=nd(this),s=e.element,a=t&&t.element,l=Object.assign(Object.assign({mode:r,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&zc.getBoolean("animated",!0),enteringEl:s,leavingEl:a},n),{animationBuilder:n.animationBuilder||this.animation||zc.get("navAnimation")}),{hasCompleted:c}=await _p(l);return this.transitionFinish(c,e,t,n)}transitionFinish(e,t,i,n){const o=e?t:i;return o&&this.unmountInactiveViews(o),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:i,direction:n.direction}}insertViewAt(e,t){const i=this.views,n=i.indexOf(e);n>-1?(Dc(e.nav===this,"view is not part of the nav"),i.splice(n,1),i.splice(t,0,e)):(Dc(!e.nav,"nav is used"),e.nav=this,i.splice(t,0,e))}removeView(e){Dc(2===e.state||3===e.state,"view state should be loaded or destroyed");const t=this.views,i=t.indexOf(e);Dc(i>-1,"view must be part of the stack"),i>=0&&t.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,i=t.indexOf(e);for(let n=t.length-1;n>=0;n--){const e=t[n],o=e.element;o&&(n>i?(Op(o,vp),this.destroyView(e)):n<i&&Fp(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,i){if(this.sbAni){this.sbAni.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0});let n=e?-.001:.001;e?n+=If([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),n+=If([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,n,i)}else this.gestureOrAnimationInProgress=!1}render(){return ml("slot",{key:"dfe98cb6604a2015a49f41beffebdd2da957dfff"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);const Qf=function(){if("undefined"==typeof customElements)return;["ion-nav"].forEach((e=>{if("ion-nav"===e)customElements.get(e)||customElements.define(e,Kf)}))},Xf=(e,t,i)=>"function"==typeof i?i(e,t):"string"==typeof i?e[i]===t[i]:Array.isArray(t)?t.includes(e):e===t,Jf=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=kl(this,"ionFocus",7),this.ionBlur=kl(this,"ionBlur",7),this.inputId="ion-rb-"+Zf++,this.radioGroup=null,this.updateState=()=>{if(this.radioGroup){const{compareWith:e,value:t}=this.radioGroup;this.checked=((e,t,i)=>void 0!==e&&(Array.isArray(e)?e.some((e=>Xf(e,t,i))):Xf(e,t,i)))(t,this.value,e)}},this.onClick=()=>{const{radioGroup:e,checked:t,disabled:i}=this;i||(t&&(null==e?void 0:e.allowEmptySelection)?this.checked=!1:this.checked=!0)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.checked=!1,this.buttonTabindex=-1,this.color=void 0,this.name=this.inputId,this.disabled=!1,this.value=void 0,this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}valueChanged(){this.updateState()}componentDidLoad(){this.updateState()}async setFocus(e){void 0!==e&&(e.stopPropagation(),e.preventDefault()),this.el.focus()}async setButtonTabindex(e){this.buttonTabindex=e}connectedCallback(){void 0===this.value&&(this.value=this.inputId);const e=this.radioGroup=this.el.closest("ion-radio-group");e&&(this.updateState(),Ec(e,"ionValueChange",this.updateState))}disconnectedCallback(){const e=this.radioGroup;e&&(Cc(e,"ionValueChange",this.updateState),this.radioGroup=null)}get hasLabel(){return""!==this.el.textContent}renderRadioControl(){return ml("div",{class:"radio-icon",part:"container"},ml("div",{class:"radio-inner",part:"mark"}),ml("div",{class:"radio-ripple"}))}render(){const{checked:e,disabled:t,color:i,el:n,justify:o,labelPlacement:r,hasLabel:s,buttonTabindex:a,alignment:l}=this,c=nd(this),d=Pd("ion-item",n);return ml(gl,{key:"5a0adab55ad009305de4856fa1b9f93f2279a734",onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:Dd(i,{[c]:!0,"in-item":d,"radio-checked":e,"radio-disabled":t,[`radio-justify-${o}`]:void 0!==o,[`radio-alignment-${l}`]:void 0!==l,[`radio-label-placement-${r}`]:!0,"ion-activatable":!d,"ion-focusable":!d}),role:"radio","aria-checked":e?"true":"false","aria-disabled":t?"true":null,tabindex:a},ml("label",{key:"f5673a798e6d87868339f046445f707e1d93b7b6",class:"radio-wrapper"},ml("div",{key:"e9190c06f75a171cab63e3f74ccf771c3ed87005",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!s},part:"label"},ml("slot",{key:"6cedf4e7b3bd03e4a635727dd7b6094bab64af64"})),ml("div",{key:"26dd48d9d2848b7f100b732abdc4a3171adde483",class:"native-wrapper"},this.renderRadioControl())))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color-checked:var(--ion-color-primary, #0054e9)}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{-webkit-margin-start:0;margin-inline-start:0}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}:host(.ion-focused) .radio-icon::after{inset-inline-start:-9px}.native-wrapper .radio-icon{width:0.9375rem;height:1.5rem}',md:':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--border-width:0.125rem;--border-style:solid;--border-radius:50%}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.radio-disabled) .label-text-wrapper{opacity:0.38}:host(.radio-disabled) .native-wrapper{opacity:0.63}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}.native-wrapper .radio-icon{width:1.25rem;height:1.25rem}'}}},[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]},void 0,{value:["valueChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let Zf=0;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const eg=function(){if("undefined"==typeof customElements)return;["ion-radio"].forEach((e=>{if("ion-radio"===e)customElements.get(e)||customElements.define(e,Jf)}))},tg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.ionChange=kl(this,"ionChange",7),this.ionValueChange=kl(this,"ionValueChange",7),this.inputId="ion-rg-"+ig++,this.labelId=`${this.inputId}-lbl`,this.setRadioTabindex=e=>{const t=this.getRadios(),i=t.find((e=>!e.disabled)),n=t.find((t=>t.value===e&&!t.disabled));if(!i&&!n)return;const o=n||i;for(const r of t){const e=r===o?0:-1;r.setButtonTabindex(e)}},this.onClick=e=>{e.preventDefault();const t=e.target&&e.target.closest("ion-radio");if(t&&!t.disabled){const i=this.value,n=t.value;n!==i?(this.value=n,this.emitValueChange(e)):this.allowEmptySelection&&(this.value=void 0,this.emitValueChange(e))}},this.allowEmptySelection=!1,this.compareWith=void 0,this.name=this.inputId,this.value=void 0}valueChanged(e){this.setRadioTabindex(e),this.ionValueChange.emit({value:e})}componentDidLoad(){this.valueChanged(this.value)}async connectedCallback(){const e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider");if(e){const t=this.label=e.querySelector("ion-label");t&&(this.labelId=t.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("ion-radio"))}emitValueChange(e){const{value:t}=this;this.ionChange.emit({value:t,event:e})}onKeydown(e){const t=!!this.el.closest("ion-select-popover")||!!this.el.closest("ion-select-modal");if(e.target&&!this.el.contains(e.target))return;const i=this.getRadios().filter((e=>!e.disabled));if(e.target&&i.includes(e.target)){const n=i.findIndex((t=>t===e.target)),o=i[n];let r;if(["ArrowDown","ArrowRight"].includes(e.key)&&(r=n===i.length-1?i[0]:i[n+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(r=0===n?i[i.length-1]:i[n-1]),r&&i.includes(r)&&(r.setFocus(e),t||(this.value=r.value,this.emitValueChange(e))),[" "].includes(e.key)){const t=this.value;this.value=this.allowEmptySelection&&void 0!==this.value?void 0:o.value,(t!==this.value||this.allowEmptySelection)&&this.emitValueChange(e),e.preventDefault()}}}async setFocus(){const e=this.getRadios().find((e=>-1!==e.tabIndex));null==e||e.setFocus()}render(){const{label:e,labelId:t,el:i,name:n,value:o}=this,r=nd(this);return Ic(0,i,n,o,!1),ml(gl,{key:"a853e38901f0f4ba17bbf21ebb5da5b5c20b327e",role:"radiogroup","aria-labelledby":e?t:null,onClick:this.onClick,class:r})}get el(){return this}static get watchers(){return{value:["valueChanged"]}}},[0,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],compareWith:[1,"compare-with"],name:[1],value:[1032],setFocus:[64]},[[4,"keydown","onKeydown"]],{value:["valueChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let ig=0;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const ng=function(){if("undefined"==typeof customElements)return;["ion-radio-group"].forEach((e=>{if("ion-radio-group"===e)customElements.get(e)||customElements.define(e,tg)}))},og=e=>{const t=e.querySelector("ion-spinner"),i=t.shadowRoot.querySelector("circle"),n=e.querySelector(".spinner-arrow-container"),o=e.querySelector(".arrow-container"),r=o?o.querySelector("ion-icon"):null,s=Up().duration(1e3).easing("ease-out"),a=Up().addElement(n).keyframes([{offset:0,opacity:"0.3"},{offset:.45,opacity:"0.3"},{offset:.55,opacity:"1"},{offset:1,opacity:"1"}]),l=Up().addElement(i).keyframes([{offset:0,strokeDasharray:"1px, 200px"},{offset:.2,strokeDasharray:"1px, 200px"},{offset:.55,strokeDasharray:"100px, 200px"},{offset:1,strokeDasharray:"100px, 200px"}]),c=Up().addElement(t).keyframes([{offset:0,transform:"rotate(-90deg)"},{offset:1,transform:"rotate(210deg)"}]);if(o&&r){const e=Up().addElement(o).keyframes([{offset:0,transform:"rotate(0deg)"},{offset:.3,transform:"rotate(0deg)"},{offset:.55,transform:"rotate(280deg)"},{offset:1,transform:"rotate(400deg)"}]),t=Up().addElement(r).keyframes([{offset:0,transform:"translateX(2px) scale(0)"},{offset:.3,transform:"translateX(2px) scale(0)"},{offset:.55,transform:"translateX(-1.5px) scale(1)"},{offset:1,transform:"translateX(-1.5px) scale(1)"}]);s.addAnimation([e,t])}return s.addAnimation([a,l,c])},rg=(e,t)=>{const i=t.clientHeight,n=Up().addElement(e).keyframes([{offset:0,transform:`scale(0) translateY(-${i}px)`},{offset:1,transform:"scale(1) translateY(100px)"}]);return og(e).addAnimation([n])},sg=(e,t)=>{const i=t.clientHeight,n=Up().addElement(e).keyframes([{offset:0,transform:`translateY(-${i}px)`},{offset:1,transform:"translateY(100px)"}]);return og(e).addAnimation([n])},ag=(e,t,i=200)=>{if(!e)return Promise.resolve();const n=bc(e,i);return il((()=>{e.style.setProperty("transition",`${i}ms all ease-out`),void 0===t?e.style.removeProperty("transform"):e.style.setProperty("transform",`translate3d(0px, ${t}, 0px)`)})),n},lg=()=>navigator.maxTouchPoints>0&&CSS.supports("background: -webkit-named-image(apple-pay-logo-black)"),cg=async(e,t)=>{const i=e.querySelector("ion-refresher-content");if(!i)return Promise.resolve(!1);await new Promise((e=>yc(i,e)));const n=e.querySelector("ion-refresher-content .refresher-pulling ion-spinner"),o=e.querySelector("ion-refresher-content .refresher-refreshing ion-spinner");return null!==n&&null!==o&&("ios"===t&&lg()||"md"===t)},dg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.ionRefresh=kl(this,"ionRefresh",7),this.ionPull=kl(this,"ionPull",7),this.ionStart=kl(this,"ionStart",7),this.appliedStyles=!1,this.didStart=!1,this.progress=0,this.pointerDown=!1,this.needsCompletion=!1,this.didRefresh=!1,this.contentFullscreen=!1,this.lastVelocityY=0,this.animations=[],this.nativeRefresher=!1,this.state=1,this.pullMin=60,this.pullMax=this.pullMin+60,this.closeDuration="280ms",this.snapbackDuration="280ms",this.pullFactor=1,this.disabled=!1}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}async checkNativeRefresher(){const e=await cg(this.el,nd(this));if(e&&!this.nativeRefresher){const e=this.el.closest("ion-content");this.setupNativeRefresher(e)}else e||this.destroyNativeRefresher()}destroyNativeRefresher(){this.scrollEl&&this.scrollListenerCallback&&(this.scrollEl.removeEventListener("scroll",this.scrollListenerCallback),this.scrollListenerCallback=void 0),this.nativeRefresher=!1}async resetNativeRefresher(e,t){this.state=t,"ios"===nd(this)?await ag(e,void 0,300):await bc(this.el.querySelector(".refresher-refreshing-icon"),200),this.didRefresh=!1,this.needsCompletion=!1,this.pointerDown=!1,this.animations.forEach((e=>e.destroy())),this.animations=[],this.progress=0,this.state=1}async setupiOSNativeRefresher(e,t){this.elementToTransform=this.scrollEl;const i=e.shadowRoot.querySelectorAll("svg");let n=.16*this.scrollEl.clientHeight;const o=i.length;il((()=>i.forEach((e=>e.style.setProperty("animation","none"))))),this.scrollListenerCallback=()=>{(this.pointerDown||1!==this.state)&&tl((()=>{const e=this.scrollEl.scrollTop,r=this.el.clientHeight;if(e>0){if(8===this.state){const i=Pc(0,e/(.5*r),1);return void il((()=>{return e=1-i,void t.style.setProperty("opacity",e.toString());var e}))}return}this.pointerDown&&(this.didStart||(this.didStart=!0,this.ionStart.emit()),this.pointerDown&&this.ionPull.emit());const s=this.didStart?30:0,a=this.progress=Pc(0,(Math.abs(e)-s)/n,1);var l,c,d;8===this.state||1===a?(this.pointerDown&&(c=t,d=this.lastVelocityY,il((()=>{c.style.setProperty("--refreshing-rotation-duration",d>=1?"0.5s":"2s"),c.style.setProperty("opacity","1")}))),this.didRefresh||(this.beginRefresh(),this.didRefresh=!0,l={style:ah.Light},dh()&&ch.impact(l),this.pointerDown||ag(this.elementToTransform,`${r}px`))):(this.state=2,((e,t,i)=>{il((()=>{e.forEach(((e,n)=>{const o=n*(1/t),r=Pc(0,(i-o)/(1-o),1);e.style.setProperty("opacity",r.toString())}))}))})(i,o,a))}))},this.scrollEl.addEventListener("scroll",this.scrollListenerCallback),this.gesture=(await Da((()=>Promise.resolve().then((()=>jg))),void 0)).createGesture({el:this.scrollEl,gestureName:"refresher",gesturePriority:31,direction:"y",threshold:5,onStart:()=>{this.pointerDown=!0,this.didRefresh||ag(this.elementToTransform,"0px"),0===n&&(n=.16*this.scrollEl.clientHeight)},onMove:e=>{this.lastVelocityY=e.velocityY},onEnd:()=>{this.pointerDown=!1,this.didStart=!1,this.needsCompletion?(this.resetNativeRefresher(this.elementToTransform,32),this.needsCompletion=!1):this.didRefresh&&tl((()=>ag(this.elementToTransform,`${this.el.clientHeight}px`)))}}),this.disabledChanged()}async setupMDNativeRefresher(e,t,i){const n=Ac(t).querySelector("circle"),o=this.el.querySelector("ion-refresher-content .refresher-pulling-icon"),r=Ac(i).querySelector("circle");null!==n&&null!==r&&il((()=>{n.style.setProperty("animation","none"),i.style.setProperty("animation-delay","-655ms"),r.style.setProperty("animation-delay","-655ms")})),this.gesture=(await Da((()=>Promise.resolve().then((()=>jg))),void 0)).createGesture({el:this.scrollEl,gestureName:"refresher",gesturePriority:31,direction:"y",threshold:5,canStart:()=>8!==this.state&&32!==this.state&&0===this.scrollEl.scrollTop,onStart:e=>{this.progress=0,e.data={animation:void 0,didStart:!1,cancelled:!1}},onMove:t=>{if(t.velocityY<0&&0===this.progress&&!t.data.didStart||t.data.cancelled)t.data.cancelled=!0;else{if(!t.data.didStart){t.data.didStart=!0,this.state=2;const{scrollEl:i}=this,n=i.matches(Em)?"overflow":"--overflow";il((()=>i.style.setProperty(n,"hidden")));const r=(e=>{const t=e.previousElementSibling;return null!==t&&"ION-HEADER"===t.tagName?"translate":"scale"})(e),s=((e,t,i)=>"scale"===e?rg(t,i):sg(t,i))(r,o,this.el);return t.data.animation=s,s.progressStart(!1,0),this.ionStart.emit(),void this.animations.push(s)}this.progress=Pc(0,t.deltaY/180*.5,1),t.data.animation.progressStep(this.progress),this.ionPull.emit()}},onEnd:e=>{if(!e.data.didStart)return;this.gesture.enable(!1);const{scrollEl:t}=this,i=t.matches(Em)?"overflow":"--overflow";if(il((()=>t.style.removeProperty(i))),this.progress<=.4)return void e.data.animation.progressEnd(0,this.progress,500).onFinish((()=>{this.animations.forEach((e=>e.destroy())),this.animations=[],this.gesture.enable(!0),this.state=1}));const n=If([0,0],[0,0],[1,1],[1,1],this.progress)[0],r=(e=>Up().duration(125).addElement(e).fromTo("transform","translateY(var(--ion-pulling-refresher-translate, 100px))","translateY(0px)"))(o);this.animations.push(r),il((async()=>{o.style.setProperty("--ion-pulling-refresher-translate",100*n+"px"),e.data.animation.progressEnd(),await r.play(),this.beginRefresh(),e.data.animation.destroy(),this.gesture.enable(!0)}))}}),this.disabledChanged()}async setupNativeRefresher(e){if(this.scrollListenerCallback||!e||this.nativeRefresher||!this.scrollEl)return;this.setCss(0,"",!1,""),this.nativeRefresher=!0;const t=this.el.querySelector("ion-refresher-content .refresher-pulling ion-spinner"),i=this.el.querySelector("ion-refresher-content .refresher-refreshing ion-spinner");"ios"===nd(this)?this.setupiOSNativeRefresher(t,i):this.setupMDNativeRefresher(e,t,i)}componentDidUpdate(){this.checkNativeRefresher()}async connectedCallback(){if("fixed"!==this.el.getAttribute("slot"))return void console.error('Make sure you use: <ion-refresher slot="fixed">');const e=this.el.closest(_m);e?yc(e,(async()=>{const t=e.querySelector(Em);this.scrollEl=await Tm(null!=t?t:e),this.backgroundContentEl=await e.getBackgroundElement(),this.contentFullscreen=e.fullscreen,await cg(this.el,nd(this))?this.setupNativeRefresher(e):(this.gesture=(await Da((()=>Promise.resolve().then((()=>jg))),void 0)).createGesture({el:e,gestureName:"refresher",gesturePriority:31,direction:"y",threshold:20,passive:!1,canStart:()=>this.canStart(),onStart:()=>this.onStart(),onMove:e=>this.onMove(e),onEnd:()=>this.onEnd()}),this.disabledChanged())})):Pm(this.el)}disconnectedCallback(){this.destroyNativeRefresher(),this.scrollEl=void 0,this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async complete(){this.nativeRefresher?(this.needsCompletion=!0,this.pointerDown||Tc((()=>Tc((()=>this.resetNativeRefresher(this.elementToTransform,32)))))):this.close(32,"120ms")}async cancel(){this.nativeRefresher?this.pointerDown||Tc((()=>Tc((()=>this.resetNativeRefresher(this.elementToTransform,16))))):this.close(16,"")}getProgress(){return Promise.resolve(this.progress)}canStart(){return!!this.scrollEl&&(1===this.state&&!(this.scrollEl.scrollTop>0))}onStart(){this.progress=0,this.state=1,this.memoizeOverflowStyle(),this.contentFullscreen&&this.backgroundContentEl&&this.backgroundContentEl.style.setProperty("--offset-top","0px")}onMove(e){if(!this.scrollEl)return;const t=e.event;if(void 0!==t.touches&&t.touches.length>1)return;if(56&this.state)return;const i=Number.isNaN(this.pullFactor)||this.pullFactor<0?1:this.pullFactor,n=e.deltaY*i;if(n<=0)return this.progress=0,this.state=1,this.appliedStyles?void this.setCss(0,"",!1,""):void 0;if(1===this.state){if(this.scrollEl.scrollTop>0)return void(this.progress=0);this.state=2}if(t.cancelable&&t.preventDefault(),this.setCss(n,"0ms",!0,""),0===n)return void(this.progress=0);const o=this.pullMin;this.progress=n/o,this.didStart||(this.didStart=!0,this.ionStart.emit()),this.ionPull.emit(),n<o?this.state=2:n>this.pullMax?this.beginRefresh():this.state=4}onEnd(){4===this.state?this.beginRefresh():2===this.state?this.cancel():1===this.state&&this.restoreOverflowStyle()}beginRefresh(){this.state=8,this.setCss(this.pullMin,this.snapbackDuration,!0,""),this.ionRefresh.emit({complete:this.complete.bind(this)})}close(e,t){setTimeout((()=>{var e;this.state=1,this.progress=0,this.didStart=!1,this.setCss(0,"0ms",!1,"",!0),this.contentFullscreen&&this.backgroundContentEl&&(null===(e=this.backgroundContentEl)||void 0===e||e.style.removeProperty("--offset-top"))}),600),this.state=e,this.setCss(0,this.closeDuration,!0,t)}setCss(e,t,i,n,o=!1){this.nativeRefresher||(this.appliedStyles=e>0,il((()=>{if(this.scrollEl&&this.backgroundContentEl){const o=this.scrollEl.style,r=this.backgroundContentEl.style;o.transform=r.transform=e>0?`translateY(${e}px) translateZ(0px)`:"",o.transitionDuration=r.transitionDuration=t,o.transitionDelay=r.transitionDelay=n,o.overflow=i?"hidden":""}o&&this.restoreOverflowStyle()})))}memoizeOverflowStyle(){if(this.scrollEl){const{overflow:e,overflowX:t,overflowY:i}=this.scrollEl.style;this.overflowStyles={overflow:null!=e?e:"",overflowX:null!=t?t:"",overflowY:null!=i?i:""}}}restoreOverflowStyle(){if(void 0!==this.overflowStyles&&void 0!==this.scrollEl){const{overflow:e,overflowX:t,overflowY:i}=this.overflowStyles;this.scrollEl.style.overflow=e,this.scrollEl.style.overflowX=t,this.scrollEl.style.overflowY=i,this.overflowStyles=void 0}}render(){const e=nd(this);return ml(gl,{key:"9d4ac22988aec2c6af0b0c90934c52f62f0e4ce3",slot:"fixed",class:{[e]:!0,[`refresher-${e}`]:!0,"refresher-native":this.nativeRefresher,"refresher-active":1!==this.state,"refresher-pulling":2===this.state,"refresher-ready":4===this.state,"refresher-refreshing":8===this.state,"refresher-cancelling":16===this.state,"refresher-completing":32===this.state}})}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:"ion-refresher{top:0;display:none;position:absolute;width:100%;height:60px;pointer-events:none;z-index:-1}ion-refresher{inset-inline-start:0}ion-refresher.refresher-active{display:block}ion-refresher-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.refresher-pulling,.refresher-refreshing{display:none;width:100%}.refresher-pulling-icon,.refresher-refreshing-icon{-webkit-transform-origin:center;transform-origin:center;-webkit-transition:200ms;transition:200ms;font-size:30px;text-align:center}:host-context([dir=rtl]) .refresher-pulling-icon,:host-context([dir=rtl]) .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] .refresher-pulling-icon,[dir=rtl] .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){.refresher-pulling-icon:dir(rtl),.refresher-refreshing-icon:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}.refresher-pulling-text,.refresher-refreshing-text{font-size:16px;text-align:center}ion-refresher-content .arrow-container{display:none}.refresher-pulling ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.refresher-refreshing ion-refresher-content .refresher-refreshing{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-completing ion-refresher-content .refresher-refreshing{display:block}.refresher-completing ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-native .refresher-pulling-text,.refresher-native .refresher-refreshing-text{display:none}.refresher-ios .refresher-pulling-icon,.refresher-ios .refresher-refreshing-icon{color:var(--ion-text-color, #000)}.refresher-ios .refresher-pulling-text,.refresher-ios .refresher-refreshing-text{color:var(--ion-text-color, #000)}.refresher-ios .refresher-refreshing .spinner-lines-ios line,.refresher-ios .refresher-refreshing .spinner-lines-small-ios line,.refresher-ios .refresher-refreshing .spinner-crescent circle{stroke:var(--ion-text-color, #000)}.refresher-ios .refresher-refreshing .spinner-bubbles circle,.refresher-ios .refresher-refreshing .spinner-circles circle,.refresher-ios .refresher-refreshing .spinner-dots circle{fill:var(--ion-text-color, #000)}ion-refresher.refresher-native{display:block;z-index:1}ion-refresher.refresher-native ion-spinner{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0}.refresher-native .refresher-refreshing ion-spinner{--refreshing-rotation-duration:2s;display:none;-webkit-animation:var(--refreshing-rotation-duration) ease-out refresher-rotate forwards;animation:var(--refreshing-rotation-duration) ease-out refresher-rotate forwards}.refresher-native .refresher-refreshing{display:none;-webkit-animation:250ms linear refresher-pop forwards;animation:250ms linear refresher-pop forwards}.refresher-native ion-spinner{width:32px;height:32px;color:var(--ion-color-step-450, var(--ion-background-color-step-450, #747577))}.refresher-native.refresher-refreshing .refresher-pulling ion-spinner,.refresher-native.refresher-completing .refresher-pulling ion-spinner{display:none}.refresher-native.refresher-refreshing .refresher-refreshing ion-spinner,.refresher-native.refresher-completing .refresher-refreshing ion-spinner{display:block}.refresher-native.refresher-pulling .refresher-pulling ion-spinner{display:block}.refresher-native.refresher-pulling .refresher-refreshing ion-spinner{display:none}.refresher-native.refresher-completing ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0) rotate(180deg);transform:scale(0) rotate(180deg);-webkit-transition:300ms;transition:300ms}@-webkit-keyframes refresher-pop{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes refresher-pop{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes refresher-rotate{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes refresher-rotate{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}",md:"ion-refresher{top:0;display:none;position:absolute;width:100%;height:60px;pointer-events:none;z-index:-1}ion-refresher{inset-inline-start:0}ion-refresher.refresher-active{display:block}ion-refresher-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.refresher-pulling,.refresher-refreshing{display:none;width:100%}.refresher-pulling-icon,.refresher-refreshing-icon{-webkit-transform-origin:center;transform-origin:center;-webkit-transition:200ms;transition:200ms;font-size:30px;text-align:center}:host-context([dir=rtl]) .refresher-pulling-icon,:host-context([dir=rtl]) .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] .refresher-pulling-icon,[dir=rtl] .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){.refresher-pulling-icon:dir(rtl),.refresher-refreshing-icon:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}.refresher-pulling-text,.refresher-refreshing-text{font-size:16px;text-align:center}ion-refresher-content .arrow-container{display:none}.refresher-pulling ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.refresher-refreshing ion-refresher-content .refresher-refreshing{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-completing ion-refresher-content .refresher-refreshing{display:block}.refresher-completing ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-native .refresher-pulling-text,.refresher-native .refresher-refreshing-text{display:none}.refresher-md .refresher-pulling-icon,.refresher-md .refresher-refreshing-icon{color:var(--ion-text-color, #000)}.refresher-md .refresher-pulling-text,.refresher-md .refresher-refreshing-text{color:var(--ion-text-color, #000)}.refresher-md .refresher-refreshing .spinner-lines-md line,.refresher-md .refresher-refreshing .spinner-lines-small-md line,.refresher-md .refresher-refreshing .spinner-crescent circle{stroke:var(--ion-text-color, #000)}.refresher-md .refresher-refreshing .spinner-bubbles circle,.refresher-md .refresher-refreshing .spinner-circles circle,.refresher-md .refresher-refreshing .spinner-dots circle{fill:var(--ion-text-color, #000)}ion-refresher.refresher-native{display:block;z-index:1}ion-refresher.refresher-native ion-spinner{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;width:24px;height:24px;color:var(--ion-color-primary, #0054e9)}ion-refresher.refresher-native .spinner-arrow-container{display:inherit}ion-refresher.refresher-native .arrow-container{display:block;position:absolute;width:24px;height:24px}ion-refresher.refresher-native .arrow-container ion-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;left:0;right:0;bottom:-4px;position:absolute;color:var(--ion-color-primary, #0054e9);font-size:12px}ion-refresher.refresher-native.refresher-pulling ion-refresher-content .refresher-pulling,ion-refresher.refresher-native.refresher-ready ion-refresher-content .refresher-pulling{display:-ms-flexbox;display:flex}ion-refresher.refresher-native.refresher-refreshing ion-refresher-content .refresher-refreshing,ion-refresher.refresher-native.refresher-completing ion-refresher-content .refresher-refreshing,ion-refresher.refresher-native.refresher-cancelling ion-refresher-content .refresher-refreshing{display:-ms-flexbox;display:flex}ion-refresher.refresher-native .refresher-pulling-icon{-webkit-transform:translateY(calc(-100% - 10px));transform:translateY(calc(-100% - 10px))}ion-refresher.refresher-native .refresher-pulling-icon,ion-refresher.refresher-native .refresher-refreshing-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;border-radius:100%;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;display:-ms-flexbox;display:flex;border:1px solid var(--ion-color-step-200, var(--ion-background-color-step-200, #ececec));background:var(--ion-color-step-250, var(--ion-background-color-step-250, #ffffff));-webkit-box-shadow:0px 1px 6px rgba(0, 0, 0, 0.1);box-shadow:0px 1px 6px rgba(0, 0, 0, 0.1)}"}}},[32,"ion-refresher",{pullMin:[2,"pull-min"],pullMax:[2,"pull-max"],closeDuration:[1,"close-duration"],snapbackDuration:[1,"snapback-duration"],pullFactor:[2,"pull-factor"],disabled:[4],nativeRefresher:[32],state:[32],complete:[64],cancel:[64],getProgress:[64]},void 0,{disabled:["disabledChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const ug=function(){if("undefined"==typeof customElements)return;["ion-refresher"].forEach((e=>{if("ion-refresher"===e)customElements.get(e)||customElements.define(e,dg)}))},hg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.customHTMLEnabled=zc.get("innerHTMLTemplatesEnabled",sf),this.pullingIcon=void 0,this.pullingText=void 0,this.refreshingSpinner=void 0,this.refreshingText=void 0}componentWillLoad(){if(void 0===this.pullingIcon){const e=lg(),t=nd(this),i=e?"lines":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>";this.pullingIcon=zc.get("refreshingIcon","ios"===t&&e?zc.get("spinner",i):"circular")}if(void 0===this.refreshingSpinner){const e=nd(this);this.refreshingSpinner=zc.get("refreshingSpinner",zc.get("spinner","ios"===e?"lines":"circular"))}}renderPullingText(){const{customHTMLEnabled:e,pullingText:t}=this;return e?ml("div",{class:"refresher-pulling-text",innerHTML:Jm(t)}):ml("div",{class:"refresher-pulling-text"},t)}renderRefreshingText(){const{customHTMLEnabled:e,refreshingText:t}=this;return e?ml("div",{class:"refresher-refreshing-text",innerHTML:Jm(t)}):ml("div",{class:"refresher-refreshing-text"},t)}render(){const e=this.pullingIcon,t=null!=e&&void 0!==af[e],i=nd(this);return ml(gl,{key:"19633bbcf02e3dba885d6bdcdaf2269bf4c8e2f5",class:i},ml("div",{key:"28922e434a55a6cac0476fe2bee56941ce0d1c02",class:"refresher-pulling"},this.pullingIcon&&t&&ml("div",{key:"fe575bf996021884677e9b23a3215d63caf894f5",class:"refresher-pulling-icon"},ml("div",{key:"59fe12297fd95bc33b8df8cd35316e2a1c084d91",class:"spinner-arrow-container"},ml("ion-spinner",{key:"af9cc013ae04945c140b2865610ca73edb52ab48",name:this.pullingIcon,paused:!0}),"md"===i&&"circular"===this.pullingIcon&&ml("div",{key:"34df66ad1b0f706a0532957251aa2c20bf4587d8",class:"arrow-container"},ml("ion-icon",{key:"ffdb5c123e606b823491c6c51cc2b497f62581bb",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 64L144 256l224 192V64z'/></svg>","aria-hidden":"true"})))),this.pullingIcon&&!t&&ml("div",{key:"ac3a2032bb969264d20fa057e9123441005d7a9d",class:"refresher-pulling-icon"},ml("ion-icon",{key:"d969d10915548e72aae289b52154366f3dd39b31",icon:this.pullingIcon,lazy:!1,"aria-hidden":"true"})),void 0!==this.pullingText&&this.renderPullingText()),ml("div",{key:"a8f854f81a94812d7bef8ce088331d94f49ff53d",class:"refresher-refreshing"},this.refreshingSpinner&&ml("div",{key:"a1f646945370e40c844d62bc0c647443ae9dfbe7",class:"refresher-refreshing-icon"},ml("ion-spinner",{key:"ab3ff4047769b6436e222b46d193c1e8b23e2fce",name:this.refreshingSpinner})),void 0!==this.refreshingText&&this.renderRefreshingText()))}get el(){return this}},[0,"ion-refresher-content",{pullingIcon:[1025,"pulling-icon"],pullingText:[1,"pulling-text"],refreshingSpinner:[1025,"refreshing-spinner"],refreshingText:[1,"refreshing-text"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const pg=function(){if("undefined"==typeof customElements)return;["ion-refresher-content","ion-icon","ion-spinner"].forEach((e=>{switch(e){case"ion-refresher-content":customElements.get(e)||customElements.define(e,hg);break;case"ion-icon":customElements.get(e)||kd();break;case"ion-spinner":customElements.get(e)||uf()}}))},mg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow()}onClick(e){const t=this.el.closest("ion-reorder-group");e.preventDefault(),t&&t.disabled||e.stopImmediatePropagation()}render(){const e=nd(this);return ml(gl,{key:"27266e30bcb7e10c57fb6d546399cfb1f1c93b23",class:e},ml("slot",{key:"8745cb9a31458e884c27eed1fb90d104fe9a79eb"},ml("ion-icon",{key:"6c4b9631a2f5610f1e21b2db025b6702d0d593bf",icon:"ios"===e?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",lazy:!1,class:"reorder-icon",part:"icon","aria-hidden":"true"})))}get el(){return this}static get style(){return{ios:":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block}::slotted(ion-icon){font-size:dynamic-font(16px)}.reorder-icon{font-size:2.125rem;opacity:0.4}",md:":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block}::slotted(ion-icon){font-size:dynamic-font(16px)}.reorder-icon{font-size:1.9375rem;opacity:0.3}"}}},[33,"ion-reorder",void 0,[[2,"click","onClick"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const fg=function(){if("undefined"==typeof customElements)return;["ion-reorder","ion-icon"].forEach((e=>{switch(e){case"ion-reorder":customElements.get(e)||customElements.define(e,mg);break;case"ion-icon":customElements.get(e)||kd()}}))},gg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.ionItemReorder=kl(this,"ionItemReorder",7),this.lastToIndex=-1,this.cachedHeights=[],this.scrollElTop=0,this.scrollElBottom=0,this.scrollElInitial=0,this.containerTop=0,this.containerBottom=0,this.state=0,this.disabled=!0}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}async connectedCallback(){const e=Im(this.el);e&&(this.scrollEl=await Tm(e)),this.gesture=(await Da((()=>Promise.resolve().then((()=>jg))),void 0)).createGesture({el:this.el,gestureName:"reorder",gesturePriority:110,threshold:0,direction:"y",passive:!1,canStart:e=>this.canStart(e),onStart:e=>this.onStart(e),onMove:e=>this.onMove(e),onEnd:()=>this.onEnd()}),this.disabledChanged()}disconnectedCallback(){this.onEnd(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}complete(e){return Promise.resolve(this.completeReorder(e))}canStart(e){if(this.selectedItemEl||0!==this.state)return!1;const t=e.event.target.closest("ion-reorder");if(!t)return!1;const i=vg(t,this.el);return!!i&&(e.data=i,!0)}onStart(e){e.event.preventDefault();const t=this.selectedItemEl=e.data,i=this.cachedHeights;i.length=0;const n=this.el,o=n.children;if(!o||0===o.length)return;let r=0;for(let a=0;a<o.length;a++){const e=o[a];r+=e.offsetHeight,i.push(r),e.$ionIndex=a}const s=n.getBoundingClientRect();if(this.containerTop=s.top,this.containerBottom=s.bottom,this.scrollEl){const e=this.scrollEl.getBoundingClientRect();this.scrollElInitial=this.scrollEl.scrollTop,this.scrollElTop=e.top+yg,this.scrollElBottom=e.bottom-yg}else this.scrollElInitial=0,this.scrollElTop=0,this.scrollElBottom=0;this.lastToIndex=bg(t),this.selectedItemHeight=t.offsetHeight,this.state=1,t.classList.add(wg),uh()}onMove(e){const t=this.selectedItemEl;if(!t)return;const i=this.autoscroll(e.currentY),n=this.containerTop-i,o=this.containerBottom-i,r=Math.max(n,Math.min(e.currentY,o)),s=i+r-e.startY,a=r-n,l=this.itemIndexForTop(a);if(l!==this.lastToIndex){const e=bg(t);this.lastToIndex=l,hh(),this.reorderMove(e,l)}t.style.transform=`translateY(${s}px)`}onEnd(){const e=this.selectedItemEl;if(this.state=2,!e)return void(this.state=0);const t=this.lastToIndex,i=bg(e);t===i?this.completeReorder():this.ionItemReorder.emit({from:i,to:t,complete:this.completeReorder.bind(this)}),ph()}completeReorder(e){const t=this.selectedItemEl;if(t&&2===this.state){const i=this.el.children,n=i.length,o=this.lastToIndex,r=bg(t);Tc((()=>{if(o!==r&&(void 0===e||!0===e)){const e=r<o?i[o+1]:i[o];this.el.insertBefore(t,e)}for(let e=0;e<n;e++)i[e].style.transform=""})),Array.isArray(e)&&(e=xg(e,r,o)),t.style.transition="",t.classList.remove(wg),this.selectedItemEl=void 0,this.state=0}return e}itemIndexForTop(e){const t=this.cachedHeights;for(let i=0;i<t.length;i++)if(t[i]>e)return i;return t.length-1}reorderMove(e,t){const i=this.selectedItemHeight,n=this.el.children;for(let o=0;o<n.length;o++){let r="";o>e&&o<=t?r=`translateY(${-i}px)`:o<e&&o>=t&&(r=`translateY(${i}px)`),n[o].style.transform=r}}autoscroll(e){if(!this.scrollEl)return 0;let t=0;return e<this.scrollElTop?t=-10:e>this.scrollElBottom&&(t=kg),0!==t&&this.scrollEl.scrollBy(0,t),this.scrollEl.scrollTop-this.scrollElInitial}render(){const e=nd(this);return ml(gl,{key:"a38c7fbceb677201330a602273d5b55abb32da19",class:{[e]:!0,"reorder-enabled":!this.disabled,"reorder-list-active":0!==this.state}})}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return".reorder-list-active>*{display:block;-webkit-transition:-webkit-transform 300ms;transition:-webkit-transform 300ms;transition:transform 300ms;transition:transform 300ms, -webkit-transform 300ms;will-change:transform}.reorder-enabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reorder-enabled ion-reorder{display:block;cursor:-webkit-grab;cursor:grab;pointer-events:all;-ms-touch-action:none;touch-action:none}.reorder-selected,.reorder-selected ion-reorder{cursor:-webkit-grabbing;cursor:grabbing}.reorder-selected{position:relative;-webkit-transition:none !important;transition:none !important;-webkit-box-shadow:0 0 10px rgba(0, 0, 0, 0.4);box-shadow:0 0 10px rgba(0, 0, 0, 0.4);opacity:0.8;z-index:100}.reorder-visible ion-reorder .reorder-icon{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}"}},[0,"ion-reorder-group",{disabled:[4],state:[32],complete:[64]},void 0,{disabled:["disabledChanged"]}]),bg=e=>e.$ionIndex,vg=(e,t)=>{let i;for(;e;){if(i=e.parentElement,i===t)return e;e=i}},yg=60,kg=10,wg="reorder-selected",xg=(e,t,i)=>{const n=e[t];return e.splice(t,1),e.splice(i,0,n),e.slice()};const _g=function(){if("undefined"==typeof customElements)return;["ion-reorder-group"].forEach((e=>{if("ion-reorder-group"===e)customElements.get(e)||customElements.define(e,gg)}))},Eg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=kl(this,"ionChange",7),this.ionSelect=kl(this,"ionSelect",7),this.ionStyle=kl(this,"ionStyle",7),this.segmentViewEl=null,this.onClick=e=>{const t=e.target,i=this.checked;"ION-SEGMENT"!==t.tagName&&(this.value=t.value,t!==i&&this.emitValueChange(),this.segmentViewEl?(this.updateSegmentView(),this.scrollable&&i&&this.checkButton(i,t)):!this.scrollable&&this.swipeGesture||(i?this.checkButton(i,t):this.setCheckedClasses()))},this.onSlottedItemsChange=()=>{this.valueChanged(this.value)},this.getSegmentButton=e=>{var t,i;const n=this.getButtons().filter((e=>!e.disabled)),o=n.findIndex((e=>e===document.activeElement));switch(e){case"first":return n[0];case"last":return n[n.length-1];case"next":return null!==(t=n[o+1])&&void 0!==t?t:n[0];case"previous":return null!==(i=n[o-1])&&void 0!==i?i:n[n.length-1];default:return null}},this.activated=!1,this.color=void 0,this.disabled=!1,this.scrollable=!1,this.swipeGesture=!0,this.value=void 0,this.selectOnFocus=!1}colorChanged(e,t){(void 0===t&&void 0!==e||void 0!==t&&void 0===e)&&this.emitStyle()}swipeGestureChanged(){this.gestureChanged()}valueChanged(e,t){if(this.segmentViewEl&&void 0===e)this.value=this.getButtons()[0].value;else{if(void 0!==t&&void 0!==e){const i=this.getButtons(),n=i.find((e=>e.value===t)),o=i.find((t=>t.value===e));n&&o&&(this.segmentViewEl?!1!==this.triggerScrollOnValueChange&&this.updateSegmentView():this.checkButton(n,o))}else void 0!==e&&void 0===t&&this.segmentViewEl&&this.updateSegmentView();this.ionSelect.emit({value:e}),this.segmentViewEl||this.scrollActiveButtonIntoView(),this.triggerScrollOnValueChange=void 0}}disabledChanged(){if(this.gestureChanged(),this.segmentViewEl)this.segmentViewEl.disabled=this.disabled;else{const e=this.getButtons();for(const t of e)t.disabled=this.disabled}}gestureChanged(){this.gesture&&this.gesture.enable(!this.scrollable&&!this.disabled&&this.swipeGesture)}connectedCallback(){this.emitStyle(),this.segmentViewEl=this.getSegmentView()}disconnectedCallback(){this.segmentViewEl=null}componentWillLoad(){this.emitStyle()}async componentDidLoad(){this.setCheckedClasses(),Tc((()=>{this.scrollActiveButtonIntoView(!1)})),this.gesture=(await Da((()=>Promise.resolve().then((()=>jg))),void 0)).createGesture({el:this.el,gestureName:"segment",gesturePriority:100,threshold:0,passive:!1,onStart:e=>this.onStart(e),onMove:e=>this.onMove(e),onEnd:e=>this.onEnd(e)}),this.gestureChanged(),this.disabled&&this.disabledChanged(),this.updateSegmentView(!1)}onStart(e){this.valueBeforeGesture=this.value,this.activate(e)}onMove(e){this.setNextIndex(e)}onEnd(e){this.setActivated(!1),this.setNextIndex(e,!0),e.event.stopImmediatePropagation();const t=this.value;void 0!==t&&this.valueBeforeGesture!==t&&(this.emitValueChange(),this.updateSegmentView()),this.valueBeforeGesture=void 0}emitValueChange(){const{value:e}=this;this.ionChange.emit({value:e})}getButtons(){return Array.from(this.el.querySelectorAll("ion-segment-button"))}get checked(){return this.getButtons().find((e=>e.value===this.value))}setActivated(e){this.getButtons().forEach((t=>{t.classList.toggle("segment-button-activated",e)})),this.activated=e}activate(e){const t=e.event.target,i=this.getButtons().find((e=>e.value===this.value));"ION-SEGMENT-BUTTON"===t.tagName&&(i||(this.value=t.value,this.setCheckedClasses()),this.value===t.value&&this.setActivated(!0))}getIndicator(e){return(e.shadowRoot||e).querySelector(".segment-button-indicator")}checkButton(e,t){const i=this.getIndicator(e),n=this.getIndicator(t);if(null===i||null===n)return;const o=i.getBoundingClientRect(),r=n.getBoundingClientRect(),s=o.width/r.width,a=`translate3d(${o.left-r.left}px, 0, 0) scaleX(${s})`;il((()=>{n.classList.remove("segment-button-indicator-animated"),n.style.setProperty("transform",a),n.getBoundingClientRect(),n.classList.add("segment-button-indicator-animated"),n.style.setProperty("transform",""),this.scrollActiveButtonIntoView(!0)})),this.value=t.value,this.setCheckedClasses()}setCheckedClasses(){const e=this.getButtons(),t=e.findIndex((e=>e.value===this.value))+1;for(const i of e)i.classList.remove("segment-button-after-checked");t<e.length&&e[t].classList.add("segment-button-after-checked")}getSegmentView(){const e=this.getButtons().find((e=>e.contentId)),t=document.querySelector(`ion-segment-content[id="${null==e?void 0:e.contentId}"]`);return null==t?void 0:t.closest("ion-segment-view")}handleSegmentViewScroll(e){const{scrollRatio:t,isManualScroll:i}=e.detail;if(!i)return;const n=e.target,o=this.segmentViewEl,r=this.el;if(e.composedPath().includes(o)||(null==n?void 0:n.contains(r))){const e=this.getButtons();if(!e.length)return;const i=e.findIndex((e=>e.value===this.value)),n=e[i],o=Math.round(t*(e.length-1));void 0!==this.lastNextIndex&&this.lastNextIndex===o||(this.lastNextIndex=o,this.triggerScrollOnValueChange=!1,this.checkButton(n,e[o]),this.emitValueChange())}}updateSegmentView(e=!0){const t=this.getButtons().find((e=>e.value===this.value));if(!(null==t?void 0:t.contentId))return;const i=this.segmentViewEl;i&&i.setContent(t.contentId,e)}scrollActiveButtonIntoView(e=!0){const{scrollable:t,value:i,el:n}=this;if(t){const t=this.getButtons().find((e=>e.value===i));if(void 0!==t){const i=n.getBoundingClientRect(),o=t.getBoundingClientRect(),r=o.x-i.x-i.width/2+o.width/2,s=n.scrollLeft+r;n.scrollTo({top:0,left:s,behavior:e?"smooth":"instant"})}}}setNextIndex(e,t=!1){const i=eu(this.el),n=this.activated,o=this.getButtons(),r=o.findIndex((e=>e.value===this.value)),s=o[r];let a,l;if(-1===r)return;const c=s.getBoundingClientRect(),d=c.left,u=c.width,h=e.currentX,p=c.top+c.height/2,m=this.el.getRootNode().elementFromPoint(h,p);if(n&&!t){if(i?h>d+u:h<d){const e=r-1;e>=0&&(l=e)}else if((i?h<d:h>d+u)&&n&&!t){const e=r+1;e<o.length&&(l=e)}void 0===l||o[l].disabled||(a=o[l])}if(!n&&t&&(a=m),null!=a){if("ION-SEGMENT"===a.tagName)return!1;s!==a&&this.checkButton(s,a)}return!0}emitStyle(){this.ionStyle.emit({segment:!0})}onKeyDown(e){const t=eu(this.el);let i,n=this.selectOnFocus;switch(e.key){case"ArrowRight":e.preventDefault(),i=t?this.getSegmentButton("previous"):this.getSegmentButton("next");break;case"ArrowLeft":e.preventDefault(),i=t?this.getSegmentButton("next"):this.getSegmentButton("previous");break;case"Home":e.preventDefault(),i=this.getSegmentButton("first");break;case"End":e.preventDefault(),i=this.getSegmentButton("last");break;case" ":case"Enter":e.preventDefault(),i=document.activeElement,n=!0}if(i){if(n){const e=this.checked;this.checkButton(e||i,i),i!==e&&this.emitValueChange()}i.setFocus()}}render(){const e=nd(this);return ml(gl,{key:"66bd7a565ba73540b3bbe56dd23b95e59bcef9bc",role:"tablist",onClick:this.onClick,class:Dd(this.color,{[e]:!0,"in-toolbar":Pd("ion-toolbar",this.el),"in-toolbar-color":Pd("ion-toolbar[color]",this.el),"segment-activated":this.activated,"segment-disabled":this.disabled,"segment-scrollable":this.scrollable})},ml("slot",{key:"782c521b1a33729b8eab1c4b879bc3f2ff48ae1b",onSlotchange:this.onSlottedItemsChange}))}get el(){return this}static get watchers(){return{color:["colorChanged"],swipeGesture:["swipeGestureChanged"],value:["valueChanged"],disabled:["disabledChanged"]}}static get style(){return{ios:":host{--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:grid;grid-auto-columns:1fr;position:relative;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;background:var(--background);font-family:var(--ion-font-family, inherit);text-align:center;contain:paint;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.segment-scrollable){-ms-flex-pack:start;justify-content:start;width:auto;overflow-x:auto;grid-auto-columns:minmax(-webkit-min-content, 1fr);grid-auto-columns:minmax(min-content, 1fr)}:host(.segment-scrollable::-webkit-scrollbar){display:none}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.065);border-radius:8px;overflow:hidden;z-index:0}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.065)}:host(.in-toolbar){-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;width:auto}:host(.in-toolbar:not(.ion-color)){background:var(--ion-toolbar-segment-background, var(--background))}:host(.in-toolbar-color:not(.ion-color)){background:rgba(var(--ion-color-contrast-rgb), 0.11)}",md:":host{--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:grid;grid-auto-columns:1fr;position:relative;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;background:var(--background);font-family:var(--ion-font-family, inherit);text-align:center;contain:paint;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.segment-scrollable){-ms-flex-pack:start;justify-content:start;width:auto;overflow-x:auto;grid-auto-columns:minmax(-webkit-min-content, 1fr);grid-auto-columns:minmax(min-content, 1fr)}:host(.segment-scrollable::-webkit-scrollbar){display:none}:host{--background:transparent;grid-auto-columns:minmax(auto, 360px)}:host(.in-toolbar){min-height:var(--min-height)}:host(.segment-scrollable) ::slotted(ion-segment-button){min-width:auto}"}}},[33,"ion-segment",{color:[513],disabled:[4],scrollable:[4],swipeGesture:[4,"swipe-gesture"],value:[1032],selectOnFocus:[4,"select-on-focus"],activated:[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{color:["colorChanged"],swipeGesture:["swipeGestureChanged"],value:["valueChanged"],disabled:["disabledChanged"]}]);const Cg=function(){if("undefined"==typeof customElements)return;["ion-segment"].forEach((e=>{if("ion-segment"===e)customElements.get(e)||customElements.define(e,Eg)}))};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let Ag=0;const Tg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.segmentEl=null,this.inheritedAttributes={},this.updateStyle=()=>{sc(this)},this.updateState=()=>{const{segmentEl:e}=this;e&&(this.checked=e.value===this.value,e.disabled&&(this.disabled=!0))},this.checked=!1,this.contentId=void 0,this.disabled=!1,this.layout="icon-top",this.type="button",this.value="ion-sb-"+Ag++}valueChanged(){this.updateState()}connectedCallback(){const e=this.segmentEl=this.el.closest("ion-segment");if(e&&(this.updateState(),Ec(e,"ionSelect",this.updateState),Ec(e,"ionStyle",this.updateStyle)),!this.contentId)return;const t=document.getElementById(this.contentId);t?"ION-SEGMENT-CONTENT"===t.tagName?this.disabled&&(console.warn("Segment Button: Segment buttons cannot be disabled when associated with an <ion-segment-content>."),this.disabled=!1):console.error(`Segment Button: Element with id="${this.contentId}" is not an <ion-segment-content> element.`):console.error(`Segment Button: Unable to find Segment Content with id="${this.contentId}".`)}disconnectedCallback(){const e=this.segmentEl;e&&(Cc(e,"ionSelect",this.updateState),Cc(e,"ionStyle",this.updateStyle),this.segmentEl=null)}componentWillLoad(){this.inheritedAttributes=Object.assign({},wc(this.el,["aria-label"]))}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}async setFocus(){const{nativeEl:e}=this;void 0!==e&&e.focus()}render(){const{checked:e,type:t,disabled:i,hasIcon:n,hasLabel:o,layout:r,segmentEl:s}=this,a=nd(this);return ml(gl,{key:"d50a5d5e2f6206e8523598f258d8217d2903f69b",class:{[a]:!0,"in-toolbar":Pd("ion-toolbar",this.el),"in-toolbar-color":Pd("ion-toolbar[color]",this.el),"in-segment":Pd("ion-segment",this.el),"in-segment-color":void 0!==(null==s?void 0:s.color),"segment-button-has-label":o,"segment-button-has-icon":n,"segment-button-has-label-only":o&&!n,"segment-button-has-icon-only":n&&!o,"segment-button-disabled":i,"segment-button-checked":e,[`segment-button-layout-${r}`]:!0,"ion-activatable":!0,"ion-activatable-instant":!0,"ion-focusable":!0}},ml("button",Object.assign({key:"b4f6f145286ba8ab79669e11035b906daa85ae7e","aria-selected":e?"true":"false",role:"tab",ref:e=>this.nativeEl=e,type:t,class:"button-native",part:"native",disabled:i},this.inheritedAttributes),ml("span",{key:"67965996c9ffe70553875e00d3da0ae5b2b1d814",class:"button-inner"},ml("slot",{key:"5087988fe45a8fdf388ec44c395d0b745b207806"})),"md"===a&&ml("ion-ripple-effect",{key:"b24858de0750bbc769b3183fac0077dfe817ba27"})),ml("div",{key:"97b4359432acd1c9da0816360cd1df9472e183f7",part:"indicator",class:"segment-button-indicator segment-button-indicator-animated"},ml("div",{key:"0561738ea15b0986f4ed3d8276d5e6f2d13f7e51",part:"indicator-background",class:"segment-button-indicator-background"})))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:':host{--color:initial;--color-hover:var(--color);--color-checked:var(--color);--color-disabled:var(--color);--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;height:auto;background:var(--background);color:var(--color);text-decoration:none;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;grid-row:1;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;min-width:inherit;max-width:inherit;height:auto;min-height:inherit;max-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:none;outline:none;background:transparent;contain:content;pointer-events:none;overflow:hidden;z-index:2}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}:host(.segment-button-checked){background:var(--background-checked);color:var(--color-checked)}:host(.segment-button-disabled){cursor:default;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(:focus){outline:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.segment-button-checked:hover) .button-native{color:var(--color-checked)}}::slotted(ion-icon){-ms-flex-negative:0;flex-shrink:0;-ms-flex-order:-1;order:-1;pointer-events:none}::slotted(ion-label){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;line-height:22px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.segment-button-layout-icon-top) .button-native{-ms-flex-direction:column;flex-direction:column}:host(.segment-button-layout-icon-start) .button-native{-ms-flex-direction:row;flex-direction:row}:host(.segment-button-layout-icon-end) .button-native{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.segment-button-layout-icon-bottom) .button-native{-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.segment-button-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.segment-button-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color, var(--color-checked))}.segment-button-indicator{-webkit-transform-origin:left;transform-origin:left;position:absolute;opacity:0;-webkit-box-sizing:border-box;box-sizing:border-box;will-change:transform, opacity;pointer-events:none}.segment-button-indicator-background{width:100%;height:var(--indicator-height);-webkit-transform:var(--indicator-transform);transform:var(--indicator-transform);-webkit-box-shadow:var(--indicator-box-shadow);box-shadow:var(--indicator-box-shadow);pointer-events:none}.segment-button-indicator-animated{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked) .segment-button-indicator{opacity:1}@media (prefers-reduced-motion: reduce){.segment-button-indicator-background{-webkit-transform:none;transform:none}.segment-button-indicator-animated{-webkit-transition:none;transition:none}}:host{--background:none;--background-checked:none;--background-hover:none;--background-hover-opacity:0;--background-focused:none;--background-focused-opacity:0;--border-radius:7px;--border-width:1px;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--border-style:solid;--indicator-box-shadow:0 0 5px rgba(0, 0, 0, 0.16);--indicator-color:var(--ion-color-step-350, var(--ion-background-color-step-350, var(--ion-background-color, #fff)));--indicator-height:100%;--indicator-transition:transform 260ms cubic-bezier(0.4, 0, 0.2, 1);--indicator-transform:none;--transition:100ms all linear;--padding-top:0;--padding-end:13px;--padding-bottom:0;--padding-start:13px;margin-top:2px;margin-bottom:2px;position:relative;-ms-flex-direction:row;flex-direction:row;min-width:70px;min-height:28px;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);font-size:13px;font-weight:450;line-height:37px}:host::before{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;-webkit-transition:160ms opacity ease-in-out;transition:160ms opacity ease-in-out;-webkit-transition-delay:100ms;transition-delay:100ms;border-left:var(--border-width) var(--border-style) var(--border-color);content:"";opacity:1;will-change:opacity}:host(:first-of-type)::before{border-left-color:transparent}:host(.segment-button-disabled){opacity:0.3}::slotted(ion-icon){font-size:24px}:host(.segment-button-layout-icon-start) ::slotted(ion-label){-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:0;margin-inline-end:0}:host(.segment-button-layout-icon-end) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:2px;margin-inline-end:2px}.segment-button-indicator{-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;left:0;right:0;top:0;bottom:0}.segment-button-indicator-background{border-radius:var(--border-radius);background:var(--indicator-color)}.segment-button-indicator-background{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked)::before,:host(.segment-button-after-checked)::before{opacity:0}:host(.segment-button-checked){z-index:-1}:host(.segment-button-activated){--indicator-transform:scale(0.95)}:host(.ion-focused) .button-native{opacity:0.7}@media (any-hover: hover){:host(:hover) .button-native{opacity:0.5}:host(.segment-button-checked:hover) .button-native{opacity:1}}:host(.in-segment-color){background:none;color:var(--ion-text-color, #000)}:host(.in-segment-color) .segment-button-indicator-background{background:var(--ion-color-step-350, var(--ion-background-color-step-350, var(--ion-background-color, #fff)))}@media (any-hover: hover){:host(.in-segment-color:hover) .button-native,:host(.in-segment-color.segment-button-checked:hover) .button-native{color:var(--ion-text-color, #000)}}:host(.in-toolbar:not(.in-segment-color)){--background-checked:var(--ion-toolbar-segment-background-checked, none);--color:var(--ion-toolbar-segment-color, var(--ion-toolbar-color), initial);--color-checked:var(--ion-toolbar-segment-color-checked, var(--ion-toolbar-color), initial);--indicator-color:var(--ion-toolbar-segment-indicator-color, var(--ion-color-step-350, var(--ion-background-color-step-350, var(--ion-background-color, #fff))))}:host(.in-toolbar-color) .segment-button-indicator-background{background:var(--ion-color-contrast)}:host(.in-toolbar-color:not(.in-segment-color)) .button-native{color:var(--ion-color-contrast)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color)) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.in-toolbar-color:not(.in-segment-color):hover) .button-native{color:var(--ion-color-contrast)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color):hover) .button-native{color:var(--ion-color-base)}}',md:':host{--color:initial;--color-hover:var(--color);--color-checked:var(--color);--color-disabled:var(--color);--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;height:auto;background:var(--background);color:var(--color);text-decoration:none;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;grid-row:1;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;min-width:inherit;max-width:inherit;height:auto;min-height:inherit;max-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:none;outline:none;background:transparent;contain:content;pointer-events:none;overflow:hidden;z-index:2}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}:host(.segment-button-checked){background:var(--background-checked);color:var(--color-checked)}:host(.segment-button-disabled){cursor:default;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(:focus){outline:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.segment-button-checked:hover) .button-native{color:var(--color-checked)}}::slotted(ion-icon){-ms-flex-negative:0;flex-shrink:0;-ms-flex-order:-1;order:-1;pointer-events:none}::slotted(ion-label){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;line-height:22px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.segment-button-layout-icon-top) .button-native{-ms-flex-direction:column;flex-direction:column}:host(.segment-button-layout-icon-start) .button-native{-ms-flex-direction:row;flex-direction:row}:host(.segment-button-layout-icon-end) .button-native{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.segment-button-layout-icon-bottom) .button-native{-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.segment-button-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.segment-button-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color, var(--color-checked))}.segment-button-indicator{-webkit-transform-origin:left;transform-origin:left;position:absolute;opacity:0;-webkit-box-sizing:border-box;box-sizing:border-box;will-change:transform, opacity;pointer-events:none}.segment-button-indicator-background{width:100%;height:var(--indicator-height);-webkit-transform:var(--indicator-transform);transform:var(--indicator-transform);-webkit-box-shadow:var(--indicator-box-shadow);box-shadow:var(--indicator-box-shadow);pointer-events:none}.segment-button-indicator-animated{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked) .segment-button-indicator{opacity:1}@media (prefers-reduced-motion: reduce){.segment-button-indicator-background{-webkit-transform:none;transform:none}.segment-button-indicator-animated{-webkit-transition:none;transition:none}}:host{--background:none;--background-checked:none;--background-hover:var(--color-checked);--background-focused:var(--color-checked);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--indicator-box-shadow:none;--indicator-color:var(--color-checked);--indicator-height:2px;--indicator-transition:transform 250ms cubic-bezier(0.4, 0, 0.2, 1);--indicator-transform:none;--padding-top:0;--padding-end:16px;--padding-bottom:0;--padding-start:16px;--transition:color 0.15s linear 0s, opacity 0.15s linear 0s;min-width:90px;min-height:48px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);font-size:14px;font-weight:500;letter-spacing:0.06em;line-height:40px;text-transform:uppercase}:host(.segment-button-disabled){opacity:0.3}:host(.in-segment-color){background:none;color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6)}:host(.in-segment-color) ion-ripple-effect{color:var(--ion-color-base)}:host(.in-segment-color) .segment-button-indicator-background{background:var(--ion-color-base)}:host(.in-segment-color.segment-button-checked) .button-native{color:var(--ion-color-base)}:host(.in-segment-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.in-segment-color:hover) .button-native{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6)}:host(.in-segment-color:hover) .button-native::after{background:var(--ion-color-base)}:host(.in-segment-color.segment-button-checked:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-segment-color)){--background:var(--ion-toolbar-segment-background, none);--background-checked:var(--ion-toolbar-segment-background-checked, none);--color:var(--ion-toolbar-segment-color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6));--color-checked:var(--ion-toolbar-segment-color-checked, var(--ion-color-primary, #0054e9));--indicator-color:var(--ion-toolbar-segment-color-checked, var(--color-checked))}:host(.in-toolbar-color:not(.in-segment-color)) .button-native{color:rgba(var(--ion-color-contrast-rgb), 0.6)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color)) .button-native{color:var(--ion-color-contrast)}@media (any-hover: hover){:host(.in-toolbar-color:not(.in-segment-color)) .button-native::after{background:var(--ion-color-contrast)}}::slotted(ion-icon){margin-top:12px;margin-bottom:12px;font-size:24px}::slotted(ion-label){margin-top:12px;margin-bottom:12px}:host(.segment-button-layout-icon-top) ::slotted(ion-label),:host(.segment-button-layout-icon-bottom) ::slotted(ion-icon){margin-top:0}:host(.segment-button-layout-icon-top) ::slotted(ion-icon),:host(.segment-button-layout-icon-bottom) ::slotted(ion-label){margin-bottom:0}:host(.segment-button-layout-icon-start) ::slotted(ion-label){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:0;margin-inline-end:0}:host(.segment-button-layout-icon-end) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}:host(.segment-button-has-icon-only) ::slotted(ion-icon){margin-top:12px;margin-bottom:12px}:host(.segment-button-has-label-only) ::slotted(ion-label){margin-top:12px;margin-bottom:12px}.segment-button-indicator{left:0;right:0;bottom:0}.segment-button-indicator-background{background:var(--indicator-color)}:host(.in-toolbar:not(.in-segment-color)) .segment-button-indicator-background{background:var(--ion-toolbar-segment-indicator-color, var(--indicator-color))}:host(.in-toolbar-color:not(.in-segment-color)) .segment-button-indicator-background{background:var(--ion-color-contrast)}'}}},[33,"ion-segment-button",{contentId:[513,"content-id"],disabled:[1028],layout:[1],type:[1],value:[8],checked:[32],setFocus:[64]},void 0,{value:["valueChanged"]}]);const Sg=function(){if("undefined"==typeof customElements)return;["ion-segment-button","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-segment-button":customElements.get(e)||customElements.define(e,Tg);break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},Ig=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return ml(gl,{key:"03684b2999ac64fe13e376fd7e7f279976e9d4f2"},ml("slot",{key:"143031075bf33ca19e7cfd76fc8a67b83ccaf11c"}))}static get style(){return":host{scroll-snap-align:center;scroll-snap-stop:always;-ms-flex-negative:0;flex-shrink:0;width:100%}"}},[1,"ion-segment-content"]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Pg=function(){if("undefined"==typeof customElements)return;["ion-segment-content"].forEach((e=>{if("ion-segment-content"===e)customElements.get(e)||customElements.define(e,Ig)}))},Dg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionSegmentViewScroll=kl(this,"ionSegmentViewScroll",7),this.scrollEndTimeout=null,this.isTouching=!1,this.disabled=!1,this.isManualScroll=void 0}handleScroll(e){var t;const{scrollLeft:i,scrollWidth:n,clientWidth:o}=e.target,r=i/(n-o);this.ionSegmentViewScroll.emit({scrollRatio:r,isManualScroll:null===(t=this.isManualScroll)||void 0===t||t}),this.resetScrollEndTimeout()}handleScrollStart(){this.scrollEndTimeout&&(clearTimeout(this.scrollEndTimeout),this.scrollEndTimeout=null),this.isTouching=!0}handleTouchEnd(){this.isTouching=!1}resetScrollEndTimeout(){this.scrollEndTimeout&&(clearTimeout(this.scrollEndTimeout),this.scrollEndTimeout=null),this.scrollEndTimeout=setTimeout((()=>{this.checkForScrollEnd()}),100)}checkForScrollEnd(){this.isTouching||(this.isManualScroll=void 0)}async setContent(e,t=!0){const i=this.getSegmentContents().findIndex((t=>t.id===e));if(-1===i)return;this.isManualScroll=!1,this.resetScrollEndTimeout();const n=this.el.offsetWidth;this.el.scrollTo({top:0,left:i*n,behavior:t?"smooth":"instant"})}getSegmentContents(){return Array.from(this.el.querySelectorAll("ion-segment-content"))}render(){const{disabled:e,isManualScroll:t}=this;return ml(gl,{key:"9f4f11d31c4db776f077e59ae895b35dd4454717",class:{"segment-view-disabled":e,"segment-view-scroll-disabled":!1===t}},ml("slot",{key:"ea58b21f031cee2ab2b70580f336deaefa364538"}))}get el(){return this}static get style(){return{ios:":host{display:-ms-flexbox;display:flex;height:100%;overflow-x:scroll;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-width:none;-ms-overflow-style:none}:host::-webkit-scrollbar{display:none}:host(.segment-view-disabled){-ms-touch-action:none;touch-action:none;overflow-x:hidden}:host(.segment-view-scroll-disabled){pointer-events:none}:host(.segment-view-disabled){opacity:0.3}",md:":host{display:-ms-flexbox;display:flex;height:100%;overflow-x:scroll;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-width:none;-ms-overflow-style:none}:host::-webkit-scrollbar{display:none}:host(.segment-view-disabled){-ms-touch-action:none;touch-action:none;overflow-x:hidden}:host(.segment-view-scroll-disabled){pointer-events:none}:host(.segment-view-disabled){opacity:0.3}"}}},[33,"ion-segment-view",{disabled:[4],isManualScroll:[32],setContent:[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Rg=function(){if("undefined"==typeof customElements)return;["ion-segment-view"].forEach((e=>{if("ion-segment-view"===e)customElements.get(e)||customElements.define(e,Dg)}))},Lg=(e,t,i,n)=>{const o=!!Mg(e)&&{capture:!1,passive:!!n.passive};let r,s;return e.__zone_symbol__addEventListener?(r="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(r="addEventListener",s="removeEventListener"),e[r](t,i,o),()=>{e[s](t,i,o)}},Mg=e=>{if(void 0===Og)try{const t=Object.defineProperty({},"passive",{get:()=>{Og=!0}});e.addEventListener("optsTest",(()=>{}),t)}catch(f1){Og=!1}return!!Og};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let Og;const Ng=e=>e instanceof Document?e:e.ownerDocument,$g=i("c",(e=>{let t=!1,i=!1,n=!0,o=!1;const r=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),s=r.canStart,a=r.onWillStart,l=r.onStart,c=r.onEnd,d=r.notCaptured,u=r.onMove,h=r.threshold,p=r.passive,m=r.blurOnStart,f={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},g=((e,t,i)=>{const n=i*(Math.PI/180),o="x"===e,r=Math.cos(n),s=t*t;let a=0,l=0,c=!1,d=0;return{start(e,t){a=e,l=t,d=0,c=!0},detect(e,t){if(!c)return!1;const i=e-a,n=t-l,u=i*i+n*n;if(u<s)return!1;const h=Math.sqrt(u),p=(o?i:n)/h;return d=p>r?1:p<-r?-1:0,c=!1,!0},isGesture:()=>0!==d,getDirection:()=>d}})(r.direction,r.threshold,r.maxAngle),b=Ch.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),v=()=>{t&&(o=!1,u&&u(f))},y=()=>!!b.capture()&&(t=!0,n=!1,f.startX=f.currentX,f.startY=f.currentY,f.startTime=f.currentTime,a?a(f).then(k):k(),!0),k=()=>{m&&(()=>{if("undefined"!=typeof document){const e=document.activeElement;(null==e?void 0:e.blur)&&e.blur()}})(),l&&l(f),n=!0},w=()=>{t=!1,i=!1,o=!1,n=!0,b.release()},x=e=>{const i=t,o=n;w(),o&&(Fg(f,e),i?c&&c(f):d&&d(f))},_=((e,t,i,n,o)=>{let r,s,a,l,c,d,u,h=0;const p=n=>{h=Date.now()+2e3,t(n)&&(!s&&i&&(s=Lg(e,"touchmove",i,o)),a||(a=Lg(n.target,"touchend",f,o)),l||(l=Lg(n.target,"touchcancel",f,o)))},m=n=>{h>Date.now()||t(n)&&(!d&&i&&(d=Lg(Ng(e),"mousemove",i,o)),u||(u=Lg(Ng(e),"mouseup",g,o)))},f=e=>{b(),n&&n(e)},g=e=>{v(),n&&n(e)},b=()=>{s&&s(),a&&a(),l&&l(),s=a=l=void 0},v=()=>{d&&d(),u&&u(),d=u=void 0},y=()=>{b(),v()},k=(t=!0)=>{t?(r||(r=Lg(e,"touchstart",p,o)),c||(c=Lg(e,"mousedown",m,o))):(r&&r(),c&&c(),r=c=void 0,y())};return{enable:k,stop:y,destroy:()=>{k(!1),n=i=t=void 0}}})(r.el,(e=>{const t=zg(e);return!(i||!n)&&(Bg(e,f),f.startX=f.currentX,f.startY=f.currentY,f.startTime=f.currentTime=t,f.velocityX=f.velocityY=f.deltaX=f.deltaY=0,f.event=e,(!s||!1!==s(f))&&(b.release(),!!b.start()&&(i=!0,0===h?y():(g.start(f.startX,f.startY),!0))))}),(e=>{t?!o&&n&&(o=!0,Fg(f,e),requestAnimationFrame(v)):(Fg(f,e),g.detect(f.currentX,f.currentY)&&(g.isGesture()&&y()||E()))}),x,{capture:!1,passive:p}),E=()=>{w(),_.stop(),d&&d(f)};return{enable(e=!0){e||(t&&x(void 0),w()),_.enable(e)},destroy(){b.destroy(),_.destroy()}}})),Fg=(e,t)=>{if(!t)return;const i=e.currentX,n=e.currentY,o=e.currentTime;Bg(t,e);const r=e.currentX,s=e.currentY,a=(e.currentTime=zg(t))-o;if(a>0&&a<100){const t=(r-i)/a,o=(s-n)/a;e.velocityX=.7*t+.3*e.velocityX,e.velocityY=.7*o+.3*e.velocityY}e.deltaX=r-e.startX,e.deltaY=s-e.startY,e.event=t},Bg=(e,t)=>{let i=0,n=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];i=e.clientX,n=e.clientY}else void 0!==e.pageX&&(i=e.pageX,n=e.pageY)}t.currentX=i,t.currentY=n},zg=e=>e.timeStamp||Date.now(),jg=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:Ch,createGesture:$g},Symbol.toStringTag,{value:"Module"})),Vg=(e,t)=>{let i,n;const o=(e,n,o)=>{if("undefined"==typeof document)return;const a=document.elementFromPoint(e,n);a&&t(a)&&!a.disabled?a!==i&&(s(),r(a,o)):s()},r=(e,t)=>{i=e,n||(n=i);const o=i;il((()=>o.classList.add("ion-activated"))),t()},s=(e=!1)=>{if(!i)return;const t=i;il((()=>t.classList.remove("ion-activated"))),e&&n!==i&&i.click(),i=void 0};return $g({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>o(e.currentX,e.currentY,uh),onMove:e=>o(e.currentX,e.currentY,hh),onEnd:()=>{s(!0),ph(),n=void 0}})},Ug=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([i,n])},Hg=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([i,n])},qg=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([i,n])},Gg=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([i,n])},Wg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.didPresent=kl(this,"ionActionSheetDidPresent",7),this.willPresent=kl(this,"ionActionSheetWillPresent",7),this.willDismiss=kl(this,"ionActionSheetWillDismiss",7),this.didDismiss=kl(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=kl(this,"didPresent",7),this.willPresentShorthand=kl(this,"willPresent",7),this.willDismissShorthand=kl(this,"willDismiss",7),this.didDismissShorthand=kl(this,"didDismiss",7),this.delegateController=ap(this),this.lockController=pp(),this.triggerController=lp(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,rp)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(ip(t)){const e=this.getButtons().find((e=>"cancel"===e.role));this.callButtonHandler(e)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Kh(this,"actionSheetEnter",Ug,qg),e()}async dismiss(e,t){const i=await this.lockController.lock(),n=await Xh(this,e,t,"actionSheetLeave",Hg,Gg);return n&&this.delegateController.removeViewFromDom(),i(),n}onDidDismiss(){return ep(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return ep(this.el,"ionActionSheetWillDismiss")}async buttonClick(e){const t=e.role;if(ip(t))return this.dismiss(e.data,t);return await this.callButtonHandler(e)?this.dismiss(e.data,e.role):Promise.resolve()}async callButtonHandler(e){if(e){if(!1===await op(e.handler))return!1}return!0}getButtons(){return this.buttons.map((e=>"string"==typeof e?{text:e}:e))}connectedCallback(){Bh(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){var e;(null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)||zh(this.el)}componentDidLoad(){const{groupEl:e,wrapperEl:t}=this;!this.gesture&&"ios"===nd(this)&&t&&e&&tl((()=>{e.scrollHeight>e.clientHeight||(this.gesture=Vg(t,(e=>e.classList.contains("action-sheet-button"))),this.gesture.enable(!0))})),!0===this.isOpen&&Tc((()=>this.present())),this.triggerChanged()}render(){const{header:e,htmlAttributes:t,overlayIndex:i}=this,n=nd(this),o=this.getButtons(),r=o.find((e=>"cancel"===e.role)),s=o.filter((e=>"cancel"!==e.role)),a=`action-sheet-${i}-header`;return ml(gl,Object.assign({key:"7bbd202ca9e19727e7514abbe073687d982f80c3",role:"dialog","aria-modal":"true","aria-labelledby":void 0!==e?a:null,tabindex:"-1"},t,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({[n]:!0},Rd(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),ml("ion-backdrop",{key:"23344a9221a2e6720d7b9de5249dc37256cafa7b",tappable:this.backdropDismiss}),ml("div",{key:"fbc2ba15549c2ab04e759e82df6e177fd80cc0a6",tabindex:"0","aria-hidden":"true"}),ml("div",{key:"748ee5235d0b4cb26d6f1b7589f77af2e37ad28a",class:"action-sheet-wrapper ion-overlay-wrapper",ref:e=>this.wrapperEl=e},ml("div",{key:"7ce5fa236cf75e9b1e49c4725c9a811078706554",class:"action-sheet-container"},ml("div",{key:"dc2251f3bcee4a93e3449f09621cbd2b65d329e9",class:"action-sheet-group",ref:e=>this.groupEl=e},void 0!==e&&ml("div",{key:"48d325c8a852f56ed57a9ada1a6709d05ba32ee2",id:a,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":void 0!==this.subHeader}},e,this.subHeader&&ml("div",{key:"66093728052eb67f37a35f3232761ce4a08896f3",class:"action-sheet-sub-title"},this.subHeader)),s.map((e=>ml("button",Object.assign({},e.htmlAttributes,{type:"button",id:e.id,class:Yg(e),onClick:()=>this.buttonClick(e),disabled:e.disabled}),ml("span",{class:"action-sheet-button-inner"},e.icon&&ml("ion-icon",{icon:e.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),e.text),"md"===n&&ml("ion-ripple-effect",null))))),r&&ml("div",{key:"f4eb8e3e2885b85af5080df18d0de0bdd1d719de",class:"action-sheet-group action-sheet-group-cancel"},ml("button",Object.assign({key:"169f4eb09255aba85062baad49ceb151239fbfb7"},r.htmlAttributes,{type:"button",class:Yg(r),onClick:()=>this.buttonClick(r)}),ml("span",{key:"25fb8a466dd67ea94c79cfb4f9965527e1ce6d42",class:"action-sheet-button-inner"},r.icon&&ml("ion-icon",{key:"eb5b071e120a2c86afdf967af6a763a43044d1ca",icon:r.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),r.text),"md"===n&&ml("ion-ripple-effect",{key:"452ad7e1052b2c681e2d98de8193949755ad4d54"}))))),ml("div",{key:"e1cecf280c987c050d9445e2c458b903f153089b",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:'.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color-step-150, var(--ion-background-color, #fff)));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #0054e9);--button-color-disabled:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999));text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);padding-bottom:var(--ion-safe-area-bottom, 0);-webkit-box-sizing:content-box;box-sizing:content-box}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-size:max(13px, 0.8125rem);font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:max(13px, 0.8125rem);font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:14px;padding-bottom:14px;min-height:56px;font-size:max(20px, 1.25rem);contain:content}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:max(28px, 1.75rem);pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #c5000f)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #c5000f)}}',md:'.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--button-color-disabled:var(--button-color);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:1rem;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:0.875rem}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;position:relative;min-height:52px;font-size:1rem;text-align:start;contain:content;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:1.5rem}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}'}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Yg=e=>Object.assign({"action-sheet-button":!0,"ion-activatable":!e.disabled,"ion-focusable":!e.disabled,[`action-sheet-${e.role}`]:void 0!==e.role},Rd(e.cssClass));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Kg=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([i,n])},Qg=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([i,n])},Xg=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(150).addAnimation([i,n])},Jg=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(e.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),t.addElement(e).easing("ease-in-out").duration(150).addAnimation([i,n])},Zg=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.didPresent=kl(this,"ionAlertDidPresent",7),this.willPresent=kl(this,"ionAlertWillPresent",7),this.willDismiss=kl(this,"ionAlertWillDismiss",7),this.didDismiss=kl(this,"ionAlertDidDismiss",7),this.didPresentShorthand=kl(this,"didPresent",7),this.willPresentShorthand=kl(this,"willPresent",7),this.willDismissShorthand=kl(this,"willDismiss",7),this.didDismissShorthand=kl(this,"didDismiss",7),this.delegateController=ap(this),this.lockController=pp(),this.triggerController=lp(),this.customHTMLEnabled=zc.get("innerHTMLTemplatesEnabled",sf),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,rp)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(ip(t)){const e=this.processedButtons.find((e=>"cancel"===e.role));this.callButtonHandler(e)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}onKeydown(e){const t=new Set(this.processedInputs.map((e=>e.type)));if(t.has("checkbox")&&"Enter"===e.key)return void e.preventDefault();if(!t.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const i=this.el.querySelectorAll(".alert-radio"),n=Array.from(i).filter((e=>!e.disabled)),o=n.findIndex((t=>t.id===e.target.id));let r;if(["ArrowDown","ArrowRight"].includes(e.key)&&(r=o===n.length-1?n[0]:n[o+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(r=0===o?n[n.length-1]:n[o-1]),r&&n.includes(r)){const e=this.processedInputs.find((e=>e.id===(null==r?void 0:r.id)));e&&(this.rbClick(e),r.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map((e=>"string"==typeof e?{text:e,role:"cancel"===e.toLowerCase()?"cancel":void 0}:e))}inputsChanged(){const e=this.inputs,t=e.find((e=>!e.disabled)),i=e.find((e=>e.checked&&!e.disabled))||t,n=new Set(e.map((e=>e.type)));n.has("checkbox")&&n.has("radio")&&console.warn(`Alert cannot mix input types: ${Array.from(n.values()).join("/")}. Please see alert docs for more info.`),this.inputType=n.values().next().value,this.processedInputs=e.map(((e,t)=>{var n;return{type:e.type||"text",name:e.name||`${t}`,placeholder:e.placeholder||"",value:e.value,label:e.label,checked:!!e.checked,disabled:!!e.disabled,id:e.id||`alert-input-${this.overlayIndex}-${t}`,handler:e.handler,min:e.min,max:e.max,cssClass:null!==(n=e.cssClass)&&void 0!==n?n:"",attributes:e.attributes||{},tabindex:"radio"===e.type&&e!==i?-1:0}}))}connectedCallback(){Bh(this.el),this.triggerChanged()}componentWillLoad(){var e;(null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)||zh(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&"ios"===nd(this)&&this.wrapperEl&&(this.gesture=Vg(this.wrapperEl,(e=>e.classList.contains("alert-button"))),this.gesture.enable(!0)),!0===this.isOpen&&Tc((()=>this.present())),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Kh(this,"alertEnter",Kg,Xg),e()}async dismiss(e,t){const i=await this.lockController.lock(),n=await Xh(this,e,t,"alertLeave",Qg,Jg);return n&&this.delegateController.removeViewFromDom(),i(),n}onDidDismiss(){return ep(this.el,"ionAlertDidDismiss")}onWillDismiss(){return ep(this.el,"ionAlertWillDismiss")}rbClick(e){for(const t of this.processedInputs)t.checked=t===e,t.tabindex=t===e?0:-1;this.activeId=e.id,op(e.handler,e),sc(this)}cbClick(e){e.checked=!e.checked,op(e.handler,e),sc(this)}async buttonClick(e){const t=e.role,i=this.getValues();if(ip(t))return this.dismiss({values:i},t);const n=await this.callButtonHandler(e,i);return!1!==n&&this.dismiss(Object.assign({values:i},n),e.role)}async callButtonHandler(e,t){if(null==e?void 0:e.handler){const i=await op(e.handler,t);if(!1===i)return!1;if("object"==typeof i)return i}return{}}getValues(){if(0===this.processedInputs.length)return;if("radio"===this.inputType){const e=this.processedInputs.find((e=>!!e.checked));return e?e.value:void 0}if("checkbox"===this.inputType)return this.processedInputs.filter((e=>e.checked)).map((e=>e.value));const e={};return this.processedInputs.forEach((t=>{e[t.name]=t.value||""})),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,t=nd(this);return 0===e.length?null:ml("div",{class:"alert-checkbox-group"},e.map((e=>ml("button",{type:"button",onClick:()=>this.cbClick(e),"aria-checked":`${e.checked}`,id:e.id,disabled:e.disabled,tabIndex:e.tabindex,role:"checkbox",class:Object.assign(Object.assign({},Rd(e.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":e.disabled||!1})},ml("div",{class:"alert-button-inner"},ml("div",{class:"alert-checkbox-icon"},ml("div",{class:"alert-checkbox-inner"})),ml("div",{class:"alert-checkbox-label"},e.label)),"md"===t&&ml("ion-ripple-effect",null)))))}renderRadio(){const e=this.processedInputs;return 0===e.length?null:ml("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map((e=>ml("button",{type:"button",onClick:()=>this.rbClick(e),"aria-checked":`${e.checked}`,disabled:e.disabled,id:e.id,tabIndex:e.tabindex,class:Object.assign(Object.assign({},Rd(e.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":e.disabled||!1}),role:"radio"},ml("div",{class:"alert-button-inner"},ml("div",{class:"alert-radio-icon"},ml("div",{class:"alert-radio-inner"})),ml("div",{class:"alert-radio-label"},e.label))))))}renderInput(){const e=this.processedInputs;return 0===e.length?null:ml("div",{class:"alert-input-group"},e.map((e=>{var t,i,n,o;return"textarea"===e.type?ml("div",{class:"alert-input-wrapper"},ml("textarea",Object.assign({placeholder:e.placeholder,value:e.value,id:e.id,tabIndex:e.tabindex},e.attributes,{disabled:null!==(i=null===(t=e.attributes)||void 0===t?void 0:t.disabled)&&void 0!==i?i:e.disabled,class:eb(e),onInput:t=>{var i;e.value=t.target.value,(null===(i=e.attributes)||void 0===i?void 0:i.onInput)&&e.attributes.onInput(t)}}))):ml("div",{class:"alert-input-wrapper"},ml("input",Object.assign({placeholder:e.placeholder,type:e.type,min:e.min,max:e.max,value:e.value,id:e.id,tabIndex:e.tabindex},e.attributes,{disabled:null!==(o=null===(n=e.attributes)||void 0===n?void 0:n.disabled)&&void 0!==o?o:e.disabled,class:eb(e),onInput:t=>{var i;e.value=t.target.value,(null===(i=e.attributes)||void 0===i?void 0:i.onInput)&&e.attributes.onInput(t)}})))})))}renderAlertButtons(){const e=this.processedButtons,t=nd(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return ml("div",{class:i},e.map((e=>ml("button",Object.assign({},e.htmlAttributes,{type:"button",id:e.id,class:tb(e),tabIndex:0,onClick:()=>this.buttonClick(e)}),ml("span",{class:"alert-button-inner"},e.text),"md"===t&&ml("ion-ripple-effect",null)))))}renderAlertMessage(e){const{customHTMLEnabled:t,message:i}=this;return t?ml("div",{id:e,class:"alert-message",innerHTML:Jm(i)}):ml("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:t,subHeader:i,message:n,htmlAttributes:o}=this,r=nd(this),s=`alert-${e}-hdr`,a=`alert-${e}-sub-hdr`,l=`alert-${e}-msg`,c=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",d=t&&i?`${s} ${a}`:t?s:i?a:null;return ml(gl,Object.assign({key:"ad7e14b4f92a09387aa80abfb718a755e4e889d6",role:c,"aria-modal":"true","aria-labelledby":d,"aria-describedby":void 0!==n?l:null,tabindex:"-1"},o,{style:{zIndex:`${2e4+e}`},class:Object.assign(Object.assign({},Rd(this.cssClass)),{[r]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),ml("ion-backdrop",{key:"4b4693dca3c910aa9a61c4d90295d785ec6cbe3d",tappable:this.backdropDismiss}),ml("div",{key:"64fd19b8f1d8246dcc869053f858bc33506def4b",tabindex:"0","aria-hidden":"true"}),ml("div",{key:"e61ba6f339c3a02cecd37d8b641ee5043018eb29",class:"alert-wrapper ion-overlay-wrapper",ref:e=>this.wrapperEl=e},ml("div",{key:"044e00667ffcb74aa2c5e0d0b42669c4004dbb4f",class:"alert-head"},t&&ml("h2",{key:"1aaae8d58722c4cf5debb1f00415ab7ed0a52bbd",id:s,class:"alert-title"},t),i&&!t&&ml("h2",{key:"9c9854dc3b0ad40f1861a49b76d5636afcae9c74",id:a,class:"alert-sub-title"},i),i&&t&&ml("h3",{key:"19aaca9912f77cde4ae8079be210eda697ed8de1",id:a,class:"alert-sub-title"},i)),this.renderAlertMessage(l),this.renderAlertInputs(),this.renderAlertButtons()),ml("div",{key:"a85d27c516f7cdbc85b19f40d2f0bd865490b6a7",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",md:".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}"}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),eb=e=>{var t,i,n;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==(i=null===(t=e.attributes)||void 0===t?void 0:t.disabled)&&void 0!==i?i:e.disabled)||!1},Rd(e.cssClass)),Rd(e.attributes?null===(n=e.attributes.class)||void 0===n?void 0:n.toString():""))},tb=e=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,[`alert-button-role-${e.role}`]:void 0!==e.role},Rd(e.cssClass));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const ib="ionKeyboardDidShow",nb="ionKeyboardDidHide";let ob={},rb={},sb=!1;const ab=e=>{e.addEventListener("keyboardDidShow",(t=>lb(e,t))),e.addEventListener("keyboardDidHide",(()=>cb(e)))},lb=(e,t)=>{pb(e,t),sb=!0},cb=e=>{mb(e),sb=!1},db=()=>{const e=(ob.height-rb.height)*rb.scale;return!sb&&ob.width===rb.width&&e>150},ub=e=>sb&&!hb(e),hb=e=>sb&&rb.height===e.innerHeight,pb=(e,t)=>{const i=t?t.keyboardHeight:e.innerHeight-rb.height,n=new CustomEvent(ib,{detail:{keyboardHeight:i}});e.dispatchEvent(n)},mb=e=>{const t=new CustomEvent(nb);e.dispatchEvent(t)},fb=e=>{ob=Object.assign({},rb),rb=gb(e.visualViewport)},gb=e=>({width:Math.round(e.width),height:Math.round(e.height),offsetTop:e.offsetTop,offsetLeft:e.offsetLeft,pageTop:e.pageTop,pageLeft:e.pageLeft,scale:e.scale}),bb=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:nb,KEYBOARD_DID_OPEN:ib,copyVisualViewport:gb,keyboardDidClose:hb,keyboardDidOpen:db,keyboardDidResize:ub,resetKeyboardAssist:()=>{ob={},rb={},sb=!1},setKeyboardClose:cb,setKeyboardOpen:lb,startKeyboardAssist:e=>{if(Mm.getEngine())ab(e);else{if(!e.visualViewport)return;rb=gb(e.visualViewport),e.visualViewport.onresize=()=>{fb(e),db()||ub(e)?lb(e):hb(e)&&cb(e)}}},trackViewportChanges:fb},Symbol.toStringTag,{value:"Module"}));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var vb;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(vb||(vb={}));const yb={getEngine(){const e=sh();if(null==e?void 0:e.isPluginAvailable("StatusBar"))return e.Plugins.StatusBar},setStyle(e){const t=this.getEngine();t&&t.setStyle(e)},getStyle:async function(){const e=this.getEngine();if(!e)return vb.Default;const{style:t}=await e.getInfo();return t}},kb=(e,t)=>{if(1===t)return 0;const i=1/(1-t);return e*i+-t*i},wb=()=>{!oh||oh.innerWidth>=768||yb.setStyle({style:vb.Dark})},xb=(e=vb.Default)=>{!oh||oh.innerWidth>=768||yb.setStyle({style:e})},_b=async(e,t)=>{if("function"!=typeof e.canDismiss)return;await e.canDismiss(void 0,sp)&&(t.isRunning()?t.onFinish((()=>{e.dismiss(void 0,"handler")}),{oneTimeCallback:!0}):e.dismiss(void 0,"handler"))},Eb=e=>.00255275*2.71828**(-14.9619*e)-1.00255*2.71828**(-.0380968*e)+1,Cb=.915,Ab=(e,t,i,n)=>{const o=.5,r=e.offsetHeight;let s=!1,a=!1,l=null,c=null;let d=!0,u=0;const h=$g({el:e,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:e=>{const t=e.event.target;if(null===t||!t.closest)return!0;if(l=Im(t),l){if(Am(l)){const e=Ac(l);c=e.querySelector(".inner-scroll")}else c=l;return!!!l.querySelector("ion-refresher")&&0===c.scrollTop}return null===t.closest("ion-footer")},onStart:i=>{const{deltaY:n}=i;d=!l||!Am(l)||l.scrollY,a=void 0!==e.canDismiss&&!0!==e.canDismiss,n>0&&l&&Dm(l),t.progressStart(!0,s?1:0)},onMove:e=>{const{deltaY:n}=e;n>0&&l&&Dm(l);const s=e.deltaY/r,c=s>=0&&a,d=c?.2:.9999,h=c?Eb(s/d):s,p=Pc(1e-4,h,d);t.progressStep(p),p>=o&&u<o?xb(i):p<o&&u>=o&&wb(),u=p},onEnd:i=>{const c=i.velocityY,u=i.deltaY/r,p=u>=0&&a,m=p?.2:.9999,f=p?Eb(u/m):u,g=Pc(1e-4,f,m),b=(i.deltaY+1e3*c)/r,v=!p&&b>=o;let y=v?-.001:.001;v?(t.easing("cubic-bezier(0.32, 0.72, 0, 1)"),y+=If([0,0],[.32,.72],[0,1],[1,1],g)[0]):(t.easing("cubic-bezier(1, 0, 0.68, 0.28)"),y+=If([0,0],[1,0],[.68,.28],[1,1],g)[0]);const k=Tb(v?u*r:(1-g)*r,c);s=v,h.enable(!1),l&&((e,t)=>{Am(e)?e.scrollY=t:e.style.removeProperty("overflow")})(l,d),t.onFinish((()=>{v||h.enable(!0)})).progressEnd(v?1:0,y,k),p&&g>m/4?_b(e,t):v&&n()}});return h},Tb=(e,t)=>Pc(400,e/Math.abs(1.1*t),500),Sb=e=>{const{currentBreakpoint:t,backdropBreakpoint:i}=e,n=void 0===i||i<t,o=n?`calc(var(--backdrop-opacity) * ${t})`:"0",r=Up("backdropAnimation").fromTo("opacity",0,o);n&&r.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);return{wrapperAnimation:Up("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-100*t}%)`}]),backdropAnimation:r}},Ib=e=>{const{currentBreakpoint:t,backdropBreakpoint:i}=e,n=`calc(var(--backdrop-opacity) * ${kb(t,i)})`,o=[{offset:0,opacity:n},{offset:1,opacity:0}],r=[{offset:0,opacity:n},{offset:i,opacity:0},{offset:1,opacity:0}],s=Up("backdropAnimation").keyframes(0!==i?r:o);return{wrapperAnimation:Up("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-100*t}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:s}},Pb=(e,t)=>{const{presentingEl:i,currentBreakpoint:n}=t,o=Ac(e),{wrapperAnimation:r,backdropAnimation:s}=void 0!==n?Sb(t):{backdropAnimation:Up().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:Up().fromTo("transform","translateY(100vh)","translateY(0vh)")};s.addElement(o.querySelector("ion-backdrop")),r.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const a=Up("entering-base").addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(r);if(i){const e=window.innerWidth<768,t="ION-MODAL"===i.tagName&&void 0!==i.presentingElement,n=Ac(i),o=Up().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),l=document.body;if(e){const e=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",n=`translateY(${t?"-10px":e}) scale(${Cb})`;o.afterStyles({transform:n}).beforeAddWrite((()=>l.style.setProperty("background-color","black"))).addElement(i).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:n,borderRadius:"10px 10px 0 0"}]),a.addAnimation(o)}else if(a.addAnimation(s),t){const e=`translateY(-10px) scale(${t?Cb:1})`;o.afterStyles({transform:e}).addElement(n.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:e}]);const i=Up().afterStyles({transform:e}).addElement(n.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:e}]);a.addAnimation([o,i])}else r.fromTo("opacity","0","1")}else a.addAnimation(s);return a},Db=(e,t,i=500)=>{const{presentingEl:n,currentBreakpoint:o}=t,r=Ac(e),{wrapperAnimation:s,backdropAnimation:a}=void 0!==o?Ib(t):{backdropAnimation:Up().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:Up().fromTo("transform","translateY(0vh)","translateY(100vh)")};a.addElement(r.querySelector("ion-backdrop")),s.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const l=Up("leaving-base").addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(i).addAnimation(s);if(n){const e=window.innerWidth<768,t="ION-MODAL"===n.tagName&&void 0!==n.presentingElement,i=Ac(n),o=Up().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((e=>{if(1!==e)return;n.style.setProperty("overflow","");Array.from(r.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter((e=>void 0!==e.presentingElement)).length<=1&&r.style.setProperty("background-color","")})),r=document.body;if(e){const e=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",i=`translateY(${t?"-10px":e}) scale(${Cb})`;o.addElement(n).keyframes([{offset:0,filter:"contrast(0.85)",transform:i,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),l.addAnimation(o)}else if(l.addAnimation(a),t){const e=`translateY(-10px) scale(${t?Cb:1})`;o.addElement(i.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:e},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const n=Up().addElement(i.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:e},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);l.addAnimation([o,n])}else s.fromTo("opacity","1","0")}else l.addAnimation(a);return l},Rb=(e,t)=>{const{currentBreakpoint:i}=t,n=Ac(e),{wrapperAnimation:o,backdropAnimation:r}=void 0!==i?Sb(t):{backdropAnimation:Up().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:Up().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])};return r.addElement(n.querySelector("ion-backdrop")),o.addElement(n.querySelector(".modal-wrapper")),Up().addElement(e).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([r,o])},Lb=(e,t)=>{const{currentBreakpoint:i}=t,n=Ac(e),{wrapperAnimation:o,backdropAnimation:r}=void 0!==i?Ib(t):{backdropAnimation:Up().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:Up().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])};return r.addElement(n.querySelector("ion-backdrop")),o.addElement(n.querySelector(".modal-wrapper")),Up().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([r,o])},Mb=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=kl(this,"ionModalDidPresent",7),this.willPresent=kl(this,"ionModalWillPresent",7),this.willDismiss=kl(this,"ionModalWillDismiss",7),this.didDismiss=kl(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=kl(this,"ionBreakpointDidChange",7),this.didPresentShorthand=kl(this,"didPresent",7),this.willPresentShorthand=kl(this,"willPresent",7),this.willDismissShorthand=kl(this,"willDismiss",7),this.didDismissShorthand=kl(this,"didDismiss",7),this.ionMount=kl(this,"ionMount",7),this.lockController=pp(),this.triggerController=lp(),this.coreDelegate=wh(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:t}=this;"cycle"===t&&void 0===e&&this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;void 0===e&&this.dismiss(void 0,rp)},this.onLifecycle=e=>{const t=this.usersElement,i=Ob[e.type];if(t&&i){const n=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(n)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}breakpointsChanged(e){void 0!==e&&(this.sortedBreakpoints=e.sort(((e,t)=>e-t)))}connectedCallback(){const{el:e}=this;Bh(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;const{breakpoints:t,initialBreakpoint:i,el:n,htmlAttributes:o}=this,r=this.isSheetModal=void 0!==t&&void 0!==i,s=["aria-label","role"];this.inheritedAttributes=wc(n,s),void 0!==o&&s.forEach((e=>{o[e]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[e]:o[e]}),delete o[e])})),r&&(this.currentBreakpoint=this.initialBreakpoint),void 0===t||void 0===i||t.includes(i)||Ed("Your breakpoints array must include the initialBreakpoint value."),(null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)||zh(this.el)}componentDidLoad(){!0===this.isOpen&&Tc((()=>this.present())),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,i=this.inline=null!==t&&!this.hasController;return{inline:i,delegate:this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate}}async checkCanDismiss(e,t){const{canDismiss:i}=this;return"function"==typeof i?i(e,t):i}async present(){const e=await this.lockController.lock();if(this.presented)return void e();const{presentingElement:t,el:i}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:n,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await yh(o,i,this.component,["ion-page"],this.componentProps,n),kc(i)?await $p(this.usersElement):this.keepContentsMounted||await Np(),il((()=>this.el.classList.add("show-modal")));const r=void 0!==t;r&&"ios"===nd(this)&&(this.statusBarStyle=await yb.getStyle(),wb()),await Kh(this,"modalEnter",Pb,Rb,{presentingEl:t,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),"undefined"!=typeof window&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),Tc((()=>{this.gesture&&this.gesture.enable(!0)})))},window.addEventListener(ib,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():r&&this.initSwipeToClose(),e()}initSwipeToClose(){var e;if("ios"!==nd(this))return;const{el:t}=this,i=this.leaveAnimation||zc.get("modalLeave",Db),n=this.animation=i(t,{presentingEl:this.presentingElement});if(!Sm(t))return void Pm(t);const o=null!==(e=this.statusBarStyle)&&void 0!==e?e:vb.Default;this.gesture=Ab(t,n,o,(()=>{this.gestureAnimationDismissing=!0,xb(this.statusBarStyle),this.animation.onFinish((async()=>{await this.dismiss(void 0,sp),this.gestureAnimationDismissing=!1}))})),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:t,backdropBreakpoint:i}=this;if(!e||void 0===t)return;const n=this.enterAnimation||zc.get("modalEnter",Pb),o=this.animation=n(this.el,{presentingEl:this.presentingElement,currentBreakpoint:t,backdropBreakpoint:i});o.progressStart(!0,1);const{gesture:r,moveSheetToBreakpoint:s}=((e,t,i,n,o,r,s=[],a,l,c)=>{const d={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==o?[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-o,opacity:0},{offset:1,opacity:0}]:[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}]},u=e.querySelector("ion-content"),h=i.clientHeight;let p=n,m=0,f=!1;const g=r.childAnimations.find((e=>"wrapperAnimation"===e.id)),b=r.childAnimations.find((e=>"backdropAnimation"===e.id)),v=s[s.length-1],y=s[0],k=()=>{e.style.setProperty("pointer-events","auto"),t.style.setProperty("pointer-events","auto"),e.classList.remove(hp)},w=()=>{e.style.setProperty("pointer-events","none"),t.style.setProperty("pointer-events","none"),e.classList.add(hp)};g&&b&&(g.keyframes([...d.WRAPPER_KEYFRAMES]),b.keyframes([...d.BACKDROP_KEYFRAMES]),r.progressStart(!0,1-p),p>o?k():w());u&&p!==v&&(u.scrollY=!1);const x=t=>{const{breakpoint:i,canDismiss:n,breakpointOffset:a,animated:h}=t,m=n&&0===i,f=m?p:i,v=0!==f;return p=0,g&&b&&(g.keyframes([{offset:0,transform:`translateY(${100*a}%)`},{offset:1,transform:`translateY(${100*(1-f)}%)`}]),b.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${kb(1-a,o)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${kb(f,o)})`}]),r.progressStep(0)),_.enable(!1),m?_b(e,r):v||l(),u&&f===s[s.length-1]&&(u.scrollY=!0),new Promise((e=>{r.onFinish((()=>{v?g&&b?Tc((()=>{g.keyframes([...d.WRAPPER_KEYFRAMES]),b.keyframes([...d.BACKDROP_KEYFRAMES]),r.progressStart(!0,1-f),p=f,c(p),p>o?k():w(),_.enable(!0),e()})):(_.enable(!0),e()):e()}),{oneTimeCallback:!0}).progressEnd(1,0,h?500:0)}))},_=$g({el:i,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:e=>{const t=Im(e.event.target);if(p=a(),1===p&&t){const e=Am(t)?Ac(t).querySelector(".inner-scroll"):t;return!t.querySelector("ion-refresher")&&0===e.scrollTop}return!0},onStart:t=>{f=void 0!==e.canDismiss&&!0!==e.canDismiss&&0===y,t.deltaY>0&&u&&(u.scrollY=!1),Tc((()=>{e.focus()})),r.progressStart(!0,1-p)},onMove:e=>{e.deltaY>0&&u&&(u.scrollY=!1);const t=1-p,i=s.length>1?1-s[1]:void 0,n=t+e.deltaY/h,o=void 0!==i&&n>=i&&f,a=o?.95:.9999,l=o&&void 0!==i?i+Eb((n-i)/(a-i)):n;m=Pc(1e-4,l,a),r.progressStep(m)},onEnd:e=>{const t=e.velocityY,i=(e.deltaY+350*t)/h,n=p-i,o=s.reduce(((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e));x({breakpoint:o,breakpointOffset:m,canDismiss:f,animated:!0})}});return{gesture:_,moveSheetToBreakpoint:x}})(this.el,this.backdropEl,e,t,i,o,this.sortedBreakpoints,(()=>{var e;return null!==(e=this.currentBreakpoint)&&void 0!==e?e:0}),(()=>this.sheetOnDismiss()),(e=>{this.currentBreakpoint!==e&&(this.currentBreakpoint=e,this.ionBreakpointDidChange.emit({breakpoint:e}))}));this.gesture=r,this.moveSheetToBreakpoint=s,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish((async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,sp),this.gestureAnimationDismissing=!1}))}async dismiss(e,t){var i;if(this.gestureAnimationDismissing&&t!==sp)return!1;const n=await this.lockController.lock();if("handler"!==t&&!(await this.checkCanDismiss(e,t)))return n(),!1;const{presentingElement:o}=this;void 0!==o&&"ios"===nd(this)&&xb(this.statusBarStyle),"undefined"!=typeof window&&this.keyboardOpenCallback&&(window.removeEventListener(ib,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const r=await Xh(this,e,t,"modalLeave",Db,Lb,{presentingEl:o,currentBreakpoint:null!==(i=this.currentBreakpoint)&&void 0!==i?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});if(r){const{delegate:e}=this.getDelegate();await kh(e,this.usersElement),il((()=>this.el.classList.remove("show-modal"))),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,n(),r}onDidDismiss(){return ep(this.el,"ionModalDidDismiss")}onWillDismiss(){return ep(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal)return void Ed("setCurrentBreakpoint is only supported on sheet modals.");if(!this.breakpoints.includes(e))return void Ed(`Attempted to set invalid breakpoint value ${e}. Please double check that the breakpoint value is part of your defined breakpoints.`);const{currentBreakpoint:t,moveSheetToBreakpoint:i,canDismiss:n,breakpoints:o,animated:r}=this;t!==e&&i&&(this.sheetTransition=i({breakpoint:e,breakpointOffset:1-t,canDismiss:void 0!==n&&!0!==n&&0===o[0],animated:r}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:t}=this;if(!e||null==t)return!1;const i=e.filter((e=>0!==e)),n=i.indexOf(t),o=i[(n+1)%i.length];return await this.setCurrentBreakpoint(o),!0}render(){const{handle:e,isSheetModal:t,presentingElement:i,htmlAttributes:n,handleBehavior:o,inheritedAttributes:r,focusTrap:s}=this,a=!1!==e&&t,l=nd(this),c=void 0!==i&&"ios"===l,d="cycle"===o;return ml(gl,Object.assign({key:"b4da5111fe4719fa450c39b2d4bd884a302a7924","no-router":!0,tabindex:"-1"},n,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[l]:!0,"modal-default":!c&&!t,"modal-card":c,"modal-sheet":t,"overlay-hidden":!0,[hp]:!1===s},Rd(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),ml("ion-backdrop",{key:"c12dbf747e0eb914eaf1331798548ffc7e147763",ref:e=>this.backdropEl=e,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===l&&ml("div",{key:"da546ee80c6576b5acc66e959fd5009e0b9a8160",class:"modal-shadow"}),ml("div",Object.assign({key:"306ebe6427440ad5f7ed36d590e562d15a503b75",role:"dialog"},r,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:e=>this.wrapperEl=e}),a&&ml("button",{key:"c5d17e346fe255a7c0cacbbf15c0083f2d09c488",class:"modal-handle",tabIndex:d?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:d?this.onHandleClick:void 0,part:"handle"}),ml("slot",{key:"5cc714170a00b67f3eda0cd1d6f37c1489a99c83"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}',md:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}'}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Ob={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Nb=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=kl(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({[`title-${e}`]:!0})}getSize(){return void 0!==this.size?this.size:"default"}render(){const e=nd(this),t=this.getSize();return ml(gl,{key:"7293d2ecd6262feb0d8d769effbb208230baed89",class:Dd(this.color,{[e]:!0,[`title-${t}`]:!0,"title-rtl":"rtl"===document.dir})},ml("div",{key:"086ec3a361ebdf6506846a8704b457cda3a6f897",class:"toolbar-title"},ml("slot",{key:"59add7eb92b82d6832a8f0894f897c51fdf4f214"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",md:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}"}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const $b=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),t=e.find((e=>"start"===e.slot));t&&t.classList.add("buttons-first-slot");const i=e.reverse(),n=i.find((e=>"end"===e.slot))||i.find((e=>"primary"===e.slot))||i.find((e=>"secondary"===e.slot));n&&n.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,n={},o=this.childrenStyles.get(t)||{};let r=!1;Object.keys(i).forEach((e=>{const t=`toolbar-${e}`,s=i[e];s!==o[t]&&(r=!0),s&&(n[t]=!0)})),r&&(this.childrenStyles.set(t,n),sc(this))}render(){const e=nd(this),t={};return this.childrenStyles.forEach((e=>{Object.assign(t,e)})),ml(gl,{key:"462538a5ecd01baf3cde116c9f029aeda26c81be",class:Object.assign(Object.assign({},t),Dd(this.color,{[e]:!0,"in-toolbar":Pd("ion-toolbar",this.el)}))},ml("div",{key:"c0b4415d3b2472de643a9be7cb3b13b3b628621b",class:"toolbar-background"}),ml("div",{key:"0ccb8a2dbeaa28d8f9bed87629c0c097446690c2",class:"toolbar-container"},ml("slot",{key:"3e726dac359e923df21d80301651f16063a3de20",name:"start"}),ml("slot",{key:"cd799330b56a7f8833bc61bb2807aafb21846f71",name:"secondary"}),ml("div",{key:"395282e6ac8c53576922dcdb5f08c25d34638c86",class:"toolbar-content"},ml("slot",{key:"a437c60e4ba5aae65e55169ae82a6f379868ec1d"})),ml("slot",{key:"711af9b9d321a7b31ede924c9bdcad767aa9a1ca",name:"primary"}),ml("slot",{key:"ecc02edeaf80a837890bcb08d5096df1e22a0b9a",name:"end"})))}get el(){return this}static get style(){return{ios:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",md:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}"}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Fb=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=kl(this,"ionStyle",7),this.animated=!1}componentWillLoad(){this.emitStyle()}emitStyle(){this.ionStyle.emit({"skeleton-text":!0})}render(){const e=this.animated&&zc.getBoolean("animated",!0),t=Pd("ion-avatar",this.el)||Pd("ion-thumbnail",this.el),i=nd(this);return ml(gl,{key:"fdfabf9364caf507450239b62be24f08873bd650",class:{[i]:!0,"skeleton-text-animated":e,"in-media":t}},ml("span",{key:"3482c88dcc177547185ce87972afa064a542367d"}," "))}get el(){return this}static get style(){return":host{--background:rgba(var(--background-rgb, var(--ion-text-color-rgb, 0, 0, 0)), 0.065);border-radius:var(--border-radius, inherit);display:block;width:100%;height:inherit;margin-top:4px;margin-bottom:4px;background:var(--background);line-height:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}span{display:inline-block}:host(.in-media){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;height:100%}:host(.skeleton-text-animated){position:relative;background:-webkit-gradient(linear, left top, right top, color-stop(8%, rgba(var(--background-rgb, var(--ion-text-color-rgb, 0, 0, 0)), 0.065)), color-stop(18%, rgba(var(--background-rgb, var(--ion-text-color-rgb, 0, 0, 0)), 0.135)), color-stop(33%, rgba(var(--background-rgb, var(--ion-text-color-rgb, 0, 0, 0)), 0.065)));background:linear-gradient(to right, rgba(var(--background-rgb, var(--ion-text-color-rgb, 0, 0, 0)), 0.065) 8%, rgba(var(--background-rgb, var(--ion-text-color-rgb, 0, 0, 0)), 0.135) 18%, rgba(var(--background-rgb, var(--ion-text-color-rgb, 0, 0, 0)), 0.065) 33%);background-size:800px 104px;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:shimmer;animation-name:shimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes shimmer{0%{background-position:-400px 0}100%{background-position:400px 0}}@keyframes shimmer{0%{background-position:-400px 0}100%{background-position:400px 0}}"}},[1,"ion-skeleton-text",{animated:[4]}]);const Bb=function(){if("undefined"==typeof customElements)return;["ion-skeleton-text"].forEach((e=>{if("ion-skeleton-text"===e)customElements.get(e)||customElements.define(e,Fb)}))},zb=uf,jb=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&null!=this.component){this.loaded=!0;try{return yh(this.delegate,this.el,this.component,["ion-page"])}catch(f1){console.error(f1)}}return Promise.resolve(void 0)}render(){const{tab:e,active:t,component:i}=this;return ml(gl,{key:"cb75d0877979b3b8df8f7e1952bfa9677da1eaa5",role:"tabpanel","aria-hidden":t?null:"true","aria-labelledby":`tab-button-${e}`,class:{"ion-page":void 0===i,"tab-hidden":!t}},ml("slot",{key:"37fbb7b7a6b03eb93b1dacd2dc1025b78eb2aa6b"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return":host(.tab-hidden){display:none !important}"}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Vb=function(){if("undefined"==typeof customElements)return;["ion-tab"].forEach((e=>{if("ion-tab"===e)customElements.get(e)||customElements.define(e,jb)}))},Ub=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=nd(this);return ml(gl,{key:"e134d70c04344b708a2ecf6253722781ad2ca826",class:Dd(this.color,{[e]:!0})},ml("slot",{key:"da79c760f7ebbcd007ce110439f05a62cb22eac8"}))}static get style(){return":host(.ion-color){color:var(--ion-color-base)}"}},[1,"ion-text",{color:[513]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Hb=function(){if("undefined"==typeof customElements)return;["ion-text"].forEach((e=>{if("ion-text"===e)customElements.get(e)||customElements.define(e,Ub)}))},qb=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.ionChange=kl(this,"ionChange",7),this.ionInput=kl(this,"ionInput",7),this.ionBlur=kl(this,"ionBlur",7),this.ionFocus=kl(this,"ionFocus",7),this.inputId="ion-textarea-"+Gb++,this.helperTextId=`${this.inputId}-helper-text`,this.errorTextId=`${this.inputId}-error-text`,this.didTextareaClearOnEdit=!1,this.inheritedAttributes={},this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didTextareaClearOnEdit=!1,this.ionBlur.emit(e)},this.onKeyDown=e=>{this.checkClearOnEdit(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="none",this.autofocus=!1,this.clearOnEdit=!1,this.debounce=void 0,this.disabled=!1,this.fill=void 0,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.spellcheck=!1,this.cols=void 0,this.rows=void 0,this.wrap=void 0,this.autoGrow=!1,this.value="",this.counter=!1,this.counterFormatter=void 0,this.errorText=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.shape=void 0}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=void 0===t?null!=i?i:e:Lc(e,t)}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&(e.value=t),this.runAutoGrow()}connectedCallback(){const{el:e}=this;this.slotMutationController=ff(e,["label","start","end"],(()=>sc(this))),this.notchController=mf(e,(()=>this.notchSpacerEl),(()=>this.labelSlot)),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:e}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},_c(this.el)),wc(this.el,["data-form-type","title","tabindex"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.runAutoGrow()}componentDidRender(){var e;null===(e=this.notchController)||void 0===e||e.calculateNotchWidth()}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise((e=>yc(this.el,e))),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,i=null==t?t:t.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:t}=this;this.ionInput.emit({value:t,event:e})}runAutoGrow(){this.nativeInput&&this.autoGrow&&il((()=>{var e;this.textareaWrapper&&(this.textareaWrapper.dataset.replicatedValue=null!==(e=this.value)&&void 0!==e?e:"")}))}checkClearOnEdit(e){if(!this.clearOnEdit)return;const t=["Tab","Shift","Meta","Alt","Control"].includes(e.key);this.didTextareaClearOnEdit||!this.hasValue()||t||(this.value="",this.emitInputChange(e)),t||(this.didTextareaClearOnEdit=!0)}hasValue(){return""!==this.getValue()}getValue(){return this.value||""}renderLabel(){const{label:e}=this;return ml("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},void 0===e?ml("slot",{name:"label"}):ml("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return void 0!==this.label||null!==this.labelSlot}renderLabelContainer(){return"md"===nd(this)&&"outline"===this.fill?[ml("div",{class:"textarea-outline-container"},ml("div",{class:"textarea-outline-start"}),ml("div",{class:{"textarea-outline-notch":!0,"textarea-outline-notch-hidden":!this.hasLabel}},ml("div",{class:"notch-spacer","aria-hidden":"true",ref:e=>this.notchSpacerEl=e},this.label)),ml("div",{class:"textarea-outline-end"})),this.renderLabel()]:this.renderLabel()}renderHintText(){const{helperText:e,errorText:t,helperTextId:i,errorTextId:n}=this;return[ml("div",{id:i,class:"helper-text"},e),ml("div",{id:n,class:"error-text"},t)]}getHintTextID(){const{el:e,helperText:t,errorText:i,helperTextId:n,errorTextId:o}=this;return e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i?o:t?n:void 0}renderCounter(){const{counter:e,maxlength:t,counterFormatter:i,value:n}=this;if(!0===e&&void 0!==t)return ml("div",{class:"counter"},gf(n,t,i))}renderBottomContent(){const{counter:e,helperText:t,errorText:i,maxlength:n}=this;if(!!t||!!i||!0===e&&void 0!==n)return ml("div",{class:"textarea-bottom"},this.renderHintText(),this.renderCounter())}render(){const{inputId:e,disabled:t,fill:i,shape:n,labelPlacement:o,el:r,hasFocus:s}=this,a=nd(this),l=this.getValue(),c=Pd("ion-item",this.el),d="md"===a&&"outline"!==i&&!c,u=this.hasValue(),h=null!==r.querySelector('[slot="start"], [slot="end"]'),p="stacked"===o||"floating"===o&&(u||s||h);return ml(gl,{key:"d6e25c83d8eab8cb1a5b6ab411c9a13847f69f8d",class:Dd(this.color,{[a]:!0,"has-value":u,"has-focus":s,"label-floating":p,[`textarea-fill-${i}`]:void 0!==i,[`textarea-shape-${n}`]:void 0!==n,[`textarea-label-placement-${o}`]:!0,"textarea-disabled":t})},ml("label",{key:"f840a5be2b776a4b9c18c6da24e0b7d3d4838fee",class:"textarea-wrapper",htmlFor:e},this.renderLabelContainer(),ml("div",{key:"979461fc0d4684926d79d75759c63c6867b7622b",class:"textarea-wrapper-inner"},ml("div",{key:"88f0d5d4bac29597cc2588e5b2ed72fb4fbe153d",class:"start-slot-wrapper"},ml("slot",{key:"21dcca0e59c1260e3d0d1e126c1c590de15c4bad",name:"start"})),ml("div",{key:"3c48a4bb3d763a389d3429123e7c110064b9b8d4",class:"native-wrapper",ref:e=>this.textareaWrapper=e},ml("textarea",Object.assign({key:"1550599ad15b3f215c104c014e90711f073ace8b",class:"native-textarea",ref:e=>this.nativeInput=e,id:e,disabled:t,autoCapitalize:this.autocapitalize,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,minLength:this.minlength,maxLength:this.maxlength,name:this.name,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,cols:this.cols,rows:this.rows,wrap:this.wrap,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes),l)),ml("div",{key:"4f01ab4d2994a6de6f49eb9ed2e310d00daf21b2",class:"end-slot-wrapper"},ml("slot",{key:"501e288b6807e039972bb4f0b63906114255518a",name:"end"}))),d&&ml("div",{key:"d3008eed34494aa9f8e98a28eac3b465dc4c2bd0",class:"textarea-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"]}}static get style(){return{ios:'.sc-ion-textarea-ios-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-ios-h,.textarea-label-placement-stacked.sc-ion-textarea-ios-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-ios-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-ios-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-ios-h,ion-item .sc-ion-textarea-ios-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-ios-h,ion-item [slot=start].sc-ion-textarea-ios-h,ion-item[slot=end].sc-ion-textarea-ios-h,ion-item [slot=end].sc-ion-textarea-ios-h{width:auto}.native-textarea.sc-ion-textarea-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-ios::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-ios{inset-inline-start:0}.cloned-input.sc-ion-textarea-ios:disabled{opacity:1}[auto-grow].sc-ion-textarea-ios-h .cloned-input.sc-ion-textarea-ios{height:100%}[auto-grow].sc-ion-textarea-ios-h .native-textarea.sc-ion-textarea-ios{overflow:hidden}.textarea-wrapper.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-ios{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-ios{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-ios::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-ios::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-ios{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-textarea-ios-h,.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:block}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:none}.textarea-bottom.sc-ion-textarea-ios .counter.sc-ion-textarea-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-ios,.sc-ion-textarea-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-ios,.textarea-outline-notch-hidden.sc-ion-textarea-ios{display:none}.textarea-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text.sc-ion-textarea-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.has-value.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:1}.label-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-ios,.end-slot-wrapper.sc-ion-textarea-ios{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-s>[slot=end]{margin-top:0}.sc-ion-textarea-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-textarea-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--padding-top:10px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:0px;font-size:inherit}.textarea-disabled.sc-ion-textarea-ios-h{opacity:0.3}.sc-ion-textarea-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}',md:'.sc-ion-textarea-md-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-md-h,.textarea-label-placement-stacked.sc-ion-textarea-md-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-md-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-md-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-md-h,ion-item .sc-ion-textarea-md-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-md-h,ion-item [slot=start].sc-ion-textarea-md-h,ion-item[slot=end].sc-ion-textarea-md-h,ion-item [slot=end].sc-ion-textarea-md-h{width:auto}.native-textarea.sc-ion-textarea-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-md::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-md{inset-inline-start:0}.cloned-input.sc-ion-textarea-md:disabled{opacity:1}[auto-grow].sc-ion-textarea-md-h .cloned-input.sc-ion-textarea-md{height:100%}[auto-grow].sc-ion-textarea-md-h .native-textarea.sc-ion-textarea-md{overflow:hidden}.textarea-wrapper.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-md{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-md{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-md::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-md::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-md{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-textarea-md-h,.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:block}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:none}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-md,.sc-ion-textarea-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-md,.textarea-outline-notch-hidden.sc-ion-textarea-md{display:none}.textarea-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text.sc-ion-textarea-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.has-value.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:1}.label-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-md,.end-slot-wrapper.sc-ion-textarea-md{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-s>[slot=end]{margin-top:0}.sc-ion-textarea-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.textarea-fill-solid.sc-ion-textarea-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.textarea-fill-solid.ion-valid.sc-ion-textarea-md-h,.textarea-fill-solid.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}@media (any-hover: hover){.textarea-fill-solid.sc-ion-textarea-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-solid.has-focus.sc-ion-textarea-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.textarea-fill-solid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{max-width:calc(100% / 0.75)}.textarea-fill-outline.sc-ion-textarea-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-outline.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.textarea-fill-outline.ion-valid.sc-ion-textarea-md-h,.textarea-fill-outline.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.textarea-fill-outline.sc-ion-textarea-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-outline.has-focus.sc-ion-textarea-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:none}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{position:relative}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc(\n    (100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75\n  )}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-fill-outline.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:12px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:12px}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-container.sc-ion-textarea-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{pointer-events:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.textarea-fill-outline.sc-ion-textarea-md-h .notch-spacer.sc-ion-textarea-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{border-top:none}.sc-ion-textarea-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--padding-top:18px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:2px;font-size:inherit}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{letter-spacing:0.0333333333em}.textarea-label-placement-floating.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.has-focus.textarea-label-placement-floating.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.has-focus.textarea-label-placement-stacked.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.textarea-disabled.sc-ion-textarea-md-h{opacity:0.38}.textarea-highlight.sc-ion-textarea-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.has-focus.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{bottom:0}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:16px}.sc-ion-textarea-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}'}}},[38,"ion-textarea",{color:[513],autocapitalize:[1],autofocus:[4],clearOnEdit:[4,"clear-on-edit"],debounce:[2],disabled:[4],fill:[1],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],readonly:[4],required:[4],spellcheck:[4],cols:[514],rows:[2],wrap:[1],autoGrow:[516,"auto-grow"],value:[1025],counter:[4],counterFormatter:[16],errorText:[1,"error-text"],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],shape:[1],hasFocus:[32],setFocus:[64],getInputElement:[64]},void 0,{debounce:["debounceChanged"],value:["valueChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let Gb=0;const Wb=function(){if("undefined"==typeof customElements)return;["ion-textarea"].forEach((e=>{if("ion-textarea"===e)customElements.get(e)||customElements.define(e,qb)}))},Yb=function(){if("undefined"==typeof customElements)return;["ion-title"].forEach((e=>{if("ion-title"===e)customElements.get(e)||customElements.define(e,Nb)}))},Kb=function(){if("undefined"==typeof customElements)return;["ion-toolbar"].forEach((e=>{if("ion-toolbar"===e)customElements.get(e)||customElements.define(e,$b)}))},Qb=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const t=this.el.closest("ion-nav");return e.preventDefault(),t&&await t.canGoBack()?t.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):Md(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=_c(this.el),void 0===this.defaultHref&&(this.defaultHref=zc.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return null!=e?e:"ios"===nd(this)?zc.get("backButtonIcon",Nc):zc.get("backButtonIcon","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>")}get backButtonText(){const e="ios"===nd(this)?"Back":null;return null!=this.text?this.text:zc.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:t,disabled:i,type:n,hasIconOnly:o,backButtonIcon:r,backButtonText:s,icon:a,inheritedAttributes:l}=this,c=void 0!==t,d=nd(this),u=l["aria-label"]||s||"back";return ml(gl,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:Dd(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":o,"in-toolbar":Pd("ion-toolbar",this.el),"in-toolbar-color":Pd("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":c})},ml("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:n,disabled:i,class:"button-native",part:"native","aria-label":u},ml("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},r&&ml("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:r,"aria-hidden":"true",lazy:!1,"flip-rtl":void 0===a}),s&&ml("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},s)),"md"===d&&ml("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',md:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}'}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Xb=function(){if("undefined"==typeof customElements)return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,Qb);break;case"ion-icon":customElements.get(e)||kd();break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},Jb=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=kl(this,"ionNavWillLoad",7),this.ionNavWillChange=kl(this,"ionNavWillChange",3),this.ionNavDidChange=kl(this,"ionNavDidChange",3),this.lockController=pp(),this.gestureOrAnimationInProgress=!1,this.mode=nd(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Da((()=>a.import("./swipe-back-legacy-BRKCHh9P.js")),void 0)).createSwipeBackGesture(this.el,(()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart()),(()=>e()),(e=>{var t;return null===(t=this.ani)||void 0===t?void 0:t.progressStep(e)}),((e,t,i)=>{if(this.ani){this.ani.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(e)}),{oneTimeCallback:!0});let n=e?-.001:.001;e?n+=If([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),n+=If([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.ani.progressEnd(e?1:0,n,i)}else this.gestureOrAnimationInProgress=!1})),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,i){const n=await this.lockController.lock();let o=!1;try{o=await this.transition(e,t,i)}catch(f1){console.error(f1)}return n(),o}async setRouteId(e,t,i,n){return{changed:await this.setRoot(e,t,{duration:"root"===i?0:void 0,direction:"back"===i?"back":"forward",animationBuilder:n}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,i){if(this.activeComponent===e&&Oc(t,this.activeParams))return!1;const n=this.activeEl,o=await yh(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=o,this.activeParams=t,await this.commit(o,n,i),await kh(this.delegate,n),!0}async transition(e,t,i={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:n,mode:o}=this,r=this.animated&&zc.getBoolean("animated",!0),s=i.animationBuilder||this.animation||zc.get("navAnimation");return await _p(Object.assign(Object.assign({mode:o,animated:r,enteringEl:e,leavingEl:t,baseEl:n,deepWait:kc(n),progressCallback:i.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.ani=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0},i),{animationBuilder:s})),this.ionNavDidChange.emit(),!0}render(){return ml("slot",{key:"a70341f58d19df55de1dad00e3464388e446aa2a"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);const Zb=function(){if("undefined"==typeof customElements)return;["ion-router-outlet"].forEach((e=>{if("ion-router-outlet"===e)customElements.get(e)||customElements.define(e,Jb)}))},ev="undefined"!=typeof document;
/*!
              * vue-router v4.5.0
              * (c) 2024 Eduardo San Martin Morote
              * @license MIT
              */function tv(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const iv=Object.assign;function nv(e,t){const i={};for(const n in t){const o=t[n];i[n]=rv(o)?o.map(e):e(o)}return i}const ov=()=>{},rv=Array.isArray,sv=/#/g,av=/&/g,lv=/\//g,cv=/=/g,dv=/\?/g,uv=/\+/g,hv=/%5B/g,pv=/%5D/g,mv=/%5E/g,fv=/%60/g,gv=/%7B/g,bv=/%7C/g,vv=/%7D/g,yv=/%20/g;function kv(e){return encodeURI(""+e).replace(bv,"|").replace(hv,"[").replace(pv,"]")}function wv(e){return kv(e).replace(gv,"{").replace(vv,"}").replace(mv,"^")}function xv(e){return kv(e).replace(uv,"%2B").replace(yv,"+").replace(sv,"%23").replace(av,"%26").replace(fv,"`").replace(gv,"{").replace(vv,"}").replace(mv,"^")}function _v(e){return xv(e).replace(cv,"%3D")}function Ev(e){return null==e?"":function(e){return kv(e).replace(sv,"%23").replace(dv,"%3F")}(e).replace(lv,"%2F")}function Cv(e){try{return decodeURIComponent(""+e)}catch(N0){}return""+e}const Av=/\/$/;function Tv(e,t,i="/"){let n,o={},r="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),o=e(r)),a>-1&&(n=n||t.slice(0,a),s=t.slice(a,t.length)),n=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),n=e.split("/"),o=n[n.length-1];".."!==o&&"."!==o||n.push("");let r,s,a=i.length-1;for(r=0;r<n.length;r++)if(s=n[r],"."!==s){if(".."!==s)break;a>1&&a--}return i.slice(0,a).join("/")+"/"+n.slice(r).join("/")}(null!=n?n:t,i),{fullPath:n+(r&&"?")+r+s,path:n,query:o,hash:Cv(s)}}function Sv(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function Iv(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Pv(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Dv(e[i],t[i]))return!1;return!0}function Dv(e,t){return rv(e)?Rv(e,t):rv(t)?Rv(t,e):e===t}function Rv(e,t){return rv(t)?e.length===t.length&&e.every(((e,i)=>e===t[i])):1===e.length&&e[0]===t}const Lv={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Mv,Ov,Nv,$v;function Fv(e){if(!e)if(ev){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Av,"")}(Ov=Mv||(Mv={})).pop="pop",Ov.push="push",($v=Nv||(Nv={})).back="back",$v.forward="forward",$v.unknown="";const Bv=/^[^#]+#/;function zv(e,t){return e.replace(Bv,"#")+t}const jv=()=>({left:window.scrollX,top:window.scrollY});function Vv(e){let t;if("el"in e){const i=e.el,n="string"==typeof i&&i.startsWith("#"),o="string"==typeof i?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!o)return;t=function(e,t){const i=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-i.left-(t.left||0),top:n.top-i.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function Uv(e,t){return(history.state?history.state.position-t:-1)+e}const Hv=new Map;function qv(e,t){const{pathname:i,search:n,hash:o}=t,r=e.indexOf("#");if(r>-1){let t=o.includes(e.slice(r))?e.slice(r).length:1,i=o.slice(t);return"/"!==i[0]&&(i="/"+i),Sv(i,"")}return Sv(i,e)+n+o}function Gv(e,t,i,n=!1,o=!1){return{back:e,current:t,forward:i,replaced:n,position:window.history.length,scroll:o?jv():null}}function Wv(e){const{history:t,location:i}=window,n={value:qv(e,i)},o={value:t.state};function r(n,r,s){const a=e.indexOf("#"),l=a>-1?(i.host&&document.querySelector("base")?e:e.slice(a))+n:location.protocol+"//"+location.host+e+n;try{t[s?"replaceState":"pushState"](r,"",l),o.value=r}catch(N0){console.error(N0),i[s?"replace":"assign"](l)}}return o.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:n,state:o,push:function(e,i){const s=iv({},o.value,t.state,{forward:e,scroll:jv()});r(s.current,s,!0),r(e,iv({},Gv(n.value,e,null),{position:s.position+1},i),!1),n.value=e},replace:function(e,i){r(e,iv({},t.state,Gv(o.value.back,e,o.value.forward,!0),i,{position:o.value.position}),!0),n.value=e}}}function Yv(e){const t=Wv(e=Fv(e)),i=function(e,t,i,n){let o=[],r=[],s=null;const a=({state:r})=>{const a=qv(e,location),l=i.value,c=t.value;let d=0;if(r){if(i.value=a,t.value=r,s&&s===l)return void(s=null);d=c?r.position-c.position:0}else n(a);o.forEach((e=>{e(i.value,l,{delta:d,type:Mv.pop,direction:d?d>0?Nv.forward:Nv.back:Nv.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(iv({},e.state,{scroll:jv()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){s=i.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return r.push(t),t},destroy:function(){for(const e of r)e();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace);const n=iv({location:"",base:e,go:function(e,t=!0){t||i.pauseListeners(),history.go(e)},createHref:zv.bind(null,e)},t,i);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function Kv(e){return"string"==typeof e||"symbol"==typeof e}const Qv=Symbol("");var Xv,Jv;function Zv(e,t){return iv(new Error,{type:e,[Qv]:!0},t)}function ey(e,t){return e instanceof Error&&Qv in e&&(null==t||!!(e.type&t))}(Jv=Xv||(Xv={}))[Jv.aborted=4]="aborted",Jv[Jv.cancelled=8]="cancelled",Jv[Jv.duplicated=16]="duplicated";const ty="[^/]+?",iy={sensitive:!1,strict:!1,start:!0,end:!0},ny=/[.+*?^${}()[\]/\\]/g;function oy(e,t){let i=0;for(;i<e.length&&i<t.length;){const n=t[i]-e[i];if(n)return n;i++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function ry(e,t){let i=0;const n=e.score,o=t.score;for(;i<n.length&&i<o.length;){const e=oy(n[i],o[i]);if(e)return e;i++}if(1===Math.abs(o.length-n.length)){if(sy(n))return 1;if(sy(o))return-1}return o.length-n.length}function sy(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ay={type:0,value:""},ly=/[a-zA-Z0-9_]/;function cy(e,t,i){const n=function(e,t){const i=iv({},iy,t),n=[];let o=i.start?"^":"";const r=[];for(const a of e){const e=a.length?[]:[90];i.strict&&!a.length&&(o+="/");for(let t=0;t<a.length;t++){const n=a[t];let s=40+(i.sensitive?.25:0);if(0===n.type)t||(o+="/"),o+=n.value.replace(ny,"\\$&"),s+=40;else if(1===n.type){const{value:e,repeatable:i,optional:l,regexp:c}=n;r.push({name:e,repeatable:i,optional:l});const d=c||ty;if(d!==ty){s+=10;try{new RegExp(`(${d})`)}catch(N0){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+N0.message)}}let u=i?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(u=l&&a.length<2?`(?:/${u})`:"/"+u),l&&(u+="?"),o+=u,s+=20,l&&(s+=-8),i&&(s+=-20),".*"===d&&(s+=-50)}e.push(s)}n.push(e)}if(i.strict&&i.end){const e=n.length-1;n[e][n[e].length-1]+=.7000000000000001}i.strict||(o+="/?"),i.end?o+="$":i.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const s=new RegExp(o,i.sensitive?"":"i");return{re:s,score:n,keys:r,parse:function(e){const t=e.match(s),i={};if(!t)return null;for(let n=1;n<t.length;n++){const e=t[n]||"",o=r[n-1];i[o.name]=e&&o.repeatable?e.split("/"):e}return i},stringify:function(t){let i="",n=!1;for(const o of e){n&&i.endsWith("/")||(i+="/"),n=!1;for(const e of o)if(0===e.type)i+=e.value;else if(1===e.type){const{value:r,repeatable:s,optional:a}=e,l=r in t?t[r]:"";if(rv(l)&&!s)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const c=rv(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${r}"`);o.length<2&&(i.endsWith("/")?i=i.slice(0,-1):n=!0)}i+=c}}return i||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[ay]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${i})/"${c}": ${e}`)}let i=0,n=i;const o=[];let r;function s(){r&&o.push(r),r=[]}let a,l=0,c="",d="";function u(){c&&(0===i?r.push({type:0,value:c}):1===i||2===i||3===i?(r.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:d,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<e.length;)if(a=e[l++],"\\"!==a||2===i)switch(i){case 0:"/"===a?(c&&u(),s()):":"===a?(u(),i=1):h();break;case 4:h(),i=n;break;case 1:"("===a?i=2:ly.test(a)?h():(u(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==d[d.length-1]?d=d.slice(0,-1)+a:i=3:d+=a;break;case 3:u(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,d="";break;default:t("Unknown state")}else n=i,i=4;return 2===i&&t(`Unfinished custom RegExp for param "${c}"`),u(),s(),o}(e.path),i),o=iv(n,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function dy(e,t){const i=[],n=new Map;function o(e,i,n){const a=!n,l=hy(e);l.aliasOf=n&&n.record;const c=gy(t,e),d=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)d.push(hy(iv({},l,{components:n?n.record.components:l.components,path:e,aliasOf:n?n.record:l})))}let u,h;for(const t of d){const{path:d}=t;if(i&&"/"!==d[0]){const e=i.record.path,n="/"===e[e.length-1]?"":"/";t.path=i.record.path+(d&&n+d)}if(u=cy(t,i,c),n?n.alias.push(u):(h=h||u,h!==u&&h.alias.push(u),a&&e.name&&!my(u)&&r(e.name)),by(u)&&s(u),l.children){const e=l.children;for(let t=0;t<e.length;t++)o(e[t],u,n&&n.children[t])}n=n||u}return h?()=>{r(h)}:ov}function r(e){if(Kv(e)){const t=n.get(e);t&&(n.delete(e),i.splice(i.indexOf(t),1),t.children.forEach(r),t.alias.forEach(r))}else{const t=i.indexOf(e);t>-1&&(i.splice(t,1),e.record.name&&n.delete(e.record.name),e.children.forEach(r),e.alias.forEach(r))}}function s(e){const t=function(e,t){let i=0,n=t.length;for(;i!==n;){const o=i+n>>1;ry(e,t[o])<0?n=o:i=o+1}const o=function(e){let t=e;for(;t=t.parent;)if(by(t)&&0===ry(e,t))return t;return}(e);o&&(n=t.lastIndexOf(o,n-1));return n}(e,i);i.splice(t,0,e),e.record.name&&!my(e)&&n.set(e.record.name,e)}return t=gy({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,r,s,a={};if("name"in e&&e.name){if(o=n.get(e.name),!o)throw Zv(1,{location:e});s=o.record.name,a=iv(uy(t.params,o.keys.filter((e=>!e.optional)).concat(o.parent?o.parent.keys.filter((e=>e.optional)):[]).map((e=>e.name))),e.params&&uy(e.params,o.keys.map((e=>e.name)))),r=o.stringify(a)}else if(null!=e.path)r=e.path,o=i.find((e=>e.re.test(r))),o&&(a=o.parse(r),s=o.record.name);else{if(o=t.name?n.get(t.name):i.find((e=>e.re.test(t.path))),!o)throw Zv(1,{location:e,currentLocation:t});s=o.record.name,a=iv({},t.params,e.params),r=o.stringify(a)}const l=[];let c=o;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:r,params:a,matched:l,meta:fy(l)}},removeRoute:r,clearRoutes:function(){i.length=0,n.clear()},getRoutes:function(){return i},getRecordMatcher:function(e){return n.get(e)}}}function uy(e,t){const i={};for(const n of t)n in e&&(i[n]=e[n]);return i}function hy(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:py(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function py(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const n in e.components)t[n]="object"==typeof i?i[n]:i;return t}function my(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function fy(e){return e.reduce(((e,t)=>iv(e,t.meta)),{})}function gy(e,t){const i={};for(const n in e)i[n]=n in t?t[n]:e[n];return i}function by({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function vy(e){const t={};if(""===e||"?"===e)return t;const i=("?"===e[0]?e.slice(1):e).split("&");for(let n=0;n<i.length;++n){const e=i[n].replace(uv," "),o=e.indexOf("="),r=Cv(o<0?e:e.slice(0,o)),s=o<0?null:Cv(e.slice(o+1));if(r in t){let e=t[r];rv(e)||(e=t[r]=[e]),e.push(s)}else t[r]=s}return t}function yy(e){let t="";for(let i in e){const n=e[i];if(i=_v(i),null==n){void 0!==n&&(t+=(t.length?"&":"")+i);continue}(rv(n)?n.map((e=>e&&xv(e))):[n&&xv(n)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+i,null!=e&&(t+="="+e))}))}return t}function ky(e){const t={};for(const i in e){const n=e[i];void 0!==n&&(t[i]=rv(n)?n.map((e=>null==e?null:""+e)):null==n?n:""+n)}return t}const wy=Symbol(""),xy=Symbol(""),_y=Symbol(""),Ey=Symbol(""),Cy=Symbol("");function Ay(){let e=[];return{add:function(t){return e.push(t),()=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function Ty(e,t,i,n,o,r=e=>e()){const s=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise(((a,l)=>{const c=e=>{!1===e?l(Zv(4,{from:i,to:t})):e instanceof Error?l(e):!function(e){return"string"==typeof e||e&&"object"==typeof e}(e)?(s&&n.enterCallbacks[o]===s&&"function"==typeof e&&s.push(e),a()):l(Zv(2,{from:t,to:e}))},d=r((()=>e.call(n&&n.instances[o],t,i,c)));let u=Promise.resolve(d);e.length<3&&(u=u.then(c)),u.catch((e=>l(e)))}))}function Sy(e,t,i,n,o=e=>e()){const r=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if(tv(a)){const l=(a.__vccOpts||a)[t];l&&r.push(Ty(l,i,n,s,e,o))}else{let l=a();r.push((()=>l.then((r=>{if(!r)throw new Error(`Couldn't resolve component "${e}" at "${s.path}"`);const a=(l=r).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&tv(l.default)?r.default:r;var l;s.mods[e]=r,s.components[e]=a;const c=(a.__vccOpts||a)[t];return c&&Ty(c,i,n,s,e,o)()}))))}}return r}function Iy(e){const t=Go(_y),i=Go(Ey),n=ks((()=>{const i=Di(e.to);return t.resolve(i)})),o=ks((()=>{const{matched:e}=n.value,{length:t}=e,o=e[t-1],r=i.matched;if(!o||!r.length)return-1;const s=r.findIndex(Iv.bind(null,o));if(s>-1)return s;const a=Ry(e[t-2]);return t>1&&Ry(o)===a&&r[r.length-1].path!==a?r.findIndex(Iv.bind(null,e[t-2])):s})),r=ks((()=>o.value>-1&&function(e,t){for(const i in t){const n=t[i],o=e[i];if("string"==typeof n){if(n!==o)return!1}else if(!rv(o)||o.length!==n.length||n.some(((e,t)=>e!==o[t])))return!1}return!0}(i.params,n.value.params))),s=ks((()=>o.value>-1&&o.value===i.matched.length-1&&Pv(i.params,n.value.params)));return{route:n,href:ks((()=>n.value.href)),isActive:r,isExactActive:s,navigate:function(i={}){if(function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(i)){const i=t[Di(e.replace)?"replace":"push"](Di(e.to)).catch(ov);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition((()=>i)),i}return Promise.resolve()}}}const Py=jn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Iy,setup(e,{slots:t}){const i=mi(Iy(e)),{options:n}=Go(_y),o=ks((()=>({[Ly(e.activeClass,n.linkActiveClass,"router-link-active")]:i.isActive,[Ly(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive})));return()=>{const n=t.default&&(1===(r=t.default(i)).length?r[0]:r);var r;return e.custom?n:ws("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:o.value},n)}}}),Dy=Py;function Ry(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ly=(e,t,i)=>null!=e?e:null!=t?t:i,My=jn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const n=Go(Cy),o=ks((()=>e.route||n.value)),r=Go(xy,0),s=ks((()=>{let e=Di(r);const{matched:t}=o.value;let i;for(;(i=t[e])&&!i.components;)e++;return e})),a=ks((()=>o.value.matched[s.value]));qo(xy,ks((()=>s.value+1))),qo(wy,a),qo(Cy,o);const l=Ti();return br((()=>[l.value,a.value,e.name]),(([e,t,i],[n,o,r])=>{t&&(t.instances[i]=e,o&&o!==t&&e&&e===n&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&Iv(t,o)&&n||(t.enterCallbacks[i]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const n=o.value,r=e.name,s=a.value,c=s&&s.components[r];if(!c)return Oy(i.default,{Component:c,route:n});const d=s.props[r],u=d?!0===d?n.params:"function"==typeof d?d(n):d:null,h=ws(c,iv({},u,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(s.instances[r]=null)},ref:l}));return Oy(i.default,{Component:h,route:n})||h}}});function Oy(e,t){if(!e)return null;const i=e(t);return 1===i.length?i[0]:i}const Ny=My;function $y(e){const t=dy(e.routes,e),i=e.parseQuery||vy,n=e.stringifyQuery||yy,o=e.history,r=Ay(),s=Ay(),a=Ay(),l=Si(Lv);let c=Lv;ev&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=nv.bind(null,(e=>""+e)),u=nv.bind(null,Ev),h=nv.bind(null,Cv);function p(e,r){if(r=iv({},r||l.value),"string"==typeof e){const n=Tv(i,e,r.path),s=t.resolve({path:n.path},r),a=o.createHref(n.fullPath);return iv(n,s,{params:h(s.params),hash:Cv(n.hash),redirectedFrom:void 0,href:a})}let s;if(null!=e.path)s=iv({},e,{path:Tv(i,e.path,r.path).path});else{const t=iv({},e.params);for(const e in t)null==t[e]&&delete t[e];s=iv({},e,{params:u(t)}),r.params=u(r.params)}const a=t.resolve(s,r),c=e.hash||"";a.params=d(h(a.params));const p=function(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}(n,iv({},e,{hash:wv(c),path:a.path})),m=o.createHref(p);return iv({fullPath:p,hash:c,query:n===yy?ky(e.query):e.query||{}},a,{redirectedFrom:void 0,href:m})}function m(e){return"string"==typeof e?Tv(i,e,l.value.path):iv({},e)}function f(e,t){if(c!==e)return Zv(8,{from:t,to:e})}function g(e){return v(e)}function b(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:i}=t;let n="function"==typeof i?i(e):i;return"string"==typeof n&&(n=n.includes("?")||n.includes("#")?n=m(n):{path:n},n.params={}),iv({query:e.query,hash:e.hash,params:null!=n.path?{}:e.params},n)}}function v(e,t){const i=c=p(e),o=l.value,r=e.state,s=e.force,a=!0===e.replace,d=b(i);if(d)return v(iv(m(d),{state:"object"==typeof d?iv({},r,d.state):r,force:s,replace:a}),t||i);const u=i;let h;return u.redirectedFrom=t,!s&&function(e,t,i){const n=t.matched.length-1,o=i.matched.length-1;return n>-1&&n===o&&Iv(t.matched[n],i.matched[o])&&Pv(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}(n,o,i)&&(h=Zv(16,{to:u,from:o}),D(o,o,!0,!1)),(h?Promise.resolve(h):w(u,o)).catch((e=>ey(e)?ey(e,2)?e:P(e):I(e,u,o))).then((e=>{if(e){if(ey(e,2))return v(iv({replace:a},m(e.to),{state:"object"==typeof e.to?iv({},r,e.to.state):r,force:s}),t||u)}else e=_(u,o,!0,a,r);return x(u,o,e),e}))}function y(e,t){const i=f(e,t);return i?Promise.reject(i):Promise.resolve()}function k(e){const t=M.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function w(e,t){let i;const[n,o,a]=function(e,t){const i=[],n=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let s=0;s<r;s++){const r=t.matched[s];r&&(e.matched.find((e=>Iv(e,r)))?n.push(r):i.push(r));const a=e.matched[s];a&&(t.matched.find((e=>Iv(e,a)))||o.push(a))}return[i,n,o]}(e,t);i=Sy(n.reverse(),"beforeRouteLeave",e,t);for(const r of n)r.leaveGuards.forEach((n=>{i.push(Ty(n,e,t))}));const l=y.bind(null,e,t);return i.push(l),N(i).then((()=>{i=[];for(const n of r.list())i.push(Ty(n,e,t));return i.push(l),N(i)})).then((()=>{i=Sy(o,"beforeRouteUpdate",e,t);for(const n of o)n.updateGuards.forEach((n=>{i.push(Ty(n,e,t))}));return i.push(l),N(i)})).then((()=>{i=[];for(const n of a)if(n.beforeEnter)if(rv(n.beforeEnter))for(const o of n.beforeEnter)i.push(Ty(o,e,t));else i.push(Ty(n.beforeEnter,e,t));return i.push(l),N(i)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),i=Sy(a,"beforeRouteEnter",e,t,k),i.push(l),N(i)))).then((()=>{i=[];for(const n of s.list())i.push(Ty(n,e,t));return i.push(l),N(i)})).catch((e=>ey(e,8)?e:Promise.reject(e)))}function x(e,t,i){a.list().forEach((n=>k((()=>n(e,t,i)))))}function _(e,t,i,n,r){const s=f(e,t);if(s)return s;const a=t===Lv,c=ev?history.state:{};i&&(n||a?o.replace(e.fullPath,iv({scroll:a&&c&&c.scroll},r)):o.push(e.fullPath,r)),l.value=e,D(e,t,i,a),P()}let E;function C(){E||(E=o.listen(((e,t,i)=>{if(!O.listening)return;const n=p(e),r=b(n);if(r)return void v(iv(r,{replace:!0,force:!0}),n).catch(ov);c=n;const s=l.value;var a,d;ev&&(a=Uv(s.fullPath,i.delta),d=jv(),Hv.set(a,d)),w(n,s).catch((e=>ey(e,12)?e:ey(e,2)?(v(iv(m(e.to),{force:!0}),n).then((e=>{ey(e,20)&&!i.delta&&i.type===Mv.pop&&o.go(-1,!1)})).catch(ov),Promise.reject()):(i.delta&&o.go(-i.delta,!1),I(e,n,s)))).then((e=>{(e=e||_(n,s,!1))&&(i.delta&&!ey(e,8)?o.go(-i.delta,!1):i.type===Mv.pop&&ey(e,20)&&o.go(-1,!1)),x(n,s,e)})).catch(ov)})))}let A,T=Ay(),S=Ay();function I(e,t,i){P(e);const n=S.list();return n.length?n.forEach((n=>n(e,t,i))):console.error(e),Promise.reject(e)}function P(e){return A||(A=!e,C(),T.list().forEach((([t,i])=>e?i(e):t())),T.reset()),e}function D(t,i,n,o){const{scrollBehavior:r}=e;if(!ev||!r)return Promise.resolve();const s=!n&&function(e){const t=Hv.get(e);return Hv.delete(e),t}(Uv(t.fullPath,0))||(o||!n)&&history.state&&history.state.scroll||null;return nn().then((()=>r(t,i,s))).then((e=>e&&Vv(e))).catch((e=>I(e,t,i)))}const R=e=>o.go(e);let L;const M=new Set,O={currentRoute:l,listening:!0,addRoute:function(e,i){let n,o;return Kv(e)?(n=t.getRecordMatcher(e),o=i):o=e,t.addRoute(o,n)},removeRoute:function(e){const i=t.getRecordMatcher(e);i&&t.removeRoute(i)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:p,options:e,push:g,replace:function(e){return g(iv(m(e),{replace:!0}))},go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:r.add,beforeResolve:s.add,afterEach:a.add,onError:S.add,isReady:function(){return A&&l.value!==Lv?Promise.resolve():new Promise(((e,t)=>{T.add([e,t])}))},install(e){e.component("RouterLink",Dy),e.component("RouterView",Ny),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Di(l)}),ev&&!L&&l.value===Lv&&(L=!0,g(o.location).catch((e=>{})));const t={};for(const n in Lv)Object.defineProperty(t,n,{get:()=>l.value[n],enumerable:!0});e.provide(_y,this),e.provide(Ey,fi(t)),e.provide(Cy,l);const i=e.unmount;M.add(e),e.unmount=function(){M.delete(e),M.size<1&&(c=Lv,E&&E(),E=null,l.value=Lv,L=!1,A=!1),i()}}};function N(e){return e.reduce(((e,t)=>e.then((()=>k(t)))),Promise.resolve())}return O}function Fy(){return Go(_y)}function By(e){return Go(Ey)}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const zy=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=kl(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{"Enter"!==e.key&&" "!==e.key||this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||(null==t?void 0:t.contains(this.el)))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},wc(this.el,["aria-label"])),void 0===this.layout&&(this.layout=zc.get("tabButtonLayout","icon-top"))}selectTab(e){void 0!==this.tab&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:i,href:n,rel:o,target:r,layout:s,selected:a,tab:l,inheritedAttributes:c}=this,d=nd(this),u={download:this.download,href:n,rel:o,target:r};return ml(gl,{key:"5976c45943ea7ea8e7c1a85fc9996de421439f08",onClick:this.onClick,onKeyup:this.onKeyUp,id:void 0!==l?`tab-button-${l}`:null,class:{[d]:!0,"tab-selected":a,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":t,"tab-has-label-only":i&&!t,"tab-has-icon-only":t&&!i,[`tab-layout-${s}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},ml("a",Object.assign({key:"1db09d861b67ff292018fb4b0dc7b85bd4677eb8"},u,{class:"button-native",part:"native",role:"tab","aria-selected":a?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},c),ml("span",{key:"4381eafcb27e8c7bb0d86d4f115ceb0caf03b9b4",class:"button-inner"},ml("slot",{key:"1981135f6fbb88376c1bd923c55c70fe8b5c5159"})),"md"===d&&ml("ion-ripple-effect",{key:"0509bc7155d055d1ed710600e9cf4df135881491",type:"unbounded"})))}get el(){return this}static get style(){return{ios:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',md:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}'}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);const jy=function(){if("undefined"==typeof customElements)return;["ion-tab-button","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,zy);break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},Vy=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=kl(this,"ionNavWillLoad",7),this.ionTabsWillChange=kl(this,"ionTabsWillChange",3),this.ionTabsDidChange=kl(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:t,tab:i}=e.detail;if(this.useRouter&&void 0!==t){const e=document.querySelector("ion-router");e&&e.push(t)}else this.select(i)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=!(!this.el.querySelector("ion-router-outlet")&&!document.querySelector("ion-router")||this.el.closest("[no-router]"))),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const t=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=t}}async select(e){const t=Uy(this.tabs,e);return!!this.shouldSwitch(t)&&(await this.setActive(t),await this.notifyRouter(),this.tabSwitch(),!0)}async getTab(e){return Uy(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const t=Uy(this.tabs,e);return this.shouldSwitch(t)?(await this.setActive(t),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const t=null===(e=this.selectedTab)||void 0===e?void 0:e.tab;return void 0!==t?{id:t,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,t=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&t!==e&&(t&&(t.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const t=this.selectedTab;return void 0!==e&&e!==t&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return ml(gl,{key:"e01ccf6bfaccad094515be50e407399c733fc226",onIonTabButtonClick:this.onTabClicked},ml("slot",{key:"38d2d01dbfd8a08f01e6f0e27274b21d75424e37",name:"top"}),ml("div",{key:"7e894f0f423e2d43e1c68daff5f9f6c442fad237",class:"tabs-inner"},ml("slot",{key:"df16be529a0370a26d0adf850530b31607507c23"})),ml("slot",{key:"44642e1cb24c3281c43db75fd69a32fe0defe40a",name:"bottom"}))}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}"}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),Uy=(e,t)=>{const i="string"==typeof t?e.find((e=>e.tab===t)):t;return i||console.error(`tab with id: "${i}" does not exist`),i};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Hy=function(){if("undefined"==typeof customElements)return;["ion-tabs"].forEach((e=>{if("ion-tabs"===e)customElements.get(e)||customElements.define(e,Vy)}))},qy=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=kl(this,"ionTabBarChanged",7),this.ionTabBarLoaded=kl(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){void 0!==this.selectedTab&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await $m((async(e,t)=>{!1===e&&void 0!==t&&await t,this.keyboardVisible=e}))}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:t,keyboardVisible:i}=this,n=nd(this),o=i&&"top"!==this.el.getAttribute("slot");return ml(gl,{key:"a87fd2ea5df053705a37ea7ffec043e75c4a9907",role:"tablist","aria-hidden":o?"true":null,class:Dd(e,{[n]:!0,"tab-bar-translucent":t,"tab-bar-hidden":o})},ml("slot",{key:"81a6223299b6cab29d7ddced590e9152e2b3ded0"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",md:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}"}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Gy=function(){if("undefined"==typeof customElements)return;["ion-tab-bar"].forEach((e=>{if("ion-tab-bar"===e)customElements.get(e)||customElements.define(e,qy)}))},Wy=hc(class extends Ha{constructor(){super(),this.__registerHost()}componentDidLoad(){Ky((async()=>{const e=Hc(window,"hybrid");if(zc.getBoolean("_testing")||Da((()=>a.import("./index9-legacy-DJSp7ULr.js")),void 0).then((e=>e.startTapClick(zc))),zc.getBoolean("statusTap",e)&&Da((()=>a.import("./status-tap-legacy-DLV-2qTZ.js")),void 0).then((e=>e.startStatusTap())),zc.getBoolean("inputShims",Yy())){const e=Hc(window,"ios")?"ios":"android";Da((()=>a.import("./input-shims-legacy-DUksMXmq.js")),void 0).then((t=>t.startInputShims(zc,e)))}const t=await Da((()=>Promise.resolve().then((()=>vh))),void 0),i=e||bh();zc.getBoolean("hardwareBackButton",i)?t.startHardwareBackButton():(bh()&&Ed("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),t.blockHardwareBackButton()),"undefined"!=typeof window&&Da((()=>Promise.resolve().then((()=>bb))),void 0).then((e=>e.startKeyboardAssist(window))),Da((()=>Promise.resolve().then((()=>lu))),void 0).then((e=>this.focusVisible=e.startFocusVisible()))}))}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=nd(this);return ml(gl,{key:"96715520fd05d6f0e6fa26a8ba78792cfccd4c0a",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":zc.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}},[0,"ion-app",{setFocus:[64]}]),Yy=()=>{if(Hc(window,"ios")&&Hc(window,"mobile"))return!0;return!(!Hc(window,"android")||!Hc(window,"mobileweb"))},Ky=e=>{"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,32)};const Qy=function(){if("undefined"==typeof customElements)return;["ion-app"].forEach((e=>{if("ion-app"===e)customElements.get(e)||customElements.define(e,Wy)}))};let Xy;const Jy=(e,t)=>{const i=(()=>{if("undefined"==typeof window)return new Map;if(!Xy){const e=window;e.Ionicons=e.Ionicons||{},Xy=e.Ionicons.map=e.Ionicons.map||new Map}return Xy})().get(e);if(i)return i;try{return nl(`svg/${e}.svg`)}catch(f1){console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},Zy=(e,t,i,n,o)=>{if(i="ios"===(i&&nk(i))?"ios":"md",n&&"ios"===i?e=nk(n):o&&"md"===i?e=nk(o):(e||!t||tk(t)||(e=t),ik(e)&&(e=nk(e))),!ik(e)||""===e.trim())return null;return""!==e.replace(/[a-z]|-|\d/gi,"")?null:e},ek=e=>ik(e)&&(e=e.trim(),tk(e))?e:null,tk=e=>e.length>0&&/(\/|\.)/.test(e),ik=e=>"string"==typeof e,nk=e=>e.toLowerCase(),ok=e=>{if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(let t=0;t<e.attributes.length;t++){const i=e.attributes[t].name;if(ik(i)&&0===i.toLowerCase().indexOf("on"))return!1}for(let t=0;t<e.childNodes.length;t++)if(!ok(e.childNodes[t]))return!1}return!0},rk=new Map,sk=new Map;let ak;const lk=(e,t)=>{let i=sk.get(e);if(!i){if("undefined"==typeof fetch||"undefined"==typeof document)return rk.set(e,""),Promise.resolve();if((e=>e.startsWith("data:image/svg+xml"))(e)&&(e=>-1!==e.indexOf(";utf8,"))(e)){ak||(ak=new DOMParser);const t=ak.parseFromString(e,"text/html").querySelector("svg");return t&&rk.set(e,t.outerHTML),Promise.resolve()}i=fetch(e).then((i=>{if(i.ok)return i.text().then((i=>{i&&!1!==t&&(i=(e=>{const t=document.createElement("div");t.innerHTML=e;for(let n=t.childNodes.length-1;n>=0;n--)"svg"!==t.childNodes[n].nodeName.toLowerCase()&&t.removeChild(t.childNodes[n]);const i=t.firstElementChild;if(i&&"svg"===i.nodeName.toLowerCase()){const e=i.getAttribute("class")||"";if(i.setAttribute("class",(e+" s-ion-icon").trim()),ok(i))return t.innerHTML}return""})(i)),rk.set(e,i||"")}));rk.set(e,"")})),sk.set(e,i)}return i},ck=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=dk(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((e,t=[])=>{const i={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(i[t]=e.getAttribute(t)),e.removeAttribute(t))})),i})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,i){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const n=this.io=new window.IntersectionObserver((e=>{e[0].isIntersecting&&(n.disconnect(),this.io=void 0,i())}),{rootMargin:t});n.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=(e=>{let t=ek(e.src);if(t)return t;if(t=Zy(e.name,e.icon,e.mode,e.ios,e.md),t)return Jy(t,e);if(e.icon){if(t=ek(e.icon),t)return t;if(t=ek(e.icon[e.mode]),t)return t}return null})(this);e&&(rk.has(e)?this.svgContent=rk.get(e):lk(e,this.sanitize).then((()=>this.svgContent=rk.get(e))),this.didLoadIcon=!0)}this.iconName=Zy(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:i,el:n}=this,o=this.mode||"md",r=!!t&&((t.includes("arrow")||t.includes("chevron"))&&!1!==e),s=e||r;return ml(gl,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},uk(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&(a=n,a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},i),this.svgContent?ml("div",{class:"icon-inner",innerHTML:this.svgContent}):ml("div",{class:"icon-inner"}));var a}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),dk=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",uk=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;const hk=function(){if("undefined"==typeof customElements)return;["ion-icon"].forEach((e=>{if("ion-icon"===e)customElements.get(e)||customElements.define(e,ck)}))},pk=function(){if("undefined"==typeof customElements)return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-action-sheet":customElements.get(e)||customElements.define(e,Wg);break;case"ion-backdrop":customElements.get(e)||Id();break;case"ion-icon":customElements.get(e)||kd();break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},mk=function(){if("undefined"==typeof customElements)return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,Zg);break;case"ion-backdrop":customElements.get(e)||Id();break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},fk=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([i,n])},gk=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([i,n])},bk=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([i,n])},vk=e=>{const t=Up(),i=Up(),n=Up();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([i,n])},yk=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.didPresent=kl(this,"ionLoadingDidPresent",7),this.willPresent=kl(this,"ionLoadingWillPresent",7),this.willDismiss=kl(this,"ionLoadingWillDismiss",7),this.didDismiss=kl(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=kl(this,"didPresent",7),this.willPresentShorthand=kl(this,"willPresent",7),this.willDismissShorthand=kl(this,"willDismiss",7),this.didDismissShorthand=kl(this,"didDismiss",7),this.delegateController=ap(this),this.lockController=pp(),this.triggerController=lp(),this.customHTMLEnabled=zc.get("innerHTMLTemplatesEnabled",sf),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,rp)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}connectedCallback(){Bh(this.el),this.triggerChanged()}componentWillLoad(){var e;if(void 0===this.spinner){const e=nd(this);this.spinner=zc.get("loadingSpinner",zc.get("spinner","ios"===e?"lines":"crescent"))}(null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)||zh(this.el)}componentDidLoad(){!0===this.isOpen&&Tc((()=>this.present())),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Kh(this,"loadingEnter",fk,bk),this.duration>0&&(this.durationTimeout=setTimeout((()=>this.dismiss()),this.duration+10)),e()}async dismiss(e,t){const i=await this.lockController.lock();this.durationTimeout&&clearTimeout(this.durationTimeout);const n=await Xh(this,e,t,"loadingLeave",gk,vk);return n&&this.delegateController.removeViewFromDom(),i(),n}onDidDismiss(){return ep(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return ep(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(e){const{customHTMLEnabled:t,message:i}=this;return t?ml("div",{class:"loading-content",id:e,innerHTML:Jm(i)}):ml("div",{class:"loading-content",id:e},i)}render(){const{message:e,spinner:t,htmlAttributes:i,overlayIndex:n}=this,o=nd(this),r=`loading-${n}-msg`,s=void 0!==e?r:null;return ml(gl,Object.assign({key:"d97f536b7f443ea19a2bbf2dcbc7f546b8e0a092",role:"dialog","aria-modal":"true","aria-labelledby":s,tabindex:"-1"},i,{style:{zIndex:`${4e4+this.overlayIndex}`},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},Rd(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),ml("ion-backdrop",{key:"6cd39bd7912fd080ab59d041644054c96d238ea9",visible:this.showBackdrop,tappable:this.backdropDismiss}),ml("div",{key:"c14ca5a9308844f11bcb010257e15208a75b39bc",tabindex:"0","aria-hidden":"true"}),ml("div",{key:"118bceefa8e1cf8b225a858f224e6d919cf03c26",class:"loading-wrapper ion-overlay-wrapper"},t&&ml("div",{key:"490d6e8ae4433835fe273162d7b90deab944fb39",class:"loading-spinner"},ml("ion-spinner",{key:"c5cf6549c43df4cb23814b3e62ec4d9e7ea2b64f",name:t,"aria-hidden":"true"})),void 0!==e&&this.renderLoadingMessage(r)),ml("div",{key:"2b888362122d3b66b0492d53b0c21bd6a2a97501",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:0.875rem}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",md:".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #0054e9);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:0.875rem}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}"}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const kk=function(){if("undefined"==typeof customElements)return;["ion-loading","ion-backdrop","ion-spinner"].forEach((e=>{switch(e){case"ion-loading":customElements.get(e)||customElements.define(e,yk);break;case"ion-backdrop":customElements.get(e)||Id();break;case"ion-spinner":customElements.get(e)||uf()}}))};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function wk(e,t,i,n){let o;if(o="md"===i?"top"===e?8:-8:"top"===e?10:-10,t&&oh){!function(e,t){null===e.offsetParent&&Ed("The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",t)}(t,n);const i=t.getBoundingClientRect();return"top"===e?o+=i.bottom:"bottom"===e&&(o-=oh.innerHeight-i.top),{top:`${o}px`,bottom:`${o}px`}}return{top:`calc(${o}px + var(--ion-safe-area-top, 0px))`,bottom:`calc(${o}px - var(--ion-safe-area-bottom, 0px))`}}const xk=(e,t)=>Math.floor(e/2-t/2),_k=(e,t)=>{const i=Up(),n=Up(),{position:o,top:r,bottom:s}=t,a=Ac(e).querySelector(".toast-wrapper");switch(n.addElement(a),o){case"top":n.fromTo("transform","translateY(-100%)",`translateY(${r})`);break;case"middle":const t=xk(e.clientHeight,a.clientHeight);a.style.top=`${t}px`,n.fromTo("opacity",.01,1);break;default:n.fromTo("transform","translateY(100%)",`translateY(${s})`)}return i.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(n)},Ek=(e,t)=>{const i=Up(),n=Up(),{position:o,top:r,bottom:s}=t,a=Ac(e).querySelector(".toast-wrapper");switch(n.addElement(a),o){case"top":n.fromTo("transform",`translateY(${r})`,"translateY(-100%)");break;case"middle":n.fromTo("opacity",.99,0);break;default:n.fromTo("transform",`translateY(${s})`,"translateY(100%)")}return i.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},Ck=(e,t)=>{const i=Up(),n=Up(),{position:o,top:r,bottom:s}=t,a=Ac(e).querySelector(".toast-wrapper");switch(n.addElement(a),o){case"top":a.style.setProperty("transform",`translateY(${r})`),n.fromTo("opacity",.01,1);break;case"middle":const t=xk(e.clientHeight,a.clientHeight);a.style.top=`${t}px`,n.fromTo("opacity",.01,1);break;default:a.style.setProperty("transform",`translateY(${s})`),n.fromTo("opacity",.01,1)}return i.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(n)},Ak=e=>{const t=Up(),i=Up(),n=Ac(e).querySelector(".toast-wrapper");return i.addElement(n).fromTo("opacity",.99,0),t.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},Tk=hc(class extends Ha{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=kl(this,"ionToastDidPresent",7),this.willPresent=kl(this,"ionToastWillPresent",7),this.willDismiss=kl(this,"ionToastWillDismiss",7),this.didDismiss=kl(this,"ionToastDidDismiss",7),this.didPresentShorthand=kl(this,"didPresent",7),this.willPresentShorthand=kl(this,"willPresent",7),this.willDismissShorthand=kl(this,"willDismiss",7),this.didDismissShorthand=kl(this,"didDismiss",7),this.delegateController=ap(this),this.lockController=pp(),this.triggerController=lp(),this.customHTMLEnabled=zc.get("innerHTMLTemplatesEnabled",sf),this.presented=!1,this.dispatchCancelHandler=e=>{const t=e.detail.role;if(ip(t)){const e=this.getButtons().find((e=>"cancel"===e.role));this.callButtonHandler(e)}},this.createSwipeGesture=e=>{const t=this.gesture=((e,t,i)=>{const n=Ac(e).querySelector(".toast-wrapper"),o=e.clientHeight,r=n.getBoundingClientRect();let s=0;const a="middle"===e.position?.5:0,l="top"===e.position?-1:1,c=xk(o,r.height),d=[{offset:0,transform:`translateY(-${c+r.height}px)`},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:`translateY(${c+r.height}px)`}],u=Up("toast-swipe-to-dismiss-animation").addElement(n).duration(100);switch(e.position){case"middle":s=o+r.height,u.keyframes(d),u.progressStart(!0,.5);break;case"top":s=r.bottom,u.keyframes([{offset:0,transform:`translateY(${t.top})`},{offset:1,transform:"translateY(-100%)"}]),u.progressStart(!0,0);break;default:s=o-r.top,u.keyframes([{offset:0,transform:`translateY(${t.bottom})`},{offset:1,transform:"translateY(100%)"}]),u.progressStart(!0,0)}const h=e=>e*l/s,p=$g({el:n,gestureName:"toast-swipe-to-dismiss",gesturePriority:39,direction:"y",onMove:e=>{const t=a+h(e.deltaY);u.progressStep(t)},onEnd:t=>{const o=t.velocityY,r=(t.deltaY+1e3*o)/s*l;p.enable(!1);let a=!0,m=1,f=0,g=0;if("middle"===e.position){a=r>=.25||r<=-.25,m=1,f=0;const e=n.getBoundingClientRect(),i=e.top-c,o=`${i}px`,s=t.deltaY<=0?-1:1,l=(c+e.height)*s,d=[{offset:0,transform:`translateY(${o})`},{offset:1,transform:`translateY(${a?`${l}px`:"0px"})`}];u.keyframes(d),g=l-i}else a=r>=.5,m=a?1:0,f=h(t.deltaY),g=(a?1-f:f)*s;const b=Math.min(Math.abs(g)/Math.abs(o),200);u.onFinish((()=>{a?(i(),u.destroy()):("middle"===e.position?u.keyframes(d).progressStart(!0,.5):u.progressStart(!0,0),p.enable(!0))}),{oneTimeCallback:!0}).progressEnd(m,f,b)}});return p})(this.el,e,(()=>{this.dismiss(void 0,sp)}));t.enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;void 0!==e&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return"vertical"===e},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=zc.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}connectedCallback(){Bh(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;(null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)||zh(this.el)}componentDidLoad(){!0===this.isOpen&&Tc((()=>this.present())),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:t,position:i}=this,n=wk(i,this.getAnchorElement(),nd(this),t);this.lastPresentedPosition=n,await Kh(this,"toastEnter",_k,Ck,{position:i,top:n.top,bottom:n.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout((()=>this.dismiss(void 0,"timeout")),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(n),e()}async dismiss(e,t){var i,n;const o=await this.lockController.lock(),{durationTimeout:r,position:s,lastPresentedPosition:a}=this;r&&clearTimeout(r);const l=await Xh(this,e,t,"toastLeave",Ek,Ak,{position:s,top:null!==(i=null==a?void 0:a.top)&&void 0!==i?i:"",bottom:null!==(n=null==a?void 0:a.bottom)&&void 0!==n?n:""});return l&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),o(),l}onDidDismiss(){return ep(this.el,"ionToastDidDismiss")}onWillDismiss(){return ep(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map((e=>"string"==typeof e?{text:e}:e)):[]}getAnchorElement(){const{position:e,positionAnchor:t,el:i}=this;if(void 0!==t)if("middle"!==e||void 0===t){if("string"==typeof t){const e=document.getElementById(t);return null===e?void Ed(`An anchor element with an ID of "${t}" was not found in the DOM.`,i):e}if(t instanceof Ha)return t;Ed("Invalid positionAnchor value:",t,i)}else Ed('The positionAnchor property is ignored when using position="middle".',this.el)}async buttonClick(e){const t=e.role;if(ip(t))return this.dismiss(void 0,t);return await this.callButtonHandler(e)?this.dismiss(void 0,t):Promise.resolve()}async callButtonHandler(e){if(null==e?void 0:e.handler)try{if(!1===await op(e.handler))return!1}catch(f1){console.error(f1)}return!0}renderButtons(e,t){if(0===e.length)return;const i=nd(this);return ml("div",{class:{"toast-button-group":!0,[`toast-button-group-${t}`]:!0}},e.map((e=>ml("button",Object.assign({},e.htmlAttributes,{type:"button",class:Sk(e),tabIndex:0,onClick:()=>this.buttonClick(e),part:Ik(e)}),ml("div",{class:"toast-button-inner"},e.icon&&ml("ion-icon",{"aria-hidden":"true",icon:e.icon,slot:void 0===e.text?"icon-only":void 0,class:"toast-button-icon"}),e.text),"md"===i&&ml("ion-ripple-effect",{type:void 0!==e.icon&&void 0===e.text?"unbounded":"bounded"})))))}renderToastMessage(e,t=null){const{customHTMLEnabled:i,message:n}=this;return i?ml("div",{key:e,"aria-hidden":t,class:"toast-message",part:"message",innerHTML:Jm(n)}):ml("div",{key:e,"aria-hidden":t,class:"toast-message",part:"message"},n)}renderHeader(e,t=null){return ml("div",{key:e,class:"toast-header","aria-hidden":t,part:"header"},this.header)}render(){const{layout:e,el:t,revealContentToScreenReader:i,header:n,message:o}=this,r=this.getButtons(),s=r.filter((e=>"start"===e.side)),a=r.filter((e=>"start"!==e.side)),l=nd(this),c={"toast-wrapper":!0,[`toast-${this.position}`]:!0,[`toast-layout-${e}`]:!0};return"stacked"===e&&s.length>0&&a.length>0&&Ed("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",t),ml(gl,Object.assign({key:"c05655ff06af8d0e48c2a85396b07ad942fa81b4",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:`${6e4+this.overlayIndex}`},class:Dd(this.color,Object.assign(Object.assign({[l]:!0},Rd(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),ml("div",{key:"9393ead4de1bf28529661d6f64049d34e18d725c",class:c},ml("div",{key:"3e9dd73c17c337849c3f26e8d0f395b3e5ee20a7",class:"toast-container",part:"container"},this.renderButtons(s,"start"),void 0!==this.icon&&ml("ion-icon",{key:"5d15b18364301ad55e44e9f601014ac33181590b",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),ml("div",{key:"f6dd164502637a882c5caf18445d8509b85ad6f9",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&void 0!==n&&this.renderHeader("oldHeader","true"),!i&&void 0!==o&&this.renderToastMessage("oldMessage","true"),i&&void 0!==n&&this.renderHeader("header"),i&&void 0!==o&&this.renderToastMessage("header")),this.renderButtons(a,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",md:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}"}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Sk=e=>({"toast-button":!0,"toast-button-icon-only":void 0!==e.icon&&void 0===e.text,[`toast-button-${e.role}`]:void 0!==e.role,"ion-focusable":!0,"ion-activatable":!0}),Ik=e=>ip(e.role)?"button cancel":"button";const Pk=function(){if("undefined"==typeof customElements)return;["ion-toast","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,Tk);break;case"ion-icon":customElements.get(e)||kd();break;case"ion-ripple-effect":customElements.get(e)||jd()}}))},Dk=function(){if("undefined"==typeof customElements)return;["ion-modal","ion-backdrop"].forEach((e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,Mb);break;case"ion-backdrop":customElements.get(e)||Id()}}))},Rk=dm,Lk="update:modelValue",Mk="modelValue",Ok="routerLink",Nk="navManager",$k=Symbol(),Fk={default:$k},Bk=e=>(null==e?void 0:e.split(" "))||[],zk=(e,t,i=[])=>{var n;return[...Array.from((null===(n=e.value)||void 0===n?void 0:n.classList)||[]),...i].filter(((e,i,n)=>!t.has(e)&&n.indexOf(e)===i))},jk=(e,t,i=[],n,o)=>{void 0!==t&&t();const r=jn(((t,{attrs:i,slots:r,emit:s})=>{var a;let l=t[n];const c=Ti(),d=new Set(Bk(i.class)),u={created:e=>{(Array.isArray(o)?o:[o]).forEach((t=>{e.addEventListener(t.toLowerCase(),(t=>{t.target.tagName===e.tagName&&(l=(null==t?void 0:t.target)[n],s(Lk,l))}))}))}},h=as(),p=(null===(a=null==h?void 0:h.appContext)||void 0===a?void 0:a.provides[Nk])?Go(Nk):void 0;return()=>{l=t[n],Bk(i.class).forEach((e=>{d.add(e)}));const o=t.onClick;let s={ref:c,class:zk(c,d),onClick:e=>{void 0!==o&&o(e),e.defaultPrevented||(e=>{const{routerLink:i}=t;if(i!==$k)if(void 0!==p){e.preventDefault();let i={event:e};for(const e in t){const n=t[e];t.hasOwnProperty(e)&&e.startsWith("router")&&n!==$k&&(i[e]=n)}p.navigate(i)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")})(e)}};for(const e in t){const i=t[e];(t.hasOwnProperty(e)&&i!==$k||e.startsWith("aria"))&&(s[e]=i)}n&&(t[Mk]!==$k?s=Object.assign(Object.assign({},s),{[n]:t[Mk]}):l!==$k&&(s=Object.assign(Object.assign({},s),{[n]:l}))),t[Ok]!==$k&&(s=Object.assign(Object.assign({},s),{href:t[Ok]}));const a=ws(e,s,r.default&&r.default());return void 0===n?a:mn(a,[[u]])}}));return"function"!=typeof r&&(r.name=e,r.props={[Ok]:Fk},i.forEach((e=>{r.props[e]=Fk})),n&&(r.props[Mk]=Fk,r.emits=[Lk])),r},Vk=jk("ion-accordion",_d,["value","disabled","readonly","toggleIcon","toggleIconSlot"]),Uk=jk("ion-accordion-group",Td,["animated","multiple","value","disabled","readonly","expand","ionChange","ionValueChange"],"value","ion-change"),Hk=jk("ion-badge",Nd,["color"]),qk=jk("ion-button",Hd,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"]),Gk=jk("ion-card",Wd,["color","button","type","disabled","download","href","rel","routerDirection","routerAnimation","target"]),Wk=jk("ion-checkbox",Qd,["color","name","checked","indeterminate","disabled","value","labelPlacement","justify","alignment","ionChange","ionFocus","ionBlur"],"checked","ion-change"),Yk=jk("ion-chip",Jd,["color","outline","disabled"]),Kk=jk("ion-content",ou,["color","fullscreen","fixedSlotPlacement","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]),Qk=jk("ion-datetime",xm,["color","name","disabled","formatOptions","readonly","isDateEnabled","min","max","presentation","cancelText","doneText","clearText","yearValues","monthValues","dayValues","hourValues","minuteValues","locale","firstDayOfWeek","titleSelectedDatesFormatter","multiple","highlightedDates","value","showDefaultTitle","showDefaultButtons","showClearButton","showDefaultTimeLabel","hourCycle","size","preferWheel","ionCancel","ionChange","ionValueChange","ionFocus","ionBlur","ionStyle","ionRender"],"value","ion-change"),Xk=jk("ion-footer",zm,["collapse","translucent"]),Jk=jk("ion-header",Km,["collapse","translucent"]),Zk=jk("ion-infinite-scroll",Xm,["threshold","disabled","position","ionInfinite"]),ew=jk("ion-infinite-scroll-content",pf,["loadingSpinner","loadingText"]),tw=jk("ion-input",kf,["color","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","inputmode","helperText","label","labelPlacement","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value","ionInput","ionChange","ionBlur","ionFocus"],"value","ion-input"),iw=jk("ion-input-password-toggle",xf,["color","showIcon","hideIcon","type"]),nw=jk("ion-item",Ef,["color","button","detail","detailIcon","disabled","download","href","rel","lines","routerAnimation","routerDirection","target","type"]),ow=jk("ion-label",Af,["color","position","ionColor","ionStyle"]),rw=jk("ion-list",Sf,["lines","inset"]),sw=jk("ion-menu",qf,["contentId","menuId","type","disabled","side","swipeGesture","maxEdgeStart","ionWillOpen","ionWillClose","ionDidOpen","ionDidClose","ionMenuChange"]),aw=jk("ion-radio",eg,["color","name","disabled","value","labelPlacement","justify","alignment","ionFocus","ionBlur"],"value","ion-change"),lw=jk("ion-radio-group",ng,["allowEmptySelection","compareWith","name","value","ionChange","ionValueChange"],"value","ion-change"),cw=jk("ion-refresher",ug,["pullMin","pullMax","closeDuration","snapbackDuration","pullFactor","disabled","ionRefresh","ionPull","ionStart"]),dw=jk("ion-refresher-content",pg,["pullingIcon","pullingText","refreshingSpinner","refreshingText"]),uw=jk("ion-reorder",fg),hw=jk("ion-reorder-group",_g,["disabled","ionItemReorder"]),pw=jk("ion-segment",Cg,["color","disabled","scrollable","swipeGesture","value","selectOnFocus","ionChange","ionSelect","ionStyle"],"value","ion-change"),mw=jk("ion-segment-button",Sg,["contentId","disabled","layout","type","value"],"value","ion-change"),fw=jk("ion-segment-content",Pg),gw=jk("ion-segment-view",Rg,["disabled","ionSegmentViewScroll"]),bw=jk("ion-skeleton-text",Bb,["animated","ionStyle"]),vw=jk("ion-spinner",zb,["color","duration","name","paused"]),yw=jk("ion-tab",Vb,["active","delegate","tab","component"]),kw=jk("ion-text",Hb,["color"]),ww=jk("ion-textarea",Wb,["color","autocapitalize","autofocus","clearOnEdit","debounce","disabled","fill","inputmode","enterkeyhint","maxlength","minlength","name","placeholder","readonly","required","spellcheck","cols","rows","wrap","autoGrow","value","counter","counterFormatter","errorText","helperText","label","labelPlacement","shape","ionChange","ionInput","ionBlur","ionFocus"],"value","ion-input"),xw=jk("ion-title",Yb,["color","size","ionStyle"]),_w=jk("ion-toolbar",Kb,["color"]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */var Ew;!function(e){e.WillEnter="onIonViewWillEnter",e.DidEnter="onIonViewDidEnter",e.WillLeave="onIonViewWillLeave",e.DidLeave="onIonViewDidLeave"}(Ew||(Ew={}));const Cw={[mp]:Ew.WillEnter,[fp]:Ew.DidEnter,[gp]:Ew.WillLeave,[bp]:Ew.DidLeave},Aw={main:0},Tw=(e,t,i)=>{(null==e?void 0:e[i])&&e[i].bind(null==t?void 0:t.value)();const n=null==t?void 0:t.value;if((null==n?void 0:n[i])&&n[i](),n){const e=n[Cw[i]];e&&e.forEach((e=>e()))}},Sw=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null},Iw=e=>(t,i=as())=>((e,t,i)=>{if(i){const n=i,o=n.proxy[e]||(n.proxy[e]=[]);n.exposed&&(n.exposed[e]=o);const r=(...e)=>{if(!n.isUnmounted)return e?t(...e):t()};return o.push(r),r}console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")})(e,t,i),Pw=Iw(Ew.WillEnter),Dw=Iw(Ew.DidEnter);Iw(Ew.WillLeave),Iw(Ew.DidLeave);const Rw=()=>{const{canGoBack:e,goBack:t,goForward:i,handleNavigate:n}=Go("navManager"),o=(e,t,i,o)=>n(e,i,t,o);return{canGoBack:e,push:(e,t)=>o(e,"forward","push",t),replace:(e,t)=>o(e,"root","replace",t),back:e=>t(e),forward:e=>i(e),navigate:o}},Lw=e=>e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),Mw={async install(e,t={}){"undefined"!=typeof document&&document.documentElement.classList.add("ion-ce");const{ael:i,rel:n,ce:o}={ael:(e,t,i,n)=>e.addEventListener(Lw(t),i,n),rel:(e,t,i,n)=>e.removeEventListener(Lw(t),i,n),ce:(e,t)=>new CustomEvent(Lw(e),t)};od(Object.assign(Object.assign({},t),{_ael:i,_rel:n,_ce:o}))}};jn(((e,{attrs:t,slots:i})=>{Xb();const n=Go("navManager"),o=()=>{if(void 0===n)return;const e=t["default-href"]||t.defaultHref,i=t["router-animation"]||t.routerAnimation;n.handleNavigateBack(e,i)};return()=>ws("ion-back-button",Object.assign({onClick:o},t),i.default&&i.default())})).name="IonBackButton";const Ow=jn({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup:(e,{attrs:t,slots:i})=>()=>ws("div",Object.assign(Object.assign({},t),{class:"ion-page",ref:"ionPage"}),i.default&&i.default())}),Nw=e=>!e.classList.contains("ion-page-hidden")&&!e.classList.contains("ion-page-invisible"),$w=Symbol(0),Fw=jn({name:"IonRouterOutlet",setup(){Zb();const e=Go(Ey),t=By(),i=Go($w,0),n=ks((()=>t.matched[i]));let o,r;qo($w,i+1),qo(wy,n);const s=Ti(),a=((e="main")=>{var t;const i=(null!==(t=Aw[e])&&void 0!==t?t:0)+1;return Aw[e]=i,i.toString()})("ion-router-outlet"),l=Go("navManager"),c=Go("viewStacks"),d=Si([]);let u,h=!1;br((()=>[t,n.value]),(([e,t])=>{if(void 0!==t){const i=t!==o,s=e.matched[e.matched.length-1]===t&&e.path!==r;(i||s)&&v(n)}o=t,r=e.path}),{deep:!0});const p=()=>{const e=Sw();if(!(e&&e.get("swipeBackEnabled","ios"===s.value.mode)))return!1;const t=c.getViewStack(a);if(!t||t.length<=1)return!1;const i=l.getLeavingRouteInfo();return!!c.findViewItemByRouteInfo({pathname:i.pushedByRoute||""},a)},m=async()=>{const e=l.getLeavingRouteInfo(),{routerAnimation:t}=e,i=c.findViewItemByRouteInfo({pathname:e.pushedByRoute||""},a),n=c.findViewItemByRouteInfo(e,a);if(n){let e=t;const o=i.ionPageElement,r=n.ionPageElement,s=i.routerAnimation;void 0===e&&void 0!==s&&(e=s),n.routerAnimation=e,await g(o,r,"back",l.canGoBack(2),!0,e)}return Promise.resolve()},f=e=>{if(e)h=!0,l.handleNavigateBack();else{const e=l.getCurrentRouteInfo(),t=c.findViewItemByRouteInfo({pathname:e.pushedByRoute||""},a);t.ionPageElement.setAttribute("aria-hidden","true"),t.ionPageElement.classList.add("ion-page-hidden")}};br(s,(()=>{s.value.swipeHandler={canStart:p,onStart:m,onEnd:f}}));const g=async(e,t,i,n,o,r)=>{if(h)return h=!1,Promise.resolve(!1);if(e===t)return Promise.resolve(!1);e.classList.add("ion-page-invisible");const a=void 0===i||"root"===i||"none"===i;return await s.value.commit(e,t,{duration:a&&void 0===r?0:void 0,direction:i,showGoBack:n,progressAnimation:o,animationBuilder:r})},b=async()=>{const e=l.getCurrentRouteInfo(),{routerDirection:t,routerAction:i,routerAnimation:n,prevRouteLastPathname:o,delta:r}=e,s=c.findViewItemByRouteInfo(e,a);let u=c.findLeavingViewItemByRouteInfo(e,a);const h=s.ionPageElement;if(void 0===h&&console.warn(`[@ionic/vue Warning]: The view you are trying to render for path ${e.pathname} does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.\n\nSee https://ionicframework.com/docs/vue/navigation#ionpage for more information.`),s!==u&&(!u&&o&&(u=c.findViewItemByPathname(o,a)),!Nw(h)||void 0===(null==u?void 0:u.ionPageElement)||Nw(u.ionPageElement))){if(Tw(s.vueComponent,s.vueComponentRef,mp),(null==u?void 0:u.ionPageElement)&&s!==u){let o=n;const l=u.ionPageElement;Tw(u.vueComponent,u.vueComponentRef,gp);const d=s.routerAnimation;void 0===o&&"back"===t&&void 0!==d&&(o=d),u.routerAnimation=o,await g(h,l,t,!!e.pushedByRoute,!1,o),l.classList.add("ion-page-hidden"),l.setAttribute("aria-hidden","true");const p=1===c.size();if("replace"===i)u.mount=!1,u.ionPageElement=void 0,u.ionRoute=!1;else if("push"!==i||"forward"!==t){"none"!==t&&u&&s!==u&&(u.mount=!1,u.ionPageElement=void 0,u.ionRoute=!1,p&&c.unmountLeavingViews(a,s,r))}else p&&c.mountIntermediaryViews(a,u,r);Tw(u.vueComponent,u.vueComponentRef,bp)}else requestAnimationFrame((()=>h.classList.remove("ion-page-invisible")));Tw(s.vueComponent,s.vueComponentRef,fp),d.value=c.getChildrenToRender(a)}},v=e=>{const i=t.matched[0];if(u||(u=i.path),!e.value||e.value!==i&&i.path!==u)return;const n=l.getCurrentRouteInfo();let o=c.findViewItemByRouteInfo(n,a);o||(o=c.createViewItem(a,e.value.components.default,e.value,n),c.add(o)),o.mount?b():(o.mount=!0,o.registerCallback=()=>{b(),o.registerCallback=void 0}),d.value=c.getChildrenToRender(a)};n.value&&v(n),so((()=>c.clear(a)));return{id:a,components:d,injectedRoute:e,ionRouterOutlet:s,registerIonPage:(e,t)=>{const i=e.ionPageElement;c.registerIonPage(e,t),e.registerCallback?(t.classList.add("ion-page-invisible"),e.registerCallback()):i&&!i.classList.contains("ion-page-invisible")&&t.classList.remove("ion-page-invisible")}}},render(){const{components:e,registerIonPage:t,injectedRoute:i}=this;return ws("ion-router-outlet",{ref:"ionRouterOutlet"},e&&e.map((e=>{var n,o;let r={ref:e.vueComponentRef,key:e.pathname,registerIonPage:i=>t(e,i)};const s=null===(o=null===(n=e.matchedRoute)||void 0===n?void 0:n.props)||void 0===o?void 0:o.default,a=s?!0===s?e.params:"function"==typeof s?(()=>{var t;const n=null===(t=e.vueComponentData)||void 0===t?void 0:t.propsFunctionResult;if(n)return n;{const t=s(i);return e.vueComponentData=Object.assign(Object.assign({},e.vueComponentData),{propsFunctionResult:t}),t}})():s:null;return r=Object.assign(Object.assign({},r),a),ws(e.vueComponent,r)})))}}),Bw=jn({name:"IonTabButton",props:{_getTabState:{type:Function,default:()=>({})},disabled:Boolean,download:String,href:String,rel:String,layout:String,selected:Boolean,tab:String,target:String,_onClick:{type:Function,required:!1}},setup(e,{slots:t}){jy();const i=Go("navManager",null),n=t=>{t.cancelable&&t.preventDefault();const{tab:n,href:o,_getTabState:r}=e,s=r(),a=s.hasRouterOutlet,l=s.tabs[n]||{},c=l.originalHref||o,d=a?l.currentHref||o:"",u=s.activeTab;!a&&e._onClick&&e._onClick(new CustomEvent("ionTabButtonClick",{detail:{href:d,selected:n===u,tab:n}})),null!==i&&(u===n?c!==d&&i.resetTab(n):i.changeTab(n,d))};return()=>ws("ion-tab-button",Object.assign({onClick:n},e),t.default&&t.default())}}),zw="ionTabsWillChange",jw="ionTabsDidChange",Vw=e=>e.type&&("IonRouterOutlet"===e.type.name||"ion-router-outlet"===e.type),Uw=e=>e.type===Dr?!!Array.isArray(e.children)&&e.children.some((e=>Ur(e)&&Uw(e))):e.type&&("ion-tab"===e.type.name||e.type===yw),Hw=jn({name:"IonTabs",emits:[zw,jw],data:()=>({hasRouterOutlet:!1}),setup(e,{slots:t,emit:i}){const n=t.default&&t.default();let o;return n&&n.length>0&&(o=n.find((e=>Vw(e)))),qo("tabBarData",Si({hasRouterOutlet:!!o,_tabsWillChange:e=>i(zw,{tab:e}),_tabsDidChange:e=>i(jw,{tab:e})})),{props:e,slots:t,emit:i}},mounted(){Hy()},render(){const{slots:e,props:t}=this,i=e.default&&e.default();let n,o=!1;if(i&&i.length>0&&(n=i.find((e=>Vw(e))),o=i.some((e=>Uw(e)))),!n&&!o)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab.");if(n&&o)throw new Error("IonTabs cannot contain an IonRouterOutlet and IonTab at the same time.");return ws("ion-tabs",o?Object.assign({},t):{style:{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","flex-direction":"column",width:"100%",height:"100%",contain:"layout size style","z-index":"0"}},i)}}),qw=e=>{var t;return"IonTabButton"===(null===(t=e.type)||void 0===t?void 0:t.name)},Gw=e=>{let t=[];return e.forEach((e=>{if(qw(e))t.push(e);else if(Array.isArray(e.children)&&e.children.length>1){const i=Gw(e.children);t=[...t,...i]}})),t},Ww=jn({name:"IonTabBar",data:()=>({tabState:{activeTab:void 0,tabs:{},hasRouterOutlet:!1},tabVnodes:[],_tabsWillChange:{type:Function,default:()=>{}},_tabsDidChange:{type:Function,default:()=>{}}}),updated(){this.setupTabState(Go("navManager",null))},methods:{setupTabState(e){const t=this.$data.tabState.hasRouterOutlet,i=this.$data.tabState,n=as();(this.$data.tabVnodes=Gw(n.subTree.children||[])).forEach((e=>{i.tabs[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,ref:e},e.component.props._getTabState=()=>i,t||(e.component.props._onClick=e=>{this.handleIonTabButtonClick(e)})})),this.checkActiveTab(e)},checkActiveTab(e){const t=this.$data.tabState.hasRouterOutlet,i=null==e?void 0:e.getCurrentRouteInfo(),n=this.$data.tabVnodes,{tabs:o,activeTab:r}=this.$data.tabState,s=Object.keys(o);let a=s.find((e=>{const t=o[e].originalHref;return null==i?void 0:i.pathname.startsWith(t)}));if(a||t||(a=s[0]),n.forEach((e=>{const t=o[e.props.tab];t&&t.originalHref===e.props.href||(o[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,ref:e})})),a&&r){const e=this.$data.tabState.tabs[r].currentHref;if(a!==r||e!==(null==i?void 0:i.pathname)){const e=(null==i?void 0:i.search)?`?${i.search}`:"";o[a]=Object.assign(Object.assign({},o[a]),{currentHref:(null==i?void 0:i.pathname)+e})}"pop"===(null==i?void 0:i.routerAction)&&a!==r&&(o[r]=Object.assign(Object.assign({},o[r]),{currentHref:o[r].originalHref}))}this.tabSwitch(a,e)},handleIonTabButtonClick(e){const t=e.detail.tab;this.tabSwitch(t)},tabSwitch(e,t){const i=this.$data.tabState.hasRouterOutlet,n=this.$data.tabVnodes,{activeTab:o}=this.$data.tabState,r=this.$data.tabState,s=n.find((t=>{var i;return qw(t)&&(null===(i=t.props)||void 0===i?void 0:i.tab)===e})),a=this.$refs.ionTabBar,l=e!==o;a&&(s?(l&&this.$data._tabsWillChange(e),i&&null!==t&&t.handleSetCurrentTab(e),a.selectedTab=r.activeTab=e,l&&this.$data._tabsDidChange(e)):a.selectedTab=r.activeTab="")}},mounted(){const e=Go("navManager",null),t=Go("tabBarData");this.$data.tabState.hasRouterOutlet=t.value.hasRouterOutlet,this.$data._tabsWillChange=t.value._tabsWillChange,this.$data._tabsDidChange=t.value._tabsDidChange,this.setupTabState(e),null==e||e.registerHistoryChangeListener((()=>this.checkActiveTab(e)))},setup:(e,{slots:t})=>(Gy(),()=>ws("ion-tab-bar",{ref:"ionTabBar"},t.default&&t.default()))}),Yw=Si([]),Kw=jn(((e,{attrs:t,slots:i})=>(Qy(),()=>ws("ion-app",Object.assign({},t),[i.default&&i.default(),...Yw.value]))));Kw.name="IonApp";const Qw=e=>{Yw.value=[...Yw.value,e]},Xw=e=>{Yw.value=Yw.value.filter((t=>t!==e))},Jw=(e=Qw,t=Xw)=>{const i=new WeakMap;return{attachViewToDom:(t,n,o={},r)=>{const s=document.createElement("div");r&&s.classList.add(...r),t.appendChild(s);const a=ws(Cn,{to:s},ws(n,Object.assign({},o)));return i.set(s,a),e(a),Promise.resolve(s)},removeViewFromDom:(e,n)=>{const o=i.get(n);return o&&t(o),Promise.resolve()}}},Zw=jn((e=>{Qf();const t=Si([]),i=Jw((e=>t.value=[...t.value,e]),(e=>t.value=t.value.filter((t=>t!==e))));return()=>ws("ion-nav",Object.assign(Object.assign({},e),{delegate:i}),t.value)}));Zw.name="IonNav",Zw.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const ex=jn({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup:(e,{slots:t})=>(hk(),()=>{var i,n;const{icon:o,ios:r,md:s,mode:a}=e;let l;const c=Sw(),d=a||(null==c?void 0:c.get("mode"));return l=r||s?"ios"===d?null!==(i=null!=r?r:s)&&void 0!==i?i:o:null!==(n=null!=s?s:r)&&void 0!==n?n:o:o,ws("ion-icon",Object.assign(Object.assign({},e),{icon:l}),t)})}),tx=Symbol(),ix={default:tx},nx=(e,t,i=[],n,o)=>{const r=jn(((i,{slots:o})=>{void 0!==t&&t();const r=Ti(!1),s=Ti();return io((()=>{s.value.addEventListener("ion-mount",(()=>r.value=!0)),s.value.addEventListener("will-present",(()=>r.value=!0)),s.value.addEventListener("did-dismiss",(()=>r.value=!1))})),()=>{let t={};for(const e in i){const n=i[e];i.hasOwnProperty(e)&&n!==tx&&(t[e]=n)}return ws(e,Object.assign(Object.assign({},t),{ref:s}),r.value||t.keepContentsMounted||""===t.keepContentsMounted?n?ws("div",{className:"ion-delegate-host ion-page"},o):o:void 0)}}));return r.name=e,r.props={isOpen:ix},i.forEach((e=>{r.props[e]=ix})),r},ox=nx("ion-loading",kk,["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"]),rx=nx("ion-modal",Dk,["animated","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","enterAnimation","focusTrap","handle","handleBehavior","htmlAttributes","initialBreakpoint","isOpen","keepContentsMounted","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","trigger"],!0),sx=(e,t,i=!1)=>{const n=i?Jw():void 0,o=t.create.bind(t);return t.create=t=>(e(),o(Object.assign(Object.assign({},t),{delegate:n}))),t},ax=sx(Dk,Nh,!0),lx=sx(Rk,$h,!0),cx=sx(mk,Mh),dx=sx(pk,Oh),ux=sx(Pk,Fh);var hx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function px(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mx,fx={exports:{}},gx={exports:{}};function bx(){return mx||(mx=1,function(e){e.exports=function(){var e=1e3,t=6e4,i=36e5,n="millisecond",o="second",r="minute",s="hour",a="day",l="week",c="month",d="quarter",u="year",h="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||t[0])+"]"}},b=function(e,t,i){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(i)+e},v={s:b,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),n=Math.floor(i/60),o=i%60;return(t<=0?"+":"-")+b(n,2,"0")+":"+b(o,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var n=12*(i.year()-t.year())+(i.month()-t.month()),o=t.clone().add(n,c),r=i-o<0,s=t.clone().add(n+(r?-1:1),c);return+(-(n+(i-o)/(r?o-s:s-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:l,d:a,D:h,h:s,m:r,s:o,ms:n,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",k={};k[y]=g;var w="$isDayjsObject",x=function(e){return e instanceof A||!(!e||!e[w])},_=function e(t,i,n){var o;if(!t)return y;if("string"==typeof t){var r=t.toLowerCase();k[r]&&(o=r),i&&(k[r]=i,o=r);var s=t.split("-");if(!o&&s.length>1)return e(s[0])}else{var a=t.name;k[a]=t,o=a}return!n&&o&&(y=o),o||!n&&y},E=function(e,t){if(x(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new A(i)},C=v;C.l=_,C.i=x,C.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function g(e){this.$L=_(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var b=g.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(m);if(n){var o=n[2]-1||0,r=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(t)}(e),this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return C},b.isValid=function(){return!(this.$d.toString()===p)},b.isSame=function(e,t){var i=E(e);return this.startOf(t)<=i&&i<=this.endOf(t)},b.isAfter=function(e,t){return E(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<E(e)},b.$g=function(e,t,i){return C.u(e)?this[t]:this.set(i,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var i=this,n=!!C.u(t)||t,d=C.p(e),p=function(e,t){var o=C.w(i.$u?Date.UTC(i.$y,t,e):new Date(i.$y,t,e),i);return n?o:o.endOf(a)},m=function(e,t){return C.w(i.toDate()[e].apply(i.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),i)},f=this.$W,g=this.$M,b=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case u:return n?p(1,0):p(31,11);case c:return n?p(1,g):p(0,g+1);case l:var y=this.$locale().weekStart||0,k=(f<y?f+7:f)-y;return p(n?b-k:b+(6-k),g);case a:case h:return m(v+"Hours",0);case s:return m(v+"Minutes",1);case r:return m(v+"Seconds",2);case o:return m(v+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var i,l=C.p(e),d="set"+(this.$u?"UTC":""),p=(i={},i[a]=d+"Date",i[h]=d+"Date",i[c]=d+"Month",i[u]=d+"FullYear",i[s]=d+"Hours",i[r]=d+"Minutes",i[o]=d+"Seconds",i[n]=d+"Milliseconds",i)[l],m=l===a?this.$D+(t-this.$W):t;if(l===c||l===u){var f=this.clone().set(h,1);f.$d[p](m),f.init(),this.$d=f.set(h,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[C.p(e)]()},b.add=function(n,d){var h,p=this;n=Number(n);var m=C.p(d),f=function(e){var t=E(p);return C.w(t.date(t.date()+Math.round(e*n)),p)};if(m===c)return this.set(c,this.$M+n);if(m===u)return this.set(u,this.$y+n);if(m===a)return f(1);if(m===l)return f(7);var g=(h={},h[r]=t,h[s]=i,h[o]=e,h)[m]||1,b=this.$d.getTime()+n*g;return C.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,i=this.$locale();if(!this.isValid())return i.invalidDate||p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),r=this.$H,s=this.$m,a=this.$M,l=i.weekdays,c=i.months,d=i.meridiem,u=function(e,i,o,r){return e&&(e[i]||e(t,n))||o[i].slice(0,r)},h=function(e){return C.s(r%12||12,e,"0")},m=d||function(e,t,i){var n=e<12?"AM":"PM";return i?n.toLowerCase():n};return n.replace(f,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return a+1;case"MM":return C.s(a+1,2,"0");case"MMM":return u(i.monthsShort,a,c,3);case"MMMM":return u(c,a);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(i.weekdaysMin,t.$W,l,2);case"ddd":return u(i.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(r);case"HH":return C.s(r,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return m(r,s,!0);case"A":return m(r,s,!1);case"m":return String(s);case"mm":return C.s(s,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,h,p){var m,f=this,g=C.p(h),b=E(n),v=(b.utcOffset()-this.utcOffset())*t,y=this-b,k=function(){return C.m(f,b)};switch(g){case u:m=k()/12;break;case c:m=k();break;case d:m=k()/3;break;case l:m=(y-v)/6048e5;break;case a:m=(y-v)/864e5;break;case s:m=y/i;break;case r:m=y/t;break;case o:m=y/e;break;default:m=y}return p?m:C.a(m)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return k[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),n=_(e,t,!0);return n&&(i.$L=n),i},b.clone=function(){return C.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},g}(),T=A.prototype;return E.prototype=T,[["$ms",n],["$s",o],["$m",r],["$H",s],["$W",a],["$M",c],["$y",u],["$D",h]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,A,E),e.$i=!0),E},E.locale=_,E.isDayjs=x,E.unix=function(e){return E(1e3*e)},E.en=k[y],E.Ls=k,E.p={},E}()}(gx)),gx.exports}!function(e){e.exports=function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=t(e),n={name:"vi",weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"}};return i.default.locale(n,null,!0),n}(bx())}(fx);const vx=px(fx.exports);var yx={exports:{}};!function(e){e.exports=function(e,t,i){e=e||{};var n=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(e,t,i,o){return n.fromToBase(e,t,i,o)}i.en.relativeTime=o,n.fromToBase=function(t,n,r,s,a){for(var l,c,d,u=r.$locale().relativeTime||o,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,m=0;m<p;m+=1){var f=h[m];f.d&&(l=s?i(t).diff(r,f.d,!0):r.diff(t,f.d,!0));var g=(e.rounding||Math.round)(Math.abs(l));if(d=l>0,g<=f.r||!f.r){g<=1&&m>0&&(f=h[m-1]);var b=u[f.l];a&&(g=a(""+g)),c="string"==typeof b?b.replace("%d",g):b(g,n,f.l,d);break}}if(n)return c;var v=d?u.future:u.past;return"function"==typeof v?v(c):v.replace("%s",c)},n.to=function(e,t){return r(e,t,this,!0)},n.from=function(e,t){return r(e,t,this)};var s=function(e){return e.$u?i.utc():i()};n.toNow=function(e){return this.to(s(this),e)},n.fromNow=function(e){return this.from(s(this),e)}}}(yx);const kx=px(yx.exports),wx=e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const i=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return i.addPlatform=(e,t)=>{i.platforms.set(e,t)},i.setPlatform=e=>{i.platforms.has(e)&&(i.currentPlatform=i.platforms.get(e))},i})(e),xx=wx("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});/*! Capacitor: https://capacitorjs.com/ - MIT License */var _x;xx.addPlatform,xx.setPlatform,function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(_x||(_x={}));class Ex extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const Cx=e=>{var t,i,n,o,r;const s=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},l=a.Plugins=a.Plugins||{},c=e.CapacitorPlatforms,d=(null===(t=null==c?void 0:c.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==s?s.name:(e=>{var t,i;return(null==e?void 0:e.androidBridge)?"android":(null===(i=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===i?void 0:i.bridge)?"ios":"web"})(e)),u=(null===(i=null==c?void 0:c.currentPlatform)||void 0===i?void 0:i.isNativePlatform)||(()=>"web"!==d()),h=(null===(n=null==c?void 0:c.currentPlatform)||void 0===n?void 0:n.isPluginAvailable)||(e=>{const t=m.get(e);return!!(null==t?void 0:t.platforms.has(d()))||!!p(e)}),p=(null===(o=null==c?void 0:c.currentPlatform)||void 0===o?void 0:o.getPluginHeader)||(e=>{var t;return null===(t=a.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))}),m=new Map,f=(null===(r=null==c?void 0:c.currentPlatform)||void 0===r?void 0:r.registerPlugin)||((e,t={})=>{const i=m.get(e);if(i)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),i.proxy;const n=d(),o=p(e);let r;const c=i=>{let l;const c=(...c)=>{const d=(async()=>(!r&&n in t?r=r="function"==typeof t[n]?await t[n]():t[n]:null!==s&&!r&&"web"in t&&(r=r="function"==typeof t.web?await t.web():t.web),r))().then((t=>{const r=((t,i)=>{var r,s;if(!o){if(t)return null===(s=t[i])||void 0===s?void 0:s.bind(t);throw new Ex(`"${e}" plugin is not implemented on ${n}`,_x.Unimplemented)}{const n=null==o?void 0:o.methods.find((e=>i===e.name));if(n)return"promise"===n.rtype?t=>a.nativePromise(e,i.toString(),t):(t,n)=>a.nativeCallback(e,i.toString(),t,n);if(t)return null===(r=t[i])||void 0===r?void 0:r.bind(t)}})(t,i);if(r){const e=r(...c);return l=null==e?void 0:e.remove,e}throw new Ex(`"${e}.${i}()" is not implemented on ${n}`,_x.Unimplemented)}));return"addListener"===i&&(d.remove=async()=>l()),d};return c.toString=()=>`${i.toString()}() { [capacitor code] }`,Object.defineProperty(c,"name",{value:i,writable:!1,configurable:!1}),c},u=c("addListener"),h=c("removeListener"),f=(e,t)=>{const i=u({eventName:e},t),n=async()=>{const n=await i;h({eventName:e,callbackId:n},t)},o=new Promise((e=>i.then((()=>e({remove:n})))));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await n()},o},g=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return o?f:u;case"removeListener":return h;default:return c(t)}}});return l[e]=g,m.set(e,{name:e,proxy:g,platforms:new Set([...Object.keys(t),...o?[n]:[]])}),g});return a.convertFileSrc||(a.convertFileSrc=e=>e),a.getPlatform=d,a.handleError=t=>e.console.error(t),a.isNativePlatform=u,a.isPluginAvailable=h,a.pluginMethodNoop=(e,t,i)=>Promise.reject(`${i} does not have an implementation of "${t}".`),a.registerPlugin=f,a.Exception=Ex,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Ax=e=>e.Capacitor=Cx(e),Tx=Ax("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),Sx=Tx.registerPlugin;Tx.Plugins;class Ix{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n),i&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,i){const n=this.listeners[e];if(n)n.forEach((e=>e(t)));else if(i){let i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new Tx.Exception(e,_x.Unimplemented)}unavailable(e="not available"){return new Tx.Exception(e,_x.Unavailable)}async removeListener(e,t){const i=this.listeners[e];if(!i)return;const n=i.indexOf(t);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}i("W",Ix);const Px=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Dx=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Rx extends Ix{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[i,n]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=Dx(i).trim(),n=Dx(n).trim(),t[i]=n})),t}async setCookie(e){try{const t=Px(e.key),i=Px(e.value),n=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),r=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${i||""}${n}; path=${o}; ${r};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Sx("CapacitorCookies",{web:()=>new Rx});const Lx=i("q",((e,t={})=>{const i=Object.assign({method:e.method||"GET",headers:e.headers},t),n=((e={})=>{const t=Object.keys(e);return Object.keys(e).map((e=>e.toLocaleLowerCase())).reduce(((i,n,o)=>(i[n]=e[t[o]],i)),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)i.body=e.data;else if(n.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[i,n]of Object.entries(e.data||{}))t.set(i,n);i.body=t.toString()}else if(n.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,i)=>{t.append(i,e)}));else for(const i of Object.keys(e.data))t.append(i,e.data[i]);i.body=t;const n=new Headers(i.headers);n.delete("content-type"),i.headers=n}else(n.includes("application/json")||"object"==typeof e.data)&&(i.body=JSON.stringify(e.data));return i}));class Mx extends Ix{async request(e){const t=Lx(e,e.webFetchExtra),i=((e,t=!0)=>{if(!e)return null;const i=Object.entries(e).reduce(((e,i)=>{const[n,o]=i;let r,s;return Array.isArray(o)?(s="",o.forEach((e=>{r=t?encodeURIComponent(e):e,s+=`${n}=${r}&`})),s.slice(0,-1)):(r=t?encodeURIComponent(o):o,s=`${n}=${r}`),`${e}&${s}`}),"");return i.substr(1)})(e.params,e.shouldEncodeUrlParams),n=i?`${e.url}?${i}`:e.url,o=await fetch(n,t),r=o.headers.get("content-type")||"";let s,a,{responseType:l="text"}=o.ok?e:{};switch(r.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await o.blob(),s=await(async e=>new Promise(((t,i)=>{const n=new FileReader;n.onload=()=>{const e=n.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},n.onerror=e=>i(e),n.readAsDataURL(e)})))(a);break;case"json":s=await o.json();break;default:s=await o.text()}const c={};return o.headers.forEach(((e,t)=>{c[t]=e})),{data:s,headers:c,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Sx("CapacitorHttp",{web:()=>new Mx});const Ox=Sx("ScreenOrientation",{web:()=>Da((()=>a.import("./web-legacy-DxAkx6Y7.js")),void 0).then((e=>new e.ScreenOrientationWeb))});function Nx(e,t){return function(){return e.apply(t,arguments)}}const{toString:$x}=Object.prototype,{getPrototypeOf:Fx}=Object,Bx=(e=>t=>{const i=$x.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),zx=e=>(e=e.toLowerCase(),t=>Bx(t)===e),jx=e=>t=>typeof t===e,{isArray:Vx}=Array,Ux=jx("undefined");const Hx=zx("ArrayBuffer");const qx=jx("string"),Gx=jx("function"),Wx=jx("number"),Yx=e=>null!==e&&"object"==typeof e,Kx=e=>{if("object"!==Bx(e))return!1;const t=Fx(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Qx=zx("Date"),Xx=zx("File"),Jx=zx("Blob"),Zx=zx("FileList"),e_=zx("URLSearchParams"),[t_,i_,n_,o_]=["ReadableStream","Request","Response","Headers"].map(zx);function r_(e,t,{allOwnKeys:i=!1}={}){if(null==e)return;let n,o;if("object"!=typeof e&&(e=[e]),Vx(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const o=i?Object.getOwnPropertyNames(e):Object.keys(e),r=o.length;let s;for(n=0;n<r;n++)s=o[n],t.call(null,e[s],s,e)}}function s_(e,t){t=t.toLowerCase();const i=Object.keys(e);let n,o=i.length;for(;o-- >0;)if(n=i[o],t===n.toLowerCase())return n;return null}const a_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,l_=e=>!Ux(e)&&e!==a_;const c_=(d_="undefined"!=typeof Uint8Array&&Fx(Uint8Array),e=>d_&&e instanceof d_);var d_;const u_=zx("HTMLFormElement"),h_=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),p_=zx("RegExp"),m_=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};r_(i,((i,o)=>{let r;!1!==(r=t(i,o,e))&&(n[o]=r||i)})),Object.defineProperties(e,n)},f_="abcdefghijklmnopqrstuvwxyz",g_="0123456789",b_={DIGIT:g_,ALPHA:f_,ALPHA_DIGIT:f_+f_.toUpperCase()+g_};const v_=zx("AsyncFunction"),y_=(k_="function"==typeof setImmediate,w_=Gx(a_.postMessage),k_?setImmediate:w_?(x_=`axios@${Math.random()}`,__=[],a_.addEventListener("message",(({source:e,data:t})=>{e===a_&&t===x_&&__.length&&__.shift()()}),!1),e=>{__.push(e),a_.postMessage(x_,"*")}):e=>setTimeout(e));var k_,w_,x_,__;const E_="undefined"!=typeof queueMicrotask?queueMicrotask.bind(a_):"undefined"!=typeof process&&process.nextTick||y_,C_={isArray:Vx,isArrayBuffer:Hx,isBuffer:function(e){return null!==e&&!Ux(e)&&null!==e.constructor&&!Ux(e.constructor)&&Gx(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Gx(e.append)&&("formdata"===(t=Bx(e))||"object"===t&&Gx(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Hx(e.buffer),t},isString:qx,isNumber:Wx,isBoolean:e=>!0===e||!1===e,isObject:Yx,isPlainObject:Kx,isReadableStream:t_,isRequest:i_,isResponse:n_,isHeaders:o_,isUndefined:Ux,isDate:Qx,isFile:Xx,isBlob:Jx,isRegExp:p_,isFunction:Gx,isStream:e=>Yx(e)&&Gx(e.pipe),isURLSearchParams:e_,isTypedArray:c_,isFileList:Zx,forEach:r_,merge:function e(){const{caseless:t}=l_(this)&&this||{},i={},n=(n,o)=>{const r=t&&s_(i,o)||o;Kx(i[r])&&Kx(n)?i[r]=e(i[r],n):Kx(n)?i[r]=e({},n):Vx(n)?i[r]=n.slice():i[r]=n};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&r_(arguments[o],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(r_(t,((t,n)=>{i&&Gx(t)?e[n]=Nx(t,i):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let o,r,s;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)s=o[r],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==i&&Fx(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:Bx,kindOfTest:zx,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return-1!==n&&n===i},toArray:e=>{if(!e)return null;if(Vx(e))return e;let t=e.length;if(!Wx(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let i;const n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:u_,hasOwnProperty:h_,hasOwnProp:h_,reduceDescriptors:m_,freezeMethods:e=>{m_(e,((t,i)=>{if(Gx(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const n=e[i];Gx(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},toObjectSet:(e,t)=>{const i={},n=e=>{e.forEach((e=>{i[e]=!0}))};return Vx(e)?n(e):n(String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,i){return t.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:s_,global:a_,isContextDefined:l_,ALPHABET:b_,generateString:(e=16,t=b_.ALPHA_DIGIT)=>{let i="";const{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&Gx(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),i=(e,n)=>{if(Yx(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const o=Vx(e)?[]:{};return r_(e,((e,t)=>{const r=i(e,n+1);!Ux(r)&&(o[t]=r)})),t[n]=void 0,o}}return e};return i(e,0)},isAsyncFn:v_,isThenable:e=>e&&(Yx(e)||Gx(e))&&Gx(e.then)&&Gx(e.catch),setImmediate:y_,asap:E_};function A_(e,t,i,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}C_.inherits(A_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C_.toJSONObject(this.config),code:this.code,status:this.status}}});const T_=A_.prototype,S_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{S_[e]={value:e}})),Object.defineProperties(A_,S_),Object.defineProperty(T_,"isAxiosError",{value:!0}),A_.from=(e,t,i,n,o,r)=>{const s=Object.create(T_);return C_.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),A_.call(s,e.message,t,i,n,o),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};function I_(e){return C_.isPlainObject(e)||C_.isArray(e)}function P_(e){return C_.endsWith(e,"[]")?e.slice(0,-2):e}function D_(e,t,i){return e?e.concat(t).map((function(e,t){return e=P_(e),!i&&t?"["+e+"]":e})).join(i?".":""):t}const R_=C_.toFlatObject(C_,{},null,(function(e){return/^is[A-Z]/.test(e)}));function L_(e,t,i){if(!C_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=C_.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!C_.isUndefined(t[e])}));const n=i.metaTokens,o=i.visitor||c,r=i.dots,s=i.indexes,a=(i.Blob||"undefined"!=typeof Blob&&Blob)&&C_.isSpecCompliantForm(t);if(!C_.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(C_.isDate(e))return e.toISOString();if(!a&&C_.isBlob(e))throw new A_("Blob is not supported. Use a Buffer instead.");return C_.isArrayBuffer(e)||C_.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,i,o){let a=e;if(e&&!o&&"object"==typeof e)if(C_.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else if(C_.isArray(e)&&function(e){return C_.isArray(e)&&!e.some(I_)}(e)||(C_.isFileList(e)||C_.endsWith(i,"[]"))&&(a=C_.toArray(e)))return i=P_(i),a.forEach((function(e,n){!C_.isUndefined(e)&&null!==e&&t.append(!0===s?D_([i],n,r):null===s?i:i+"[]",l(e))})),!1;return!!I_(e)||(t.append(D_(o,i,r),l(e)),!1)}const d=[],u=Object.assign(R_,{defaultVisitor:c,convertValue:l,isVisitable:I_});if(!C_.isObject(e))throw new TypeError("data must be an object");return function e(i,n){if(!C_.isUndefined(i)){if(-1!==d.indexOf(i))throw Error("Circular reference detected in "+n.join("."));d.push(i),C_.forEach(i,(function(i,r){!0===(!(C_.isUndefined(i)||null===i)&&o.call(t,i,C_.isString(r)?r.trim():r,n,u))&&e(i,n?n.concat(r):[r])})),d.pop()}}(e),t}function M_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function O_(e,t){this._pairs=[],e&&L_(e,this,t)}const N_=O_.prototype;function $_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function F_(e,t,i){if(!t)return e;const n=i&&i.encode||$_;C_.isFunction(i)&&(i={serialize:i});const o=i&&i.serialize;let r;if(r=o?o(t,i):C_.isURLSearchParams(t)?t.toString():new O_(t,i).toString(n),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}N_.append=function(e,t){this._pairs.push([e,t])},N_.toString=function(e){const t=e?function(t){return e.call(this,t,M_)}:M_;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class B_{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C_.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const z_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},j_={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:O_,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},V_="undefined"!=typeof window&&"undefined"!=typeof document,U_="object"==typeof navigator&&navigator||void 0,H_=V_&&(!U_||["ReactNative","NativeScript","NS"].indexOf(U_.product)<0),q_="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,G_=V_&&window.location.href||"http://localhost",W_={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:V_,hasStandardBrowserEnv:H_,hasStandardBrowserWebWorkerEnv:q_,navigator:U_,origin:G_},Symbol.toStringTag,{value:"Module"})),...j_};function Y_(e){function t(e,i,n,o){let r=e[o++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),a=o>=e.length;if(r=!r&&C_.isArray(n)?n.length:r,a)return C_.hasOwnProp(n,r)?n[r]=[n[r],i]:n[r]=i,!s;n[r]&&C_.isObject(n[r])||(n[r]=[]);return t(e,i,n[r],o)&&C_.isArray(n[r])&&(n[r]=function(e){const t={},i=Object.keys(e);let n;const o=i.length;let r;for(n=0;n<o;n++)r=i[n],t[r]=e[r];return t}(n[r])),!s}if(C_.isFormData(e)&&C_.isFunction(e.entries)){const i={};return C_.forEachEntry(e,((e,n)=>{t(function(e){return C_.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,i,0)})),i}return null}const K_={transitional:z_,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,o=C_.isObject(e);o&&C_.isHTMLForm(e)&&(e=new FormData(e));if(C_.isFormData(e))return n?JSON.stringify(Y_(e)):e;if(C_.isArrayBuffer(e)||C_.isBuffer(e)||C_.isStream(e)||C_.isFile(e)||C_.isBlob(e)||C_.isReadableStream(e))return e;if(C_.isArrayBufferView(e))return e.buffer;if(C_.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return L_(e,new W_.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return W_.isNode&&C_.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=C_.isFileList(e))||i.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return L_(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),function(e,t){if(C_.isString(e))try{return(t||JSON.parse)(e),C_.trim(e)}catch(f1){if("SyntaxError"!==f1.name)throw f1}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||K_.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(C_.isResponse(e)||C_.isReadableStream(e))return e;if(e&&C_.isString(e)&&(i&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(f1){if(i){if("SyntaxError"===f1.name)throw A_.from(f1,A_.ERR_BAD_RESPONSE,this,null,this.response);throw f1}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:W_.classes.FormData,Blob:W_.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C_.forEach(["delete","get","head","post","put","patch"],(e=>{K_.headers[e]={}}));const Q_=C_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X_=Symbol("internals");function J_(e){return e&&String(e).trim().toLowerCase()}function Z_(e){return!1===e||null==e?e:C_.isArray(e)?e.map(Z_):String(e)}function eE(e,t,i,n,o){return C_.isFunction(n)?n.call(this,t,i):(o&&(t=i),C_.isString(t)?C_.isString(n)?-1!==t.indexOf(n):C_.isRegExp(n)?n.test(t):void 0:void 0)}class tE{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function o(e,t,i){const o=J_(t);if(!o)throw new Error("header name must be a non-empty string");const r=C_.findKey(n,o);(!r||void 0===n[r]||!0===i||void 0===i&&!1!==n[r])&&(n[r||t]=Z_(e))}const r=(e,t)=>C_.forEach(e,((e,i)=>o(e,i,t)));if(C_.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(C_.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let i,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),i=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!i||t[i]&&Q_[i]||("set-cookie"===i?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)})),t})(e),t);else if(C_.isHeaders(e))for(const[s,a]of e.entries())o(a,s,i);else null!=e&&o(t,e,i);return this}get(e,t){if(e=J_(e)){const i=C_.findKey(this,e);if(i){const e=this[i];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}(e);if(C_.isFunction(t))return t.call(this,e,i);if(C_.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=J_(e)){const i=C_.findKey(this,e);return!(!i||void 0===this[i]||t&&!eE(0,this[i],i,t))}return!1}delete(e,t){const i=this;let n=!1;function o(e){if(e=J_(e)){const o=C_.findKey(i,e);!o||t&&!eE(0,i[o],o,t)||(delete i[o],n=!0)}}return C_.isArray(e)?e.forEach(o):o(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const o=t[i];e&&!eE(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}normalize(e){const t=this,i={};return C_.forEach(this,((n,o)=>{const r=C_.findKey(i,o);if(r)return t[r]=Z_(n),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,i)=>t.toUpperCase()+i))}(o):String(o).trim();s!==o&&delete t[o],t[s]=Z_(n),i[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return C_.forEach(this,((i,n)=>{null!=i&&!1!==i&&(t[n]=e&&C_.isArray(i)?i.join(", "):i)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach((e=>i.set(e))),i}static accessor(e){const t=(this[X_]=this[X_]={accessors:{}}).accessors,i=this.prototype;function n(e){const n=J_(e);t[n]||(!function(e,t){const i=C_.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+i,{value:function(e,i,o){return this[n].call(this,t,e,i,o)},configurable:!0})}))}(i,e),t[n]=!0)}return C_.isArray(e)?e.forEach(n):n(e),this}}function iE(e,t){const i=this||K_,n=t||i,o=tE.from(n.headers);let r=n.data;return C_.forEach(e,(function(e){r=e.call(i,r,o.normalize(),t?t.status:void 0)})),o.normalize(),r}function nE(e){return!(!e||!e.__CANCEL__)}function oE(e,t,i){A_.call(this,null==e?"canceled":e,A_.ERR_CANCELED,t,i),this.name="CanceledError"}function rE(e,t,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(new A_("Request failed with status code "+i.status,[A_.ERR_BAD_REQUEST,A_.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)}tE.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),C_.reduceDescriptors(tE.prototype,(({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}})),C_.freezeMethods(tE),C_.inherits(oE,A_,{__CANCEL__:!0});const sE=(e,t,i=3)=>{let n=0;const o=function(e,t){e=e||10;const i=new Array(e),n=new Array(e);let o,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=n[s];o||(o=l),i[r]=a,n[r]=l;let d=s,u=0;for(;d!==r;)u+=i[d++],d%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-o<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let i,n,o=0,r=1e3/t;const s=(t,r=Date.now())=>{o=r,i=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-o;a>=r?s(e,t):(i=e,n||(n=setTimeout((()=>{n=null,s(i)}),r-a)))},()=>i&&s(i)]}((i=>{const r=i.loaded,s=i.lengthComputable?i.total:void 0,a=r-n,l=o(a);n=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:i,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),i)},aE=(e,t)=>{const i=null!=e;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},lE=e=>(...t)=>C_.asap((()=>e(...t))),cE=W_.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,W_.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(W_.origin),W_.navigator&&/(msie|trident)/i.test(W_.navigator.userAgent)):()=>!0,dE=W_.hasStandardBrowserEnv?{write(e,t,i,n,o,r){const s=[e+"="+encodeURIComponent(t)];C_.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),C_.isString(n)&&s.push("path="+n),C_.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function uE(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const hE=e=>e instanceof tE?{...e}:e;function pE(e,t){t=t||{};const i={};function n(e,t,i,n){return C_.isPlainObject(e)&&C_.isPlainObject(t)?C_.merge.call({caseless:n},e,t):C_.isPlainObject(t)?C_.merge({},t):C_.isArray(t)?t.slice():t}function o(e,t,i,o){return C_.isUndefined(t)?C_.isUndefined(e)?void 0:n(void 0,e,0,o):n(e,t,0,o)}function r(e,t){if(!C_.isUndefined(t))return n(void 0,t)}function s(e,t){return C_.isUndefined(t)?C_.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(i,o,r){return r in t?n(i,o):r in e?n(void 0,i):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,i)=>o(hE(e),hE(t),0,!0)};return C_.forEach(Object.keys(Object.assign({},e,t)),(function(n){const r=l[n]||o,s=r(e[n],t[n],n);C_.isUndefined(s)&&r!==a||(i[n]=s)})),i}const mE=e=>{const t=pE({},e);let i,{data:n,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=tE.from(a),t.url=F_(uE(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),C_.isFormData(n))if(W_.hasStandardBrowserEnv||W_.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(i=a.getContentType())){const[e,...t]=i?i.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(W_.hasStandardBrowserEnv&&(o&&C_.isFunction(o)&&(o=o(t)),o||!1!==o&&cE(t.url))){const e=r&&s&&dE.read(s);e&&a.set(r,e)}return t},fE="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,i){const n=mE(e);let o=n.data;const r=tE.from(n.headers).normalize();let s,a,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=n;function m(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const n=tE.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());rE((function(e){t(e),m()}),(function(e){i(e),m()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(i(new A_("Request aborted",A_.ECONNABORTED,e,f)),f=null)},f.onerror=function(){i(new A_("Network Error",A_.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const o=n.transitional||z_;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),i(new A_(t,o.clarifyTimeoutError?A_.ETIMEDOUT:A_.ECONNABORTED,e,f)),f=null},void 0===o&&r.setContentType(null),"setRequestHeader"in f&&C_.forEach(r.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),C_.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),p&&([l,d]=sE(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([a,c]=sE(h),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{f&&(i(!t||t.type?new oE(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);b&&-1===W_.protocols.indexOf(b)?i(new A_("Unsupported protocol "+b+":",A_.ERR_BAD_REQUEST,e)):f.send(o||null)}))},gE=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let i,n=new AbortController;const o=function(e){if(!i){i=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof A_?t:new oE(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,o(new A_(`timeout ${t} of ms exceeded`,A_.ETIMEDOUT))}),t);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:a}=n;return a.unsubscribe=()=>C_.asap(s),a}},bE=function*(e,t){let i=e.byteLength;if(i<t)return void(yield e);let n,o=0;for(;o<i;)n=o+t,yield e.slice(o,n),o=n},vE=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},yE=(e,t,i,n)=>{const o=async function*(e,t){for await(const i of vE(e))yield*bE(i,t)}(e,t);let r,s=0,a=e=>{r||(r=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await o.next();if(t)return a(),void e.close();let r=n.byteLength;if(i){let e=s+=r;i(e)}e.enqueue(new Uint8Array(n))}catch(N0){throw a(N0),N0}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},kE="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,wE=kE&&"function"==typeof ReadableStream,xE=kE&&("function"==typeof TextEncoder?(_E=new TextEncoder,e=>_E.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var _E;const EE=(e,...t)=>{try{return!!e(...t)}catch(f1){return!1}},CE=wE&&EE((()=>{let e=!1;const t=new Request(W_.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),AE=wE&&EE((()=>C_.isReadableStream(new Response("").body))),TE={stream:AE&&(e=>e.body)};var SE;kE&&(SE=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!TE[e]&&(TE[e]=C_.isFunction(SE[e])?t=>t[e]():(t,i)=>{throw new A_(`Response type '${e}' is not supported`,A_.ERR_NOT_SUPPORT,i)})})));const IE=async(e,t)=>{const i=C_.toFiniteNumber(e.getContentLength());return null==i?(async e=>{if(null==e)return 0;if(C_.isBlob(e))return e.size;if(C_.isSpecCompliantForm(e)){const t=new Request(W_.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return C_.isArrayBufferView(e)||C_.isArrayBuffer(e)?e.byteLength:(C_.isURLSearchParams(e)&&(e+=""),C_.isString(e)?(await xE(e)).byteLength:void 0)})(t):i},PE=kE&&(async e=>{let{url:t,method:i,data:n,signal:o,cancelToken:r,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=mE(e);c=c?(c+"").toLowerCase():"text";let p,m=gE([o,r&&r.toAbortSignal()],s);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&CE&&"get"!==i&&"head"!==i&&0!==(g=await IE(d,n))){let e,i=new Request(t,{method:"POST",body:n,duplex:"half"});if(C_.isFormData(n)&&(e=i.headers.get("content-type"))&&d.setContentType(e),i.body){const[e,t]=aE(g,sE(lE(l)));n=yE(i.body,65536,e,t)}}C_.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,{...h,signal:m,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:o?u:void 0});let r=await fetch(p);const s=AE&&("stream"===c||"response"===c);if(AE&&(a||s&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=C_.toFiniteNumber(r.headers.get("content-length")),[i,n]=a&&aE(t,sE(lE(a),!0))||[];r=new Response(yE(r.body,65536,i,(()=>{n&&n(),f&&f()})),e)}c=c||"text";let b=await TE[C_.findKey(TE,c)||"text"](r,e);return!s&&f&&f(),await new Promise(((t,i)=>{rE(t,i,{data:b,headers:tE.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:p})}))}catch(N0){if(f&&f(),N0&&"TypeError"===N0.name&&/fetch/i.test(N0.message))throw Object.assign(new A_("Network Error",A_.ERR_NETWORK,e,p),{cause:N0.cause||N0});throw A_.from(N0,N0&&N0.code,e,p)}}),DE={http:null,xhr:fE,fetch:PE};C_.forEach(DE,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(f1){}Object.defineProperty(e,"adapterName",{value:t})}}));const RE=e=>`- ${e}`,LE=e=>C_.isFunction(e)||null===e||!1===e,ME=e=>{e=C_.isArray(e)?e:[e];const{length:t}=e;let i,n;const o={};for(let r=0;r<t;r++){let t;if(i=e[r],n=i,!LE(i)&&(n=DE[(t=String(i)).toLowerCase()],void 0===n))throw new A_(`Unknown adapter '${t}'`);if(n)break;o[t||"#"+r]=n}if(!n){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new A_("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(RE).join("\n"):" "+RE(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function OE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oE(null,e)}function NE(e){OE(e),e.headers=tE.from(e.headers),e.data=iE.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ME(e.adapter||K_.adapter)(e).then((function(t){return OE(e),t.data=iE.call(e,e.transformResponse,t),t.headers=tE.from(t.headers),t}),(function(t){return nE(t)||(OE(e),t&&t.response&&(t.response.data=iE.call(e,e.transformResponse,t.response),t.response.headers=tE.from(t.response.headers))),Promise.reject(t)}))}const $E="1.7.9",FE={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{FE[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));const BE={};FE.transitional=function(e,t,i){function n(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,o,r)=>{if(!1===e)throw new A_(n(o," has been removed"+(t?" in "+t:"")),A_.ERR_DEPRECATED);return t&&!BE[o]&&(BE[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,o,r)}},FE.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};const zE={assertOptions:function(e,t,i){if("object"!=typeof e)throw new A_("options must be an object",A_.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const r=n[o],s=t[r];if(s){const t=e[r],i=void 0===t||s(t,r,e);if(!0!==i)throw new A_("option "+r+" must be "+i,A_.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new A_("Unknown option "+r,A_.ERR_BAD_OPTION)}},validators:FE},jE=zE.validators;class VE{constructor(e){this.defaults=e,this.interceptors={request:new B_,response:new B_}}async request(e,t){try{return await this._request(e,t)}catch(N0){if(N0 instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const i=t.stack?t.stack.replace(/^.+\n/,""):"";try{N0.stack?i&&!String(N0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(N0.stack+="\n"+i):N0.stack=i}catch(f1){}}throw N0}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=pE(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:o}=t;void 0!==i&&zE.assertOptions(i,{silentJSONParsing:jE.transitional(jE.boolean),forcedJSONParsing:jE.transitional(jE.boolean),clarifyTimeoutError:jE.transitional(jE.boolean)},!1),null!=n&&(C_.isFunction(n)?t.paramsSerializer={serialize:n}:zE.assertOptions(n,{encode:jE.function,serialize:jE.function},!0)),zE.assertOptions(t,{baseUrl:jE.spelling("baseURL"),withXsrfToken:jE.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=o&&C_.merge(o.common,o[t.method]);o&&C_.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=tE.concat(r,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!a){const e=[NE.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=NE.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return F_(uE((e=pE(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}C_.forEach(["delete","get","head","options"],(function(e){VE.prototype[e]=function(t,i){return this.request(pE(i||{},{method:e,url:t,data:(i||{}).data}))}})),C_.forEach(["post","put","patch"],(function(e){function t(t){return function(i,n,o){return this.request(pE(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}VE.prototype[e]=t(),VE.prototype[e+"Form"]=t(!0)}));class UE{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const i=this;this.promise.then((e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e,n,o){i.reason||(i.reason=new oE(e,n,o),t(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new UE((function(t){e=t})),cancel:e}}}const HE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HE).forEach((([e,t])=>{HE[t]=e}));const qE=function e(t){const i=new VE(t),n=Nx(VE.prototype.request,i);return C_.extend(n,VE.prototype,i,{allOwnKeys:!0}),C_.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(pE(t,i))},n}(K_);qE.Axios=VE,qE.CanceledError=oE,qE.CancelToken=UE,qE.isCancel=nE,qE.VERSION=$E,qE.toFormData=L_,qE.AxiosError=A_,qE.Cancel=qE.CanceledError,qE.all=function(e){return Promise.all(e)},qE.spread=function(e){return function(t){return e.apply(null,t)}},qE.isAxiosError=function(e){return C_.isObject(e)&&!0===e.isAxiosError},qE.mergeConfig=pE,qE.AxiosHeaders=tE,qE.formToJSON=e=>Y_(C_.isHTMLForm(e)?new FormData(e):e),qE.getAdapter=ME,qE.HttpStatusCode=HE,qE.default=qE;const GE=()=>{io((()=>{(async()=>{try{console.log("");const e=await qE.get("https://mocml.github.io/testota/version.json");console.log("GitHub version:",e.data)}catch(e){console.log("Error setting OTA config:",e)}})()}))},WE=jn({__name:"App",setup(e){const{DEV:t,VITE_API_URL_DEV:i,VITE_API_URL:n}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0};return qE.defaults.baseURL=t?i:n,qE.interceptors.response.use((async e=>e),(async e=>(401===e.status&&console.log(e),e))),GE(),io((async()=>{await Ox.lock({orientation:"portrait"})})),(e,t)=>($r(),Vr(Di(Kw),null,{default:pn((()=>[Yr(Di(Fw))])),_:1}))}}),YE={main:0},KE=(e="main")=>{var t;const i=(null!==(t=YE[e])&&void 0!==t?t:0)+1;return YE[e]=i,i.toString()},QE="/logo.png";
/*!
             * pinia v2.3.0
             * (c) 2024 Eduardo San Martin Morote
             * @license MIT
             */
let XE;const JE=e=>XE=e,ZE=Symbol();function eC(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var tC,iC;(iC=tC||(tC={})).direct="direct",iC.patchObject="patch object",iC.patchFunction="patch function";const nC=()=>{};function oC(e,t,i,n=nC){e.push(t);const o=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!i&&st()&&at(o),o}function rC(e,...t){e.slice().forEach((e=>{e(...t)}))}const sC=e=>e(),aC=Symbol(),lC=Symbol();function cC(e,t){e instanceof Map&&t instanceof Map?t.forEach(((t,i)=>e.set(i,t))):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const n=t[i],o=e[i];eC(o)&&eC(n)&&e.hasOwnProperty(i)&&!Ai(n)&&!vi(n)?e[i]=cC(o,n):e[i]=n}return e}const dC=Symbol();const{assign:uC}=Object;function hC(e,t,i={},n,o,r){let s;const a=uC({actions:{}},i),l={deep:!0};let c,d,u,h=[],p=[];const m=n.state.value[e];let f;function g(t){let i;c=d=!1,"function"==typeof t?(t(n.state.value[e]),i={type:tC.patchFunction,storeId:e,events:u}):(cC(n.state.value[e],t),i={type:tC.patchObject,payload:t,storeId:e,events:u});const o=f=Symbol();nn().then((()=>{f===o&&(c=!0)})),d=!0,rC(h,i,n.state.value[e])}r||m||(n.state.value[e]={}),Ti({});const b=r?function(){const{state:e}=i,t=e?e():{};this.$patch((e=>{uC(e,t)}))}:nC;const v=(t,i="")=>{if(aC in t)return t[lC]=i,t;const o=function(){JE(n);const i=Array.from(arguments),r=[],s=[];let a;rC(p,{args:i,name:o[lC],store:y,after:function(e){r.push(e)},onError:function(e){s.push(e)}});try{a=t.apply(this&&this.$id===e?this:y,i)}catch(l){throw rC(s,l),l}return a instanceof Promise?a.then((e=>(rC(r,e),e))).catch((e=>(rC(s,e),Promise.reject(e)))):(rC(r,a),a)};return o[aC]=!0,o[lC]=i,o},y=mi({_p:n,$id:e,$onAction:oC.bind(null,p),$patch:g,$reset:b,$subscribe(t,i={}){const o=oC(h,t,i.detached,(()=>r())),r=s.run((()=>br((()=>n.state.value[e]),(n=>{("sync"===i.flush?d:c)&&t({storeId:e,type:tC.direct,events:u},n)}),uC({},l,i))));return o},$dispose:function(){s.stop(),h=[],p=[],n._s.delete(e)}});n._s.set(e,y);const k=(n._a&&n._a.runWithContext||sC)((()=>n._e.run((()=>(s=rt()).run((()=>t({action:v})))))));for(const _ in k){const t=k[_];if(Ai(t)&&(!Ai(x=t)||!x.effect)||vi(t))r||(!m||eC(w=t)&&w.hasOwnProperty(dC)||(Ai(t)?t.value=m[_]:cC(t,m[_])),n.state.value[e][_]=t);else if("function"==typeof t){const e=v(t,_);k[_]=e,a.actions[_]=t}}var w,x;return uC(y,k),uC(xi(y),k),Object.defineProperty(y,"$state",{get:()=>n.state.value[e],set:e=>{g((t=>{uC(t,e)}))}}),n._p.forEach((e=>{uC(y,s.run((()=>e({store:y,app:n._a,pinia:n,options:a}))))})),m&&r&&i.hydrate&&i.hydrate(y.$state,m),c=!0,d=!0,y}/*! #__NO_SIDE_EFFECTS__ */function pC(e,t,i){let n,o;const r="function"==typeof t;function s(e,i){const s=Wo();(e=e||(s?Go(ZE,null):null))&&JE(e),(e=XE)._s.has(n)||(r?hC(n,t,o,e):function(e,t,i){const{state:n,actions:o,getters:r}=t,s=i.state.value[e];let a;a=hC(e,(function(){s||(i.state.value[e]=n?n():{});const t=Oi(i.state.value[e]);return uC(t,o,Object.keys(r||{}).reduce(((t,n)=>(t[n]=_i(ks((()=>{JE(i);const t=i._s.get(e);return r[n].call(t,t)}))),t)),{}))}),t,i,0,!0)}(n,o,e));return e._s.get(n)}return"string"==typeof e?(n=e,o=r?i:t):(o=e,n=e.id),s.$id=n,s}function mC(e){{const t=xi(e),i={};for(const n in t){const o=t[n];o.effect?i[n]=ks({get:()=>e[n],set(t){e[n]=t}}):(Ai(o)||vi(o))&&(i[n]=Fi(e,n))}return i}}const fC=Sx("App",{web:()=>Da((()=>a.import("./web-legacy-CkeA2MG4.js")),void 0).then((e=>new e.AppWeb))});var gC={exports:{}};
/**
             * @license
             * Lodash <https://lodash.com/>
             * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
             * Released under MIT license <https://lodash.com/license>
             * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
             * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
             */!function(e,t){(function(){var i,n="Expected a function",o="__lodash_hash_undefined__",r="__lodash_placeholder__",s=32,a=128,l=256,c=1/0,d=9007199254740991,u=NaN,h=4294967295,p=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",l]],m="[object Arguments]",f="[object Array]",g="[object Boolean]",b="[object Date]",v="[object Error]",y="[object Function]",k="[object GeneratorFunction]",w="[object Map]",x="[object Number]",_="[object Object]",E="[object Promise]",C="[object RegExp]",A="[object Set]",T="[object String]",S="[object Symbol]",I="[object WeakMap]",P="[object ArrayBuffer]",D="[object DataView]",R="[object Float32Array]",L="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",N="[object Int32Array]",$="[object Uint8Array]",F="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",j=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,G=RegExp(H.source),W=RegExp(q.source),Y=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),ie=/^\s+/,ne=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,re=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ae=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ue=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,fe=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",_e="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['’]",Se="["+ke+"]",Ie="["+Ae+"]",Pe="["+we+"]",De="\\d+",Re="["+xe+"]",Le="["+_e+"]",Me="[^"+ke+Ae+De+xe+_e+Ee+"]",Oe="\\ud83c[\\udffb-\\udfff]",Ne="[^"+ke+"]",$e="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Ee+"]",ze="\\u200d",je="(?:"+Le+"|"+Me+")",Ve="(?:"+Be+"|"+Me+")",Ue="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Pe+"|"+Oe+")"+"?",Ge="["+Ce+"]?",We=Ge+qe+("(?:"+ze+"(?:"+[Ne,$e,Fe].join("|")+")"+Ge+qe+")*"),Ye="(?:"+[Re,$e,Fe].join("|")+")"+We,Ke="(?:"+[Ne+Pe+"?",Pe,$e,Fe,Se].join("|")+")",Qe=RegExp(Te,"g"),Xe=RegExp(Pe,"g"),Je=RegExp(Oe+"(?="+Oe+")|"+Ke+We,"g"),Ze=RegExp([Be+"?"+Le+"+"+Ue+"(?="+[Ie,Be,"$"].join("|")+")",Ve+"+"+He+"(?="+[Ie,Be+je,"$"].join("|")+")",Be+"?"+je+"+"+Ue,Be+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Ye].join("|"),"g"),et=RegExp("["+ze+ke+we+Ce+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,ot={};ot[R]=ot[L]=ot[M]=ot[O]=ot[N]=ot[$]=ot[F]=ot[B]=ot[z]=!0,ot[m]=ot[f]=ot[P]=ot[g]=ot[D]=ot[b]=ot[v]=ot[y]=ot[w]=ot[x]=ot[_]=ot[C]=ot[A]=ot[T]=ot[I]=!1;var rt={};rt[m]=rt[f]=rt[P]=rt[D]=rt[g]=rt[b]=rt[R]=rt[L]=rt[M]=rt[O]=rt[N]=rt[w]=rt[x]=rt[_]=rt[C]=rt[A]=rt[T]=rt[S]=rt[$]=rt[F]=rt[B]=rt[z]=!0,rt[v]=rt[y]=rt[I]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,ct="object"==typeof hx&&hx&&hx.Object===Object&&hx,dt="object"==typeof self&&self&&self.Object===Object&&self,ut=ct||dt||Function("return this")(),ht=t&&!t.nodeType&&t,pt=ht&&e&&!e.nodeType&&e,mt=pt&&pt.exports===ht,ft=mt&&ct.process,gt=function(){try{var e=pt&&pt.require&&pt.require("util").types;return e||ft&&ft.binding&&ft.binding("util")}catch(f1){}}(),bt=gt&&gt.isArrayBuffer,vt=gt&&gt.isDate,yt=gt&&gt.isMap,kt=gt&&gt.isRegExp,wt=gt&&gt.isSet,xt=gt&&gt.isTypedArray;function _t(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function Et(e,t,i,n){for(var o=-1,r=null==e?0:e.length;++o<r;){var s=e[o];t(n,s,i(s),e)}return n}function Ct(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}function At(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}function Tt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function St(e,t){for(var i=-1,n=null==e?0:e.length,o=0,r=[];++i<n;){var s=e[i];t(s,i,e)&&(r[o++]=s)}return r}function It(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Pt(e,t,i){for(var n=-1,o=null==e?0:e.length;++n<o;)if(i(t,e[n]))return!0;return!1}function Dt(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}function Rt(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}function Lt(e,t,i,n){var o=-1,r=null==e?0:e.length;for(n&&r&&(i=e[++o]);++o<r;)i=t(i,e[o],o,e);return i}function Mt(e,t,i,n){var o=null==e?0:e.length;for(n&&o&&(i=e[--o]);o--;)i=t(i,e[o],o,e);return i}function Ot(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}var Nt=Ut("length");function $t(e,t,i){var n;return i(e,(function(e,i,o){if(t(e,i,o))return n=i,!1})),n}function Ft(e,t,i,n){for(var o=e.length,r=i+(n?1:-1);n?r--:++r<o;)if(t(e[r],r,e))return r;return-1}function Bt(e,t,i){return t==t?function(e,t,i){var n=i-1,o=e.length;for(;++n<o;)if(e[n]===t)return n;return-1}(e,t,i):Ft(e,jt,i)}function zt(e,t,i,n){for(var o=i-1,r=e.length;++o<r;)if(n(e[o],t))return o;return-1}function jt(e){return e!=e}function Vt(e,t){var i=null==e?0:e.length;return i?Gt(e,t)/i:u}function Ut(e){return function(t){return null==t?i:t[e]}}function Ht(e){return function(t){return null==e?i:e[t]}}function qt(e,t,i,n,o){return o(e,(function(e,o,r){i=n?(n=!1,e):t(i,e,o,r)})),i}function Gt(e,t){for(var n,o=-1,r=e.length;++o<r;){var s=t(e[o]);s!==i&&(n=n===i?s:n+s)}return n}function Wt(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function Yt(e){return e?e.slice(0,ui(e)+1).replace(ie,""):e}function Kt(e){return function(t){return e(t)}}function Qt(e,t){return Dt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Jt(e,t){for(var i=-1,n=e.length;++i<n&&Bt(t,e[i],0)>-1;);return i}function Zt(e,t){for(var i=e.length;i--&&Bt(t,e[i],0)>-1;);return i}var ei=Ht({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),ti=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ii(e){return"\\"+st[e]}function ni(e){return et.test(e)}function oi(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function ri(e,t){return function(i){return e(t(i))}}function si(e,t){for(var i=-1,n=e.length,o=0,s=[];++i<n;){var a=e[i];a!==t&&a!==r||(e[i]=r,s[o++]=i)}return s}function ai(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}function li(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=[e,e]})),i}function ci(e){return ni(e)?function(e){var t=Je.lastIndex=0;for(;Je.test(e);)++t;return t}(e):Nt(e)}function di(e){return ni(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function ui(e){for(var t=e.length;t--&&ne.test(e.charAt(t)););return t}var hi=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var pi=function e(t){var ne=(t=null==t?ut:pi.defaults(ut.Object(),t,pi.pick(ut,it))).Array,ke=t.Date,we=t.Error,xe=t.Function,_e=t.Math,Ee=t.Object,Ce=t.RegExp,Ae=t.String,Te=t.TypeError,Se=ne.prototype,Ie=xe.prototype,Pe=Ee.prototype,De=t["__core-js_shared__"],Re=Ie.toString,Le=Pe.hasOwnProperty,Me=0,Oe=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ne=Pe.toString,$e=Re.call(Ee),Fe=ut._,Be=Ce("^"+Re.call(Le).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=mt?t.Buffer:i,je=t.Symbol,Ve=t.Uint8Array,Ue=ze?ze.allocUnsafe:i,He=ri(Ee.getPrototypeOf,Ee),qe=Ee.create,Ge=Pe.propertyIsEnumerable,We=Se.splice,Ye=je?je.isConcatSpreadable:i,Ke=je?je.iterator:i,Je=je?je.toStringTag:i,et=function(){try{var e=dr(Ee,"defineProperty");return e({},"",{}),e}catch(f1){}}(),st=t.clearTimeout!==ut.clearTimeout&&t.clearTimeout,ct=ke&&ke.now!==ut.Date.now&&ke.now,dt=t.setTimeout!==ut.setTimeout&&t.setTimeout,ht=_e.ceil,pt=_e.floor,ft=Ee.getOwnPropertySymbols,gt=ze?ze.isBuffer:i,Nt=t.isFinite,Ht=Se.join,mi=ri(Ee.keys,Ee),fi=_e.max,gi=_e.min,bi=ke.now,vi=t.parseInt,yi=_e.random,ki=Se.reverse,wi=dr(t,"DataView"),xi=dr(t,"Map"),_i=dr(t,"Promise"),Ei=dr(t,"Set"),Ci=dr(t,"WeakMap"),Ai=dr(Ee,"create"),Ti=Ci&&new Ci,Si={},Ii=Nr(wi),Pi=Nr(xi),Di=Nr(_i),Ri=Nr(Ei),Li=Nr(Ci),Mi=je?je.prototype:i,Oi=Mi?Mi.valueOf:i,Ni=Mi?Mi.toString:i;function $i(e){if(Zs(e)&&!Vs(e)&&!(e instanceof ji)){if(e instanceof zi)return e;if(Le.call(e,"__wrapped__"))return $r(e)}return new zi(e)}var Fi=function(){function e(){}return function(t){if(!Js(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Bi(){}function zi(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function ji(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Vi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Ui(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Hi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function qi(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Hi;++t<i;)this.add(e[t])}function Gi(e){var t=this.__data__=new Ui(e);this.size=t.size}function Wi(e,t){var i=Vs(e),n=!i&&js(e),o=!i&&!n&&Gs(e),r=!i&&!n&&!o&&aa(e),s=i||n||o||r,a=s?Wt(e.length,Ae):[],l=a.length;for(var c in e)!t&&!Le.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||br(c,l))||a.push(c);return a}function Yi(e){var t=e.length;return t?e[Gn(0,t-1)]:i}function Ki(e,t){return Lr(So(e),rn(t,0,e.length))}function Qi(e){return Lr(So(e))}function Xi(e,t,n){(n!==i&&!Fs(e[t],n)||n===i&&!(t in e))&&nn(e,t,n)}function Ji(e,t,n){var o=e[t];Le.call(e,t)&&Fs(o,n)&&(n!==i||t in e)||nn(e,t,n)}function Zi(e,t){for(var i=e.length;i--;)if(Fs(e[i][0],t))return i;return-1}function en(e,t,i,n){return dn(e,(function(e,o,r){t(n,e,i(e),r)})),n}function tn(e,t){return e&&Io(t,Ia(t),e)}function nn(e,t,i){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function on(e,t){for(var n=-1,o=t.length,r=ne(o),s=null==e;++n<o;)r[n]=s?i:Ea(e,t[n]);return r}function rn(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sn(e,t,n,o,r,s){var a,l=1&t,c=2&t,d=4&t;if(n&&(a=r?n(e,o,r,s):n(e)),a!==i)return a;if(!Js(e))return e;var u=Vs(e);if(u){if(a=function(e){var t=e.length,i=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(i.index=e.index,i.input=e.input);return i}(e),!l)return So(e,a)}else{var h=pr(e),p=h==y||h==k;if(Gs(e))return xo(e,l);if(h==_||h==m||p&&!r){if(a=c||p?{}:fr(e),!l)return c?function(e,t){return Io(e,hr(e),t)}(e,function(e,t){return e&&Io(t,Pa(t),e)}(a,e)):function(e,t){return Io(e,ur(e),t)}(e,tn(a,e))}else{if(!rt[h])return r?e:{};a=function(e,t,i){var n=e.constructor;switch(t){case P:return _o(e);case g:case b:return new n(+e);case D:return function(e,t){var i=t?_o(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case R:case L:case M:case O:case N:case $:case F:case B:case z:return Eo(e,i);case w:return new n;case x:case T:return new n(e);case C:return function(e){var t=new e.constructor(e.source,ue.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new n;case S:return o=e,Oi?Ee(Oi.call(o)):{}}var o}(e,h,l)}}s||(s=new Gi);var f=s.get(e);if(f)return f;s.set(e,a),oa(e)?e.forEach((function(i){a.add(sn(i,t,n,i,e,s))})):ea(e)&&e.forEach((function(i,o){a.set(o,sn(i,t,n,o,e,s))}));var v=u?i:(d?c?nr:ir:c?Pa:Ia)(e);return Ct(v||e,(function(i,o){v&&(i=e[o=i]),Ji(a,o,sn(i,t,n,o,e,s))})),a}function an(e,t,n){var o=n.length;if(null==e)return!o;for(e=Ee(e);o--;){var r=n[o],s=t[r],a=e[r];if(a===i&&!(r in e)||!s(a))return!1}return!0}function ln(e,t,o){if("function"!=typeof e)throw new Te(n);return Ir((function(){e.apply(i,o)}),t)}function cn(e,t,i,n){var o=-1,r=It,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;i&&(t=Dt(t,Kt(i))),n?(r=Pt,s=!1):t.length>=200&&(r=Xt,s=!1,t=new qi(t));e:for(;++o<a;){var d=e[o],u=null==i?d:i(d);if(d=n||0!==d?d:0,s&&u==u){for(var h=c;h--;)if(t[h]===u)continue e;l.push(d)}else r(t,u,n)||l.push(d)}return l}$i.templateSettings={escape:Y,evaluate:K,interpolate:Q,variable:"",imports:{_:$i}},$i.prototype=Bi.prototype,$i.prototype.constructor=$i,zi.prototype=Fi(Bi.prototype),zi.prototype.constructor=zi,ji.prototype=Fi(Bi.prototype),ji.prototype.constructor=ji,Vi.prototype.clear=function(){this.__data__=Ai?Ai(null):{},this.size=0},Vi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vi.prototype.get=function(e){var t=this.__data__;if(Ai){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Vi.prototype.has=function(e){var t=this.__data__;return Ai?t[e]!==i:Le.call(t,e)},Vi.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ai&&t===i?o:t,this},Ui.prototype.clear=function(){this.__data__=[],this.size=0},Ui.prototype.delete=function(e){var t=this.__data__,i=Zi(t,e);return!(i<0)&&(i==t.length-1?t.pop():We.call(t,i,1),--this.size,!0)},Ui.prototype.get=function(e){var t=this.__data__,n=Zi(t,e);return n<0?i:t[n][1]},Ui.prototype.has=function(e){return Zi(this.__data__,e)>-1},Ui.prototype.set=function(e,t){var i=this.__data__,n=Zi(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},Hi.prototype.clear=function(){this.size=0,this.__data__={hash:new Vi,map:new(xi||Ui),string:new Vi}},Hi.prototype.delete=function(e){var t=lr(this,e).delete(e);return this.size-=t?1:0,t},Hi.prototype.get=function(e){return lr(this,e).get(e)},Hi.prototype.has=function(e){return lr(this,e).has(e)},Hi.prototype.set=function(e,t){var i=lr(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},qi.prototype.add=qi.prototype.push=function(e){return this.__data__.set(e,o),this},qi.prototype.has=function(e){return this.__data__.has(e)},Gi.prototype.clear=function(){this.__data__=new Ui,this.size=0},Gi.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Gi.prototype.get=function(e){return this.__data__.get(e)},Gi.prototype.has=function(e){return this.__data__.has(e)},Gi.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Ui){var n=i.__data__;if(!xi||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Hi(n)}return i.set(e,t),this.size=i.size,this};var dn=Ro(vn),un=Ro(yn,!0);function hn(e,t){var i=!0;return dn(e,(function(e,n,o){return i=!!t(e,n,o)})),i}function pn(e,t,n){for(var o=-1,r=e.length;++o<r;){var s=e[o],a=t(s);if(null!=a&&(l===i?a==a&&!sa(a):n(a,l)))var l=a,c=s}return c}function mn(e,t){var i=[];return dn(e,(function(e,n,o){t(e,n,o)&&i.push(e)})),i}function fn(e,t,i,n,o){var r=-1,s=e.length;for(i||(i=gr),o||(o=[]);++r<s;){var a=e[r];t>0&&i(a)?t>1?fn(a,t-1,i,n,o):Rt(o,a):n||(o[o.length]=a)}return o}var gn=Lo(),bn=Lo(!0);function vn(e,t){return e&&gn(e,t,Ia)}function yn(e,t){return e&&bn(e,t,Ia)}function kn(e,t){return St(t,(function(t){return Ks(e[t])}))}function wn(e,t){for(var n=0,o=(t=vo(t,e)).length;null!=e&&n<o;)e=e[Or(t[n++])];return n&&n==o?e:i}function xn(e,t,i){var n=t(e);return Vs(e)?n:Rt(n,i(e))}function _n(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Ee(e)?function(e){var t=Le.call(e,Je),n=e[Je];try{e[Je]=i;var o=!0}catch(f1){}var r=Ne.call(e);o&&(t?e[Je]=n:delete e[Je]);return r}(e):function(e){return Ne.call(e)}(e)}function En(e,t){return e>t}function Cn(e,t){return null!=e&&Le.call(e,t)}function An(e,t){return null!=e&&t in Ee(e)}function Tn(e,t,n){for(var o=n?Pt:It,r=e[0].length,s=e.length,a=s,l=ne(s),c=1/0,d=[];a--;){var u=e[a];a&&t&&(u=Dt(u,Kt(t))),c=gi(u.length,c),l[a]=!n&&(t||r>=120&&u.length>=120)?new qi(a&&u):i}u=e[0];var h=-1,p=l[0];e:for(;++h<r&&d.length<c;){var m=u[h],f=t?t(m):m;if(m=n||0!==m?m:0,!(p?Xt(p,f):o(d,f,n))){for(a=s;--a;){var g=l[a];if(!(g?Xt(g,f):o(e[a],f,n)))continue e}p&&p.push(f),d.push(m)}}return d}function Sn(e,t,n){var o=null==(e=Ar(e,t=vo(t,e)))?e:e[Or(Yr(t))];return null==o?i:_t(o,e,n)}function In(e){return Zs(e)&&_n(e)==m}function Pn(e,t,n,o,r){return e===t||(null==e||null==t||!Zs(e)&&!Zs(t)?e!=e&&t!=t:function(e,t,n,o,r,s){var a=Vs(e),l=Vs(t),c=a?f:pr(e),d=l?f:pr(t),u=(c=c==m?_:c)==_,h=(d=d==m?_:d)==_,p=c==d;if(p&&Gs(e)){if(!Gs(t))return!1;a=!0,u=!1}if(p&&!u)return s||(s=new Gi),a||aa(e)?er(e,t,n,o,r,s):function(e,t,i,n,o,r,s){switch(i){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!r(new Ve(e),new Ve(t)));case g:case b:case x:return Fs(+e,+t);case v:return e.name==t.name&&e.message==t.message;case C:case T:return e==t+"";case w:var a=oi;case A:var l=1&n;if(a||(a=ai),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=2,s.set(e,t);var d=er(a(e),a(t),n,o,r,s);return s.delete(e),d;case S:if(Oi)return Oi.call(e)==Oi.call(t)}return!1}(e,t,c,n,o,r,s);if(!(1&n)){var y=u&&Le.call(e,"__wrapped__"),k=h&&Le.call(t,"__wrapped__");if(y||k){var E=y?e.value():e,I=k?t.value():t;return s||(s=new Gi),r(E,I,n,o,s)}}if(!p)return!1;return s||(s=new Gi),function(e,t,n,o,r,s){var a=1&n,l=ir(e),c=l.length,d=ir(t),u=d.length;if(c!=u&&!a)return!1;var h=c;for(;h--;){var p=l[h];if(!(a?p in t:Le.call(t,p)))return!1}var m=s.get(e),f=s.get(t);if(m&&f)return m==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);var b=a;for(;++h<c;){var v=e[p=l[h]],y=t[p];if(o)var k=a?o(y,v,p,t,e,s):o(v,y,p,e,t,s);if(!(k===i?v===y||r(v,y,n,o,s):k)){g=!1;break}b||(b="constructor"==p)}if(g&&!b){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,o,r,s)}(e,t,n,o,Pn,r))}function Dn(e,t,n,o){var r=n.length,s=r,a=!o;if(null==e)return!s;for(e=Ee(e);r--;){var l=n[r];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<s;){var c=(l=n[r])[0],d=e[c],u=l[1];if(a&&l[2]){if(d===i&&!(c in e))return!1}else{var h=new Gi;if(o)var p=o(d,u,c,e,t,h);if(!(p===i?Pn(u,d,3,o,h):p))return!1}}return!0}function Rn(e){return!(!Js(e)||(t=e,Oe&&Oe in t))&&(Ks(e)?Be:me).test(Nr(e));var t}function Ln(e){return"function"==typeof e?e:null==e?tl:"object"==typeof e?Vs(e)?Bn(e[0],e[1]):Fn(e):dl(e)}function Mn(e){if(!xr(e))return mi(e);var t=[];for(var i in Ee(e))Le.call(e,i)&&"constructor"!=i&&t.push(i);return t}function On(e){if(!Js(e))return function(e){var t=[];if(null!=e)for(var i in Ee(e))t.push(i);return t}(e);var t=xr(e),i=[];for(var n in e)("constructor"!=n||!t&&Le.call(e,n))&&i.push(n);return i}function Nn(e,t){return e<t}function $n(e,t){var i=-1,n=Hs(e)?ne(e.length):[];return dn(e,(function(e,o,r){n[++i]=t(e,o,r)})),n}function Fn(e){var t=cr(e);return 1==t.length&&t[0][2]?Er(t[0][0],t[0][1]):function(i){return i===e||Dn(i,e,t)}}function Bn(e,t){return yr(e)&&_r(t)?Er(Or(e),t):function(n){var o=Ea(n,e);return o===i&&o===t?Ca(n,e):Pn(t,o,3)}}function zn(e,t,n,o,r){e!==t&&gn(t,(function(s,a){if(r||(r=new Gi),Js(s))!function(e,t,n,o,r,s,a){var l=Tr(e,n),c=Tr(t,n),d=a.get(c);if(d)return void Xi(e,n,d);var u=s?s(l,c,n+"",e,t,a):i,h=u===i;if(h){var p=Vs(c),m=!p&&Gs(c),f=!p&&!m&&aa(c);u=c,p||m||f?Vs(l)?u=l:qs(l)?u=So(l):m?(h=!1,u=xo(c,!0)):f?(h=!1,u=Eo(c,!0)):u=[]:ia(c)||js(c)?(u=l,js(l)?u=fa(l):Js(l)&&!Ks(l)||(u=fr(c))):h=!1}h&&(a.set(c,u),r(u,c,o,s,a),a.delete(c));Xi(e,n,u)}(e,t,a,n,zn,o,r);else{var l=o?o(Tr(e,a),s,a+"",e,t,r):i;l===i&&(l=s),Xi(e,a,l)}}),Pa)}function jn(e,t){var n=e.length;if(n)return br(t+=t<0?n:0,n)?e[t]:i}function Vn(e,t,i){t=t.length?Dt(t,(function(e){return Vs(e)?function(t){return wn(t,1===e.length?e[0]:e)}:e})):[tl];var n=-1;t=Dt(t,Kt(ar()));var o=$n(e,(function(e,i,o){var r=Dt(t,(function(t){return t(e)}));return{criteria:r,index:++n,value:e}}));return function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}(o,(function(e,t){return function(e,t,i){var n=-1,o=e.criteria,r=t.criteria,s=o.length,a=i.length;for(;++n<s;){var l=Co(o[n],r[n]);if(l)return n>=a?l:l*("desc"==i[n]?-1:1)}return e.index-t.index}(e,t,i)}))}function Un(e,t,i){for(var n=-1,o=t.length,r={};++n<o;){var s=t[n],a=wn(e,s);i(a,s)&&Xn(r,vo(s,e),a)}return r}function Hn(e,t,i,n){var o=n?zt:Bt,r=-1,s=t.length,a=e;for(e===t&&(t=So(t)),i&&(a=Dt(e,Kt(i)));++r<s;)for(var l=0,c=t[r],d=i?i(c):c;(l=o(a,d,l,n))>-1;)a!==e&&We.call(a,l,1),We.call(e,l,1);return e}function qn(e,t){for(var i=e?t.length:0,n=i-1;i--;){var o=t[i];if(i==n||o!==r){var r=o;br(o)?We.call(e,o,1):co(e,o)}}return e}function Gn(e,t){return e+pt(yi()*(t-e+1))}function Wn(e,t){var i="";if(!e||t<1||t>d)return i;do{t%2&&(i+=e),(t=pt(t/2))&&(e+=e)}while(t);return i}function Yn(e,t){return Pr(Cr(e,t,tl),e+"")}function Kn(e){return Yi(Fa(e))}function Qn(e,t){var i=Fa(e);return Lr(i,rn(t,0,i.length))}function Xn(e,t,n,o){if(!Js(e))return e;for(var r=-1,s=(t=vo(t,e)).length,a=s-1,l=e;null!=l&&++r<s;){var c=Or(t[r]),d=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=a){var u=l[c];(d=o?o(u,c,l):i)===i&&(d=Js(u)?u:br(t[r+1])?[]:{})}Ji(l,c,d),l=l[c]}return e}var Jn=Ti?function(e,t){return Ti.set(e,t),e}:tl,Zn=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Ja(t),writable:!0})}:tl;function eo(e){return Lr(Fa(e))}function to(e,t,i){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var r=ne(o);++n<o;)r[n]=e[n+t];return r}function io(e,t){var i;return dn(e,(function(e,n,o){return!(i=t(e,n,o))})),!!i}function no(e,t,i){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;n<o;){var r=n+o>>>1,s=e[r];null!==s&&!sa(s)&&(i?s<=t:s<t)?n=r+1:o=r}return o}return oo(e,t,tl,i)}function oo(e,t,n,o){var r=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,l=null===t,c=sa(t),d=t===i;r<s;){var u=pt((r+s)/2),h=n(e[u]),p=h!==i,m=null===h,f=h==h,g=sa(h);if(a)var b=o||f;else b=d?f&&(o||p):l?f&&p&&(o||!m):c?f&&p&&!m&&(o||!g):!m&&!g&&(o?h<=t:h<t);b?r=u+1:s=u}return gi(s,4294967294)}function ro(e,t){for(var i=-1,n=e.length,o=0,r=[];++i<n;){var s=e[i],a=t?t(s):s;if(!i||!Fs(a,l)){var l=a;r[o++]=0===s?0:s}}return r}function so(e){return"number"==typeof e?e:sa(e)?u:+e}function ao(e){if("string"==typeof e)return e;if(Vs(e))return Dt(e,ao)+"";if(sa(e))return Ni?Ni.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function lo(e,t,i){var n=-1,o=It,r=e.length,s=!0,a=[],l=a;if(i)s=!1,o=Pt;else if(r>=200){var c=t?null:Yo(e);if(c)return ai(c);s=!1,o=Xt,l=new qi}else l=t?[]:a;e:for(;++n<r;){var d=e[n],u=t?t(d):d;if(d=i||0!==d?d:0,s&&u==u){for(var h=l.length;h--;)if(l[h]===u)continue e;t&&l.push(u),a.push(d)}else o(l,u,i)||(l!==a&&l.push(u),a.push(d))}return a}function co(e,t){return null==(e=Ar(e,t=vo(t,e)))||delete e[Or(Yr(t))]}function uo(e,t,i,n){return Xn(e,t,i(wn(e,t)),n)}function ho(e,t,i,n){for(var o=e.length,r=n?o:-1;(n?r--:++r<o)&&t(e[r],r,e););return i?to(e,n?0:r,n?r+1:o):to(e,n?r+1:0,n?o:r)}function po(e,t){var i=e;return i instanceof ji&&(i=i.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),i)}function mo(e,t,i){var n=e.length;if(n<2)return n?lo(e[0]):[];for(var o=-1,r=ne(n);++o<n;)for(var s=e[o],a=-1;++a<n;)a!=o&&(r[o]=cn(r[o]||s,e[a],t,i));return lo(fn(r,1),t,i)}function fo(e,t,n){for(var o=-1,r=e.length,s=t.length,a={};++o<r;){var l=o<s?t[o]:i;n(a,e[o],l)}return a}function go(e){return qs(e)?e:[]}function bo(e){return"function"==typeof e?e:tl}function vo(e,t){return Vs(e)?e:yr(e,t)?[e]:Mr(ga(e))}var yo=Yn;function ko(e,t,n){var o=e.length;return n=n===i?o:n,!t&&n>=o?e:to(e,t,n)}var wo=st||function(e){return ut.clearTimeout(e)};function xo(e,t){if(t)return e.slice();var i=e.length,n=Ue?Ue(i):new e.constructor(i);return e.copy(n),n}function _o(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Eo(e,t){var i=t?_o(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Co(e,t){if(e!==t){var n=e!==i,o=null===e,r=e==e,s=sa(e),a=t!==i,l=null===t,c=t==t,d=sa(t);if(!l&&!d&&!s&&e>t||s&&a&&c&&!l&&!d||o&&a&&c||!n&&c||!r)return 1;if(!o&&!s&&!d&&e<t||d&&n&&r&&!o&&!s||l&&n&&r||!a&&r||!c)return-1}return 0}function Ao(e,t,i,n){for(var o=-1,r=e.length,s=i.length,a=-1,l=t.length,c=fi(r-s,0),d=ne(l+c),u=!n;++a<l;)d[a]=t[a];for(;++o<s;)(u||o<r)&&(d[i[o]]=e[o]);for(;c--;)d[a++]=e[o++];return d}function To(e,t,i,n){for(var o=-1,r=e.length,s=-1,a=i.length,l=-1,c=t.length,d=fi(r-a,0),u=ne(d+c),h=!n;++o<d;)u[o]=e[o];for(var p=o;++l<c;)u[p+l]=t[l];for(;++s<a;)(h||o<r)&&(u[p+i[s]]=e[o++]);return u}function So(e,t){var i=-1,n=e.length;for(t||(t=ne(n));++i<n;)t[i]=e[i];return t}function Io(e,t,n,o){var r=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=o?o(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),r?nn(n,l,c):Ji(n,l,c)}return n}function Po(e,t){return function(i,n){var o=Vs(i)?Et:en,r=t?t():{};return o(i,e,ar(n,2),r)}}function Do(e){return Yn((function(t,n){var o=-1,r=n.length,s=r>1?n[r-1]:i,a=r>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(r--,s):i,a&&vr(n[0],n[1],a)&&(s=r<3?i:s,r=1),t=Ee(t);++o<r;){var l=n[o];l&&e(t,l,o,s)}return t}))}function Ro(e,t){return function(i,n){if(null==i)return i;if(!Hs(i))return e(i,n);for(var o=i.length,r=t?o:-1,s=Ee(i);(t?r--:++r<o)&&!1!==n(s[r],r,s););return i}}function Lo(e){return function(t,i,n){for(var o=-1,r=Ee(t),s=n(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===i(r[l],l,r))break}return t}}function Mo(e){return function(t){var n=ni(t=ga(t))?di(t):i,o=n?n[0]:t.charAt(0),r=n?ko(n,1).join(""):t.slice(1);return o[e]()+r}}function Oo(e){return function(t){return Lt(Ka(ja(t).replace(Qe,"")),e,"")}}function No(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Fi(e.prototype),n=e.apply(i,t);return Js(n)?n:i}}function $o(e){return function(t,n,o){var r=Ee(t);if(!Hs(t)){var s=ar(n,3);t=Ia(t),n=function(e){return s(r[e],e,r)}}var a=e(t,n,o);return a>-1?r[s?t[a]:a]:i}}function Fo(e){return tr((function(t){var o=t.length,r=o,s=zi.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Te(n);if(s&&!l&&"wrapper"==rr(a))var l=new zi([],!0)}for(r=l?r:o;++r<o;){var c=rr(a=t[r]),d="wrapper"==c?or(a):i;l=d&&kr(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?l[rr(d[0])].apply(l,d[3]):1==a.length&&kr(a)?l[c]():l.thru(a)}return function(){var e=arguments,i=e[0];if(l&&1==e.length&&Vs(i))return l.plant(i).value();for(var n=0,r=o?t[n].apply(this,e):i;++n<o;)r=t[n].call(this,r);return r}}))}function Bo(e,t,n,o,r,s,l,c,d,u){var h=t&a,p=1&t,m=2&t,f=24&t,g=512&t,b=m?i:No(e);return function a(){for(var v=arguments.length,y=ne(v),k=v;k--;)y[k]=arguments[k];if(f)var w=sr(a),x=function(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}(y,w);if(o&&(y=Ao(y,o,r,f)),s&&(y=To(y,s,l,f)),v-=x,f&&v<u){var _=si(y,w);return Go(e,t,Bo,a.placeholder,n,y,_,c,d,u-v)}var E=p?n:this,C=m?E[e]:e;return v=y.length,c?y=function(e,t){var n=e.length,o=gi(t.length,n),r=So(e);for(;o--;){var s=t[o];e[o]=br(s,n)?r[s]:i}return e}(y,c):g&&v>1&&y.reverse(),h&&d<v&&(y.length=d),this&&this!==ut&&this instanceof a&&(C=b||No(C)),C.apply(E,y)}}function zo(e,t){return function(i,n){return function(e,t,i,n){return vn(e,(function(e,o,r){t(n,i(e),o,r)})),n}(i,e,t(n),{})}}function jo(e,t){return function(n,o){var r;if(n===i&&o===i)return t;if(n!==i&&(r=n),o!==i){if(r===i)return o;"string"==typeof n||"string"==typeof o?(n=ao(n),o=ao(o)):(n=so(n),o=so(o)),r=e(n,o)}return r}}function Vo(e){return tr((function(t){return t=Dt(t,Kt(ar())),Yn((function(i){var n=this;return e(t,(function(e){return _t(e,n,i)}))}))}))}function Uo(e,t){var n=(t=t===i?" ":ao(t)).length;if(n<2)return n?Wn(t,e):t;var o=Wn(t,ht(e/ci(t)));return ni(t)?ko(di(o),0,e).join(""):o.slice(0,e)}function Ho(e){return function(t,n,o){return o&&"number"!=typeof o&&vr(t,n,o)&&(n=o=i),t=ua(t),n===i?(n=t,t=0):n=ua(n),function(e,t,i,n){for(var o=-1,r=fi(ht((t-e)/(i||1)),0),s=ne(r);r--;)s[n?r:++o]=e,e+=i;return s}(t,n,o=o===i?t<n?1:-1:ua(o),e)}}function qo(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=ma(t),i=ma(i)),e(t,i)}}function Go(e,t,n,o,r,a,l,c,d,u){var h=8&t;t|=h?s:64,4&(t&=~(h?64:s))||(t&=-4);var p=[e,t,r,h?a:i,h?l:i,h?i:a,h?i:l,c,d,u],m=n.apply(i,p);return kr(e)&&Sr(m,p),m.placeholder=o,Dr(m,e,t)}function Wo(e){var t=_e[e];return function(e,i){if(e=ma(e),(i=null==i?0:gi(ha(i),292))&&Nt(e)){var n=(ga(e)+"e").split("e");return+((n=(ga(t(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}var Yo=Ei&&1/ai(new Ei([,-0]))[1]==c?function(e){return new Ei(e)}:sl;function Ko(e){return function(t){var i=pr(t);return i==w?oi(t):i==A?li(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,o,c,d,u,h,p){var m=2&t;if(!m&&"function"!=typeof e)throw new Te(n);var f=c?c.length:0;if(f||(t&=-97,c=d=i),h=h===i?h:fi(ha(h),0),p=p===i?p:ha(p),f-=d?d.length:0,64&t){var g=c,b=d;c=d=i}var v=m?i:or(e),y=[e,t,o,c,d,g,b,u,h,p];if(v&&function(e,t){var i=e[1],n=t[1],o=i|n,s=o<131,c=n==a&&8==i||n==a&&i==l&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==i;if(!s&&!c)return e;1&n&&(e[2]=t[2],o|=1&i?0:4);var d=t[3];if(d){var u=e[3];e[3]=u?Ao(u,d,t[4]):d,e[4]=u?si(e[3],r):t[4]}d=t[5],d&&(u=e[5],e[5]=u?To(u,d,t[6]):d,e[6]=u?si(e[5],r):t[6]);d=t[7],d&&(e[7]=d);n&a&&(e[8]=null==e[8]?t[8]:gi(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(y,v),e=y[0],t=y[1],o=y[2],c=y[3],d=y[4],!(p=y[9]=y[9]===i?m?0:e.length:fi(y[9]-f,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||16==t?function(e,t,n){var o=No(e);return function r(){for(var s=arguments.length,a=ne(s),l=s,c=sr(r);l--;)a[l]=arguments[l];var d=s<3&&a[0]!==c&&a[s-1]!==c?[]:si(a,c);return(s-=d.length)<n?Go(e,t,Bo,r.placeholder,i,a,d,i,i,n-s):_t(this&&this!==ut&&this instanceof r?o:e,this,a)}}(e,t,p):t!=s&&33!=t||d.length?Bo.apply(i,y):function(e,t,i,n){var o=1&t,r=No(e);return function t(){for(var s=-1,a=arguments.length,l=-1,c=n.length,d=ne(c+a),u=this&&this!==ut&&this instanceof t?r:e;++l<c;)d[l]=n[l];for(;a--;)d[l++]=arguments[++s];return _t(u,o?i:this,d)}}(e,t,o,c);else var k=function(e,t,i){var n=1&t,o=No(e);return function t(){return(this&&this!==ut&&this instanceof t?o:e).apply(n?i:this,arguments)}}(e,t,o);return Dr((v?Jn:Sr)(k,y),e,t)}function Xo(e,t,n,o){return e===i||Fs(e,Pe[n])&&!Le.call(o,n)?t:e}function Jo(e,t,n,o,r,s){return Js(e)&&Js(t)&&(s.set(t,e),zn(e,t,i,Jo,s),s.delete(t)),e}function Zo(e){return ia(e)?i:e}function er(e,t,n,o,r,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var d=s.get(e),u=s.get(t);if(d&&u)return d==t&&u==e;var h=-1,p=!0,m=2&n?new qi:i;for(s.set(e,t),s.set(t,e);++h<l;){var f=e[h],g=t[h];if(o)var b=a?o(g,f,h,t,e,s):o(f,g,h,e,t,s);if(b!==i){if(b)continue;p=!1;break}if(m){if(!Ot(t,(function(e,t){if(!Xt(m,t)&&(f===e||r(f,e,n,o,s)))return m.push(t)}))){p=!1;break}}else if(f!==g&&!r(f,g,n,o,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function tr(e){return Pr(Cr(e,i,Ur),e+"")}function ir(e){return xn(e,Ia,ur)}function nr(e){return xn(e,Pa,hr)}var or=Ti?function(e){return Ti.get(e)}:sl;function rr(e){for(var t=e.name+"",i=Si[t],n=Le.call(Si,t)?i.length:0;n--;){var o=i[n],r=o.func;if(null==r||r==e)return o.name}return t}function sr(e){return(Le.call($i,"placeholder")?$i:e).placeholder}function ar(){var e=$i.iteratee||il;return e=e===il?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function lr(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function cr(e){for(var t=Ia(e),i=t.length;i--;){var n=t[i],o=e[n];t[i]=[n,o,_r(o)]}return t}function dr(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rn(n)?n:i}var ur=ft?function(e){return null==e?[]:(e=Ee(e),St(ft(e),(function(t){return Ge.call(e,t)})))}:pl,hr=ft?function(e){for(var t=[];e;)Rt(t,ur(e)),e=He(e);return t}:pl,pr=_n;function mr(e,t,i){for(var n=-1,o=(t=vo(t,e)).length,r=!1;++n<o;){var s=Or(t[n]);if(!(r=null!=e&&i(e,s)))break;e=e[s]}return r||++n!=o?r:!!(o=null==e?0:e.length)&&Xs(o)&&br(s,o)&&(Vs(e)||js(e))}function fr(e){return"function"!=typeof e.constructor||xr(e)?{}:Fi(He(e))}function gr(e){return Vs(e)||js(e)||!!(Ye&&e&&e[Ye])}function br(e,t){var i=typeof e;return!!(t=null==t?d:t)&&("number"==i||"symbol"!=i&&ge.test(e))&&e>-1&&e%1==0&&e<t}function vr(e,t,i){if(!Js(i))return!1;var n=typeof t;return!!("number"==n?Hs(i)&&br(t,i.length):"string"==n&&t in i)&&Fs(i[t],e)}function yr(e,t){if(Vs(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!sa(e))||(J.test(e)||!X.test(e)||null!=t&&e in Ee(t))}function kr(e){var t=rr(e),i=$i[t];if("function"!=typeof i||!(t in ji.prototype))return!1;if(e===i)return!0;var n=or(i);return!!n&&e===n[0]}(wi&&pr(new wi(new ArrayBuffer(1)))!=D||xi&&pr(new xi)!=w||_i&&pr(_i.resolve())!=E||Ei&&pr(new Ei)!=A||Ci&&pr(new Ci)!=I)&&(pr=function(e){var t=_n(e),n=t==_?e.constructor:i,o=n?Nr(n):"";if(o)switch(o){case Ii:return D;case Pi:return w;case Di:return E;case Ri:return A;case Li:return I}return t});var wr=De?Ks:ml;function xr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function _r(e){return e==e&&!Js(e)}function Er(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ee(n)))}}function Cr(e,t,n){return t=fi(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,r=fi(i.length-t,0),s=ne(r);++o<r;)s[o]=i[t+o];o=-1;for(var a=ne(t+1);++o<t;)a[o]=i[o];return a[t]=n(s),_t(e,this,a)}}function Ar(e,t){return t.length<2?e:wn(e,to(t,0,-1))}function Tr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Sr=Rr(Jn),Ir=dt||function(e,t){return ut.setTimeout(e,t)},Pr=Rr(Zn);function Dr(e,t,i){var n=t+"";return Pr(e,function(e,t){var i=t.length;if(!i)return e;var n=i-1;return t[n]=(i>1?"& ":"")+t[n],t=t.join(i>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ct(p,(function(i){var n="_."+i[0];t&i[1]&&!It(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(re);return t?t[1].split(se):[]}(n),i)))}function Rr(e){var t=0,n=0;return function(){var o=bi(),r=16-(o-n);if(n=o,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Lr(e,t){var n=-1,o=e.length,r=o-1;for(t=t===i?o:t;++n<t;){var s=Gn(n,r),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Mr=function(e){var t=Rs(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Z,(function(e,i,n,o){t.push(n?o.replace(ce,"$1"):i||e)})),t}));function Or(e){if("string"==typeof e||sa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Nr(e){if(null!=e){try{return Re.call(e)}catch(f1){}try{return e+""}catch(f1){}}return""}function $r(e){if(e instanceof ji)return e.clone();var t=new zi(e.__wrapped__,e.__chain__);return t.__actions__=So(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fr=Yn((function(e,t){return qs(e)?cn(e,fn(t,1,qs,!0)):[]})),Br=Yn((function(e,t){var n=Yr(t);return qs(n)&&(n=i),qs(e)?cn(e,fn(t,1,qs,!0),ar(n,2)):[]})),zr=Yn((function(e,t){var n=Yr(t);return qs(n)&&(n=i),qs(e)?cn(e,fn(t,1,qs,!0),i,n):[]}));function jr(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=null==i?0:ha(i);return o<0&&(o=fi(n+o,0)),Ft(e,ar(t,3),o)}function Vr(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=o-1;return n!==i&&(r=ha(n),r=n<0?fi(o+r,0):gi(r,o-1)),Ft(e,ar(t,3),r,!0)}function Ur(e){return(null==e?0:e.length)?fn(e,1):[]}function Hr(e){return e&&e.length?e[0]:i}var qr=Yn((function(e){var t=Dt(e,go);return t.length&&t[0]===e[0]?Tn(t):[]})),Gr=Yn((function(e){var t=Yr(e),n=Dt(e,go);return t===Yr(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Tn(n,ar(t,2)):[]})),Wr=Yn((function(e){var t=Yr(e),n=Dt(e,go);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Tn(n,i,t):[]}));function Yr(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Kr=Yn(Qr);function Qr(e,t){return e&&e.length&&t&&t.length?Hn(e,t):e}var Xr=tr((function(e,t){var i=null==e?0:e.length,n=on(e,t);return qn(e,Dt(t,(function(e){return br(e,i)?+e:e})).sort(Co)),n}));function Jr(e){return null==e?e:ki.call(e)}var Zr=Yn((function(e){return lo(fn(e,1,qs,!0))})),es=Yn((function(e){var t=Yr(e);return qs(t)&&(t=i),lo(fn(e,1,qs,!0),ar(t,2))})),ts=Yn((function(e){var t=Yr(e);return t="function"==typeof t?t:i,lo(fn(e,1,qs,!0),i,t)}));function is(e){if(!e||!e.length)return[];var t=0;return e=St(e,(function(e){if(qs(e))return t=fi(e.length,t),!0})),Wt(t,(function(t){return Dt(e,Ut(t))}))}function ns(e,t){if(!e||!e.length)return[];var n=is(e);return null==t?n:Dt(n,(function(e){return _t(t,i,e)}))}var os=Yn((function(e,t){return qs(e)?cn(e,t):[]})),rs=Yn((function(e){return mo(St(e,qs))})),ss=Yn((function(e){var t=Yr(e);return qs(t)&&(t=i),mo(St(e,qs),ar(t,2))})),as=Yn((function(e){var t=Yr(e);return t="function"==typeof t?t:i,mo(St(e,qs),i,t)})),ls=Yn(is);var cs=Yn((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ns(e,n)}));function ds(e){var t=$i(e);return t.__chain__=!0,t}function us(e,t){return t(e)}var hs=tr((function(e){var t=e.length,n=t?e[0]:0,o=this.__wrapped__,r=function(t){return on(t,e)};return!(t>1||this.__actions__.length)&&o instanceof ji&&br(n)?((o=o.slice(n,+n+(t?1:0))).__actions__.push({func:us,args:[r],thisArg:i}),new zi(o,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(r)}));var ps=Po((function(e,t,i){Le.call(e,i)?++e[i]:nn(e,i,1)}));var ms=$o(jr),fs=$o(Vr);function gs(e,t){return(Vs(e)?Ct:dn)(e,ar(t,3))}function bs(e,t){return(Vs(e)?At:un)(e,ar(t,3))}var vs=Po((function(e,t,i){Le.call(e,i)?e[i].push(t):nn(e,i,[t])}));var ys=Yn((function(e,t,i){var n=-1,o="function"==typeof t,r=Hs(e)?ne(e.length):[];return dn(e,(function(e){r[++n]=o?_t(t,e,i):Sn(e,t,i)})),r})),ks=Po((function(e,t,i){nn(e,i,t)}));function ws(e,t){return(Vs(e)?Dt:$n)(e,ar(t,3))}var xs=Po((function(e,t,i){e[i?0:1].push(t)}),(function(){return[[],[]]}));var _s=Yn((function(e,t){if(null==e)return[];var i=t.length;return i>1&&vr(e,t[0],t[1])?t=[]:i>2&&vr(t[0],t[1],t[2])&&(t=[t[0]]),Vn(e,fn(t,1),[])})),Es=ct||function(){return ut.Date.now()};function Cs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Qo(e,a,i,i,i,i,t)}function As(e,t){var o;if("function"!=typeof t)throw new Te(n);return e=ha(e),function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=i),o}}var Ts=Yn((function(e,t,i){var n=1;if(i.length){var o=si(i,sr(Ts));n|=s}return Qo(e,n,t,i,o)})),Ss=Yn((function(e,t,i){var n=3;if(i.length){var o=si(i,sr(Ss));n|=s}return Qo(t,n,e,i,o)}));function Is(e,t,o){var r,s,a,l,c,d,u=0,h=!1,p=!1,m=!0;if("function"!=typeof e)throw new Te(n);function f(t){var n=r,o=s;return r=s=i,u=t,l=e.apply(o,n)}function g(e){var n=e-d;return d===i||n>=t||n<0||p&&e-u>=a}function b(){var e=Es();if(g(e))return v(e);c=Ir(b,function(e){var i=t-(e-d);return p?gi(i,a-(e-u)):i}(e))}function v(e){return c=i,m&&r?f(e):(r=s=i,l)}function y(){var e=Es(),n=g(e);if(r=arguments,s=this,d=e,n){if(c===i)return function(e){return u=e,c=Ir(b,t),h?f(e):l}(d);if(p)return wo(c),c=Ir(b,t),f(d)}return c===i&&(c=Ir(b,t)),l}return t=ma(t)||0,Js(o)&&(h=!!o.leading,a=(p="maxWait"in o)?fi(ma(o.maxWait)||0,t):a,m="trailing"in o?!!o.trailing:m),y.cancel=function(){c!==i&&wo(c),u=0,r=d=s=c=i},y.flush=function(){return c===i?l:v(Es())},y}var Ps=Yn((function(e,t){return ln(e,1,t)})),Ds=Yn((function(e,t,i){return ln(e,ma(t)||0,i)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(n);var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=e.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(Rs.Cache||Hi),i}function Ls(e){if("function"!=typeof e)throw new Te(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=Hi;var Ms=yo((function(e,t){var i=(t=1==t.length&&Vs(t[0])?Dt(t[0],Kt(ar())):Dt(fn(t,1),Kt(ar()))).length;return Yn((function(n){for(var o=-1,r=gi(n.length,i);++o<r;)n[o]=t[o].call(this,n[o]);return _t(e,this,n)}))})),Os=Yn((function(e,t){var n=si(t,sr(Os));return Qo(e,s,i,t,n)})),Ns=Yn((function(e,t){var n=si(t,sr(Ns));return Qo(e,64,i,t,n)})),$s=tr((function(e,t){return Qo(e,l,i,i,i,t)}));function Fs(e,t){return e===t||e!=e&&t!=t}var Bs=qo(En),zs=qo((function(e,t){return e>=t})),js=In(function(){return arguments}())?In:function(e){return Zs(e)&&Le.call(e,"callee")&&!Ge.call(e,"callee")},Vs=ne.isArray,Us=bt?Kt(bt):function(e){return Zs(e)&&_n(e)==P};function Hs(e){return null!=e&&Xs(e.length)&&!Ks(e)}function qs(e){return Zs(e)&&Hs(e)}var Gs=gt||ml,Ws=vt?Kt(vt):function(e){return Zs(e)&&_n(e)==b};function Ys(e){if(!Zs(e))return!1;var t=_n(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function Ks(e){if(!Js(e))return!1;var t=_n(e);return t==y||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qs(e){return"number"==typeof e&&e==ha(e)}function Xs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Js(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Zs(e){return null!=e&&"object"==typeof e}var ea=yt?Kt(yt):function(e){return Zs(e)&&pr(e)==w};function ta(e){return"number"==typeof e||Zs(e)&&_n(e)==x}function ia(e){if(!Zs(e)||_n(e)!=_)return!1;var t=He(e);if(null===t)return!0;var i=Le.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&Re.call(i)==$e}var na=kt?Kt(kt):function(e){return Zs(e)&&_n(e)==C};var oa=wt?Kt(wt):function(e){return Zs(e)&&pr(e)==A};function ra(e){return"string"==typeof e||!Vs(e)&&Zs(e)&&_n(e)==T}function sa(e){return"symbol"==typeof e||Zs(e)&&_n(e)==S}var aa=xt?Kt(xt):function(e){return Zs(e)&&Xs(e.length)&&!!ot[_n(e)]};var la=qo(Nn),ca=qo((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Hs(e))return ra(e)?di(e):So(e);if(Ke&&e[Ke])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[Ke]());var t=pr(e);return(t==w?oi:t==A?ai:Fa)(e)}function ua(e){return e?(e=ma(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ha(e){var t=ua(e),i=t%1;return t==t?i?t-i:t:0}function pa(e){return e?rn(ha(e),0,h):0}function ma(e){if("number"==typeof e)return e;if(sa(e))return u;if(Js(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Js(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var i=pe.test(e);return i||fe.test(e)?lt(e.slice(2),i?2:8):he.test(e)?u:+e}function fa(e){return Io(e,Pa(e))}function ga(e){return null==e?"":ao(e)}var ba=Do((function(e,t){if(xr(t)||Hs(t))Io(t,Ia(t),e);else for(var i in t)Le.call(t,i)&&Ji(e,i,t[i])})),va=Do((function(e,t){Io(t,Pa(t),e)})),ya=Do((function(e,t,i,n){Io(t,Pa(t),e,n)})),ka=Do((function(e,t,i,n){Io(t,Ia(t),e,n)})),wa=tr(on);var xa=Yn((function(e,t){e=Ee(e);var n=-1,o=t.length,r=o>2?t[2]:i;for(r&&vr(t[0],t[1],r)&&(o=1);++n<o;)for(var s=t[n],a=Pa(s),l=-1,c=a.length;++l<c;){var d=a[l],u=e[d];(u===i||Fs(u,Pe[d])&&!Le.call(e,d))&&(e[d]=s[d])}return e})),_a=Yn((function(e){return e.push(i,Jo),_t(Ra,i,e)}));function Ea(e,t,n){var o=null==e?i:wn(e,t);return o===i?n:o}function Ca(e,t){return null!=e&&mr(e,t,An)}var Aa=zo((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),e[t]=i}),Ja(tl)),Ta=zo((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),Le.call(e,t)?e[t].push(i):e[t]=[i]}),ar),Sa=Yn(Sn);function Ia(e){return Hs(e)?Wi(e):Mn(e)}function Pa(e){return Hs(e)?Wi(e,!0):On(e)}var Da=Do((function(e,t,i){zn(e,t,i)})),Ra=Do((function(e,t,i,n){zn(e,t,i,n)})),La=tr((function(e,t){var i={};if(null==e)return i;var n=!1;t=Dt(t,(function(t){return t=vo(t,e),n||(n=t.length>1),t})),Io(e,nr(e),i),n&&(i=sn(i,7,Zo));for(var o=t.length;o--;)co(i,t[o]);return i}));var Ma=tr((function(e,t){return null==e?{}:function(e,t){return Un(e,t,(function(t,i){return Ca(e,i)}))}(e,t)}));function Oa(e,t){if(null==e)return{};var i=Dt(nr(e),(function(e){return[e]}));return t=ar(t),Un(e,i,(function(e,i){return t(e,i[0])}))}var Na=Ko(Ia),$a=Ko(Pa);function Fa(e){return null==e?[]:Qt(e,Ia(e))}var Ba=Oo((function(e,t,i){return t=t.toLowerCase(),e+(i?za(t):t)}));function za(e){return Ya(ga(e).toLowerCase())}function ja(e){return(e=ga(e))&&e.replace(be,ei).replace(Xe,"")}var Va=Oo((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()})),Ua=Oo((function(e,t,i){return e+(i?" ":"")+t.toLowerCase()})),Ha=Mo("toLowerCase");var qa=Oo((function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}));var Ga=Oo((function(e,t,i){return e+(i?" ":"")+Ya(t)}));var Wa=Oo((function(e,t,i){return e+(i?" ":"")+t.toUpperCase()})),Ya=Mo("toUpperCase");function Ka(e,t,n){return e=ga(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.match(ae)||[]}(e):e.match(t)||[]}var Qa=Yn((function(e,t){try{return _t(e,i,t)}catch(f1){return Ys(f1)?f1:new we(f1)}})),Xa=tr((function(e,t){return Ct(t,(function(t){t=Or(t),nn(e,t,Ts(e[t],e))})),e}));function Ja(e){return function(){return e}}var Za=Fo(),el=Fo(!0);function tl(e){return e}function il(e){return Ln("function"==typeof e?e:sn(e,1))}var nl=Yn((function(e,t){return function(i){return Sn(i,e,t)}})),ol=Yn((function(e,t){return function(i){return Sn(e,i,t)}}));function rl(e,t,i){var n=Ia(t),o=kn(t,n);null!=i||Js(t)&&(o.length||!n.length)||(i=t,t=e,e=this,o=kn(t,Ia(t)));var r=!(Js(i)&&"chain"in i&&!i.chain),s=Ks(e);return Ct(o,(function(i){var n=t[i];e[i]=n,s&&(e.prototype[i]=function(){var t=this.__chain__;if(r||t){var i=e(this.__wrapped__);return(i.__actions__=So(this.__actions__)).push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,Rt([this.value()],arguments))})})),e}function sl(){}var al=Vo(Dt),ll=Vo(Tt),cl=Vo(Ot);function dl(e){return yr(e)?Ut(Or(e)):function(e){return function(t){return wn(t,e)}}(e)}var ul=Ho(),hl=Ho(!0);function pl(){return[]}function ml(){return!1}var fl=jo((function(e,t){return e+t}),0),gl=Wo("ceil"),bl=jo((function(e,t){return e/t}),1),vl=Wo("floor");var yl=jo((function(e,t){return e*t}),1),kl=Wo("round"),wl=jo((function(e,t){return e-t}),0);return $i.after=function(e,t){if("function"!=typeof t)throw new Te(n);return e=ha(e),function(){if(--e<1)return t.apply(this,arguments)}},$i.ary=Cs,$i.assign=ba,$i.assignIn=va,$i.assignInWith=ya,$i.assignWith=ka,$i.at=wa,$i.before=As,$i.bind=Ts,$i.bindAll=Xa,$i.bindKey=Ss,$i.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vs(e)?e:[e]},$i.chain=ds,$i.chunk=function(e,t,n){t=(n?vr(e,t,n):t===i)?1:fi(ha(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var r=0,s=0,a=ne(ht(o/t));r<o;)a[s++]=to(e,r,r+=t);return a},$i.compact=function(e){for(var t=-1,i=null==e?0:e.length,n=0,o=[];++t<i;){var r=e[t];r&&(o[n++]=r)}return o},$i.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ne(e-1),i=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Rt(Vs(i)?So(i):[i],fn(t,1))},$i.cond=function(e){var t=null==e?0:e.length,i=ar();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Te(n);return[i(e[0]),e[1]]})):[],Yn((function(i){for(var n=-1;++n<t;){var o=e[n];if(_t(o[0],this,i))return _t(o[1],this,i)}}))},$i.conforms=function(e){return function(e){var t=Ia(e);return function(i){return an(i,e,t)}}(sn(e,1))},$i.constant=Ja,$i.countBy=ps,$i.create=function(e,t){var i=Fi(e);return null==t?i:tn(i,t)},$i.curry=function e(t,n,o){var r=Qo(t,8,i,i,i,i,i,n=o?i:n);return r.placeholder=e.placeholder,r},$i.curryRight=function e(t,n,o){var r=Qo(t,16,i,i,i,i,i,n=o?i:n);return r.placeholder=e.placeholder,r},$i.debounce=Is,$i.defaults=xa,$i.defaultsDeep=_a,$i.defer=Ps,$i.delay=Ds,$i.difference=Fr,$i.differenceBy=Br,$i.differenceWith=zr,$i.drop=function(e,t,n){var o=null==e?0:e.length;return o?to(e,(t=n||t===i?1:ha(t))<0?0:t,o):[]},$i.dropRight=function(e,t,n){var o=null==e?0:e.length;return o?to(e,0,(t=o-(t=n||t===i?1:ha(t)))<0?0:t):[]},$i.dropRightWhile=function(e,t){return e&&e.length?ho(e,ar(t,3),!0,!0):[]},$i.dropWhile=function(e,t){return e&&e.length?ho(e,ar(t,3),!0):[]},$i.fill=function(e,t,n,o){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&vr(e,t,n)&&(n=0,o=r),function(e,t,n,o){var r=e.length;for((n=ha(n))<0&&(n=-n>r?0:r+n),(o=o===i||o>r?r:ha(o))<0&&(o+=r),o=n>o?0:pa(o);n<o;)e[n++]=t;return e}(e,t,n,o)):[]},$i.filter=function(e,t){return(Vs(e)?St:mn)(e,ar(t,3))},$i.flatMap=function(e,t){return fn(ws(e,t),1)},$i.flatMapDeep=function(e,t){return fn(ws(e,t),c)},$i.flatMapDepth=function(e,t,n){return n=n===i?1:ha(n),fn(ws(e,t),n)},$i.flatten=Ur,$i.flattenDeep=function(e){return(null==e?0:e.length)?fn(e,c):[]},$i.flattenDepth=function(e,t){return(null==e?0:e.length)?fn(e,t=t===i?1:ha(t)):[]},$i.flip=function(e){return Qo(e,512)},$i.flow=Za,$i.flowRight=el,$i.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var o=e[t];n[o[0]]=o[1]}return n},$i.functions=function(e){return null==e?[]:kn(e,Ia(e))},$i.functionsIn=function(e){return null==e?[]:kn(e,Pa(e))},$i.groupBy=vs,$i.initial=function(e){return(null==e?0:e.length)?to(e,0,-1):[]},$i.intersection=qr,$i.intersectionBy=Gr,$i.intersectionWith=Wr,$i.invert=Aa,$i.invertBy=Ta,$i.invokeMap=ys,$i.iteratee=il,$i.keyBy=ks,$i.keys=Ia,$i.keysIn=Pa,$i.map=ws,$i.mapKeys=function(e,t){var i={};return t=ar(t,3),vn(e,(function(e,n,o){nn(i,t(e,n,o),e)})),i},$i.mapValues=function(e,t){var i={};return t=ar(t,3),vn(e,(function(e,n,o){nn(i,n,t(e,n,o))})),i},$i.matches=function(e){return Fn(sn(e,1))},$i.matchesProperty=function(e,t){return Bn(e,sn(t,1))},$i.memoize=Rs,$i.merge=Da,$i.mergeWith=Ra,$i.method=nl,$i.methodOf=ol,$i.mixin=rl,$i.negate=Ls,$i.nthArg=function(e){return e=ha(e),Yn((function(t){return jn(t,e)}))},$i.omit=La,$i.omitBy=function(e,t){return Oa(e,Ls(ar(t)))},$i.once=function(e){return As(2,e)},$i.orderBy=function(e,t,n,o){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(n=o?i:n)||(n=null==n?[]:[n]),Vn(e,t,n))},$i.over=al,$i.overArgs=Ms,$i.overEvery=ll,$i.overSome=cl,$i.partial=Os,$i.partialRight=Ns,$i.partition=xs,$i.pick=Ma,$i.pickBy=Oa,$i.property=dl,$i.propertyOf=function(e){return function(t){return null==e?i:wn(e,t)}},$i.pull=Kr,$i.pullAll=Qr,$i.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?Hn(e,t,ar(i,2)):e},$i.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hn(e,t,i,n):e},$i.pullAt=Xr,$i.range=ul,$i.rangeRight=hl,$i.rearg=$s,$i.reject=function(e,t){return(Vs(e)?St:mn)(e,Ls(ar(t,3)))},$i.remove=function(e,t){var i=[];if(!e||!e.length)return i;var n=-1,o=[],r=e.length;for(t=ar(t,3);++n<r;){var s=e[n];t(s,n,e)&&(i.push(s),o.push(n))}return qn(e,o),i},$i.rest=function(e,t){if("function"!=typeof e)throw new Te(n);return Yn(e,t=t===i?t:ha(t))},$i.reverse=Jr,$i.sampleSize=function(e,t,n){return t=(n?vr(e,t,n):t===i)?1:ha(t),(Vs(e)?Ki:Qn)(e,t)},$i.set=function(e,t,i){return null==e?e:Xn(e,t,i)},$i.setWith=function(e,t,n,o){return o="function"==typeof o?o:i,null==e?e:Xn(e,t,n,o)},$i.shuffle=function(e){return(Vs(e)?Qi:eo)(e)},$i.slice=function(e,t,n){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&vr(e,t,n)?(t=0,n=o):(t=null==t?0:ha(t),n=n===i?o:ha(n)),to(e,t,n)):[]},$i.sortBy=_s,$i.sortedUniq=function(e){return e&&e.length?ro(e):[]},$i.sortedUniqBy=function(e,t){return e&&e.length?ro(e,ar(t,2)):[]},$i.split=function(e,t,n){return n&&"number"!=typeof n&&vr(e,t,n)&&(t=n=i),(n=n===i?h:n>>>0)?(e=ga(e))&&("string"==typeof t||null!=t&&!na(t))&&!(t=ao(t))&&ni(e)?ko(di(e),0,n):e.split(t,n):[]},$i.spread=function(e,t){if("function"!=typeof e)throw new Te(n);return t=null==t?0:fi(ha(t),0),Yn((function(i){var n=i[t],o=ko(i,0,t);return n&&Rt(o,n),_t(e,this,o)}))},$i.tail=function(e){var t=null==e?0:e.length;return t?to(e,1,t):[]},$i.take=function(e,t,n){return e&&e.length?to(e,0,(t=n||t===i?1:ha(t))<0?0:t):[]},$i.takeRight=function(e,t,n){var o=null==e?0:e.length;return o?to(e,(t=o-(t=n||t===i?1:ha(t)))<0?0:t,o):[]},$i.takeRightWhile=function(e,t){return e&&e.length?ho(e,ar(t,3),!1,!0):[]},$i.takeWhile=function(e,t){return e&&e.length?ho(e,ar(t,3)):[]},$i.tap=function(e,t){return t(e),e},$i.throttle=function(e,t,i){var o=!0,r=!0;if("function"!=typeof e)throw new Te(n);return Js(i)&&(o="leading"in i?!!i.leading:o,r="trailing"in i?!!i.trailing:r),Is(e,t,{leading:o,maxWait:t,trailing:r})},$i.thru=us,$i.toArray=da,$i.toPairs=Na,$i.toPairsIn=$a,$i.toPath=function(e){return Vs(e)?Dt(e,Or):sa(e)?[e]:So(Mr(ga(e)))},$i.toPlainObject=fa,$i.transform=function(e,t,i){var n=Vs(e),o=n||Gs(e)||aa(e);if(t=ar(t,4),null==i){var r=e&&e.constructor;i=o?n?new r:[]:Js(e)&&Ks(r)?Fi(He(e)):{}}return(o?Ct:vn)(e,(function(e,n,o){return t(i,e,n,o)})),i},$i.unary=function(e){return Cs(e,1)},$i.union=Zr,$i.unionBy=es,$i.unionWith=ts,$i.uniq=function(e){return e&&e.length?lo(e):[]},$i.uniqBy=function(e,t){return e&&e.length?lo(e,ar(t,2)):[]},$i.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?lo(e,i,t):[]},$i.unset=function(e,t){return null==e||co(e,t)},$i.unzip=is,$i.unzipWith=ns,$i.update=function(e,t,i){return null==e?e:uo(e,t,bo(i))},$i.updateWith=function(e,t,n,o){return o="function"==typeof o?o:i,null==e?e:uo(e,t,bo(n),o)},$i.values=Fa,$i.valuesIn=function(e){return null==e?[]:Qt(e,Pa(e))},$i.without=os,$i.words=Ka,$i.wrap=function(e,t){return Os(bo(t),e)},$i.xor=rs,$i.xorBy=ss,$i.xorWith=as,$i.zip=ls,$i.zipObject=function(e,t){return fo(e||[],t||[],Ji)},$i.zipObjectDeep=function(e,t){return fo(e||[],t||[],Xn)},$i.zipWith=cs,$i.entries=Na,$i.entriesIn=$a,$i.extend=va,$i.extendWith=ya,rl($i,$i),$i.add=fl,$i.attempt=Qa,$i.camelCase=Ba,$i.capitalize=za,$i.ceil=gl,$i.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ma(n))==n?n:0),t!==i&&(t=(t=ma(t))==t?t:0),rn(ma(e),t,n)},$i.clone=function(e){return sn(e,4)},$i.cloneDeep=function(e){return sn(e,5)},$i.cloneDeepWith=function(e,t){return sn(e,5,t="function"==typeof t?t:i)},$i.cloneWith=function(e,t){return sn(e,4,t="function"==typeof t?t:i)},$i.conformsTo=function(e,t){return null==t||an(e,t,Ia(t))},$i.deburr=ja,$i.defaultTo=function(e,t){return null==e||e!=e?t:e},$i.divide=bl,$i.endsWith=function(e,t,n){e=ga(e),t=ao(t);var o=e.length,r=n=n===i?o:rn(ha(n),0,o);return(n-=t.length)>=0&&e.slice(n,r)==t},$i.eq=Fs,$i.escape=function(e){return(e=ga(e))&&W.test(e)?e.replace(q,ti):e},$i.escapeRegExp=function(e){return(e=ga(e))&&te.test(e)?e.replace(ee,"\\$&"):e},$i.every=function(e,t,n){var o=Vs(e)?Tt:hn;return n&&vr(e,t,n)&&(t=i),o(e,ar(t,3))},$i.find=ms,$i.findIndex=jr,$i.findKey=function(e,t){return $t(e,ar(t,3),vn)},$i.findLast=fs,$i.findLastIndex=Vr,$i.findLastKey=function(e,t){return $t(e,ar(t,3),yn)},$i.floor=vl,$i.forEach=gs,$i.forEachRight=bs,$i.forIn=function(e,t){return null==e?e:gn(e,ar(t,3),Pa)},$i.forInRight=function(e,t){return null==e?e:bn(e,ar(t,3),Pa)},$i.forOwn=function(e,t){return e&&vn(e,ar(t,3))},$i.forOwnRight=function(e,t){return e&&yn(e,ar(t,3))},$i.get=Ea,$i.gt=Bs,$i.gte=zs,$i.has=function(e,t){return null!=e&&mr(e,t,Cn)},$i.hasIn=Ca,$i.head=Hr,$i.identity=tl,$i.includes=function(e,t,i,n){e=Hs(e)?e:Fa(e),i=i&&!n?ha(i):0;var o=e.length;return i<0&&(i=fi(o+i,0)),ra(e)?i<=o&&e.indexOf(t,i)>-1:!!o&&Bt(e,t,i)>-1},$i.indexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=null==i?0:ha(i);return o<0&&(o=fi(n+o,0)),Bt(e,t,o)},$i.inRange=function(e,t,n){return t=ua(t),n===i?(n=t,t=0):n=ua(n),function(e,t,i){return e>=gi(t,i)&&e<fi(t,i)}(e=ma(e),t,n)},$i.invoke=Sa,$i.isArguments=js,$i.isArray=Vs,$i.isArrayBuffer=Us,$i.isArrayLike=Hs,$i.isArrayLikeObject=qs,$i.isBoolean=function(e){return!0===e||!1===e||Zs(e)&&_n(e)==g},$i.isBuffer=Gs,$i.isDate=Ws,$i.isElement=function(e){return Zs(e)&&1===e.nodeType&&!ia(e)},$i.isEmpty=function(e){if(null==e)return!0;if(Hs(e)&&(Vs(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||aa(e)||js(e)))return!e.length;var t=pr(e);if(t==w||t==A)return!e.size;if(xr(e))return!Mn(e).length;for(var i in e)if(Le.call(e,i))return!1;return!0},$i.isEqual=function(e,t){return Pn(e,t)},$i.isEqualWith=function(e,t,n){var o=(n="function"==typeof n?n:i)?n(e,t):i;return o===i?Pn(e,t,i,n):!!o},$i.isError=Ys,$i.isFinite=function(e){return"number"==typeof e&&Nt(e)},$i.isFunction=Ks,$i.isInteger=Qs,$i.isLength=Xs,$i.isMap=ea,$i.isMatch=function(e,t){return e===t||Dn(e,t,cr(t))},$i.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dn(e,t,cr(t),n)},$i.isNaN=function(e){return ta(e)&&e!=+e},$i.isNative=function(e){if(wr(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rn(e)},$i.isNil=function(e){return null==e},$i.isNull=function(e){return null===e},$i.isNumber=ta,$i.isObject=Js,$i.isObjectLike=Zs,$i.isPlainObject=ia,$i.isRegExp=na,$i.isSafeInteger=function(e){return Qs(e)&&e>=-9007199254740991&&e<=d},$i.isSet=oa,$i.isString=ra,$i.isSymbol=sa,$i.isTypedArray=aa,$i.isUndefined=function(e){return e===i},$i.isWeakMap=function(e){return Zs(e)&&pr(e)==I},$i.isWeakSet=function(e){return Zs(e)&&"[object WeakSet]"==_n(e)},$i.join=function(e,t){return null==e?"":Ht.call(e,t)},$i.kebabCase=Va,$i.last=Yr,$i.lastIndexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=o;return n!==i&&(r=(r=ha(n))<0?fi(o+r,0):gi(r,o-1)),t==t?function(e,t,i){for(var n=i+1;n--;)if(e[n]===t)return n;return n}(e,t,r):Ft(e,jt,r,!0)},$i.lowerCase=Ua,$i.lowerFirst=Ha,$i.lt=la,$i.lte=ca,$i.max=function(e){return e&&e.length?pn(e,tl,En):i},$i.maxBy=function(e,t){return e&&e.length?pn(e,ar(t,2),En):i},$i.mean=function(e){return Vt(e,tl)},$i.meanBy=function(e,t){return Vt(e,ar(t,2))},$i.min=function(e){return e&&e.length?pn(e,tl,Nn):i},$i.minBy=function(e,t){return e&&e.length?pn(e,ar(t,2),Nn):i},$i.stubArray=pl,$i.stubFalse=ml,$i.stubObject=function(){return{}},$i.stubString=function(){return""},$i.stubTrue=function(){return!0},$i.multiply=yl,$i.nth=function(e,t){return e&&e.length?jn(e,ha(t)):i},$i.noConflict=function(){return ut._===this&&(ut._=Fe),this},$i.noop=sl,$i.now=Es,$i.pad=function(e,t,i){e=ga(e);var n=(t=ha(t))?ci(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return Uo(pt(o),i)+e+Uo(ht(o),i)},$i.padEnd=function(e,t,i){e=ga(e);var n=(t=ha(t))?ci(e):0;return t&&n<t?e+Uo(t-n,i):e},$i.padStart=function(e,t,i){e=ga(e);var n=(t=ha(t))?ci(e):0;return t&&n<t?Uo(t-n,i)+e:e},$i.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),vi(ga(e).replace(ie,""),t||0)},$i.random=function(e,t,n){if(n&&"boolean"!=typeof n&&vr(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ua(e),t===i?(t=e,e=0):t=ua(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var r=yi();return gi(e+r*(t-e+at("1e-"+((r+"").length-1))),t)}return Gn(e,t)},$i.reduce=function(e,t,i){var n=Vs(e)?Lt:qt,o=arguments.length<3;return n(e,ar(t,4),i,o,dn)},$i.reduceRight=function(e,t,i){var n=Vs(e)?Mt:qt,o=arguments.length<3;return n(e,ar(t,4),i,o,un)},$i.repeat=function(e,t,n){return t=(n?vr(e,t,n):t===i)?1:ha(t),Wn(ga(e),t)},$i.replace=function(){var e=arguments,t=ga(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$i.result=function(e,t,n){var o=-1,r=(t=vo(t,e)).length;for(r||(r=1,e=i);++o<r;){var s=null==e?i:e[Or(t[o])];s===i&&(o=r,s=n),e=Ks(s)?s.call(e):s}return e},$i.round=kl,$i.runInContext=e,$i.sample=function(e){return(Vs(e)?Yi:Kn)(e)},$i.size=function(e){if(null==e)return 0;if(Hs(e))return ra(e)?ci(e):e.length;var t=pr(e);return t==w||t==A?e.size:Mn(e).length},$i.snakeCase=qa,$i.some=function(e,t,n){var o=Vs(e)?Ot:io;return n&&vr(e,t,n)&&(t=i),o(e,ar(t,3))},$i.sortedIndex=function(e,t){return no(e,t)},$i.sortedIndexBy=function(e,t,i){return oo(e,t,ar(i,2))},$i.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var n=no(e,t);if(n<i&&Fs(e[n],t))return n}return-1},$i.sortedLastIndex=function(e,t){return no(e,t,!0)},$i.sortedLastIndexBy=function(e,t,i){return oo(e,t,ar(i,2),!0)},$i.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var i=no(e,t,!0)-1;if(Fs(e[i],t))return i}return-1},$i.startCase=Ga,$i.startsWith=function(e,t,i){return e=ga(e),i=null==i?0:rn(ha(i),0,e.length),t=ao(t),e.slice(i,i+t.length)==t},$i.subtract=wl,$i.sum=function(e){return e&&e.length?Gt(e,tl):0},$i.sumBy=function(e,t){return e&&e.length?Gt(e,ar(t,2)):0},$i.template=function(e,t,n){var o=$i.templateSettings;n&&vr(e,t,n)&&(t=i),e=ga(e),t=ya({},t,o,Xo);var r,s,a=ya({},t.imports,o.imports,Xo),l=Ia(a),c=Qt(a,l),d=0,u=t.interpolate||ve,h="__p += '",p=Ce((t.escape||ve).source+"|"+u.source+"|"+(u===Q?de:ve).source+"|"+(t.evaluate||ve).source+"|$","g"),m="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";e.replace(p,(function(t,i,n,o,a,l){return n||(n=o),h+=e.slice(d,l).replace(ye,ii),i&&(r=!0,h+="' +\n__e("+i+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=l+t.length,t})),h+="';\n";var f=Le.call(t,"variable")&&t.variable;if(f){if(le.test(f))throw new we("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(j,""):h).replace(V,"$1").replace(U,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Qa((function(){return xe(l,m+"return "+h).apply(i,c)}));if(g.source=h,Ys(g))throw g;return g},$i.times=function(e,t){if((e=ha(e))<1||e>d)return[];var i=h,n=gi(e,h);t=ar(t),e-=h;for(var o=Wt(n,t);++i<e;)t(i);return o},$i.toFinite=ua,$i.toInteger=ha,$i.toLength=pa,$i.toLower=function(e){return ga(e).toLowerCase()},$i.toNumber=ma,$i.toSafeInteger=function(e){return e?rn(ha(e),-9007199254740991,d):0===e?e:0},$i.toString=ga,$i.toUpper=function(e){return ga(e).toUpperCase()},$i.trim=function(e,t,n){if((e=ga(e))&&(n||t===i))return Yt(e);if(!e||!(t=ao(t)))return e;var o=di(e),r=di(t);return ko(o,Jt(o,r),Zt(o,r)+1).join("")},$i.trimEnd=function(e,t,n){if((e=ga(e))&&(n||t===i))return e.slice(0,ui(e)+1);if(!e||!(t=ao(t)))return e;var o=di(e);return ko(o,0,Zt(o,di(t))+1).join("")},$i.trimStart=function(e,t,n){if((e=ga(e))&&(n||t===i))return e.replace(ie,"");if(!e||!(t=ao(t)))return e;var o=di(e);return ko(o,Jt(o,di(t))).join("")},$i.truncate=function(e,t){var n=30,o="...";if(Js(t)){var r="separator"in t?t.separator:r;n="length"in t?ha(t.length):n,o="omission"in t?ao(t.omission):o}var s=(e=ga(e)).length;if(ni(e)){var a=di(e);s=a.length}if(n>=s)return e;var l=n-ci(o);if(l<1)return o;var c=a?ko(a,0,l).join(""):e.slice(0,l);if(r===i)return c+o;if(a&&(l+=c.length-l),na(r)){if(e.slice(l).search(r)){var d,u=c;for(r.global||(r=Ce(r.source,ga(ue.exec(r))+"g")),r.lastIndex=0;d=r.exec(u);)var h=d.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(ao(r),l)!=l){var p=c.lastIndexOf(r);p>-1&&(c=c.slice(0,p))}return c+o},$i.unescape=function(e){return(e=ga(e))&&G.test(e)?e.replace(H,hi):e},$i.uniqueId=function(e){var t=++Me;return ga(e)+t},$i.upperCase=Wa,$i.upperFirst=Ya,$i.each=gs,$i.eachRight=bs,$i.first=Hr,rl($i,function(){var e={};return vn($i,(function(t,i){Le.call($i.prototype,i)||(e[i]=t)})),e}(),{chain:!1}),$i.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){$i[e].placeholder=$i})),Ct(["drop","take"],(function(e,t){ji.prototype[e]=function(n){n=n===i?1:fi(ha(n),0);var o=this.__filtered__&&!t?new ji(this):this.clone();return o.__filtered__?o.__takeCount__=gi(n,o.__takeCount__):o.__views__.push({size:gi(n,h),type:e+(o.__dir__<0?"Right":"")}),o},ji.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var i=t+1,n=1==i||3==i;ji.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ar(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}})),Ct(["head","last"],(function(e,t){var i="take"+(t?"Right":"");ji.prototype[e]=function(){return this[i](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var i="drop"+(t?"":"Right");ji.prototype[e]=function(){return this.__filtered__?new ji(this):this[i](1)}})),ji.prototype.compact=function(){return this.filter(tl)},ji.prototype.find=function(e){return this.filter(e).head()},ji.prototype.findLast=function(e){return this.reverse().find(e)},ji.prototype.invokeMap=Yn((function(e,t){return"function"==typeof e?new ji(this):this.map((function(i){return Sn(i,e,t)}))})),ji.prototype.reject=function(e){return this.filter(Ls(ar(e)))},ji.prototype.slice=function(e,t){e=ha(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ji(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ha(t))<0?n.dropRight(-t):n.take(t-e)),n)},ji.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ji.prototype.toArray=function(){return this.take(h)},vn(ji.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),r=$i[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);r&&($i.prototype[t]=function(){var t=this.__wrapped__,a=o?[1]:arguments,l=t instanceof ji,c=a[0],d=l||Vs(t),u=function(e){var t=r.apply($i,Rt([e],a));return o&&h?t[0]:t};d&&n&&"function"==typeof c&&1!=c.length&&(l=d=!1);var h=this.__chain__,p=!!this.__actions__.length,m=s&&!h,f=l&&!p;if(!s&&d){t=f?t:new ji(this);var g=e.apply(t,a);return g.__actions__.push({func:us,args:[u],thisArg:i}),new zi(g,h)}return m&&f?e.apply(this,a):(g=this.thru(u),m?o?g.value()[0]:g.value():g)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Se[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);$i.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Vs(o)?o:[],e)}return this[i]((function(i){return t.apply(Vs(i)?i:[],e)}))}})),vn(ji.prototype,(function(e,t){var i=$i[t];if(i){var n=i.name+"";Le.call(Si,n)||(Si[n]=[]),Si[n].push({name:t,func:i})}})),Si[Bo(i,2).name]=[{name:"wrapper",func:i}],ji.prototype.clone=function(){var e=new ji(this.__wrapped__);return e.__actions__=So(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=So(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=So(this.__views__),e},ji.prototype.reverse=function(){if(this.__filtered__){var e=new ji(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},ji.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=Vs(e),n=t<0,o=i?e.length:0,r=function(e,t,i){var n=-1,o=i.length;for(;++n<o;){var r=i[n],s=r.size;switch(r.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=gi(t,e+s);break;case"takeRight":e=fi(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=r.start,a=r.end,l=a-s,c=n?a:s-1,d=this.__iteratees__,u=d.length,h=0,p=gi(l,this.__takeCount__);if(!i||!n&&o==l&&p==l)return po(e,this.__actions__);var m=[];e:for(;l--&&h<p;){for(var f=-1,g=e[c+=t];++f<u;){var b=d[f],v=b.iteratee,y=b.type,k=v(g);if(2==y)g=k;else if(!k){if(1==y)continue e;break e}}m[h++]=g}return m},$i.prototype.at=hs,$i.prototype.chain=function(){return ds(this)},$i.prototype.commit=function(){return new zi(this.value(),this.__chain__)},$i.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},$i.prototype.plant=function(e){for(var t,n=this;n instanceof Bi;){var o=$r(n);o.__index__=0,o.__values__=i,t?r.__wrapped__=o:t=o;var r=o;n=n.__wrapped__}return r.__wrapped__=e,t},$i.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ji){var t=e;return this.__actions__.length&&(t=new ji(this)),(t=t.reverse()).__actions__.push({func:us,args:[Jr],thisArg:i}),new zi(t,this.__chain__)}return this.thru(Jr)},$i.prototype.toJSON=$i.prototype.valueOf=$i.prototype.value=function(){return po(this.__wrapped__,this.__actions__)},$i.prototype.first=$i.prototype.head,Ke&&($i.prototype[Ke]=function(){return this}),$i}();pt?((pt.exports=pi)._=pi,ht._=pi):ut._=pi}).call(hx)}(gC,gC.exports);var bC=gC.exports;const vC=pC("app-store",(()=>{const e=Ti(!0),t=Ti([]),i=Ti(),n=Ti();return{isFirstAccess:e,routerCallback:i,listCountries:t,routeParams:n,setRouterCallback:e=>{i.value=e},setAccessedApp:()=>{e.value=!1},setRouteParams:e=>{n.value=e},getListCountries:async()=>{if(0===t.value.length){const{data:i}=await qE.get("https://id.unica.vn/api/countries");var e;if(!bC.isEmpty(null==i?void 0:i.data))t.value=null!==(e=null==i?void 0:i.data)&&void 0!==e?e:[]}},clear:()=>{i.value=void 0,n.value={}}}}),{persist:!0});var yC,kC;!function(e){e[e.Min=1]="Min",e[e.Low=2]="Low",e[e.Default=3]="Default",e[e.High=4]="High",e[e.Max=5]="Max"}(yC||(yC={})),function(e){e[e.Secret=-1]="Secret",e[e.Private=0]="Private",e[e.Public=1]="Public"}(kC||(kC={}));const wC=Sx("FirebaseMessaging",{web:()=>Da((()=>a.import("./web-legacy-Dztwthen.js")),void 0).then((e=>new e.FirebaseMessagingWeb))});var xC;!function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"}(xC||(xC={}));const _C=Sx("LocalNotifications",{web:()=>Da((()=>a.import("./web-legacy-B-cisX2W.js")),void 0).then((e=>new e.LocalNotificationsWeb))}),EC=pC("auth-store",(()=>{const e=Ti(),t=Ti(),i=Ti(!1),n=Ti(),o=Ti();return{accessToken:e,refreshToken:t,isLoggedIn:i,setLoggedIn:e=>{i.value=e},setAccessToken:t=>{e.value=t},setRefreshToken:e=>{t.value=e},onAccessTokenExpired:()=>"generage new accesstoken here",onRefreshTokenExpired:()=>"generage new token here",getUserInfo:async(t,i,o)=>{try{const{data:r}=await qE.get("/users/me",{headers:{Authorization:`Bearer ${null!=t?t:e.value}`}});console.log("🌸 getUserInfo 👉",r),bC.isEmpty(r)||(n.value=bC.isEmpty(o)?null!=r?r:void 0:{...r,ggAvatar:o,ggId:i})}catch(r){console.log(r)}},setUserInfo:async e=>{n.value=e},userInfo:n,setFcmToken:e=>{o.value=e},fcmToken:o,logOut:async()=>{await qE.delete("/auth/session"),await SC.delete("/notification/user-fcm-token-delete",{data:{type:"app",token:e.value}}),e.value=void 0,t.value=void 0,i.value=!1,n.value=void 0}}}),{persist:!0}),{DEV:CC,VITE_API_URL_DEV:AC,VITE_API_URL:TC}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},SC=qE.create({baseURL:CC?AC:TC,headers:{Accept:"Application/json"}});SC.interceptors.request.use((async e=>{const t=EC(),{accessToken:i}=mC(t);return i.value&&(e.headers.Authorization=`Bearer ${i.value}`),e}),(async e=>(console.log("request",e),e))),SC.interceptors.response.use((async e=>e),(async e=>(console.log("🚀 ~ error:",e),e.status,e)));var IC=function(e,t){return IC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},IC(e,t)};function PC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}IC(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function DC(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(f1){r(f1)}}function a(e){try{l(n.throw(e))}catch(f1){r(f1)}}function l(e){e.done?o(e.value):function(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function RC(e,t){var i,n,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=r.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(f1){a=[6,f1],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function LC(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function MC(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,r=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return s}function OC(e,t,i){if(i||2===arguments.length)for(var n,o=0,r=t.length;o<r;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function NC(e){return this instanceof NC?(this.v=e,this):new NC(e)}function $C(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=i.apply(e,t||[]),r=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),n[Symbol.asyncIterator]=function(){return this},n;function s(e,t){o[e]&&(n[e]=function(t){return new Promise((function(i,n){r.push([e,t,i,n])>1||a(e,t)}))},t&&(n[e]=t(n[e])))}function a(e,t){try{(i=o[e](t)).value instanceof NC?Promise.resolve(i.value.v).then(l,c):d(r[0][2],i)}catch(f1){d(r[0][3],f1)}var i}function l(e){a("next",e)}function c(e){a("throw",e)}function d(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function FC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=LC(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,o){(function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)})(n,o,(t=e[i](t)).done,t.value)}))}}}function BC(e){return"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var zC,jC,VC=(zC=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}},(jC=zC((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),jC.prototype.constructor=jC,jC);function UC(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var HC=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,i,n,o;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r))try{for(var s=LC(r),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(p){e={error:p}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else r.remove(this);var l=this.initialTeardown;if(BC(l))try{l()}catch(f1){o=f1 instanceof VC?f1.errors:[f1]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var d=LC(c),u=d.next();!u.done;u=d.next()){var h=u.value;try{GC(h)}catch(N0){o=null!=o?o:[],N0 instanceof VC?o=OC(OC([],MC(o)),MC(N0.errors)):o.push(N0)}}}catch(m){i={error:m}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(i)throw i.error}}}if(o)throw new VC(o)}},e.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)GC(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&UC(t,e)},e.prototype.remove=function(t){var i=this._finalizers;i&&UC(i,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();function qC(e){return e instanceof HC||e&&"closed"in e&&BC(e.remove)&&BC(e.add)&&BC(e.unsubscribe)}function GC(e){BC(e)?e():e.unsubscribe()}HC.EMPTY;var WC={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},YC={setTimeout:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return setTimeout.apply(void 0,OC([e,t],MC(i)))},clearTimeout:function(e){var t=YC.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function KC(e){YC.setTimeout((function(){throw e}))}function QC(){}var XC=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,qC(t)&&t.add(i)):i.destination=tA,i}return PC(t,e),t.create=function(e,t,i){return new ZC(e,t,i)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(HC),JC=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(i){eA(i)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(i){eA(i)}else eA(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){eA(t)}},e}(),ZC=function(e){function t(t,i,n){var o,r=e.call(this)||this;return o=BC(t)||!t?{next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=n?n:void 0}:t,r.destination=new JC(o),r}return PC(t,e),t}(XC);function eA(e){KC(e)}var tA={closed:!0,next:QC,error:function(e){throw e},complete:QC},iA="function"==typeof Symbol&&Symbol.observable||"@@observable";function nA(e){return e}var oA=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var n,o=this,r=function(e){return e&&e instanceof XC||function(e){return e&&BC(e.next)&&BC(e.error)&&BC(e.complete)}(e)&&qC(e)}(e)?e:new ZC(e,t,i);return n=function(){var e=o,t=e.operator,i=e.source;r.add(t?t.call(r,i):i?o._subscribe(r):o._trySubscribe(r))},n(),r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(N0){e.error(N0)}},e.prototype.forEach=function(e,t){var i=this;return new(t=rA(t))((function(t,n){var o=new ZC({next:function(t){try{e(t)}catch(N0){n(N0),o.unsubscribe()}},error:n,complete:t});i.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[iA]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return(0===(e=t).length?nA:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=rA(e))((function(e,i){var n;t.subscribe((function(e){return n=e}),(function(e){return i(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function rA(e){var t;return null!==(t=null!=e?e:WC.Promise)&&void 0!==t?t:Promise}function sA(e){return function(t){if(function(e){return BC(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(N0){this.error(N0)}}));throw new TypeError("Unable to lift unknown Observable type")}}function aA(e,t,i,n,o){return new lA(e,t,i,n,o)}var lA=function(e){function t(t,i,n,o,r,s){var a=e.call(this,t)||this;return a.onFinalize=r,a.shouldUnsubscribe=s,a._next=i?function(e){try{i(e)}catch(N0){t.error(N0)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(N0){t.error(N0)}finally{this.unsubscribe()}}:e.prototype._complete,a}return PC(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(XC),cA=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};var dA="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function uA(e){if(e instanceof oA)return e;if(null!=e){if(function(e){return BC(e[iA])}(e))return n=e,new oA((function(e){var t=n[iA]();if(BC(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(cA(e))return i=e,new oA((function(e){for(var t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()}));if(function(e){return BC(null==e?void 0:e.then)}(e))return function(e){return new oA((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,KC)}))}(e);if(function(e){return Symbol.asyncIterator&&BC(null==e?void 0:e[Symbol.asyncIterator])}(e))return hA(e);if(function(e){return BC(null==e?void 0:e[dA])}(e))return t=e,new oA((function(e){var i,n;try{for(var o=LC(t),r=o.next();!r.done;r=o.next()){var s=r.value;if(e.next(s),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}e.complete()}));if(function(e){return BC(null==e?void 0:e.getReader)}(e))return hA(function(e){return $C(this,arguments,(function(){var t,i,n;return RC(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,NC(t.read())];case 3:return i=o.sent(),n=i.value,i.done?[4,NC(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,NC(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,i,n;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function hA(e){return new oA((function(t){(function(e,t){var i,n,o,r;return DC(this,void 0,void 0,(function(){var s,a;return RC(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),i=FC(e),l.label=1;case 1:return[4,i.next()];case 2:if((n=l.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),o={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(r=i.return)?[4,r.call(i)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function pA(e,t){return sA((function(i,n){var o=0;i.subscribe(aA(n,(function(i){n.next(e.call(t,i,o++))})))}))}var mA=Array.isArray;function fA(e){return pA((function(t){return function(e,t){return mA(t)?e.apply(void 0,OC([],MC(t))):e(t)}(e,t)}))}function gA(e,t,i){return void 0===i&&(i=1/0),BC(t)?gA((function(i,n){return pA((function(e,o){return t(i,e,n,o)}))(uA(e(i,n)))}),i):("number"==typeof t&&(i=t),sA((function(t,n){return function(e,t,i,n,o,r,s){var a=[],l=0,c=0,d=!1,u=function(){!d||a.length||l||t.complete()},h=function(e){l++;var o=!1;uA(i(e,c++)).subscribe(aA(t,(function(e){t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{for(l--;a.length&&l<n;)e=void 0,e=a.shift(),s||h(e);u()}catch(N0){t.error(N0)}var e})))};return e.subscribe(aA(t,(function(e){return l<n?h(e):a.push(e)}),(function(){d=!0,u()}))),function(){}}(t,n,e,i)})))}var bA=["addListener","removeListener"],vA=["addEventListener","removeEventListener"],yA=["on","off"];function kA(e,t,i,n){if(BC(i)&&(n=i,i=void 0),n)return kA(e,t,i).pipe(fA(n));var o=MC(function(e){return BC(e.addEventListener)&&BC(e.removeEventListener)}(e)?vA.map((function(n){return function(o){return e[n](t,o,i)}})):function(e){return BC(e.addListener)&&BC(e.removeListener)}(e)?bA.map(wA(e,t)):function(e){return BC(e.on)&&BC(e.off)}(e)?yA.map(wA(e,t)):[],2),r=o[0],s=o[1];if(!r&&cA(e))return gA((function(e){return kA(e,t,i)}))(uA(e));if(!r)throw new TypeError("Invalid event target");return new oA((function(e){var t=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.next(1<t.length?t:t[0])};return r(t),function(){return s(t)}}))}function wA(e,t){return function(i){return function(n){return e[i](t,n)}}}var xA={error:"cordova_not_available"},_A={error:"plugin_not_installed"};function EA(e){if("undefined"!=typeof window&&window.angular){var t=window.document,i=window.angular.element(t.querySelector("[ng-app]")||t.body).injector();if(i)return i.get("$q")((function(t,i){e(t,i)}));console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise((function(t,i){e(t,i)}));console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function CA(e,t,i){var n,o;"string"==typeof e?n=e:(n=e.constructor.getPluginRef(),i=e.constructor.getPluginName(),o=e.constructor.getPluginInstallName());var r=TA(n);return!(!r||t&&void 0===r[t])||("undefined"!=typeof window&&window.cordova?(function(e,t,i){i?console.warn("Native: tried calling "+e+"."+i+", but the "+e+" plugin is not installed."):console.warn("Native: tried accessing the "+e+" plugin but it's not installed.");t&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+t+"'")}(i,o,t),_A):(function(e,t){"undefined"==typeof process&&(t?console.warn("Native: tried calling "+e+"."+t+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(i,t),xA))}function AA(e,t,i,n,o,r){void 0===n&&(n={}),i=function(e,t,i,n){if(void 0===t&&(t={}),t.sync)return e;if("reverse"===t.callbackOrder)e.unshift(n),e.unshift(i);else if("node"===t.callbackStyle)e.push((function(e,t){e?n(e):i(t)}));else if("object"===t.callbackStyle&&t.successName&&t.errorName){var o={};o[t.successName]=i,o[t.errorName]=n,e.push(o)}else if(void 0!==t.successIndex||void 0!==t.errorIndex){var r=function(){t.successIndex>e.length?e[t.successIndex]=i:e.splice(t.successIndex,0,i)},s=function(){t.errorIndex>e.length?e[t.errorIndex]=n:e.splice(t.errorIndex,0,n)};t.successIndex>t.errorIndex?(s(),r()):(r(),s())}else e.push(i),e.push(n);return e}(i,n,o,r);var s=CA(e,t);if(!0===s){var a=TA(e.constructor.getPluginRef());return a[t].apply(a,i)}return s}function TA(e){return"undefined"!=typeof window?SA(window,e):null}function SA(e,t){for(var i=t.split("."),n=e,o=0;o<i.length;o++){if(!n)return null;n=n[i[o]]}return n}var IA=function(e,t,i){return void 0===i&&(i={}),function(){for(var n,o,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return i.sync?AA(e,t,r,i):i.observable?function(e,t,i,n){return void 0===n&&(n={}),new oA((function(o){var r;return r=n.destruct?AA(e,t,i,n,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.next(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.error(e)})):AA(e,t,i,n,o.next.bind(o),o.error.bind(o)),r&&r.error&&(o.error(r.error),o.complete()),function(){try{if(n.clearFunction)return n.clearWithArgs?AA(e,n.clearFunction,i,n,o.next.bind(o),o.error.bind(o)):AA(e,n.clearFunction,[])}catch(f1){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(f1)}}}))}(e,t,r,i):i.eventObservable&&i.event?(n=i.event,o=i.element,kA(o="undefined"!=typeof window&&o?SA(window,o):o||("undefined"!=typeof window?window:{}),n)):i.otherPromise?function(e,t,i,n){return void 0===n&&(n={}),EA((function(o,r){var s=AA(e,t,i,n);s?s.error?r(s.error):s.then&&s.then(o).catch(r):r({error:"unexpected_error"})}))}(e,t,r,i):function(e,t,i,n){var o,r;void 0===n&&(n={});var s=EA((function(s,a){o=n.destruct?AA(e,t,i,n,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)})):AA(e,t,i,n,s,a),r=a}));return o&&o.error&&(s.catch((function(){})),"function"==typeof r&&r(o.error)),s}(e,t,r,i)}};var PA=function(){function e(){}return e.installed=function(){return!0===CA(this.pluginRef)},e.getPlugin=function(){return"undefined"!=typeof window?function(e,t){for(var i=t.split("."),n=e,o=0;o<i.length;o++){if(!n)return null;n=n[i[o]]}return n}(window,this.pluginRef):null},e.getPluginName=function(){return this.pluginName},e.getPluginRef=function(){return this.pluginRef},e.getPluginInstallName=function(){return this.plugin},e.getSupportedPlatforms=function(){return this.platforms},e.pluginName="",e.pluginRef="",e.plugin="",e.repo="",e.platforms=[],e.install="",e}();function DA(e,t,i,n){return IA(e,t,i).apply(this,n)}!function(){if("undefined"==typeof process){var e="undefined"!=typeof window?window:{},t=Date.now(),i=!1;e.document.addEventListener("deviceready",(function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),i=!0})),setTimeout((function(){!i&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")}),5e3)}}();var RA=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),LA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RA(t,e),t.prototype.clear=function(){return DA(this,"clear",{},arguments)},t.prototype.set=function(e){return DA(this,"set",{},arguments)},t.prototype.get=function(){return DA(this,"get",{},arguments)},t.prototype.increase=function(e){return DA(this,"increase",{},arguments)},t.prototype.decrease=function(e){return DA(this,"decrease",{},arguments)},t.prototype.isSupported=function(){return DA(this,"isSupported",{},arguments)},t.prototype.hasPermission=function(){return DA(this,"hasPermission",{},arguments)},t.prototype.requestPermission=function(){return DA(this,"requestPermission",{},arguments)},t.pluginName="Badge",t.plugin="cordova-plugin-badge",t.pluginRef="cordova.plugins.notification.badge",t.repo="https://github.com/katzer/cordova-plugin-badge",t.platforms=["Android","Browser","iOS","Windows"],t}(PA),MA=new LA;const OA=pC("notification-store",(()=>{const e=Ti(0),t=Ti(0);return{unseenNotificationCount:e,newNotificationCount:t,decreaseNewNotification:async()=>{const e=t.value-1;t.value--,MA.hasPermission().then((async t=>{t?await MA.set(e):MA.requestPermission().then((async t=>{t&&await MA.set(e)}))}))},newNotificationHandle:async()=>{const e=t.value+1;t.value++,MA.hasPermission().then((async t=>{t?await MA.set(e):MA.requestPermission().then((async t=>{t&&await MA.set(e)}))}))},getCountUnreadAndNewNotification:async()=>{try{var i,n;const{data:o}=await SC.get("/notification/unseen-and-new-count");console.log("🌸  res 👉",o),e.value=null!==(i=Number(null==o?void 0:o.unseenCount))&&void 0!==i?i:0,t.value=null!==(n=Number(null==o?void 0:o.newCount))&&void 0!==n?n:0}catch(f1){console.log(f1)}},increaseNotification:i=>{e.value+=i,t.value+=i},clear:async()=>{e.value=0,t.value=0,await MA.clear()},markAsReadAll:async()=>{const e=await SC.patch("/notification/new-remove");console.log("🌸 data 👉",e),t.value=0,await MA.clear()}}}),{persist:!0}),NA="community_create_success",$A="community_user_join_success",FA="community_user_join_waiting",BA="community_user_join_reject",zA="community_member_payment",jA="community_member_removed",VA="community_member_suspended",UA="community_admin_post_new",HA="community_comment_new",qA="community_mention",GA="community_post_like",WA="community_comment_like",YA="community_post_pinned",KA="community_topic_add",QA="community_course_student_access",XA="community_course_new_public",JA="upcoming_event",ZA="level_up",eT="leaderboard_top_10",tT="community_owner_community_package_about_expire",iT=()=>Up().duration(0);class nT{constructor(e){this.info=e}price(e=1){const t=this.info;return"number"==typeof t.price?t.price:t.price[e]||0}}s(nT,"START",new(l=nT)({code:"START",name:"START",date_limit:21,price:0,private:!1,course_limit:10,event_limit:10,member:1e3,transaction_fee:0,commission_level:0,group_chat_limit:10,group_chat_member_limit:100})),s(nT,"PRO",new l({code:"PRO",name:"PRO",price:{1:999e3,12:699e3},private:!0,transaction_fee:4.9,commission_level:10,group_chat_limit:200,group_chat_member_limit:1e3})),s(nT,"VIP",new l({code:"VIP",name:"VIP",price:{1:1999e3,12:1299e3},private:!0,transaction_fee:2.9,commission_level:10,vip_course:!0,landing_page:!0,private_domain:!0,group_chat_limit:200,group_chat_member_limit:1e3}));const oT=pC("community-store",(()=>{const e=Ti(),t=Ti(),i=Ti(),n=Ti([]),o=bC.mapValues(bC.toPlainObject(nT),(e=>e.info)),r=Ti(o.START);return{community:e,communityLevel:t,communityLevelPluck:i,allPackages:o,packageCommunity:r,setCommunity:t=>{e.value=t,r.value=o[(null==t?void 0:t.package_code)||"START"]},setCommunityLevel:e=>{t.value=null!=e?e:[],bC.isEmpty(e)||(i.value=e.map((e=>e.point)))},getCommunityInfo:async t=>{try{if(!t)return;const{data:i}=await SC.get(`/community/${t}`);e.value=null!=i?i:void 0}catch(i){console.log(i)}},setTopics:e=>{n.value=null!=e?e:[]},clear:()=>{e.value=void 0,t.value=[],i.value=[]},topics:n}}),{persist:!0});var rT=(e=>(e[e.Member=1]="Member",e[e.Admin=2]="Admin",e[e.Sale=3]="Sale",e))(rT||{});const sT={1:"Thành viên",2:"Admin",3:"Sale"};const aT=px(bx()),lT=pC("user-community-store",(()=>{const{community:e,communityLevel:t}=mC(oT()),i=Ti(),n=ks((()=>{var t,n,o;return!(!i.value||i.value.role!==rT.Member||null===(t=e.value)||void 0===t||!t.member_last_limit_package)&&aT(null===(n=e.value)||void 0===n?void 0:n.member_last_limit_package).isBefore(null===(o=i.value)||void 0===o?void 0:o.created_at)})),o=ks((()=>{var e,n,o,r;return null!==(e=i.value)&&void 0!==e&&e.level?null===(n=t.value)||void 0===n?void 0:n.filter((e=>!!e.level_id)).find((e=>{var t;return e.level_id===(null===(t=i.value)||void 0===t?void 0:t.level_id)})):null!==(o=t.value)&&void 0!==o&&o.filter((e=>!e.level_id))[0]?null===(r=t.value)||void 0===r?void 0:r.filter((e=>!e.level_id))[0]:""})),r=ks((()=>{var e,n,o;if(null!==(e=i.value)&&void 0!==e&&e.level){var r;const e=null===(r=t.value)||void 0===r?void 0:r.filter((e=>!!e.level_id)).find((e=>{var t;return e.level_id===(null===(t=i.value)||void 0===t?void 0:t.level_id)}));return e?null==e?void 0:e.user_commission:0}return null!==(n=t.value)&&void 0!==n&&n.filter((e=>!e.level_id))[0]?null===(o=t.value)||void 0===o?void 0:o.filter((e=>!e.level_id))[0].user_commission:0}));return{userCommunity:i,currentLevel:o,setUserCommunity:e=>{i.value=e},getUserCommunityInfo:async e=>{try{if(!e)return;const{data:t}=await SC.get(`/user-community/check/${e}`);i.value=null!=t?t:void 0}catch(t){console.log(t)}},currentCommission:r,checkUserAdminCommunity:(e,t)=>!bC.isEmpty(e)&&!bC.isEmpty(t)&&(Number(null==t?void 0:t.role)===rT.Admin||e.owner_id===t.user_id),usersLimitedByPackage:n,clear:()=>{i.value=void 0}}}),{persist:!0}),cT={class:"flex flex-1 flex-col items-center justify-center bg-white1"},dT=jn({__name:"SplashScreen",setup(e){const t=Rw(),i=By(),n=OA(),{handleNotification:o,saveFcmToken:r}=(e=>{const t=oT(),i=lT(),n=Rw(),o=EC(),r=vC(),{isLoggedIn:s}=mC(o),a=(t,i)=>{t&&("CommunityScreen"===(null==e?void 0:e.name)?n.replace({name:"CommunityScreen",params:{id:t,tab:i}},iT):n.push({name:"CommunityScreen",params:{id:t,tab:i}},iT))};return Pw((async()=>{r.setRouterCallback({}),await r.getListCountries()})),{handleNavigateToCommunity:a,handleNotification:async(e,o)=>{const r=o.community_short_name||o.community_id;switch(e){case JA:case FA:return a(r,"member");case NA:case $A:case BA:case zA:case jA:case VA:return a(r,"about");case KA:case UA:case YA:return a(r);case GA:case HA:case qA:case WA:return o.community_post_id?(await t.getCommunityInfo(r),await i.getUserCommunityInfo(o.community_id),void(await n.push({name:"PostDetailScreen",params:{postId:o.community_post_id}}))):a(r);case XA:case QA:return a(r,"course");case ZA:case eT:return a(r,"rank");case tT:return a(r);default:return}},saveFcmToken:async e=>{if(o.setFcmToken(e),console.log("save"),console.log(e),s.value&&(console.log("loggin"),e))try{const{data:t,status:i}=await SC.post("/notification/user-fcm-token",{token:e,type:"app"});console.log(t,i)}catch(t){console.log(t)}}}})(i),s=vC(),{isFirstAccess:a}=mC(s);return wC.getToken().then((async e=>{console.log("🌸 FCM_TOKEN 👉",e),await r(null==e?void 0:e.token)})),setTimeout((async()=>{a.value?t.replace({name:"FirstAccess"}):t.replace({name:"defaultBottomTab"})}),2e3),wC.addListener("notificationReceived",(async e=>{n.newNotificationHandle(),console.log("notificationReceived",e);var t,i,o,r;await fC.getState()&&Hc("android")&&await _C.schedule({notifications:[{id:10001,title:null!==(t=null===(i=e.notification)||void 0===i?void 0:i.title)&&void 0!==t?t:"Thông báo",body:null!==(o=null===(r=e.notification)||void 0===r?void 0:r.body)&&void 0!==o?o:"",schedule:{at:new Date(Date.now()+100)}}]})})),wC.addListener("notificationActionPerformed",(async e=>{var t;console.log("notificationActionPerformed",e),n.decreaseNewNotification();const i=JSON.parse(null===(t=e.notification.data)||void 0===t?void 0:t.notification);if(!bC.isEmpty(i)&&i)return o(i.type,i.metadata)})),(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Wr("div",cT,[t[0]||(t[0]=Wr("img",{src:QE,class:"w-auto object-contain mb-4"},null,-1)),Yr(Di(vw),{name:"crescent",color:"blue1"})])])),_:1}))}}),uT=jn({__name:"FirstAccess",setup(e){const t=vC(),i=Fy(),n=async()=>{await t.setAccessedApp(),i.replace({name:"defaultBottomTab"})};return io((async()=>{await SC.post("/app-click/open-app")})),(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Kk),{"scroll-y":!1,color:"white1"},{default:pn((()=>[t[0]||(t[0]=Wr("img",{src:"/assets/first_access@4x-O4YOaDfe.png",class:"h-auto w-full object-contain mt-[20%]"},null,-1)),t[1]||(t[1]=Wr("div",{class:"text-center text-sm font-light pb-3 px-4 text-[#0e1111]"}," Nền tảng cộng đồng học tập, chia sẻ kiến thức, kết nối học viên với chuyên gia ",-1)),Wr("div",{onClick:n,class:"mt-5 bg-blue1 mx-4 m-auto text-center self-center py-3 text-white rounded-lg"}," Tiếp tục ")])),_:1})])),_:1}))}}),hT=Sx("SocialLogin",{web:()=>Da((()=>a.import("./web-legacy-C3IRxRgn.js")),void 0).then((e=>new e.SocialLoginWeb))}),pT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",mT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 01-32 0v-64h-64a16 16 0 010-32h64v-64a16 16 0 0132 0v64h64a16 16 0 010 32z'/></svg>",fT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",gT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm0 319.91a20 20 0 1120-20 20 20 0 01-20 20zm21.72-201.15l-5.74 122a16 16 0 01-32 0l-5.74-121.94v-.05a21.74 21.74 0 1143.44 0z'/></svg>",bT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",vT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><rect x='48' y='80' width='416' height='384' rx='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M128 48v32M384 48v32M464 160H48M304 260l43.42-32H352v168M191.87 306.63c9.11 0 25.79-4.28 36.72-15.47a37.9 37.9 0 0011.13-27.26c0-26.12-22.59-39.9-47.89-39.9-21.4 0-33.52 11.61-37.85 18.93M149 374.16c4.88 8.27 19.71 25.84 43.88 25.84 28.59 0 52.12-15.94 52.12-43.82 0-12.62-3.66-24-11.58-32.07-12.36-12.64-31.25-17.48-41.55-17.48' class='ionicon-fill-none ionicon-stroke-width'/></svg>",yT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><rect stroke-linejoin='round' x='48' y='80' width='416' height='384' rx='48' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='296' cy='232' r='24'/><circle cx='376' cy='232' r='24'/><circle cx='296' cy='312' r='24'/><circle cx='376' cy='312' r='24'/><circle cx='136' cy='312' r='24'/><circle cx='216' cy='312' r='24'/><circle cx='136' cy='392' r='24'/><circle cx='216' cy='392' r='24'/><circle cx='296' cy='392' r='24'/><path stroke-linejoin='round' stroke-linecap='round' d='M128 48v32M384 48v32' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linejoin='round' d='M464 160H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>",kT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='272' r='80' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M124 158v-22h-24v22' class='ionicon-fill-none ionicon-stroke-width'/></svg>",wT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M87.49 380c1.19-4.38-1.44-10.47-3.95-14.86a44.86 44.86 0 00-2.54-3.8 199.81 199.81 0 01-33-110C47.65 139.09 140.73 48 255.83 48 356.21 48 440 117.54 459.58 209.85a199 199 0 014.42 41.64c0 112.41-89.49 204.93-204.59 204.93-18.3 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.09 31.09 0 00-11.12-2.07 30.71 30.71 0 00-12.09 2.43l-67.83 24.48a16 16 0 01-4.67 1.22 9.6 9.6 0 01-9.57-9.74 15.85 15.85 0 01.6-3.29z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",xT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z'/></svg>",_T="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M464 128L240 384l-96-96M144 384l-96-96M368 128L232 284' class='ionicon-fill-none ionicon-stroke-width'/></svg>",ET="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",CT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",AT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",TT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",ST="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",IT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",PT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",DT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",RT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 320L192 192M192 320l128-128' class='ionicon-fill-none ionicon-stroke-width'/></svg>",LT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",MT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='128' y='128' width='336' height='336' rx='57' ry='57' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",OT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>",NT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 256c0-114.87-93.13-208-208-208S48 141.13 48 256s93.13 208 208 208 208-93.13 208-208z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M445.57 172.14c-16.06.1-14.48 29.73-34.49 15.75-7.43-5.18-12-12.71-21.33-15-8.15-2-16.5.08-24.55 1.47-9.15 1.58-20 2.29-26.94 9.22-6.71 6.67-10.26 15.62-17.4 22.33-13.81 13-19.64 27.19-10.7 45.57 8.6 17.67 26.59 27.26 46 26 19.07-1.27 38.88-12.33 38.33 15.38-.2 9.8 1.85 16.6 4.86 25.71 2.79 8.4 2.6 16.54 3.24 25.21 1.18 16.2 4.16 34.36 12.2 48.67l15-21.16c1.85-2.62 5.72-6.29 6.64-9.38 1.63-5.47-1.58-14.87-1.95-21s-.19-12.34-1.13-18.47c-1.32-8.59-6.4-16.64-7.1-25.13-1.29-15.81 1.6-28.43-10.58-41.65-11.76-12.75-29-15.81-45.47-13.22-8.3 1.3-41.71 6.64-28.3-12.33 2.65-3.73 7.28-6.79 10.26-10.34 2.59-3.09 4.84-8.77 7.88-11.18s17-5.18 21-3.95 8.17 7 11.64 9.56a49.89 49.89 0 0021.81 9.36c13.66 2 42.22-5.94 42-23.46-.04-8.4-7.84-20.1-10.92-27.96zM287.45 316.3c-5.33-22.44-35.82-29.94-52.26-42.11-9.45-7-17.86-17.81-30.27-18.69-5.72-.41-10.51.83-16.18-.64-5.2-1.34-9.28-4.14-14.82-3.41-10.35 1.36-16.88 12.42-28 10.92-10.55-1.42-21.42-13.76-23.82-23.81-3.08-12.92 7.14-17.11 18.09-18.26 4.57-.48 9.7-1 14.09.67 5.78 2.15 8.51 7.81 13.7 10.67 9.73 5.33 11.7-3.19 10.21-11.83-2.23-12.94-4.83-18.22 6.71-27.12 8-6.14 14.84-10.58 13.56-21.61-.76-6.48-4.31-9.41-1-15.86 2.51-4.91 9.4-9.34 13.89-12.27 11.59-7.56 49.65-7 34.1-28.16-4.57-6.21-13-17.31-21-18.83-10-1.89-14.44 9.27-21.41 14.19-7.2 5.09-21.22 10.87-28.43 3-9.7-10.59 6.43-14.07 10-21.46s-8.27-21.36-14.61-24.9l-29.81 33.43a41.52 41.52 0 008.34 31.86c5.93 7.63 15.37 10.08 15.8 20.5.42 10-1.14 15.12-7.68 22.15-2.83 3-4.83 7.26-7.71 10.07-3.53 3.43-2.22 2.38-7.73 3.32-10.36 1.75-19.18 4.45-29.19 7.21C95.34 199.94 93.8 172.69 86.2 162l-25 20.19c-.27 3.31 4.1 9.4 5.29 13 6.83 20.57 20.61 36.48 29.51 56.16 9.37 20.84 34.53 15.06 45.64 33.32 9.86 16.2-.67 36.71 6.71 53.67 5.36 12.31 18 15 26.72 24 8.91 9.09 8.72 21.53 10.08 33.36a305.22 305.22 0 007.45 41.28c1.21 4.69 2.32 10.89 5.53 14.76 2.2 2.66 9.75 4.95 6.7 5.83 4.26.7 11.85 4.68 15.4 1.76 4.68-3.84 3.43-15.66 4.24-21 2.43-15.9 10.39-31.45 21.13-43.35 10.61-11.74 25.15-19.69 34.11-33 8.73-12.98 11.36-30.49 7.74-45.68zm-33.39 26.32c-6 10.71-19.36 17.88-27.95 26.39-2.33 2.31-7.29 10.31-10.21 8.58-2.09-1.24-2.8-11.62-3.57-14a61.17 61.17 0 00-21.71-29.95c-3.13-2.37-10.89-5.45-12.68-8.7-2-3.53-.2-11.86-.13-15.7.11-5.6-2.44-14.91-1.06-20 1.6-5.87-1.48-2.33 3.77-3.49 2.77-.62 14.21 1.39 17.66 2.11 5.48 1.14 8.5 4.55 12.82 8 11.36 9.11 23.87 16.16 36.6 23.14 9.86 5.46 12.76 12.37 6.46 23.62zM184.46 67.09c4.74 4.63 9.2 10.11 16.27 10.57 6.69.45 13-3.17 18.84 1.38 6.48 5 11.15 11.33 19.75 12.89 8.32 1.51 17.13-3.35 19.19-11.86 2-8.11-2.31-16.93-2.57-25.07 0-1.13.61-6.15-.17-7-.58-.64-5.42.08-6.16.1q-8.13.24-16.22 1.12a207.1 207.1 0 00-57.18 14.65c2.43 1.68 5.48 2.35 8.25 3.22zM356.4 123.27c8.49 0 17.11-3.8 14.37-13.62-2.3-8.23-6.22-17.16-15.76-12.72-6.07 2.82-14.67 10-15.38 17.12-.81 8.08 11.11 9.22 16.77 9.22zM349.62 166.24c8.67 5.19 21.53 2.75 28.07-4.66 5.11-5.8 8.12-15.87 17.31-15.86a15.4 15.4 0 0110.82 4.41c3.8 3.93 3.05 7.62 3.86 12.54 1.81 11.05 13.66.63 16.75-3.65 2-2.79 4.71-6.93 3.8-10.56-.84-3.39-4.8-7-6.56-10.11-5.14-9-9.37-19.47-17.07-26.74-7.41-7-16.52-6.19-23.55 1.08-5.76 6-12.45 10.75-16.39 18.05-2.78 5.13-5.91 7.58-11.54 8.91-3.1.73-6.64 1-9.24 3.08-7.24 5.7-3.12 19.39 3.74 23.51z'/></svg>",$T="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",FT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",BT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80a176 176 0 10176 176A176 176 0 00256 80z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296' stroke-linecap='round' stroke-miterlimit='10' stroke-width='28' class='ionicon-fill-none'/><circle cx='250' cy='348' r='20'/></svg>",zT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z'/></svg>",jT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='80' width='416' height='352' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='176' r='32' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",VT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>",UT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 208v-95a80 80 0 00-160 0v95' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='208' width='320' height='272' rx='48' ry='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",HT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",qT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M128.51 204.59q-.37 6.15-.37 12.76C128.14 304 110 320 84.33 351.43 73.69 364.45 83 384 101.62 384H320M414.5 335.3c-18.48-23.45-30.62-47.05-30.62-118 0-79.3-40.52-107.57-73.88-121.3-4.43-1.82-8.6-6-9.95-10.55C294.21 65.54 277.82 48 256 48s-38.2 17.55-44 37.47c-1.35 4.6-5.52 8.71-10 10.53a149.57 149.57 0 00-18 8.79M320 384v16a64 64 0 01-128 0v-16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M448 448L64 64' class='ionicon-fill-none ionicon-stroke-width'/></svg>",GT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M427.68 351.43C402 320 383.87 304 383.87 217.35 383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43 73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57zM320 384v16a64 64 0 01-128 0v-16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",WT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 128h80M64 128h240M368 384h80M64 384h240M208 256h240M64 256h80' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='128' r='32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='176' cy='256' r='32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='384' r='32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",YT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",KT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M216.32 334.44l114.45-69.14a10.89 10.89 0 000-18.6l-114.45-69.14a10.78 10.78 0 00-16.32 9.31v138.26a10.78 10.78 0 0016.32 9.31z'/></svg>",QT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M435.25 48h-122.9a14.46 14.46 0 00-10.2 4.2L56.45 297.9a28.85 28.85 0 000 40.7l117 117a28.85 28.85 0 0040.7 0L459.75 210a14.46 14.46 0 004.2-10.2v-123a28.66 28.66 0 00-28.7-28.8z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M384 160a32 32 0 1132-32 32 32 0 01-32 32z'/></svg>",XT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",JT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='144'/></svg>",ZT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224H176a16 16 0 010-32h160a16 16 0 010 32z'/></svg>",eS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",tS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M380.93 57.37A32 32 0 00358.3 48H94.22A46.21 46.21 0 0048 94.22v323.56A46.21 46.21 0 0094.22 464h323.56A46.36 46.36 0 00464 417.78V153.7a32 32 0 00-9.37-22.63zM256 416a64 64 0 1164-64 63.92 63.92 0 01-64 64zm48-224H112a16 16 0 01-16-16v-64a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-16 16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",iS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z'/></svg>",nS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",oS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z'/></svg>",rS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 128v144h96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",sS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",aS=e=>{switch(e){case"success":return"toast-success";case"warning":default:return"toast-warning";case"error":return"toast-error"}},lS=async(e,t)=>{if(!bC.isEmpty(e)){const i=await ux.create({message:null!=e?e:"",duration:1500,position:"top",swipeGesture:"vertical",mode:"ios",cssClass:aS(t),layout:"stacked"});await i.present()}};function cS(e){const t=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/);if(t)return{type:"youtube",id:t[1]};const i=e.match(/(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(\d+)/);if(i)return{type:"vimeo",id:i[1]};const n=e.match(/https?:\/\/\S+\.(?:jpg|jpeg|png|gif|webp)/i);if(n)return{type:"image",url:n[0]};const o=e.match(/https?:\/\/\S+\.mp3/i);if(o)return{type:"audio",url:o[0]};const r=e.match(/https?:\/\/\S+\.mp4/i);return r?{type:"video",url:r[0]}:null}const dS=jn({__name:"LoadingModal",props:{isOpen:{type:Boolean,default:!1},backdropOpacity:{default:.15}},setup:e=>(e,t)=>($r(),Vr(Di(ox),{"is-open":e.isOpen,class:"loadingModal",style:Ve({"--backdrop-opacity":e.backdropOpacity}),mode:"ios"},null,8,["is-open","style"]))}),uS={class:"flex flex-1 flex-col items-center justify-center bg-white1 px-4"},hS={key:1},pS={class:"w-full"},mS=jn({__name:"LoginScreen",setup(e){const{VITE_CLIENT_ID:t,VITE_CLIENT_ID_IOS:i}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},n=EC(),o=vC(),r=Ti(!1),{fcmToken:s}=mC(n),{routerCallback:a}=mC(o),l=Rw(),c=Ti(!1),d=mi({email:"",password:""}),u=()=>{r.value||l.push({name:"RegisterScreen"})},h=async()=>{if(!r.value){r.value=!0;try{const{data:e,status:t}=await qE.post("/auth/login",{username:d.email,password:d.password});if(400===t||401===t)return void lS("Tài khoản hoặc mật khẩu không đúng. Vui lòng thử lại.","warning");m(e)}catch(e){console.log(e)}finally{r.value=!1}}},p=async e=>{try{var t;const n=await hT.login({provider:e,options:{scopes:"apple"===e?["email","name"]:["profile","email"]}});c.value=!0;const{data:o,status:r}=await qE.post("/auth/login-social",{token:null==n||null===(t=n.result)||void 0===t||null===(t=t.accessToken)||void 0===t?void 0:t.token,social:e});var i;if(201===r)m(o,null==n||null===(i=n.result)||void 0===i?void 0:i.profile,e)}catch(n){console.log(n)}finally{c.value=!1}},m=async(e,t,i)=>{if(!bC.isEmpty(null==e?void 0:e.access_token)&&!bC.isEmpty(null==e?void 0:e.refresh_token)){var r,s;if(n.setAccessToken(e.access_token),n.setRefreshToken(e.refresh_token),n.setLoggedIn(!0),await n.getUserInfo(null==e?void 0:e.access_token,i,null==t?void 0:t.imageUrl),await f(e.access_token),null!==(r=a.value)&&void 0!==r&&r.goBack)g();else if(bC.isEmpty(null===(s=a.value)||void 0===s?void 0:s.name))l.replace({name:"defaultBottomTab"});else{var c,d,u;l.replace({name:null===(c=a.value)||void 0===c?void 0:c.name,params:null!==(d=null===(u=a.value)||void 0===u?void 0:u.params)&&void 0!==d?d:null},iT)}o.setRouterCallback({})}},f=async e=>{if(console.log("fcmToken",s),s.value)try{const{data:t,status:i}=await qE.post("/notification/user-fcm-token",{token:s.value,type:"app"},{headers:{Authorization:`Bearer ${e}`}});console.log(t,i)}catch(t){console.log(t)}},g=()=>{l.back()};return io((()=>{try{Hc("ios")?hT.initialize({google:{iOSClientId:i},apple:{clientId:i}}):hT.initialize({google:{webClientId:t}})}catch(e){console.log(e)}})),(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white1"},{default:pn((()=>[Yr(Di(ex),{slot:"start",onClick:g,icon:Di(LT),class:"size-8 p-2 text-gray2"},null,8,["icon"])])),_:1})])),_:1}),Wr("div",uS,[t[8]||(t[8]=Wr("div",{class:"text-center mb-7"},[Wr("img",{src:QE,class:"w-auto object-contain size-9 mb-7"}),Wr("span",{class:"text-black1 text-xl font-medium"},"Đăng nhập")],-1)),Wr("form",{class:"w-full",onSubmit:Ta(h,["prevent"])},[Yr(Di(tw),{modelValue:d.email,"onUpdate:modelValue":t[0]||(t[0]=e=>d.email=e),mode:"md",required:"",fill:"outline",placeholder:"Email",class:"outline-none text-sm font-light mb-4",label:"Email","label-placement":"floating",color:"blue1"},null,8,["modelValue"]),Yr(Di(tw),{modelValue:d.password,"onUpdate:modelValue":t[1]||(t[1]=e=>d.password=e),mode:"md",fill:"outline",placeholder:"Mật khẩu",class:"outline-none text-sm font-light mb-2.5",label:"Mật khẩu",type:"password",autocapitalize:"off",autocomplete:"off",autocorrect:"off","label-placement":"floating",color:"blue1"},{default:pn((()=>[d.password?($r(),Vr(Di(iw),{key:0,color:"gray2",slot:"end"})):Jr("",!0)])),_:1},8,["modelValue"]),Yr(Di(qk),{disabled:!(d.email&&d.password)||r.value,type:"submit",color:d.email&&d.password?"blue1":"gray3",class:"mt-4 h-12 w-full text-base uppercase text-center shadow-st rounded-xl"},{default:pn((()=>[r.value?($r(),Vr(Di(vw),{key:0,color:"white",class:"size-6"})):($r(),jr("span",hS,"Đăng nhập"))])),_:1},8,["disabled","color"])],32),Wr("div",pS,[t[7]||(t[7]=Wr("div",{class:"my-6 text-center text-base font-normal"},"Hoặc",-1)),Wr("div",{onClick:t[2]||(t[2]=e=>p("google")),class:"flex items-center font-normal bg-white text-black w-full h-12 justify-center mt-4 text-base uppercase text-center shadow-st rounded-xl"},t[4]||(t[4]=[Wr("img",{src:"/assets/logoGoogle-HGPhlMu3.svg",class:"size-12"},null,-1),Wr("span",{class:"font-medium"},"Đăng nhập với google",-1)])),Di(Hc)("ios")?($r(),jr("div",{key:0,onClick:t[3]||(t[3]=e=>p("apple")),class:"flex items-center font-normal bg-[#191919] text-white w-full h-12 justify-center mt-4 text-base uppercase text-center shadow-st rounded-xl"},[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M349.13 136.86c-40.32 0-57.36 19.24-85.44 19.24-28.79 0-50.75-19.1-85.69-19.1-34.2 0-70.67 20.88-93.83 56.45-32.52 50.16-27 144.63 25.67 225.11 18.84 28.81 44 61.12 77 61.47h.6c28.68 0 37.2-18.78 76.67-19h.6c38.88 0 46.68 18.89 75.24 18.89h.6c33-.35 59.51-36.15 78.35-64.85 13.56-20.64 18.6-31 29-54.35-76.19-28.92-88.43-136.93-13.08-178.34-23-28.8-55.32-45.48-85.79-45.48z'/><path d='M340.25 32c-24 1.63-52 16.91-68.4 36.86-14.88 18.08-27.12 44.9-22.32 70.91h1.92c25.56 0 51.72-15.39 67-35.11 14.72-18.77 25.88-45.37 21.8-72.66z'/></svg>"),class:"size-7 mr-2"},null,8,["icon"]),t[5]||(t[5]=Wr("span",{class:"font-medium"},"Đăng nhập với Apple",-1))])):Jr("",!0),Wr("div",{class:"text-center text-base mt-4"},[t[6]||(t[6]=Xr(" Bạn chưa có tài khoản? ")),Wr("span",{onClick:u,class:"text-blue1 font-medium"},"Đăng ký ngay")])])]),Yr(dS,{"is-open":c.value,"backdrop-opacity":.2},null,8,["is-open"])])),_:1}))}}),fS=(e,t)=>{const i=e.__vccOpts||e;for(const[n,o]of t)i[n]=o;return i},gS=fS(mS,[["__scopeId","data-v-06361eb9"]]),bS=Sx("Browser",{web:()=>Da((()=>a.import("./web-legacy-BOMh8Jsn.js")),void 0).then((e=>new e.BrowserWeb))}),vS={class:"flex flex-1 flex-col items-center justify-center bg-white1 px-4"},yS={slot:"label"},kS={slot:"label"},wS={slot:"label"},xS={slot:"label"},_S={class:"flex gap-4 mt-4 mb-1"},ES=jn({__name:"RegisterScreen",setup(e){const t=Rw(),i=mi({fullname:"",phone:"",email:"",password:"",repassword:""}),n=Ti(!1),o=()=>{t.back(iT)},r=ks((()=>n.value&&i.email&&i.fullname&&i.password&&i.repassword&&i.password.length>=6&&i.password===i.repassword)),s=async()=>{const e={full_name:i.fullname,phone:i.phone?`+84${i.phone}`:void 0,email:i.email,password:i.password};if(i.password&&i.password===i.repassword)try{const i=await SC.post("/auth/register",e);var n,o;if(400===i.status){if(!bC.isEmpty(null==i||null===(n=i.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message))if("string"==typeof(null==i||null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.message)){var r;lS(null==i||null===(r=i.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message,"warning")}else{var s;const e=null==i||null===(s=i.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.message[0].constraints,t=Object.values(e)[0];t&&lS(t,"warning")}}else 201===i.status&&(lS("Tạo tài khoản thành công","success"),t.back(iT))}catch(a){console.log("🌸  error 👉",a)}},a=async()=>{await bS.open({url:"https://unica.expert/policy/terms.html"})},l=async()=>{await bS.open({url:"https://unica.expert/policy/privacy.html"})},c=async()=>{await bS.open({url:"https://unica.expert/page/dieu-khoan-su-dung.html"})};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Wr("div",vS,[t[19]||(t[19]=Wr("div",{class:"text-center mb-7"},[Wr("img",{src:QE,class:"w-auto object-contain size-9 mb-7"}),Wr("span",{class:"text-black1 text-xl font-medium"},"Đăng ký")],-1)),Wr("form",{class:"w-full",onSubmit:Ta(s,["prevent"])},[Yr(Di(tw),{modelValue:i.fullname,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fullname=e),mode:"md",required:"",fill:"outline",placeholder:"Họ và tên",class:"outline-none text-sm font-light mb-4",type:"text","label-placement":"floating",color:"blue1"},{default:pn((()=>[Wr("div",yS,[t[7]||(t[7]=Xr("Họ và tên")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[6]||(t[6]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Yr(Di(tw),{modelValue:i.phone,"onUpdate:modelValue":t[1]||(t[1]=e=>i.phone=e),mode:"md",fill:"outline",label:"Số điện thoại",placeholder:"Số điện thoại",class:"outline-none text-sm font-light mb-2.5","label-placement":"floating",type:"tel",color:"blue1"},null,8,["modelValue"]),Yr(Di(tw),{modelValue:i.email,"onUpdate:modelValue":t[2]||(t[2]=e=>i.email=e),mode:"md",required:"",fill:"outline",placeholder:"Email",class:"outline-none text-sm font-light mb-2.5",autocomplete:"off",type:"email","error-text":"Nhập địa chỉ email","label-placement":"floating",color:"blue1"},{default:pn((()=>[Wr("div",kS,[t[9]||(t[9]=Xr("Email")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[8]||(t[8]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Yr(Di(tw),{modelValue:i.password,"onUpdate:modelValue":t[3]||(t[3]=e=>i.password=e),mode:"md",fill:"outline",placeholder:"Mật khẩu",autocomplete:"off",autocapitalize:"off",autocorrect:"off",class:"outline-none text-sm font-light mb-2.5",type:"password","label-placement":"floating",color:"blue1"},{default:pn((()=>[Wr("div",wS,[t[11]||(t[11]=Xr("Mật khẩu")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[10]||(t[10]=[Xr("*")]))),_:1})]),i.password?($r(),Vr(Di(iw),{key:0,color:"gray2",slot:"end"})):Jr("",!0)])),_:1},8,["modelValue"]),Yr(Di(tw),{modelValue:i.repassword,"onUpdate:modelValue":t[4]||(t[4]=e=>i.repassword=e),mode:"md",fill:"outline",placeholder:"Nhập lại mật khẩu",autocomplete:"off",autocapitalize:"off",autocorrect:"off",class:"outline-none text-sm font-light mb-2.5",type:"password","label-placement":"floating",color:"blue1"},{default:pn((()=>[Wr("div",xS,[t[13]||(t[13]=Xr(" Nhập lại mật khẩu")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[12]||(t[12]=[Xr("*")]))),_:1})]),i.repassword?($r(),Vr(Di(iw),{key:0,color:"gray2",slot:"end"})):Jr("",!0)])),_:1},8,["modelValue"]),Wr("div",_S,[Yr(Di(Wk),{modelValue:n.value,"onUpdate:modelValue":t[5]||(t[5]=e=>n.value=e),"label-placement":"end",mode:"md",color:"blue1",alignment:"center"},null,8,["modelValue"]),Wr("div",{class:"text-wrap text-xs text-black"},[t[14]||(t[14]=Xr(" Tôi đồng ý với ")),Wr("span",{onClick:a,class:"text-blue1 font-medium"},"Điều khoản"),t[15]||(t[15]=Xr(", ")),Wr("span",{onClick:l,class:"text-blue1 font-medium"},"Chính sách bảo mật"),t[16]||(t[16]=Xr(" và ")),Wr("span",{onClick:c,class:"text-blue1 font-medium"},"EULA")])]),Yr(Di(qk),{type:"submit",disabled:!r.value,color:r.value?"blue1":"gray3",class:"mt-4 h-12 w-full text-base uppercase text-center shadow-sm rounded-2xl"},{default:pn((()=>t[17]||(t[17]=[Xr(" Đăng ký ")]))),_:1},8,["disabled","color"])],32),Wr("div",{class:"text-center text-base mt-4"},[t[18]||(t[18]=Xr(" Bạn đã có tài khoản? ")),Wr("span",{onClick:o,class:"text-blue1 font-medium"},"Đăng nhập ngay")])])])),_:1}))}}),CS=fS(ES,[["__scopeId","data-v-835962f4"]]),AS={class:"flex flex-1 flex-col items-center justify-center bg-white1 px-4"},TS={class:"flex flex-col gap-2 mb-7"},SS={class:"relative flex justify-center items-center"},IS={class:"w-full"},PS=jn({__name:"ImproveBioScreen",setup(e){const t=Fy(),i=Ti(""),n=()=>{t.push({name:"ForgotPassScreen"})};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Wr("div",AS,[t[4]||(t[4]=Wr("img",{src:QE,class:"w-auto object-contain size-9 mb-7"},null,-1)),t[5]||(t[5]=Wr("span",{class:"text-black1 text-xl font-medium text-center mb-2"},"Chúng tôi gửi bạn mã code",-1)),t[6]||(t[6]=Wr("span",{class:"text-black1 text-sm font-light text-center mb-7"}," Cộng đồng sẽ thiếu gắn kết, trở lên xa lạ nếu không thấy tên và khuôn mặt. Hồ sơ sẽ giúp dễ dàng kết nối ",-1)),Wr("div",TS,[Wr("div",SS,[t[1]||(t[1]=Wr("img",{src:"/assets/defaultAvatar-iuxA_jjJ.svg",class:"size-28"},null,-1)),Yr(Di(ex),{icon:Di(kT),class:"bg-white p-1.5 rounded-full size-4 absolute"},null,8,["icon"])]),t[2]||(t[2]=Wr("span",{class:"self-center text-sm font-light"},"Tải ảnh lên",-1))]),mn(Wr("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),placeholder:"Nhập bio của bạn",class:"w-full p-2 border text-base outline-none border-[#929292] bg-white1 rounded-xl",rows:"3",maxlength:"160"},null,512),[[fa,i.value]]),Wr("div",IS,[Yr(Di(qk),{onClick:n,disabled:!i.value,color:i.value?"blue1":"gray3",class:"mt-4 h-12 w-full text-sm uppercase text-center shadow-sm rounded-2xl"},{default:pn((()=>t[3]||(t[3]=[Xr(" Hoàn tất ")]))),_:1},8,["disabled","color"])])])])),_:1}))}}),DS={class:"flex flex-1 flex-col items-center justify-center bg-white1 px-4"},RS={class:"text-black1 text-base font-light text-center mb-7"},LS={class:"text-black1 font-normal"},MS={class:"w-full"},OS=jn({__name:"EnterAuthCodeScreen",setup(e){const t=Fy(),i=By(),n=Ti(""),o=()=>{},r=()=>{t.push({name:"ImproveBioScreen"})},s=()=>{t.back()};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Wr("div",DS,[t[5]||(t[5]=Wr("img",{src:QE,class:"w-auto object-contain size-9 mb-7"},null,-1)),t[6]||(t[6]=Wr("span",{class:"text-black1 text-xl font-medium text-center mb-2"},"Chúng tôi gửi bạn mã code",-1)),Wr("span",RS,[t[1]||(t[1]=Xr(" Nhập mã code để xác thực ")),Wr("span",LS,Ze(Di(i).params.email),1)]),Yr(Di(tw),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),mode:"md",fill:"outline",placeholder:"Nhập mã code từ email",class:"outline-none text-sm font-light mb-4",color:"blue1"},null,8,["modelValue"]),Wr("div",MS,[Yr(Di(qk),{disabled:!n.value,onClick:r,color:n.value?"blue1":"gray3",class:"mt-1.5 h-12 w-full text-base uppercase text-center shadow-st rounded-2xl"},{default:pn((()=>t[2]||(t[2]=[Xr(" Xác nhận ")]))),_:1},8,["disabled","color"]),Wr("div",{class:"text-center text-sm mt-4"},[t[3]||(t[3]=Xr(" Chưa nhận được? ")),Wr("span",{onClick:o,class:"text-blue1 font-medium"},"Gửi lại"),t[4]||(t[4]=Xr(" hoặc ")),Wr("span",{onClick:s,class:"text-blue1 font-medium"},"sử dụng email khác")])])])])),_:1}))}}),NS=fS(OS,[["__scopeId","data-v-081651e9"]]),$S={class:"flex flex-1 flex-col items-center justify-center bg-white1 px-4"},FS={class:"w-full"},BS=jn({__name:"ForgotPassScreen",setup(e){const t=Fy(),i=Ti(),n=()=>{t.push({name:"SentResetSuccessScreen"})};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Wr("div",$S,[t[2]||(t[2]=Wr("img",{src:QE,class:"w-auto object-contain size-9 mb-7"},null,-1)),t[3]||(t[3]=Wr("span",{class:"text-black1 text-xl font-medium text-center mb-2"},"Quên mật khẩu",-1)),t[4]||(t[4]=Wr("span",{class:"text-black1 text-base font-light text-center mb-7"}," Nhập địa chỉ email và chúng tôi sẽ gửi link reset mật khẩu của bạn ",-1)),Yr(Di(tw),{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),mode:"md",fill:"outline",label:"Nhập email",placeholder:"Nhập email","label-placement":"floating",class:"outline-none text-sm font-light mb-4",color:"blue1"},null,8,["modelValue"]),Wr("div",FS,[Yr(Di(qk),{onClick:n,disabled:!i.value,color:i.value?"blue1":"gray3",class:"mt-4 h-12 w-full text-sm uppercase text-center shadow-sm rounded-xl"},{default:pn((()=>t[1]||(t[1]=[Xr(" Gửi thông tin ")]))),_:1},8,["disabled","color"])])])])),_:1}))}}),zS=fS(BS,[["__scopeId","data-v-40a56fc9"]]),jS={class:"flex flex-1 flex-col items-center justify-center bg-white1 px-4"},VS={class:"w-full"},US=jn({__name:"SentResetSuccessScreen",setup(e){const t=Fy(),i=()=>{t.replace({name:"LoginScreen"})};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Wr("div",jS,[t[1]||(t[1]=Wr("img",{src:QE,class:"w-auto object-contain size-9 mb-7"},null,-1)),t[2]||(t[2]=Wr("span",{class:"text-black1 text-xl font-medium text-center mb-2"},"Vui lòng kiểm tra email",-1)),t[3]||(t[3]=Wr("span",{class:"text-black1 text-base font-light text-center mb-2"}," Chúng tôi đã gửi link reset mật khẩu tới email của bạn ",-1)),Wr("div",VS,[Yr(Di(qk),{onClick:i,color:"blue1",class:"mt-4 h-12 w-full text-sm uppercase text-center shadow-sm rounded-2xl"},{default:pn((()=>t[0]||(t[0]=[Xr(" Đã hiểu ")]))),_:1})])])])),_:1}))}}),HS={class:"flex flex-col items-center justify-center h-full text-gray-700"};const qS=fS({},[["render",function(e,t){return $r(),jr("div",HS,t[0]||(t[0]=[Wr("h1",{class:"text-lg font-medium"},"Không có tin nhắn nào",-1),Wr("h4",{class:"text-xs font-light"},"Tin nhắn mới sẽ hiển thị tại đây.",-1)]))}]]),GS={class:"py-2 pr-2 pl-5 w-full text-xs font-light"};const WS=fS({},[["render",function(e,t){return $r(),jr("div",GS,t[0]||(t[0]=[Wr("ul",null,[Wr("li",null,"Chỉ tạo được khi ở trong cộng đồng"),Wr("li",null,"Cần Avatar nhóm và tên nhóm"),Wr("li",null,[Xr("Thành viên tối thiểu "),Wr("span",{class:"font-medium"},"2"),Xr(" người")])],-1)]))}]]);var YS,KS,QS;!function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(YS||(YS={})),function(e){e.Rear="REAR",e.Front="FRONT"}(KS||(KS={})),function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"}(QS||(QS={}));class XS extends Ix{async getPhoto(e){return new Promise((async(t,i)=>{if(e.webUseInput||e.source===YS.Photos)this.fileInputExperience(e,t,i);else if(e.source===YS.Prompt){let n=document.querySelector("pwa-action-sheet");n||(n=document.createElement("pwa-action-sheet"),document.body.appendChild(n)),n.header=e.promptLabelHeader||"Photo",n.cancelable=!1,n.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],n.addEventListener("onSelection",(async n=>{0===n.detail?this.fileInputExperience(e,t,i):this.cameraExperience(e,t,i)}))}else this.cameraExperience(e,t,i)}))}async pickImages(e){return new Promise((async(e,t)=>{this.multipleFileInputExperience(e,t)}))}async cameraExperience(e,t,i){if(customElements.get("pwa-camera-modal")){const n=document.createElement("pwa-camera-modal");n.facingMode=e.direction===KS.Front?"user":"environment",document.body.appendChild(n);try{await n.componentOnReady(),n.addEventListener("onPhoto",(async o=>{const r=o.detail;null===r?i(new Ex("User cancelled photos app")):r instanceof Error?i(r):t(await this._getCameraPhoto(r,e)),n.dismiss(),document.body.removeChild(n)})),n.present()}catch(f1){this.fileInputExperience(e,t,i)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,t,i)}fileInputExperience(e,t,i){let n=document.querySelector("#_capacitor-camera-input");const o=()=>{var e;null===(e=n.parentNode)||void 0===e||e.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input",n.type="file",n.hidden=!0,document.body.appendChild(n),n.addEventListener("change",(i=>{const r=n.files[0];let s="jpeg";if("image/png"===r.type?s="png":"image/gif"===r.type&&(s="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){const i=new FileReader;i.addEventListener("load",(()=>{if("dataUrl"===e.resultType)t({dataUrl:i.result,format:s});else if("base64"===e.resultType){const e=i.result.split(",")[1];t({base64String:e,format:s})}o()})),i.readAsDataURL(r)}else t({webPath:URL.createObjectURL(r),format:s}),o()})),n.addEventListener("cancel",(e=>{i(new Ex("User cancelled photos app")),o()}))),n.accept="image/*",n.capture=!0,e.source===YS.Photos||e.source===YS.Prompt?n.removeAttribute("capture"):e.direction===KS.Front?n.capture="user":e.direction===KS.Rear&&(n.capture="environment"),n.click()}multipleFileInputExperience(e,t){let i=document.querySelector("#_capacitor-camera-input-multiple");const n=()=>{var e;null===(e=i.parentNode)||void 0===e||e.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input-multiple",i.type="file",i.hidden=!0,i.multiple=!0,document.body.appendChild(i),i.addEventListener("change",(t=>{const o=[];for(let e=0;e<i.files.length;e++){const t=i.files[e];let n="jpeg";"image/png"===t.type?n="png":"image/gif"===t.type&&(n="gif"),o.push({webPath:URL.createObjectURL(t),format:n})}e({photos:o}),n()})),i.addEventListener("cancel",(e=>{t(new Ex("User cancelled photos app")),n()}))),i.accept="image/*",i.click()}_getCameraPhoto(e,t){return new Promise(((i,n)=>{const o=new FileReader,r=e.type.split("/")[1];"uri"===t.resultType?i({webPath:URL.createObjectURL(e),format:r,saved:!1}):(o.readAsDataURL(e),o.onloadend=()=>{const e=o.result;"dataUrl"===t.resultType?i({dataUrl:e,format:r,saved:!1}):i({base64String:e.split(",")[1],format:r,saved:!1})},o.onerror=e=>{n(e)})}))}async checkPermissions(){if("undefined"==typeof navigator||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch(e){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new XS;const JS=Sx("Camera",{web:()=>new XS});var ZS={},eI={};function tI(e,t,i){for(var n=0,o=0,r=i.length;o<r;o++)(n=i.charCodeAt(o))<128?e.setUint8(t++,n):n<2048?(e.setUint8(t++,192|n>>6),e.setUint8(t++,128|63&n)):n<55296||n>=57344?(e.setUint8(t++,224|n>>12),e.setUint8(t++,128|n>>6&63),e.setUint8(t++,128|63&n)):(o++,n=65536+((1023&n)<<10|1023&i.charCodeAt(o)),e.setUint8(t++,240|n>>18),e.setUint8(t++,128|n>>12&63),e.setUint8(t++,128|n>>6&63),e.setUint8(t++,128|63&n))}function iI(e,t,i){var n=typeof i,o=0,r=0,s=0,a=0,l=0,c=0;if("string"===n){if(l=function(e){for(var t=0,i=0,n=0,o=e.length;n<o;n++)(t=e.charCodeAt(n))<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i}(i),l<32)e.push(160|l),c=1;else if(l<256)e.push(217,l),c=2;else if(l<65536)e.push(218,l>>8,l),c=3;else{if(!(l<4294967296))throw new Error("String too long");e.push(219,l>>24,l>>16,l>>8,l),c=5}return t.push({_str:i,_length:l,_offset:e.length}),c+l}if("number"===n)return Math.floor(i)===i&&isFinite(i)?i>=0?i<128?(e.push(i),1):i<256?(e.push(204,i),2):i<65536?(e.push(205,i>>8,i),3):i<4294967296?(e.push(206,i>>24,i>>16,i>>8,i),5):(s=i/Math.pow(2,32)|0,a=i>>>0,e.push(207,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):i>=-32?(e.push(i),1):i>=-128?(e.push(208,i),2):i>=-32768?(e.push(209,i>>8,i),3):i>=-2147483648?(e.push(210,i>>24,i>>16,i>>8,i),5):(s=Math.floor(i/Math.pow(2,32)),a=i>>>0,e.push(211,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):(e.push(203),t.push({_float:i,_length:8,_offset:e.length}),9);if("object"===n){if(null===i)return e.push(192),1;if(Array.isArray(i)){if((l=i.length)<16)e.push(144|l),c=1;else if(l<65536)e.push(220,l>>8,l),c=3;else{if(!(l<4294967296))throw new Error("Array too large");e.push(221,l>>24,l>>16,l>>8,l),c=5}for(o=0;o<l;o++)c+=iI(e,t,i[o]);return c}if(i instanceof Date){var d=i.getTime();return s=Math.floor(d/Math.pow(2,32)),a=d>>>0,e.push(215,0,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),10}if(i instanceof ArrayBuffer){if((l=i.byteLength)<256)e.push(196,l),c=2;else if(l<65536)e.push(197,l>>8,l),c=3;else{if(!(l<4294967296))throw new Error("Buffer too large");e.push(198,l>>24,l>>16,l>>8,l),c=5}return t.push({_bin:i,_length:l,_offset:e.length}),c+l}if("function"==typeof i.toJSON)return iI(e,t,i.toJSON());var u=[],h="",p=Object.keys(i);for(o=0,r=p.length;o<r;o++)"function"!=typeof i[h=p[o]]&&u.push(h);if((l=u.length)<16)e.push(128|l),c=1;else if(l<65536)e.push(222,l>>8,l),c=3;else{if(!(l<4294967296))throw new Error("Object too large");e.push(223,l>>24,l>>16,l>>8,l),c=5}for(o=0;o<l;o++)c+=iI(e,t,h=u[o]),c+=iI(e,t,i[h]);return c}if("boolean"===n)return e.push(i?195:194),1;if("undefined"===n)return e.push(212,0,0),3;throw new Error("Could not encode")}var nI=function(e){var t=[],i=[],n=iI(t,i,e),o=new ArrayBuffer(n),r=new DataView(o),s=0,a=0,l=-1;i.length>0&&(l=i[0]._offset);for(var c,d=0,u=0,h=0,p=t.length;h<p;h++)if(r.setUint8(a+h,t[h]),h+1===l){if(d=(c=i[s])._length,u=a+l,c._bin)for(var m=new Uint8Array(c._bin),f=0;f<d;f++)r.setUint8(u+f,m[f]);else c._str?tI(r,u,c._str):void 0!==c._float&&r.setFloat64(u,c._float);a+=d,i[++s]&&(l=i[s]._offset)}return o};function oI(e){if(this._offset=0,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}oI.prototype._array=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=this._parse();return t},oI.prototype._map=function(e){for(var t={},i=0;i<e;i++)t[this._parse()]=this._parse();return t},oI.prototype._str=function(e){var t=function(e,t,i){for(var n="",o=0,r=t,s=t+i;r<s;r++){var a=e.getUint8(r);if(128&a)if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&e.getUint8(++r))<<12|(63&e.getUint8(++r))<<6|63&e.getUint8(++r))>=65536?(o-=65536,n+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):n+=String.fromCharCode(o)}else n+=String.fromCharCode((15&a)<<12|(63&e.getUint8(++r))<<6|63&e.getUint8(++r));else n+=String.fromCharCode((31&a)<<6|63&e.getUint8(++r));else n+=String.fromCharCode(a)}return n}(this._view,this._offset,e);return this._offset+=e,t},oI.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},oI.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),i=0,n=0,o=0,r=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return i=this._view.getUint8(this._offset),this._offset+=1,this._bin(i);case 197:return i=this._view.getUint16(this._offset),this._offset+=2,this._bin(i);case 198:return i=this._view.getUint32(this._offset),this._offset+=4,this._bin(i);case 199:return i=this._view.getUint8(this._offset),n=this._view.getInt8(this._offset+1),this._offset+=2,[n,this._bin(i)];case 200:return i=this._view.getUint16(this._offset),n=this._view.getInt8(this._offset+2),this._offset+=3,[n,this._bin(i)];case 201:return i=this._view.getUint32(this._offset),n=this._view.getInt8(this._offset+4),this._offset+=5,[n,this._bin(i)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return o=this._view.getUint32(this._offset)*Math.pow(2,32),r=this._view.getUint32(this._offset+4),this._offset+=8,o+r;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return o=this._view.getInt32(this._offset)*Math.pow(2,32),r=this._view.getUint32(this._offset+4),this._offset+=8,o+r;case 212:return n=this._view.getInt8(this._offset),this._offset+=1,0===n?void(this._offset+=1):[n,this._bin(1)];case 213:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(2)];case 214:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(4)];case 215:return n=this._view.getInt8(this._offset),this._offset+=1,0===n?(o=this._view.getInt32(this._offset)*Math.pow(2,32),r=this._view.getUint32(this._offset+4),this._offset+=8,new Date(o+r)):[n,this._bin(8)];case 216:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(16)];case 217:return i=this._view.getUint8(this._offset),this._offset+=1,this._str(i);case 218:return i=this._view.getUint16(this._offset),this._offset+=2,this._str(i);case 219:return i=this._view.getUint32(this._offset),this._offset+=4,this._str(i);case 220:return i=this._view.getUint16(this._offset),this._offset+=2,this._array(i);case 221:return i=this._view.getUint32(this._offset),this._offset+=4,this._array(i);case 222:return i=this._view.getUint16(this._offset),this._offset+=2,this._map(i);case 223:return i=this._view.getUint32(this._offset),this._offset+=4,this._map(i)}throw new Error("Could not parse")};var rI=function(e){var t=new oI(e),i=t._parse();if(t._offset!==e.byteLength)throw new Error(e.byteLength-t._offset+" trailing bytes");return i};eI.encode=nI,eI.decode=rI;var sI={exports:{}};!function(e){function t(e){if(e)return function(e){for(var i in t.prototype)e[i]=t.prototype[i];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((i=n[o])===t||i.fn===t){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),i=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(i){n=0;for(var o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}(sI);var aI=eI,lI=sI.exports;ZS.protocol=5;var cI=ZS.PacketType={CONNECT:0,DISCONNECT:1,EVENT:2,ACK:3,CONNECT_ERROR:4},dI=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},uI=function(e){return"string"==typeof e},hI=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function pI(){}function mI(){}pI.prototype.encode=function(e){return[aI.encode(e)]},lI(mI.prototype),mI.prototype.add=function(e){var t=aI.decode(e);this.checkPacket(t),this.emit("decoded",t)},mI.prototype.checkPacket=function(e){if(!(dI(e.type)&&e.type>=cI.CONNECT&&e.type<=cI.CONNECT_ERROR))throw new Error("invalid packet type");if(!uI(e.nsp))throw new Error("invalid namespace");if(!function(e){switch(e.type){case cI.CONNECT:return void 0===e.data||hI(e.data);case cI.DISCONNECT:return void 0===e.data;case cI.CONNECT_ERROR:return uI(e.data)||hI(e.data);default:return Array.isArray(e.data)}}(e))throw new Error("invalid payload");if(!(void 0===e.id||dI(e.id)))throw new Error("invalid packet id")},mI.prototype.destroy=function(){},ZS.Encoder=pI,ZS.Decoder=mI;const fI={chat:{url:"https://chat.unica.expert/message",transports:["websocket"],options:{transports:["websocket"],autoConnect:!1,reconnection:!0,reconnectionAttempts:15,reconnectionDelay:1500,parser:ZS}}},gI=Object.create(null);gI.open="0",gI.close="1",gI.ping="2",gI.pong="3",gI.message="4",gI.upgrade="5",gI.noop="6";const bI=Object.create(null);Object.keys(gI).forEach((e=>{bI[gI[e]]=e}));const vI={type:"error",data:"parser error"},yI="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),kI="function"==typeof ArrayBuffer,wI=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,xI=({type:e,data:t},i,n)=>yI&&t instanceof Blob?i?n(t):_I(t,n):kI&&(t instanceof ArrayBuffer||wI(t))?i?n(t):_I(new Blob([t]),n):n(gI[e]+(t||"")),_I=(e,t)=>{const i=new FileReader;return i.onload=function(){const e=i.result.split(",")[1];t("b"+(e||""))},i.readAsDataURL(e)};function EI(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let CI;const AI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",TI="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)TI[AI.charCodeAt(e)]=e;const SI="function"==typeof ArrayBuffer,II=(e,t)=>{if("string"!=typeof e)return{type:"message",data:DI(e,t)};const i=e.charAt(0);if("b"===i)return{type:"message",data:PI(e.substring(1),t)};return bI[i]?e.length>1?{type:bI[i],data:e.substring(1)}:{type:bI[i]}:vI},PI=(e,t)=>{if(SI){const i=(e=>{let t,i,n,o,r,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<a;t+=4)i=TI[e.charCodeAt(t)],n=TI[e.charCodeAt(t+1)],o=TI[e.charCodeAt(t+2)],r=TI[e.charCodeAt(t+3)],d[l++]=i<<2|n>>4,d[l++]=(15&n)<<4|o>>2,d[l++]=(3&o)<<6|63&r;return c})(e);return DI(i,t)}return{base64:!0,data:e}},DI=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,RI=String.fromCharCode(30);function LI(){return new TransformStream({transform(e,t){!function(e,t){yI&&e.data instanceof Blob?e.data.arrayBuffer().then(EI).then(t):kI&&(e.data instanceof ArrayBuffer||wI(e.data))?t(EI(e.data)):xI(e,!1,(e=>{CI||(CI=new TextEncoder),t(CI.encode(e))}))}(e,(i=>{const n=i.length;let o;if(n<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,n);else if(n<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!=typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(i)}))}})}let MI;function OI(e){return e.reduce(((e,t)=>e+t.length),0)}function NI(e,t){if(e[0].length===t)return e.shift();const i=new Uint8Array(t);let n=0;for(let o=0;o<t;o++)i[o]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),i}function $I(e){if(e)return function(e){for(var t in $I.prototype)e[t]=$I.prototype[t];return e}(e)}$I.prototype.on=$I.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},$I.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},$I.prototype.off=$I.prototype.removeListener=$I.prototype.removeAllListeners=$I.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((i=n[o])===t||i.fn===t){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},$I.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),i=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(i){n=0;for(var o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,t)}return this},$I.prototype.emitReserved=$I.prototype.emit,$I.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},$I.prototype.hasListeners=function(e){return!!this.listeners(e).length};const FI="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),BI="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function zI(e,...t){return t.reduce(((t,i)=>(e.hasOwnProperty(i)&&(t[i]=e[i]),t)),{})}const jI=BI.setTimeout,VI=BI.clearTimeout;function UI(e,t){t.useNativeTimers?(e.setTimeoutFn=jI.bind(BI),e.clearTimeoutFn=VI.bind(BI)):(e.setTimeoutFn=BI.setTimeout.bind(BI),e.clearTimeoutFn=BI.clearTimeout.bind(BI))}function HI(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class qI extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class GI extends $I{constructor(e){super(),this.writable=!1,UI(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new qI(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=II(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t}(e);return t.length?"?"+t:""}}class WI extends GI{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const i=e.split(RI),n=[];for(let o=0;o<i.length;o++){const e=II(i[o],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const i=e.length,n=new Array(i);let o=0;e.forEach(((e,r)=>{xI(e,!1,(e=>{n[r]=e,++o===i&&t(n.join(RI))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=HI()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let YI=!1;try{YI="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(N0){}const KI=YI;function QI(){}class XI extends WI{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let i=location.port;i||(i=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}let JI=class e extends $I{constructor(e,t,i){super(),this.createRequest=e,UI(this,i),this._opts=i,this._method=i.method||"GET",this._uri=t,this._data=void 0!==i.data?i.data:null,this._create()}_create(){var t;const i=zI(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(i);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(f1){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(f1){}try{n.setRequestHeader("Accept","*/*")}catch(f1){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"==typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(f1){return void this.setTimeoutFn((()=>{this._onError(f1)}),0)}"undefined"!=typeof document&&(this._index=e.requestsCount++,e.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=QI,t)try{this._xhr.abort()}catch(f1){}"undefined"!=typeof document&&delete e.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};if(JI.requestsCount=0,JI.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",ZI);else if("function"==typeof addEventListener){addEventListener("onpagehide"in BI?"pagehide":"unload",ZI,!1)}function ZI(){for(let e in JI.requests)JI.requests.hasOwnProperty(e)&&JI.requests[e].abort()}const eP=function(){const e=tP({xdomain:!1});return e&&null!==e.responseType}();function tP(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||KI))return new XMLHttpRequest}catch(f1){}if(!t)try{return new(BI[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(f1){}}const iP="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class nP extends GI{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,i=iP?{}:zI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(N0){return this.emitReserved("error",N0)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],n=t===e.length-1;xI(i,this.supportsBinary,(e=>{try{this.doWrite(i,e)}catch(f1){}n&&FI((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=HI()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const oP=BI.WebSocket||BI.MozWebSocket;const rP={websocket:class extends nP{createSocket(e,t,i){return iP?new oP(e,t,i):t?new oP(e,t):new oP(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends GI{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(N0){return this.emitReserved("error",N0)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){MI||(MI=new TextDecoder);const i=[];let n=0,o=-1,r=!1;return new TransformStream({transform(s,a){for(i.push(s);;){if(0===n){if(OI(i)<1)break;const e=NI(i,1);r=!(128&~e[0]),o=127&e[0],n=o<126?3:126===o?1:2}else if(1===n){if(OI(i)<2)break;const e=NI(i,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(OI(i)<8)break;const e=NI(i,8),t=new DataView(e.buffer,e.byteOffset,e.length),r=t.getUint32(0);if(r>Math.pow(2,21)-1){a.enqueue(vI);break}o=r*Math.pow(2,32)+t.getUint32(4),n=3}else{if(OI(i)<o)break;const e=NI(i,o);a.enqueue(II(r?e:MI.decode(e),t)),n=0}if(0===o||o>e){a.enqueue(vI);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),n=LI();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const o=()=>{i.read().then((({done:e,value:t})=>{e||(this.onPacket(t),o())})).catch((e=>{}))};o();const r={type:"open"};this.query.sid&&(r.data=`{"sid":"${this.query.sid}"}`),this._writer.write(r).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],n=t===e.length-1;this._writer.write(i).then((()=>{n&&FI((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends XI{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=eP&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new JI(tP,this.uri(),e)}}},sP=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,aP=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lP(e){if(e.length>8e3)throw"URI too long";const t=e,i=e.indexOf("["),n=e.indexOf("]");-1!=i&&-1!=n&&(e=e.substring(0,i)+e.substring(i,n).replace(/:/g,";")+e.substring(n,e.length));let o=sP.exec(e||""),r={},s=14;for(;s--;)r[aP[s]]=o[s]||"";return-1!=i&&-1!=n&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function(e,t){const i=/\/{2,9}/g,n=t.replace(i,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,r.path),r.queryKey=function(e,t){const i={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(i[t]=n)})),i}(0,r.query),r}const cP="function"==typeof addEventListener&&"function"==typeof removeEventListener,dP=[];cP&&addEventListener("offline",(()=>{dP.forEach((e=>e()))}),!1);class uP extends $I{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const i=lP(e);t.hostname=i.host,t.secure="https"===i.protocol||"wss"===i.protocol,t.port=i.port,i.query&&(t.query=i.query)}else t.host&&(t.hostname=lP(t.host).host);UI(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},i=e.split("&");for(let n=0,o=i.length;n<o;n++){let e=i[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),cP&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},dP.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&uP.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",uP.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let i=0;i<this.writeBuffer.length;i++){const n=this.writeBuffer[i].data;if(n&&(e+="string"==typeof(t=n)?function(e){let t=0,i=0;for(let n=0,o=e.length;n<o;n++)t=e.charCodeAt(n),t<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i}(t):Math.ceil(1.33*(t.byteLength||t.size))),i>0&&e>this._maxPayload)return this.writeBuffer.slice(0,i);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,FI((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,i){return this._sendPacket("message",e,t,i),this}send(e,t,i){return this._sendPacket("message",e,t,i),this}_sendPacket(e,t,i,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof i&&(n=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const o={type:e,data:t,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?i():e()})):this.upgrading?i():e()),this}_onError(e){if(uP.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),cP&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=dP.indexOf(this._offlineEventListener);-1!==e&&dP.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}uP.protocol=4;class hP extends uP{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;uP.priorWebsocketSuccess=!1;const n=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!i)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;uP.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{i||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){i||(i=!0,c(),t.close(),t=null)}const r=e=>{const i=new Error("probe error: "+e);i.transport=t.name,o(),this.emitReserved("upgradeError",i)};function s(){r("transport closed")}function a(){r("socket closed")}function l(e){t&&e.name!==t.name&&o()}const c=()=>{t.removeListener("open",n),t.removeListener("error",r),t.removeListener("close",s),this.off("close",a),this.off("upgrading",l)};t.once("open",n),t.once("error",r),t.once("close",s),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{i||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}let pP=class extends hP{constructor(e,t={}){const i="object"==typeof e?e:t;(!i.transports||i.transports&&"string"==typeof i.transports[0])&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map((e=>rP[e])).filter((e=>!!e))),super(e,i)}};const mP="function"==typeof ArrayBuffer,fP=Object.prototype.toString,gP="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===fP.call(Blob),bP="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===fP.call(File);function vP(e){return mP&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||gP&&e instanceof Blob||bP&&e instanceof File}function yP(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,i=e.length;t<i;t++)if(yP(e[t]))return!0;return!1}if(vP(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return yP(e.toJSON(),!0);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&yP(e[i]))return!0;return!1}function kP(e){const t=[],i=e.data,n=e;return n.data=wP(i,t),n.attachments=t.length,{packet:n,buffers:t}}function wP(e,t){if(!e)return e;if(vP(e)){const i={_placeholder:!0,num:t.length};return t.push(e),i}if(Array.isArray(e)){const i=new Array(e.length);for(let n=0;n<e.length;n++)i[n]=wP(e[n],t);return i}if("object"==typeof e&&!(e instanceof Date)){const i={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=wP(e[n],t));return i}return e}function xP(e,t){return e.data=_P(e.data,t),delete e.attachments,e}function _P(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let i=0;i<e.length;i++)e[i]=_P(e[i],t);else if("object"==typeof e)for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=_P(e[i],t));return e}const EP=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var CP;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(CP||(CP={}));function AP(e){return"[object Object]"===Object.prototype.toString.call(e)}class TP extends $I{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===CP.BINARY_EVENT;i||t.type===CP.BINARY_ACK?(t.type=i?CP.EVENT:CP.ACK,this.reconstructor=new SP(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!vP(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(void 0===CP[i.type])throw new Error("unknown packet type "+i.type);if(i.type===CP.BINARY_EVENT||i.type===CP.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(n,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}i.nsp=e.substring(n,t)}else i.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const i=e.charAt(t);if(null==i||Number(i)!=i){--t;break}if(t===e.length)break}i.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!TP.isPayloadValid(i.type,n))throw new Error("invalid payload");i.data=n}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(f1){return!1}}static isPayloadValid(e,t){switch(e){case CP.CONNECT:return AP(t);case CP.DISCONNECT:return void 0===t;case CP.CONNECT_ERROR:return"string"==typeof t||AP(t);case CP.EVENT:case CP.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===EP.indexOf(t[0]));case CP.ACK:case CP.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class SP{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=xP(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const IP=Object.freeze(Object.defineProperty({__proto__:null,Decoder:TP,Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==CP.EVENT&&e.type!==CP.ACK||!yP(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===CP.EVENT?CP.BINARY_EVENT:CP.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==CP.BINARY_EVENT&&e.type!==CP.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=kP(e),i=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(i),n}},get PacketType(){return CP},protocol:5},Symbol.toStringTag,{value:"Module"}));function PP(e,t,i){return e.on(t,i),function(){e.off(t,i)}}const DP=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class RP extends $I{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[PP(e,"open",this.onopen.bind(this)),PP(e,"packet",this.onpacket.bind(this)),PP(e,"error",this.onerror.bind(this)),PP(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,n,o;if(DP.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const r={type:CP.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,i=t.pop();this._registerAckCallback(e,i),r.id=e}const s=null===(n=null===(i=this.io.engine)||void 0===i?void 0:i.transport)||void 0===n?void 0:n.writable,a=this.connected&&!(null===(o=this.io.engine)||void 0===o?void 0:o._hasPingExpired());return this.flags.volatile&&!s||(a?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){var i;const n=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const o=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n),r=(...e)=>{this.io.clearTimeoutFn(o),t.apply(this,e)};r.withError=!0,this.acks[e]=r}emitWithAck(e,...t){return new Promise(((i,n)=>{const o=(e,t)=>e?n(e):i(t);o.withError=!0,t.push(o),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...n)=>{if(i!==this._queue[0])return;return null!==e?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...n)),i.pending=!1,this._drainQueue()})),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:CP.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case CP.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case CP.EVENT:case CP.BINARY_EVENT:this.onevent(e);break;case CP.ACK:case CP.BINARY_ACK:this.onack(e);break;case CP.DISCONNECT:this.ondisconnect();break;case CP.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...n){i||(i=!0,t.packet({type:CP.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:CP.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function LP(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}LP.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+i:e-i}return 0|Math.min(e,this.max)},LP.prototype.reset=function(){this.attempts=0},LP.prototype.setMin=function(e){this.ms=e},LP.prototype.setMax=function(e){this.max=e},LP.prototype.setJitter=function(e){this.jitter=e};class MP extends $I{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,UI(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new LP({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||IP;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new pP(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=PP(t,"open",(function(){i.onopen(),e&&e()})),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},r=PP(t,"error",o);if(!1!==this._timeout){const e=this._timeout,i=this.setTimeoutFn((()=>{n(),o(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&i.unref(),this.subs.push((()=>{this.clearTimeoutFn(i)}))}return this.subs.push(n),this.subs.push(r),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(PP(e,"ping",this.onping.bind(this)),PP(e,"data",this.ondata.bind(this)),PP(e,"error",this.onerror.bind(this)),PP(e,"close",this.onclose.bind(this)),PP(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(f1){this.onclose("parse error",f1)}}ondecoded(e){FI((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new RP(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t){if(this.nsps[i].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),null===(i=this.engine)||void 0===i||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&i.unref(),this.subs.push((()=>{this.clearTimeoutFn(i)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const OP={};function NP(e,t){"object"==typeof e&&(t=e,e=void 0);const i=function(e,t="",i){let n=e;i=i||"undefined"!=typeof location&&location,null==e&&(e=i.protocol+"//"+i.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?i.protocol+e:i.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==i?i.protocol+"//"+e:"https://"+e),n=lP(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(i&&i.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=i.source,o=i.id,r=i.path,s=OP[o]&&r in OP[o].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new MP(n,t):(OP[o]||(OP[o]=new MP(n,t)),a=OP[o]),i.query&&!t.query&&(t.query=i.queryKey),a.socket(i.path,t)}Object.assign(NP,{Manager:MP,Socket:RP,io:NP,connect:NP});const $P="chat",FP=pC("socket-chat",(()=>{const e=EC(),{accessToken:t}=mC(e),i=Ti(),n=ks((()=>!bC.isUndefined(i.value)));return{isConnected:n,socketApp:i,socketInit:async()=>{if(!bC.isUndefined(t.value)){const e=fI[$P];if(!e)throw new Error(`Không tìm thấy cấu hình nào cho tên: ${$P}`);const n={...null==e?void 0:e.options,auth:{token:t.value}};i.value=NP(e.url,n),i.value.on("connect",(()=>{console.log("connected")}))}},sendMessageSocket:(e,t,o=()=>{})=>{var r;n.value&&(null===(r=i.value)||void 0===r||r.emit(e.trim(),t,o))},onEventSocket:(e,t)=>{var n;console.log("onEventSocket",i.value),null===(n=i.value)||void 0===n||n.on(e,t)},offEventSocket:(e,t)=>{var o;n.value&&(null===(o=i.value)||void 0===o||o.off(e,t))},disconnect:()=>{var e;null===(e=i.value)||void 0===e||e.disconnect(),i.value=void 0}}})),{VITE_API_URL_CHAT:BP}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},zP=qE.create({baseURL:BP,headers:{Accept:"Application/json"}});zP.interceptors.request.use((async e=>{const t=EC(),{accessToken:i}=mC(t);return i.value&&(e.headers.Authorization=`Bearer ${i.value}`),e}),(async e=>(console.log("request",e),e))),zP.interceptors.response.use((async e=>e),(async e=>(console.log("🚀 ~ error:",e),e.status,e)));const jP={class:"flex justify-center text-center gap-1"},VP={class:"pb-8 pt-2"},UP={class:"flex justify-center flex-col items-center gap-3"},HP={class:"size-28 border-2 flex border-white3 rounded-full overflow-hidden"},qP=["src"],GP={class:"absolute bottom-0 right-0 bg-white3 flex items-center p-1 rounded-full border-2 border-white"},WP={slot:"label"},YP={key:0,class:"mt-4 min-h-24"},KP={class:"flex overflow-x-auto gap-2.5 scrollbar-hidden"},QP={class:"w-16 flex flex-col items-center text-center gap-1"},XP={class:"relative flex size-14"},JP=["src"],ZP=["onClick"],eD={class:"text-[10px] font-light"},tD=["onClick"],iD=["src"],nD={class:"flex-1 font-medium [overflow-wrap:anywhere]"},oD=jn({__name:"ModalCreateNewChat",setup(e){const t=Ti(),i=FP(),{userInfo:n}=mC(EC()),o=Ti(1),r=Ti(!1),s=Ti(""),a=Ti([]),l=Ti([]),c=mi({name:"",user_ids:[]}),d=()=>{ax.dismiss()},u=async e=>{const t=await lx.create({component:WS,event:e,mode:"ios"});await t.present()},h=async()=>{const e=await JS.getPhoto({quality:30,resultType:QS.DataUrl});if(null!=e&&e.dataUrl){const i=e.dataUrl.split(",")[0].split(":")[1].split(";")[0],n=p(e.dataUrl,i),o=Date.now(),r=new File([n],`avatar_${o}.png`,{type:null!=i?i:"image/jpeg"}),s=new FileReader;s.onload=()=>{c.avatar=s.result,t.value=e.dataUrl},s.readAsArrayBuffer(r)}},p=(e,t)=>{const i=atob(e.split(",")[1]),n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);const o=new Uint8Array(n);return new Blob([o],{type:t})},m=async()=>{try{i.sendMessageSocket("createChatRoom",Object.assign({},c),(async e=>{if(console.log("112233",e),!bC.isEmpty(e)){var t,i,o,r;const s={...e,me:{conversation_id:null==e?void 0:e._id,created_at:null==e?void 0:e.created_at,is_admin:!0,notification:!0,user_id:null==e?void 0:e.created_by,user:{avatar:null===(t=n.value)||void 0===t?void 0:t.avatar,full_name:null===(i=n.value)||void 0===i?void 0:i.full_name,_id:null===(o=n.value)||void 0===o?void 0:o._id,id:null===(r=n.value)||void 0===r?void 0:r._id}}};await ax.dismiss(s,"newGroup")}}))}catch(e){await ax.dismiss()}},f=async(e=1,t=!1,i="")=>{const{data:n}=await zP.get("/chat/members",{params:{page:e,limit:25,keyword:i}});var s,l,c;bC.isEmpty(n)?r.value=!1:(null!=n&&null!==(s=n.meta)&&void 0!==s&&s.hasNextPage?(o.value++,r.value=!0):r.value=!1,a.value=t?[...a.value,...null!==(l=null==n?void 0:n.data)&&void 0!==l?l:[]]:null!==(c=null==n?void 0:n.data)&&void 0!==c?c:[])},g=()=>{f(1,!1,s.value),o.value=1,r.value=!1},b=e=>{e.target.src="/upload-user.png"},v=e=>{f(o.value,!0),setTimeout((()=>e.target.complete()),500)};to((()=>{f()}));const y=()=>{s.value="",f(1,!1,""),o.value=1,r.value=!1},k=e=>{const t=l.value.find((t=>t._id===(null==e?void 0:e._id)));return!bC.isEmpty(t)};return(e,i)=>($r(),jr(Dr,null,[Yr(Di(Jk),{class:"ion-no-border px-2"},{default:pn((()=>[Yr(Di(_w),{color:"white",mode:"ios"},{default:pn((()=>[Yr(Di(ex),{icon:Di(PT),class:"size-6 text-gray2 z-50",onClick:d},null,8,["icon"]),Yr(Di(xw),null,{default:pn((()=>[Wr("div",jP,[i[2]||(i[2]=Wr("div",null,"Tạo nhóm chat",-1)),Yr(Di(ex),{onClick:u,icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64zm-6 304a20 20 0 1120-20 20 20 0 01-20 20zm33.44-102C267.23 276.88 265 286.85 265 296a14 14 0 01-28 0c0-21.91 10.08-39.33 30.82-53.26C287.1 229.8 298 221.6 298 203.57c0-12.26-7-21.57-21.49-28.46-3.41-1.62-11-3.2-20.34-3.09-11.72.15-20.82 2.95-27.83 8.59C215.12 191.25 214 202.83 214 203a14 14 0 11-28-1.35c.11-2.43 1.8-24.32 24.77-42.8 11.91-9.58 27.06-14.56 45-14.78 12.7-.15 24.63 2 32.72 5.82C312.7 161.34 326 180.43 326 203.57c0 33.83-22.61 49.02-42.56 62.43z'/></svg>"),class:"size-6 text-gray3"},null,8,["icon"])])])),_:1}),c.avatar&&c.name&&!Di(bC.isEmpty)(c.user_ids)?($r(),jr("div",{key:0,slot:"end",onClick:m,class:"font-medium text-blue1 z-50"}," Tạo ")):Jr("",!0)])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding-horizontal",color:"white"},{default:pn((()=>{var e;return[Wr("div",VP,[Wr("section",UP,[Wr("div",{onClick:h,class:"relative rounded-full"},[Wr("div",HP,[Wr("img",{src:null!==(e=t.value)&&void 0!==e?e:"/icGroup.png",class:"w-full object-cover"},null,8,qP)]),Wr("div",GP,[Yr(Di(ex),{icon:Di(kT),class:"size-4 text-[#505050]"},null,8,["icon"])])])]),Wr("div",null,[Yr(Di(tw),{modelValue:c.name,"onUpdate:modelValue":i[0]||(i[0]=e=>c.name=e),mode:"md",fill:"outline",placeholder:"Tên nhóm",class:"outline-none my-4 text-sm font-light grname",required:"",type:"text","label-placement":"stacked",color:"blue1"},{default:pn((()=>[Wr("div",WP,[i[4]||(i[4]=Xr("Tên nhóm")),Yr(Di(kw),{color:"danger"},{default:pn((()=>i[3]||(i[3]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"])]),Wr("form",{onSubmit:Ta(g,["prevent"]),class:"w-full bg-white3 flex items-center px-3 mb-2 rounded-xl"},[Yr(Di(ex),{onClick:g,icon:Di(nS),class:"size-5 text-gray2"},null,8,["icon"]),mn(Wr("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>s.value=e),class:"w-full flex-1 py-1.5 pr-1 mx-2 bg-white3 outline-none",placeholder:"Tìm kiếm"},null,512),[[fa,s.value]]),Di(bC.isEmpty)(s.value)?Jr("",!0):($r(),Vr(Di(ex),{key:0,onClick:y,icon:Di(DT),class:"size-5 text-gray2"},null,8,["icon"]))],32),Di(bC.isEmpty)(l.value)?Jr("",!0):($r(),jr("section",YP,[Wr("div",KP,[($r(!0),jr(Dr,null,vo(l.value,((e,t)=>{var i;return $r(),jr("div",{key:t,class:"flex-shrink-0"},[Wr("div",QP,[Wr("div",XP,[($r(),jr("img",{src:null!==(i=null==e?void 0:e.avatar)&&void 0!==i?i:"/upload-user.png",key:null==e?void 0:e.avatar,class:"w-full rounded-full",placeholder:"/upload-user.png",onError:b},null,40,JP)),Wr("div",{onClick:e=>(e=>{l.value.splice(e,1)})(t),class:"bg-white4 absolute p-0.5 flex items-center rounded-full shadow-st right-0"},[Yr(Di(ex),{icon:Di(PT),class:"size-4"},null,8,["icon"])],8,ZP)]),Wr("div",eD,Ze(e.full_name),1)])])})),128))])])),Wr("section",null,[($r(!0),jr(Dr,null,vo(a.value,((e,t)=>{var i;return $r(),jr("div",{key:t},[Wr("div",{onClick:t=>(e=>{const t=l.value.find((t=>t._id===(null==e?void 0:e._id)));if(bC.isEmpty(t))l.value.push(e),c.user_ids.push(e._id);else{const t=l.value.filter((t=>t._id!==(null==e?void 0:e._id)));l.value=t;const i=t.map((e=>e._id));c.user_ids=i}})(e),class:"flex items-center gap-4"},[($r(),jr("img",{src:null!==(i=null==e?void 0:e.avatar)&&void 0!==i?i:"/upload-user.png",key:null==e?void 0:e.avatar,class:"size-11 rounded-full",placeholder:"/upload-user.png",onError:b},null,40,iD)),Wr("div",{class:We(["flex items-center flex-1 py-4",t<a.value.length-1&&" border-b-[0.15px]"])},[Wr("div",nD,Ze(e.full_name),1),k(e)?($r(),Vr(Di(ex),{key:0,icon:Di(xT),class:"size-7 text-blue1"},null,8,["icon"])):($r(),Vr(Di(ex),{key:1,icon:Di(XT),class:"size-7 text-gray2"},null,8,["icon"]))],2)],8,tD)])})),128))])]),r.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:v},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)]})),_:1})],64))}}),rD="youtube",sD="vimeo",aD="link",lD="image-base64",cD=e=>{let t,i=null;return t=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|embed|shorts|live)\/|.*[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/),t&&t[1]?(i=t[1],`https://img.youtube.com/vi/${i}/0.jpg`):(t=e.match(/vimeo\.com\/(\d+)/),t&&t[1]?(i=t[1],`https://vumbnail.com/${i}.jpg`):"")},dD=e=>{const t=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|embed|shorts|live)\/|.*[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);if(t){return`https://www.youtube.com/embed/${t[1]}`}return""},uD=e=>{const t=[{regex:/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|embed|shorts|live)\/|.*[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,type:rD},{regex:/^(?:http|https)?:?\/?\/?(?:www\.)?(?:player\.)?vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]*\/videos\/|video\/|)(?:|\/\?)/,type:sD},{regex:/^((?:https?:\/\/|www\.)(?:[-a-z0-9]+\.)*[-a-z0-9]+.*)$/,type:aD},{regex:/blob:(https?|ftp):\/\/[^\s/$.?#].\S*\/[0-9a-fA-F-]{36}/,type:lD}];for(const i in t){const n=t[i];if(null!=n&&n.regex.test(e))return n.type}return aD},hD=e=>{if(bC.isUndefined(e))return"";return e.replace(/<\/(p|div|li|h[1-6]|ul)>/g," ").replace(/<br\s*\/?>/g," ").replace(/<\/?[^>]+(>|$)/g,"").trim().replace(/\s+/g," ")},pD=e=>{if(bC.isUndefined(e))return"";return e.replace(/&nbsp;/gi," ").replace(/<\/(p|div|li|h[1-6]|ul)>/g," ").replace(/<br\s*\/?>/g," ").replace(/<\/?[^>]+(>|$)/g,"").trim().replace(/\s+/g," ")};function mD(e){if(!e)return!1;try{JSON.parse(e)}catch(f1){return!1}return!0}const fD=e=>{if(aT(e).isValid()){const t=aT(new Date).isSame(e,"year"),i=aT(new Date).diff(e,"week");return aT(new Date).diff(e,"hour")<=24?aT(e).format("HH:mm"):i<1?aT(e).format("dddd"):t?aT(e).format("DD/MM"):aT(e).format("DD/MM/YY")}},gD={Default:"message",Notification:"notification"},bD={class:"flex"},vD=["src","placeholder"],yD={class:"flex-1"},kD={class:"flex"},wD={class:"flex-1"},xD={key:0,class:"text-sm text-gray-500 line-clamp-1"},_D={class:"font-medium"},ED={class:"flex items-center gap-2"},CD={class:"text-base font-medium line-clamp-1 break-all"},AD={key:0,class:"flex items-center"},TD={key:0,class:"text-sm text-gray2 pl-4"},SD={key:0,class:"flex items-center"},ID={class:"break-all flex"},PD={key:0,class:"pr-1 break-all text-nowrap"},DD={key:1,class:"text-nowrap"},RD={class:"line-clamp-1"},LD={key:1,class:"flex-1 mt-1 line-clamp-1 text-xs leading-5 text-gray-500"},MD=jn({__name:"RoomItem",props:{conversation:{},onRoomPress:{type:Function,default:()=>{}},onRoomLongPress:{type:Function,default:()=>{}}},setup(e){const{VITE_API_SOCKET:t}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},i=e;let n=null;const o=()=>{r(),n=setTimeout((()=>{i.onRoomLongPress(),n=null}),500)},r=()=>{null!==n&&(clearTimeout(n),n=null)},s=()=>{r()},{userInfo:a}=mC(EC()),l=ks((()=>{var e,n,o,r,s;if(null!==(e=i.conversation)&&void 0!==e&&e.is_group)return{avatar:t+"/"+(null==i||null===(n=i.conversation)||void 0===n?void 0:n.avatar),name:null===(o=i.conversation)||void 0===o?void 0:o.name,online:!1};if((null===(r=i.conversation)||void 0===r||null===(r=r.enemy)||void 0===r?void 0:r.user_id)===(null===(s=a.value)||void 0===s?void 0:s._id)){var l;const e=null===(l=i.conversation)||void 0===l||null===(l=l.me)||void 0===l?void 0:l.user;return{avatar:null==e?void 0:e.avatar,name:null==e?void 0:e.full_name,online:!bC.isEmpty(null==e?void 0:e.socket_client_ids)}}{var c;const e=null===(c=i.conversation)||void 0===c||null===(c=c.enemy)||void 0===c?void 0:c.user;return{avatar:null==e?void 0:e.avatar,name:null==e?void 0:e.full_name,online:!bC.isEmpty(null==e?void 0:e.socket_client_ids)}}})),c=ks((()=>{var e,t,n,o,r,s;return null!==(e=i.conversation)&&void 0!==e&&e.is_group?null===(o=i.conversation)||void 0===o||null===(o=o.me)||void 0===o?void 0:o.notification:(null===(t=i.conversation)||void 0===t||null===(t=t.enemy)||void 0===t?void 0:t.user_id)===(null===(n=a.value)||void 0===n?void 0:n._id)?null===(r=i.conversation)||void 0===r||null===(r=r.enemy)||void 0===r?void 0:r.notification:null===(s=i.conversation)||void 0===s||null===(s=s.me)||void 0===s?void 0:s.notification})),d=ks((()=>{var e,t,n;return!(null!=i&&null!==(e=i.conversation)&&void 0!==e&&null!==(e=e.me)&&void 0!==e&&e.is_read)&&(null==i||null===(t=i.conversation)||void 0===t||null===(t=t.last_message)||void 0===t?void 0:t.sender_id)!==(null===(n=a.value)||void 0===n?void 0:n._id)})),u=e=>{var t;e.target.src=null!==(t=i.conversation)&&void 0!==t&&t.is_group?"/icGroup.png":"/upload-user.png"};return(e,t)=>{var i,n,h,p,m,f,g,b,v,y,k,w,x,_,E,C,A,T;return $r(),jr("div",{class:"flex items-center flex-1 py-1.5",onClick:t[0]||(t[0]=(...t)=>e.onRoomPress&&e.onRoomPress(...t)),onTouchstart:o,onTouchend:r,onTouchmove:s},[Wr("div",bD,[($r(),jr("img",{src:null!==(i=l.value.avatar)&&void 0!==i?i:null!==(n=e.conversation)&&void 0!==n&&n.is_group?"/icGroup.png":"/upload-user.png",key:l.value.avatar,onError:u,placeholder:null!==(h=e.conversation)&&void 0!==h&&h.is_group?"/icGroup.png":"/upload-user.png",class:"size-14 rounded-full bg-gray1 mr-3 object-cover"},null,40,vD))]),Wr("div",yD,[Wr("div",kD,[Wr("div",wD,[null!==(p=e.conversation)&&void 0!==p&&p.community?($r(),jr("div",xD,[t[1]||(t[1]=Xr(" Từ ")),Wr("span",_D,Ze(null===(m=e.conversation.community)||void 0===m?void 0:m.name),1)])):Jr("",!0),Wr("div",ED,[Wr("div",CD,Ze(null===(f=l.value)||void 0===f?void 0:f.name),1),c.value?Jr("",!0):($r(),jr("div",AD,[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 464a15.92 15.92 0 01-11.31-4.69l-384-384a16 16 0 0122.62-22.62l384 384A16 16 0 01448 464zM440.08 341.31c-1.66-2-3.29-4-4.89-5.93-22-26.61-35.31-42.67-35.31-118 0-39-9.33-71-27.72-95-13.56-17.73-31.89-31.18-56.05-41.12a3 3 0 01-.82-.67C306.6 51.49 282.82 32 256 32s-50.59 19.49-59.28 48.56a3.13 3.13 0 01-.81.65 157.88 157.88 0 00-21.88 11 8 8 0 00-1.49 12.49l261.78 261.74a8 8 0 0013.6-6.63 35.39 35.39 0 00-7.84-18.5zM112.14 217.35c0 75.36-13.29 91.42-35.31 118-1.6 1.93-3.23 3.89-4.89 5.93a35.16 35.16 0 00-4.65 37.62c6.17 13 19.32 21.07 34.33 21.07H312.8a8 8 0 005.66-13.66l-192-192a8 8 0 00-13.62 5q-.7 8.69-.7 18.04zM256 480a80.06 80.06 0 0070.44-42.13 4 4 0 00-3.54-5.87H189.12a4 4 0 00-3.55 5.87A80.06 80.06 0 00256 480z'/></svg>"),class:"size-3.5 text-[#aaa]"},null,8,["icon"])]))])]),null!==(g=e.conversation)&&void 0!==g&&g.last_message_creation_time?($r(),jr("span",TD,Ze(Di(fD)(null===(b=e.conversation)||void 0===b?void 0:b.last_message_creation_time)),1)):Jr("",!0)]),null!==(v=e.conversation)&&void 0!==v&&v.last_message?($r(),jr("div",SD,[e.conversation.last_message.type==Di(gD).Notification?($r(),jr("div",{key:0,class:We([d.value?"font-medium":"text-gray2","text-sm line-clamp-1 w-full pt-1.5 break-all items-center"])},Ze(Di(pD)(null===(y=e.conversation)||void 0===y||null===(y=y.last_message)||void 0===y?void 0:y.content)),3)):($r(),jr(Dr,{key:1},[null!==(k=e.conversation.last_message)&&void 0!==k&&k.content?($r(),jr("div",{key:0,class:We([d.value?"font-medium":"text-gray2","text-sm line-clamp-1 w-full pt-1.5 flex"])},[Wr("div",ID,[e.conversation.is_group?($r(),jr("span",PD,Ze(null===(w=e.conversation.last_message)||void 0===w||null===(w=w.user_send)||void 0===w?void 0:w.full_name)+": ",1)):Jr("",!0),(null===(x=e.conversation.last_message)||void 0===x?void 0:x.sender_id)!==(null===(_=Di(a))||void 0===_?void 0:_._id)||e.conversation.is_group?Jr("",!0):($r(),jr("span",DD,"Bạn: ")),Wr("div",null,[Wr("span",RD,Ze(Di(pD)(null===(E=e.conversation)||void 0===E||null===(E=E.last_message)||void 0===E?void 0:E.content)),1)])])],2)):null!==(C=e.conversation)&&void 0!==C&&null!==(C=C.last_message)&&void 0!==C&&C.attachments?($r(),jr("div",{key:1,class:We([d.value?"font-medium":"text-gray2","text-sm line-clamp-1 w-full pt-1.5 break-all items-center"])},Ze((null===(A=e.conversation.last_message.user_send)||void 0===A?void 0:A._id)===(null===(T=Di(a))||void 0===T?void 0:T._id)?"Bạn đã gửi một ảnh.":`${l.value.name} đã gửi một ảnh.`),3)):Jr("",!0)],64))])):($r(),jr("p",LD," Hãy gửi lời chào đến các thành viên trong nhóm. "))])],32)}}}),OD=pC("chat-store",(()=>{const e=Ti(),t=Ti(0),i=Ti();return{activeRoom:e,newMsg:i,setActiveRoom:t=>{e.value=t},setNewChat:e=>{i.value=e},increaseCountMsg:()=>{t.value++},countNewMsg:t,resetCountNewMsg:()=>{t.value=0}}}));class ND extends Ix{async write(e){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(void 0!==e.string)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else{if(!e.image)throw new Error("Nothing to write");if("undefined"==typeof ClipboardItem)throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const t=await(await fetch(e.image)).blob(),i=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([i])}catch(N0){throw new Error("Failed to write image")}}}async read(){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if("undefined"==typeof ClipboardItem)return this.readText();try{const e=await navigator.clipboard.read(),t=e[0].types[0],i=await e[0].getType(t);return{value:await this._getBlobData(i,t),type:t}}catch(N0){return this.readText()}}async readText(){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise(((i,n)=>{const o=new FileReader;t.includes("image")?o.readAsDataURL(e):o.readAsText(e),o.onloadend=()=>{const e=o.result;i(e)},o.onerror=e=>{n(e)}}))}}const $D=Sx("Clipboard",{web:()=>new ND}),FD={class:""},BD={class:"bg-white px-2 rounded-lg"},zD={class:"bg-[#ffffff] px-4 mt-2 rounded-xl mr-auto w-[55%] line-clamp-1"},jD=["onClick"],VD={class:"text-sm flex-1 line-clamp-1"},UD={key:0,class:"flex items-center"},HD=jn({__name:"ModalRoomAction",props:{conversation:{}},setup(e){var t,i,n,o;const r=e,{userInfo:s}=mC(EC()),a=FP(),l=ks((()=>{var e,t,i,n;return(null===(e=r.conversation)||void 0===e||null===(e=e.enemy)||void 0===e?void 0:e.user_id)===(null===(t=s.value)||void 0===t?void 0:t._id)?null===(i=r.conversation)||void 0===i?void 0:i.enemy:null===(n=r.conversation)||void 0===n?void 0:n.me})),c=()=>{a.sendMessageSocket("toggleNotificationConversation",{conversation_id:r.conversation._id},(e=>{var t,i;if((null===(t=r.conversation)||void 0===t||null===(t=t.enemy)||void 0===t?void 0:t.user_id)===(null===(i=s.value)||void 0===i?void 0:i._id)){var n;const t={...null===(n=r.conversation)||void 0===n?void 0:n.enemy,notification:e.notification};ax.dismiss(t,"notify_enemy")}else{var o;const t={...null===(o=r.conversation)||void 0===o?void 0:o.me,notification:e.notification};ax.dismiss(t,"notify_me")}}))},d=[{label:null!==(t=l.value)&&void 0!==t&&t.notification?"Tắt thông báo":"Bật thông báo",icon:null!==(i=l.value)&&void 0!==i&&i.notification?qT:GT,action:c},{label:"Lấy link nhóm",icon:VT,action:async()=>{const e=`https://unica.expert/messages/group/introduce/${r.conversation._id}`;ax.dismiss(),await $D.write({string:e}),lS("Sao chép thành công!","success")}}],u=[{label:null!==(n=l.value)&&void 0!==n&&n.notification?"Tắt thông báo":"Bật thông báo",icon:null!==(o=l.value)&&void 0!==o&&o.notification?qT:GT,action:c}];return(e,t)=>{var i;return $r(),jr("div",FD,[Wr("div",BD,[Yr(MD,{conversation:e.conversation},null,8,["conversation"])]),Wr("div",zD,[($r(!0),jr(Dr,null,vo(null!==(i=l.value)&&void 0!==i&&i.is_admin&&e.conversation.is_group?d:u,((e,t)=>($r(),jr("div",{key:t},[Wr("div",{onClick:null==e?void 0:e.action,class:We(["py-2.5 flex gap-3",{"text-red-500":e.icon===Di(HT)}])},[Wr("div",VD,Ze(e.label),1),e.icon?($r(),jr("div",UD,[Yr(Di(ex),{icon:e.icon,class:"size-4"},null,8,["icon"])])):Jr("",!0)],10,jD)])))),128))])])}}}),qD={class:"ion-no-border px-2 pt-2 mt-4"},GD={class:"flex items-center gap-2"},WD={class:"flex items-center flex-1 w-full bg-white3 mr-4 px-4 rounded-3xl overflow-hidden"},YD={class:"ion-padding"},KD=["onClick"],QD={class:"flex size-10"},XD=["src"],JD=jn({__name:"ModalSearchFriend",setup(e){const{userInfo:t}=mC(EC()),i=Ti(""),n=Ti(1),o=Ti(!1),r=Ti([]),s=FP(),a=OD(),l=Rw(),c=async(e=1,i=!1,s="")=>{var a;const{data:l}=await SC.get("/friend-ship/all-friend",{params:{senderId:null===(a=t.value)||void 0===a?void 0:a._id,search:s,page:e,limit:20}});var c,d,u;bC.isEmpty(l)?o.value=!1:(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(n.value++,o.value=!0):o.value=!1,r.value=i?[...r.value,...null!==(d=null==l?void 0:l.data)&&void 0!==d?d:[]]:null!==(u=null==l?void 0:l.data)&&void 0!==u?u:[])},d=e=>{e.target.src="/upload-user.png"};to((()=>{c()}));const u=()=>ax.dismiss(),h=e=>{c(n.value,!0),setTimeout((()=>e.target.complete()),500)},p=async e=>{m(),setTimeout((()=>{e.target.complete()}),500)},m=()=>{c(1,!1,i.value),n.value=1,o.value=!1},f=()=>{i.value="",c(1,!1,""),n.value=1,o.value=!1};return(e,t)=>($r(),Vr(Di(Kk),{color:"white"},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:p},{default:pn((()=>[Yr(Di(dw))])),_:1}),Wr("div",qD,[Wr("div",GD,[Yr(Di(ex),{onClick:u,icon:Di(CT),class:"size-7 text-gray2 z-50"},null,8,["icon"]),Wr("form",WD,[Yr(Di(ex),{onClick:m,icon:Di(iS),class:"size-7 text-gray2"},null,8,["icon"]),mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),placeholder:"Tìm kiếm",class:"p-1.5 w-full text-base bg-white3 outline-none"},null,512),[[fa,i.value]]),Di(bC.isEmpty)(i.value)?Jr("",!0):($r(),Vr(Di(ex),{key:0,onClick:f,icon:Di(DT),class:"size-7 text-gray2"},null,8,["icon"]))])])]),Wr("div",YD,[Wr("div",null,[($r(!0),jr(Dr,null,vo(r.value,((e,t)=>{var i,n,o,c;return $r(),jr("section",{key:t},[Wr("div",{onClick:t=>{var i;return(async e=>{s.sendMessageSocket("createSingleChatRoom",{user_id:e},(async e=>{null!=e&&e._id&&(await a.setActiveRoom(e),l.push({name:"ChatRoom",params:{id:null==e?void 0:e._id}},iT))})),await ax.dismiss()})(null==e||null===(i=e.user)||void 0===i?void 0:i._id)},class:"flex gap-3 items-center"},[Wr("div",QD,[($r(),jr("img",{src:null!==(i=null===(n=e.user)||void 0===n?void 0:n.avatar)&&void 0!==i?i:"/upload-user.png",key:null===(o=e.user)||void 0===o?void 0:o.avatar,placeholder:"/upload-user.png",onError:d,class:"w-full rounded-full"},null,40,XD))]),Wr("div",{class:We(["py-5 pl-0.5 w-full flex-1 font-medium text-base [overflow-wrap:anywhere]",t<r.value.length-1&&"border-b-[1px]"])},Ze(null===(c=e.user)||void 0===c?void 0:c.full_name),3)],8,KD)])})),128))])]),o.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:h},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1}))}}),ZD={class:"px-4 mb-2"},eR={class:"w-full flex items-center px-4 flex-1 bg-white3 rounded-3xl"},tR={key:0,class:"pb-6"},iR={key:0,class:"h-[1px] my-1 bg-gray1 ml-14"},nR=jn({__name:"ChatScreen",setup(e){const t=Rw(),i=Ti([]),n=Ti(1),o=Ti(!1),{userInfo:r}=mC(EC()),s=OD(),a=FP(),{newMsg:l}=mC(s),c=async()=>{const e=await ax.create({component:oD,mode:"ios"});await e.present();const{data:t,role:n}=await e.onWillDismiss();if("newGroup"===n){const e=i.value.find((e=>e._id===(null==t?void 0:t._id)));console.log("newGroup",t),bC.isEmpty(e)&&(i.value=[t,...i.value])}},d=async(e=1,t=!1)=>{var s;const{data:a}=await zP.get("/chat/rooms-user",{params:{page:e,limit:20,"filter[user_id]":null===(s=r.value)||void 0===s?void 0:s._id}});var l,c,d;bC.isEmpty(a)?o.value=!1:(null!=a&&null!==(l=a.meta)&&void 0!==l&&l.hasNextPage?(n.value++,o.value=!0):o.value=!1,i.value=t?[...i.value,...null!==(c=null==a?void 0:a.data)&&void 0!==c?c:[]]:null!==(d=null==a?void 0:a.data)&&void 0!==d?d:[]);console.log("🌸 Rooms 👉",null==a?void 0:a.data)},u=e=>{d(n.value,!0),setTimeout((()=>e.target.complete()),500)};io((()=>{d(),n.value=1,o.value=!1}));const h=async e=>{d(1,!1),n.value=1,o.value=!1,setTimeout((()=>{e.target.complete()}),500)};br(l,(()=>{if(console.log("newMsg.value",l.value),!bC.isEmpty(l.value)&&!bC.isEmpty(l.value._id)){const t=i.value.findIndex((e=>{var t;return e._id===(null===(t=l.value)||void 0===t?void 0:t._id)}));var e;if(-1==t)i.value.unshift(l.value);else null===(e=i.value)||void 0===e||e.splice(t,1),i.value.unshift(l.value)}}));const p=async()=>{const e=await ax.create({mode:"ios",component:JD,initialBreakpoint:1});await e.present()};return a.onEventSocket("userRemovedFromGroup",(e=>{console.log("outed chat"),bC.isEmpty(e)||(i.value=i.value.filter((t=>t._id!==(null==e?void 0:e._id))))})),(e,n)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{class:"ion-no-border",mode:"ios",translucent:""},{default:pn((()=>[Yr(Di(_w),{class:"px-4",mode:"ios",color:"white"},{default:pn((()=>[Yr(Di(ow),{slot:"start",class:"text-black text-xl font-semibold"},{default:pn((()=>n[0]||(n[0]=[Xr("Đoạn chat")]))),_:1}),Yr(Di(ex),{onClick:c,slot:"end",class:"size-7 pl-2",src:"/icons/icNewChat.svg"})])),_:1})])),_:1}),Yr(Di(Kk),{color:"white",class:"ion-padding-vertical",fullscreen:""},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:h},{default:pn((()=>[Yr(Di(dw))])),_:1}),Wr("div",ZD,[Wr("form",eR,[Yr(Di(ex),{icon:Di(iS),class:"size-6 text-gray2"},null,8,["icon"]),Wr("div",{onClick:p,class:"text-gray2 w-full flex-1 bg-white3 outline-none p-2 py-2.5 mx-1"}," Tìm kiếm ")])]),Di(bC.isEmpty)(i.value)?($r(),Vr(qS,{key:1})):($r(),jr("div",tR,[($r(!0),jr(Dr,null,vo(i.value,((e,n)=>($r(),jr("div",{key:n,class:"flex-col w-full justify-between px-4"},[Yr(MD,{conversation:e,onRoomPress:()=>(async e=>{await s.setActiveRoom(e),t.push({name:"ChatRoom",params:{id:e._id}},iT)})(e),onRoomLongPress:()=>(async e=>{console.log(e);const t=await ax.create({component:HD,componentProps:{conversation:e},mode:"ios",cssClass:"centerModal"});await t.present();const{data:n,role:o}=await t.onWillDismiss(),r=i.value.findIndex((t=>t._id===e._id));if(-1!=r)switch(o){case"notify_enemy":i.value[r].enemy=n,lS(null!=n&&n.notification?"Đã bật thông báo cuộc hội thoại.":"Đã tắt thông báo cuộc hội thoại.","success");break;case"notify_me":i.value[r].me=n,lS(null!=n&&n.notification?"Đã bật thông báo cuộc hội thoại.":"Đã tắt thông báo cuộc hội thoại.","success")}})(e)},null,8,["conversation","onRoomPress","onRoomLongPress"]),n<i.value.length-1?($r(),jr("div",iR)):Jr("",!0)])))),128))])),o.value?($r(),Vr(Di(Zk),{key:2,onIonInfinite:u},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})])),_:1}))}}),oR=[{id:1,chatId:"chat-001",senderId:1,senderName:"Minh",message:"Chào mọi người, mình bắt đầu họp chưa nhỉ?",timestamp:"2025-04-23T08:55:00"},{id:2,chatId:"chat-001",senderId:2,senderName:"Lan",message:"Mới có Minh vào nè, đợi thêm chút nữa nhé.",timestamp:"2025-04-23T08:55:45"},{id:6,chatId:"chat-001",senderId:1,senderName:"Minh",message:"Tớ sẽ nói trước về phần dashboard.",timestamp:"2025-04-23T08:57:15"},{id:9,chatId:"chat-001",senderId:3,senderName:"Hùng",message:"Có bug nhỏ ở login flow nhưng xử lý xong rồi.",timestamp:"2025-04-23T08:58:20"},{id:10,chatId:"chat-001",senderId:2,senderName:"Lan",message:"Nice, vậy mình demo nội bộ ngày nào?",timestamp:"2025-04-23T08:58:40"},{id:11,chatId:"chat-001",senderId:1,senderName:"Minh",message:"Tớ đề xuất sáng thứ 7, khoảng 10h.",timestamp:"2025-04-23T08:59:00"},{id:12,chatId:"chat-001",senderId:2,senderName:"Lan",message:"Ok tớ note lại. Tài liệu hướng dẫn thì sao?",timestamp:"2025-04-23T08:59:20"},{id:13,chatId:"chat-001",senderId:2,senderName:"Lan",message:"Có cần chia việc không mọi người?",timestamp:"2025-04-23T08:59:30"},{id:14,chatId:"chat-001",senderId:3,senderName:"Hùng",message:"Tớ lo phần API doc nha.",timestamp:"2025-04-23T08:59:50"},{id:15,chatId:"chat-001",senderId:1,senderName:"Minh",message:"Tớ làm phần slide demo.",timestamp:"2025-04-23T09:00:10"},{id:16,chatId:"chat-001",senderId:2,senderName:"Lan",message:"Vậy mình còn lại là checklist và hướng dẫn cài đặt.",timestamp:"2025-04-23T09:00:30"},{id:17,chatId:"chat-001",senderId:3,senderName:"Hùng",message:"Checklist để tớ lo luôn. Sẵn có bản cũ để tham khảo.",timestamp:"2025-04-23T09:00:50"},{id:18,chatId:"chat-001",senderId:1,senderName:"Minh",message:"Tuyệt vời. Cảm ơn cả team nhé!",timestamp:"2025-04-23T09:01:10"},{id:19,chatId:"chat-001",senderId:2,senderName:"Lan",message:"Mai họp khách hàng nhớ chuẩn bị tâm lý nha 😂",timestamp:"2025-04-23T09:01:30"},{id:20,chatId:"chat-001",senderId:3,senderName:"Hùng",message:"Haha, chuẩn bị cà phê sớm là xong!",timestamp:"2025-04-23T09:01:45"}],rR={class:"w-full relative"},sR=["src"],aR=jn({__name:"ModalImageViewer",props:{imgSrc:{}},setup(e){const t=async()=>{await ax.dismiss(null,"cancel")};return(e,i)=>($r(),jr("div",rR,[Wr("div",{onClick:t,class:"bg-gray1 absolute top-[5%] right-[4%] size-6 items-center flex justify-center rounded-full"},[Yr(Di(ex),{icon:Di(LT),class:"text-gray2 size-6"},null,8,["icon"])]),Wr("img",{src:e.imgSrc,class:"w-full object-cover"},null,8,sR)]))}}),lR={key:0,class:"grid grid-cols-3 gap-1.5"},cR=["src","onClick"],dR={key:1,class:"flex gap-1.5"},uR=["src","onClick"],hR=jn({__name:"MessageTypeAttachment",props:{message:{},isOwnMessage:{type:Boolean}},setup(e){const t=async e=>{const t=await ax.create({component:aR,componentProps:{imgSrc:e},cssClass:"img-viewer",mode:"ios"});await t.present()};return(e,i)=>{var n,o,r,s;return $r(),jr("div",null,[null!==(n=e.message)&&void 0!==n&&n.attachments&&(null===(o=e.message)||void 0===o?void 0:o.attachments.length)>=3?($r(),jr("div",lR,[($r(!0),jr(Dr,null,vo(null===(r=e.message)||void 0===r?void 0:r.attachments,(i=>($r(),jr("img",{key:i.url,src:i.url,onClick:e=>t(i.url),class:We(["w-full aspect-square object-cover cursor-pointer shadow-st rounded-lg",e.isOwnMessage?"ml-auto":"mr-auto"])},null,10,cR)))),128))])):($r(),jr("div",dR,[($r(!0),jr(Dr,null,vo(null===(s=e.message)||void 0===s?void 0:s.attachments,(i=>{var n,o;return $r(),jr("img",{key:i.url,src:i.url,onClick:e=>t(i.url),class:We(["h-auto min-h-18 rounded cursor-pointer object-contain shadow-st",{"ml-auto":e.isOwnMessage,"mr-auto":!e.isOwnMessage,"w-[49%]":2===(null===(n=e.message)||void 0===n||null===(n=n.attachments)||void 0===n?void 0:n.length),"w-36":1===(null===(o=e.message)||void 0===o||null===(o=o.attachments)||void 0===o?void 0:o.length)}])},null,10,uR)})),128))]))])}}}),pR={key:0},mR=["src"],fR={key:0,class:"py-2 px-2.5"},gR={key:0,class:"font-medium text-lg [overflow-wrap:anywhere] mb-0.5"},bR=["innerHTML"],vR={key:1},yR=["src"],kR={key:0,class:"py-2 px-2.5"},wR={key:0,class:"font-medium text-lg [overflow-wrap:anywhere] mb-0.5"},xR=["innerHTML"],_R=["src"],ER=["src"],CR=["src"],AR=jn({__name:"MessagePreviewUrl",props:{pageFixed:{type:Boolean,default:!1},text:{},info:{}},setup(e){const t=cS(e.text);return(e,i)=>{var n,o,r,s,a,l,c,d;return Di(t)?($r(),jr("div",{key:0,class:We([[e.pageFixed?"max-w-[200px]":"max-w-[400px]"],"mb-2 max-h-screen w-full"])},["youtube"===Di(t).type?($r(),jr("div",pR,[Wr("iframe",{src:`https://www.youtube.com/embed/${Di(t).id}`,allowfullscreen:"",class:"w-full aspect-video rounded shadow",frameborder:"0"},null,8,mR),Di(bC.isEmpty)(e.info)||Di(bC.isEmpty)(e.info[0])?Jr("",!0):($r(),jr("div",fR,[Di(bC.isEmpty)(null===(n=e.info[0])||void 0===n?void 0:n.title)?Jr("",!0):($r(),jr("h3",gR,Ze(null===(o=e.info[0])||void 0===o?void 0:o.title),1)),Di(bC.isEmpty)(null===(r=e.info[0])||void 0===r?void 0:r.description)?Jr("",!0):($r(),jr("div",{key:1,class:"[overflow-wrap:anywhere]",innerHTML:null===(s=e.info[0])||void 0===s?void 0:s.description},null,8,bR))]))])):"vimeo"===Di(t).type?($r(),jr("div",vR,[Wr("iframe",{src:`https://player.vimeo.com/video/${Di(t).id}`,allowfullscreen:"",class:"w-full aspect-video rounded shadow",frameborder:"0"},null,8,yR),Di(bC.isEmpty)(e.info)||Di(bC.isEmpty)(e.info[0])?Jr("",!0):($r(),jr("div",kR,[Di(bC.isEmpty)(null===(a=e.info[0])||void 0===a?void 0:a.title)?Jr("",!0):($r(),jr("h3",wR,Ze(null===(l=e.info[0])||void 0===l?void 0:l.title),1)),Di(bC.isEmpty)(null===(c=e.info[0])||void 0===c?void 0:c.description)?Jr("",!0):($r(),jr("div",{key:1,class:"[overflow-wrap:anywhere]",innerHTML:null===(d=e.info[0])||void 0===d?void 0:d.description},null,8,xR))]))])):"image"===Di(t).type?($r(),jr("img",{key:2,src:Di(t).url,alt:"Image preview",class:"w-full rounded-xl shadow"},null,8,_R)):"audio"===Di(t).type?($r(),jr("audio",{key:3,src:Di(t).url,class:"w-full",controls:""},null,8,ER)):"video"===Di(t).type?($r(),jr("video",{key:4,src:Di(t).url,class:"w-full rounded shadow",controls:""},null,8,CR)):Jr("",!0)],2)):Jr("",!0)}}}),TR="edited",SR={key:0,class:"flex justify-end font-medium text-sm text-blue1"},IR={key:1,class:"min-h-11 items-center flex text-white bg-blue1 py-2 px-2.5 text-base font-normal rounded-lg italic"},PR={key:2},DR={class:"min-h-11 min-w-11 items-center flex bg-blue1 overflow-hidden rounded-lg flex-col"},RR=["innerHTML"],LR={class:"flex justify-end w-full bg-[#F0F0F0] overflow-hidden"},MR={class:"flex"},OR={key:0,class:"size-9"},NR={key:1,class:"flex size-9"},$R=["src"],FR={key:0,class:"flex justify-start ml-1.5 font-medium text-sm text-[#999]"},BR={key:0,class:"text-base font-medium text-blue1 select-text pt-2 px-2.5"},zR={key:1,class:"italic pb-2 px-2.5"},jR={key:2},VR=["innerHTML"],UR={key:1,class:"flex justify-end mt-0.5 bg-[#F0F0F0] w-full"},HR=jn({__name:"UserMessage",props:{message:{},isOwnMessage:{type:Boolean,default:!1},isContinuous:{type:Boolean,default:!1},onPress:{type:Function,default:()=>{}},onLongPress:{type:Function,default:()=>{}},isGroup:{type:Boolean,default:!1}},setup(e){const t=e;let i=null;const n=()=>{var e;bC.isEmpty(null===(e=t.message)||void 0===e?void 0:e.attachments)&&(o(),i=setTimeout((()=>{t.onLongPress(),i=null}),500))},o=()=>{null!==i&&(clearTimeout(i),i=null)},r=()=>{var e;return null===(e=t.message)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.replaceAll("&nbsp;","")},s=e=>{e.target.src="/upload-user.png"},a=ks((()=>{var e;return(null===(e=t.message)||void 0===e?void 0:e.status)===TR}));return(e,t)=>{var i,l,c,d,u,h,p,m,f,g,b,v,y,k,w,x,_,E,C;return $r(),jr("div",{class:We(["flex items-center",e.isOwnMessage?"justify-end":"justify-start"])},[e.isOwnMessage?($r(),jr("div",{key:0,onClick:t[0]||(t[0]=(...t)=>e.onPress&&e.onPress(...t)),onTouchstart:n,onTouchend:o,onTouchmove:o,class:We(["flex max-w-[80%]",e.isContinuous?"mt-1":"mt-2"])},[Wr("div",null,[!a.value||null!==(i=e.message)&&void 0!==i&&i.deleted_at?Jr("",!0):($r(),jr("div",SR," Đã sửa ")),null!==(l=e.message)&&void 0!==l&&l.deleted_at?($r(),jr("div",IR," Đã thu hồi một tin nhắn ")):null!==(c=e.message)&&void 0!==c&&c.content?($r(),jr("div",PR,[Wr("div",DR,[Di(cS)(e.message.content)?Jr("",!0):($r(),jr("div",{key:0,class:"text-base text-white font-normal [overflow-wrap:anywhere] select-text py-2 px-2.5",innerHTML:r()},null,8,RR)),Wr("div",LR,[Di(cS)(null===(d=e.message)||void 0===d?void 0:d.content)?($r(),Vr(AR,{key:0,text:null===(u=e.message)||void 0===u?void 0:u.content,"page-fixed":!1,info:null===(h=e.message)||void 0===h?void 0:h.attachments},null,8,["text","info"])):Jr("",!0)])])])):null!==(p=e.message)&&void 0!==p&&p.attachments?($r(),Vr(hR,{key:3,message:e.message,isOwnMessage:e.isOwnMessage},null,8,["message","isOwnMessage"])):Jr("",!0)])],34)):($r(),jr("div",{key:1,onClick:t[1]||(t[1]=(...t)=>e.onPress&&e.onPress(...t)),onTouchstart:n,onTouchend:o,onTouchmove:o,class:We(["flex max-w-[90%] items-start",e.isContinuous?"mt-1":"mt-2"])},[Wr("div",MR,[!e.isContinuous||null!==(m=e.message)&&void 0!==m&&m.deleted_at?($r(),jr("div",NR,[($r(),jr("img",{src:null!==(f=null===(g=e.message)||void 0===g||null===(g=g.user_send)||void 0===g?void 0:g.avatar)&&void 0!==f?f:"/upload-user.png",key:null===(b=e.message)||void 0===b||null===(b=b.user_send)||void 0===b?void 0:b.avatar,onError:s,placeholder:"'/upload-user.png'",class:"size-9 rounded-full"},null,40,$R))])):($r(),jr("div",OR))]),Wr("div",null,[!a.value||null!==(v=e.message)&&void 0!==v&&v.deleted_at?Jr("",!0):($r(),jr("div",FR," Đã sửa ")),Wr("div",null,[Wr("div",{class:We(["ml-1.5 min",{flex:e.isContinuous,"bg-[#F0F0F0] items-center ml-1.5 rounded-lg min-h-11 overflow-hidden min-w-11":null===(y=e.message)||void 0===y?void 0:y.content}])},[!e.isContinuous&&e.isGroup?($r(),jr("div",BR,Ze(null===(k=e.message)||void 0===k||null===(k=k.user_send)||void 0===k?void 0:k.full_name),1)):Jr("",!0),null!==(w=e.message)&&void 0!==w&&w.deleted_at?($r(),jr("div",zR,"Đã thu hồi một tin nhắn")):null!==(x=e.message)&&void 0!==x&&x.content?($r(),jr("div",jR,[Di(cS)(e.message.content)?Jr("",!0):($r(),jr("div",{key:0,class:"text-base text-black font-normal [overflow-wrap:anywhere] select-text px-2.5",innerHTML:r()},null,8,VR)),Di(cS)(e.message.content)?($r(),jr("div",UR,[Yr(AR,{text:null===(_=e.message)||void 0===_?void 0:_.content,"page-fixed":!1,info:null===(E=e.message)||void 0===E?void 0:E.attachments},null,8,["text","info"])])):Jr("",!0)])):null!==(C=e.message)&&void 0!==C&&C.attachments?($r(),Vr(hR,{key:3,message:e.message,isOwnMessage:e.isOwnMessage},null,8,["message","isOwnMessage"])):Jr("",!0)],2)])])],34))],2)}}});var qR="object"==typeof global&&global&&global.Object===Object&&global,GR="object"==typeof self&&self&&self.Object===Object&&self,WR=qR||GR||Function("return this")(),YR=WR.Symbol,KR=Object.prototype,QR=KR.hasOwnProperty,XR=KR.toString,JR=YR?YR.toStringTag:void 0;var ZR=Object.prototype.toString;var eL=YR?YR.toStringTag:void 0;function tL(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":eL&&eL in Object(e)?function(e){var t=QR.call(e,JR),i=e[JR];try{e[JR]=void 0;var n=!0}catch(f1){}var o=XR.call(e);return n&&(t?e[JR]=i:delete e[JR]),o}(e):function(e){return ZR.call(e)}(e)}function iL(e){return null!=e&&"object"==typeof e}function nL(e){return"symbol"==typeof e||iL(e)&&"[object Symbol]"==tL(e)}var oL=Array.isArray,rL=YR?YR.prototype:void 0,sL=rL?rL.toString:void 0;function aL(e){if("string"==typeof e)return e;if(oL(e))return function(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}(e,aL)+"";if(nL(e))return sL?sL.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var lL=/\s/;var cL=/^\s+/;function dL(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&lL.test(e.charAt(t)););return t}(e)+1).replace(cL,""):e}function uL(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var hL=/^[-+]0x[0-9a-f]+$/i,pL=/^0b[01]+$/i,mL=/^0o[0-7]+$/i,fL=parseInt;function gL(e){if("number"==typeof e)return e;if(nL(e))return NaN;if(uL(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=uL(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=dL(e);var i=pL.test(e);return i||mL.test(e)?fL(e.slice(2),i?2:8):hL.test(e)?NaN:+e}function bL(e){return e}function vL(e){if(!uL(e))return!1;var t=tL(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var yL=WR["__core-js_shared__"],kL=function(){var e=/[^.]+$/.exec(yL&&yL.keys&&yL.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var wL=Function.prototype.toString;function xL(e){if(null!=e){try{return wL.call(e)}catch(f1){}try{return e+""}catch(f1){}}return""}var _L=/^\[object .+?Constructor\]$/,EL=Function.prototype,CL=Object.prototype,AL=EL.toString,TL=CL.hasOwnProperty,SL=RegExp("^"+AL.call(TL).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IL(e){return!(!uL(e)||(t=e,kL&&kL in t))&&(vL(e)?SL:_L).test(xL(e));var t}function PL(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return IL(i)?i:void 0}var DL=PL(WR,"WeakMap"),RL=Object.create,LL=function(){function e(){}return function(t){if(!uL(t))return{};if(RL)return RL(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function ML(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}var OL=Date.now;function NL(e){return function(){return e}}var $L=function(){try{var e=PL(Object,"defineProperty");return e({},"",{}),e}catch(f1){}}(),FL=function(e){var t=0,i=0;return function(){var n=OL(),o=16-(n-i);if(i=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}($L?function(e,t){return $L(e,"toString",{configurable:!0,enumerable:!1,value:NL(t),writable:!0})}:bL);var BL=/^(?:0|[1-9]\d*)$/;function zL(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&BL.test(e))&&e>-1&&e%1==0&&e<t}function jL(e,t,i){"__proto__"==t&&$L?$L(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function VL(e,t){return e===t||e!=e&&t!=t}var UL=Object.prototype.hasOwnProperty;function HL(e,t,i){var n=e[t];UL.call(e,t)&&VL(n,i)&&(void 0!==i||t in e)||jL(e,t,i)}function qL(e,t,i,n){var o=!i;i||(i={});for(var r=-1,s=t.length;++r<s;){var a=t[r],l=void 0;void 0===l&&(l=e[a]),o?jL(i,a,l):HL(i,a,l)}return i}var GL=Math.max;function WL(e,t){return FL(function(e,t,i){return t=GL(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,r=GL(n.length-t,0),s=Array(r);++o<r;)s[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=i(s),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,a)}}(e,t,bL),e+"")}function YL(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function KL(e){return null!=e&&YL(e.length)&&!vL(e)}function QL(e){return WL((function(t,i){var n=-1,o=i.length,r=o>1?i[o-1]:void 0,s=o>2?i[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,s&&function(e,t,i){if(!uL(i))return!1;var n=typeof t;return!!("number"==n?KL(i)&&zL(t,i.length):"string"==n&&t in i)&&VL(i[t],e)}(i[0],i[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++n<o;){var a=i[n];a&&e(t,a,n,r)}return t}))}var XL=Object.prototype;function JL(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||XL)}function ZL(e){return iL(e)&&"[object Arguments]"==tL(e)}var eM=Object.prototype,tM=eM.hasOwnProperty,iM=eM.propertyIsEnumerable,nM=ZL(function(){return arguments}())?ZL:function(e){return iL(e)&&tM.call(e,"callee")&&!iM.call(e,"callee")};var oM="object"==typeof i&&i&&!i.nodeType&&i,rM=oM&&"object"==typeof a&&a&&!a.nodeType&&a,sM=rM&&rM.exports===oM?WR.Buffer:void 0,aM=(sM?sM.isBuffer:void 0)||function(){return!1},lM={};function cM(e){return function(t){return e(t)}}lM["[object Float32Array]"]=lM["[object Float64Array]"]=lM["[object Int8Array]"]=lM["[object Int16Array]"]=lM["[object Int32Array]"]=lM["[object Uint8Array]"]=lM["[object Uint8ClampedArray]"]=lM["[object Uint16Array]"]=lM["[object Uint32Array]"]=!0,lM["[object Arguments]"]=lM["[object Array]"]=lM["[object ArrayBuffer]"]=lM["[object Boolean]"]=lM["[object DataView]"]=lM["[object Date]"]=lM["[object Error]"]=lM["[object Function]"]=lM["[object Map]"]=lM["[object Number]"]=lM["[object Object]"]=lM["[object RegExp]"]=lM["[object Set]"]=lM["[object String]"]=lM["[object WeakMap]"]=!1;var dM="object"==typeof i&&i&&!i.nodeType&&i,uM=dM&&"object"==typeof a&&a&&!a.nodeType&&a,hM=uM&&uM.exports===dM&&qR.process,pM=function(){try{var e=uM&&uM.require&&uM.require("util").types;return e||hM&&hM.binding&&hM.binding("util")}catch(f1){}}(),mM=pM&&pM.isTypedArray,fM=mM?cM(mM):function(e){return iL(e)&&YL(e.length)&&!!lM[tL(e)]},gM=Object.prototype.hasOwnProperty;function bM(e,t){var i=oL(e),n=!i&&nM(e),o=!i&&!n&&aM(e),r=!i&&!n&&!o&&fM(e),s=i||n||o||r,a=s?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var c in e)!t&&!gM.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zL(c,l))||a.push(c);return a}function vM(e,t){return function(i){return e(t(i))}}var yM=vM(Object.keys,Object),kM=Object.prototype.hasOwnProperty;function wM(e){return KL(e)?bM(e):function(e){if(!JL(e))return yM(e);var t=[];for(var i in Object(e))kM.call(e,i)&&"constructor"!=i&&t.push(i);return t}(e)}var xM=Object.prototype.hasOwnProperty;function _M(e){if(!uL(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=JL(e),i=[];for(var n in e)("constructor"!=n||!t&&xM.call(e,n))&&i.push(n);return i}function EM(e){return KL(e)?bM(e,!0):_M(e)}var CM=QL((function(e,t){qL(t,EM(t),e)})),AM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TM=/^\w*$/;function SM(e,t){if(oL(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!nL(e))||(TM.test(e)||!AM.test(e)||null!=t&&e in Object(t))}var IM=PL(Object,"create");var PM=Object.prototype.hasOwnProperty;var DM=Object.prototype.hasOwnProperty;function RM(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function LM(e,t){for(var i=e.length;i--;)if(VL(e[i][0],t))return i;return-1}RM.prototype.clear=function(){this.__data__=IM?IM(null):{},this.size=0},RM.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},RM.prototype.get=function(e){var t=this.__data__;if(IM){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return PM.call(t,e)?t[e]:void 0},RM.prototype.has=function(e){var t=this.__data__;return IM?void 0!==t[e]:DM.call(t,e)},RM.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=IM&&void 0===t?"__lodash_hash_undefined__":t,this};var MM=Array.prototype.splice;function OM(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}OM.prototype.clear=function(){this.__data__=[],this.size=0},OM.prototype.delete=function(e){var t=this.__data__,i=LM(t,e);return!(i<0)&&(i==t.length-1?t.pop():MM.call(t,i,1),--this.size,!0)},OM.prototype.get=function(e){var t=this.__data__,i=LM(t,e);return i<0?void 0:t[i][1]},OM.prototype.has=function(e){return LM(this.__data__,e)>-1},OM.prototype.set=function(e,t){var i=this.__data__,n=LM(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};var NM=PL(WR,"Map");function $M(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function FM(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}FM.prototype.clear=function(){this.size=0,this.__data__={hash:new RM,map:new(NM||OM),string:new RM}},FM.prototype.delete=function(e){var t=$M(this,e).delete(e);return this.size-=t?1:0,t},FM.prototype.get=function(e){return $M(this,e).get(e)},FM.prototype.has=function(e){return $M(this,e).has(e)},FM.prototype.set=function(e,t){var i=$M(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};function BM(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=e.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(BM.Cache||FM),i}BM.Cache=FM;var zM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jM=/\\(\\)?/g,VM=function(e){var t=BM(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(zM,(function(e,i,n,o){t.push(n?o.replace(jM,"$1"):i||e)})),t}));function UM(e){return null==e?"":aL(e)}function HM(e,t){return oL(e)?e:SM(e,t)?[e]:VM(UM(e))}function qM(e){if("string"==typeof e||nL(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function GM(e,t){for(var i=0,n=(t=HM(t,e)).length;null!=e&&i<n;)e=e[qM(t[i++])];return i&&i==n?e:void 0}function WM(e,t,i){var n=null==e?void 0:GM(e,t);return void 0===n?i:n}function YM(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}var KM=vM(Object.getPrototypeOf,Object),QM=Function.prototype,XM=Object.prototype,JM=QM.toString,ZM=XM.hasOwnProperty,eO=JM.call(Object);function tO(e){if(!iL(e)||"[object Object]"!=tL(e))return!1;var t=KM(e);if(null===t)return!0;var i=ZM.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&JM.call(i)==eO}function iO(e,t,i){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var r=Array(o);++n<o;)r[n]=e[n+t];return r}var nO=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function oO(e){return nO.test(e)}var rO="\\ud800-\\udfff",sO="["+rO+"]",aO="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",lO="\\ud83c[\\udffb-\\udfff]",cO="[^"+rO+"]",dO="(?:\\ud83c[\\udde6-\\uddff]){2}",uO="[\\ud800-\\udbff][\\udc00-\\udfff]",hO="(?:"+aO+"|"+lO+")"+"?",pO="[\\ufe0e\\ufe0f]?",mO=pO+hO+("(?:\\u200d(?:"+[cO,dO,uO].join("|")+")"+pO+hO+")*"),fO="(?:"+[cO+aO+"?",aO,dO,uO,sO].join("|")+")",gO=RegExp(lO+"(?="+lO+")|"+fO+mO,"g");function bO(e){return oO(e)?function(e){return e.match(gO)||[]}(e):function(e){return e.split("")}(e)}var vO,yO=(vO="toUpperCase",function(e){var t,i,n,o,r=oO(e=UM(e))?bO(e):void 0,s=r?r[0]:e.charAt(0),a=r?(t=r,i=1,o=t.length,n=void 0===n?o:n,!i&&n>=o?t:iO(t,i,n)).join(""):e.slice(1);return s[vO]()+a});var kO,wO=(kO={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},function(e){return null==kO?void 0:kO[e]}),xO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_O=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var EO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var CO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var AO="\\ud800-\\udfff",TO="\\u2700-\\u27bf",SO="a-z\\xdf-\\xf6\\xf8-\\xff",IO="A-Z\\xc0-\\xd6\\xd8-\\xde",PO="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",DO="["+PO+"]",RO="\\d+",LO="["+TO+"]",MO="["+SO+"]",OO="[^"+AO+PO+RO+TO+SO+IO+"]",NO="(?:\\ud83c[\\udde6-\\uddff]){2}",$O="[\\ud800-\\udbff][\\udc00-\\udfff]",FO="["+IO+"]",BO="(?:"+MO+"|"+OO+")",zO="(?:"+FO+"|"+OO+")",jO="(?:['’](?:d|ll|m|re|s|t|ve))?",VO="(?:['’](?:D|LL|M|RE|S|T|VE))?",UO="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",HO="[\\ufe0e\\ufe0f]?",qO=HO+UO+("(?:\\u200d(?:"+["[^"+AO+"]",NO,$O].join("|")+")"+HO+UO+")*"),GO="(?:"+[LO,NO,$O].join("|")+")"+qO,WO=RegExp([FO+"?"+MO+"+"+jO+"(?="+[DO,FO,"$"].join("|")+")",zO+"+"+VO+"(?="+[DO,FO+BO,"$"].join("|")+")",FO+"?"+BO+"+"+jO,FO+"+"+VO,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",RO,GO].join("|"),"g");function YO(e,t,i){return e=UM(e),void 0===t?function(e){return CO.test(e)}(e)?function(e){return e.match(WO)||[]}(e):function(e){return e.match(EO)||[]}(e):e.match(t)||[]}var KO=RegExp("['’]","g");function QO(e){var t=this.__data__=new OM(e);this.size=t.size}QO.prototype.clear=function(){this.__data__=new OM,this.size=0},QO.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},QO.prototype.get=function(e){return this.__data__.get(e)},QO.prototype.has=function(e){return this.__data__.has(e)},QO.prototype.set=function(e,t){var i=this.__data__;if(i instanceof OM){var n=i.__data__;if(!NM||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new FM(n)}return i.set(e,t),this.size=i.size,this};var XO="object"==typeof i&&i&&!i.nodeType&&i,JO=XO&&"object"==typeof a&&a&&!a.nodeType&&a,ZO=JO&&JO.exports===XO?WR.Buffer:void 0,eN=ZO?ZO.allocUnsafe:void 0;function tN(e,t){if(t)return e.slice();var i=e.length,n=eN?eN(i):new e.constructor(i);return e.copy(n),n}function iN(){return[]}var nN=Object.prototype.propertyIsEnumerable,oN=Object.getOwnPropertySymbols,rN=oN?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,n=null==e?0:e.length,o=0,r=[];++i<n;){var s=e[i];t(s,i,e)&&(r[o++]=s)}return r}(oN(e),(function(t){return nN.call(e,t)})))}:iN;var sN=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)YM(t,rN(e)),e=KM(e);return t}:iN;function aN(e,t,i){var n=t(e);return oL(e)?n:YM(n,i(e))}function lN(e){return aN(e,wM,rN)}function cN(e){return aN(e,EM,sN)}var dN=PL(WR,"DataView"),uN=PL(WR,"Promise"),hN=PL(WR,"Set"),pN="[object Map]",mN="[object Promise]",fN="[object Set]",gN="[object WeakMap]",bN="[object DataView]",vN=xL(dN),yN=xL(NM),kN=xL(uN),wN=xL(hN),xN=xL(DL),_N=tL;(dN&&_N(new dN(new ArrayBuffer(1)))!=bN||NM&&_N(new NM)!=pN||uN&&_N(uN.resolve())!=mN||hN&&_N(new hN)!=fN||DL&&_N(new DL)!=gN)&&(_N=function(e){var t=tL(e),i="[object Object]"==t?e.constructor:void 0,n=i?xL(i):"";if(n)switch(n){case vN:return bN;case yN:return pN;case kN:return mN;case wN:return fN;case xN:return gN}return t});var EN=Object.prototype.hasOwnProperty;var CN=WR.Uint8Array;function AN(e){var t=new e.constructor(e.byteLength);return new CN(t).set(new CN(e)),t}var TN=/\w*$/;var SN=YR?YR.prototype:void 0,IN=SN?SN.valueOf:void 0;function PN(e,t){var i=t?AN(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function DN(e,t,i){var n,o=e.constructor;switch(t){case"[object ArrayBuffer]":return AN(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var i=t?AN(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return PN(e,i);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,TN.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return n=e,IN?Object(IN.call(n)):{}}}function RN(e){return"function"!=typeof e.constructor||JL(e)?{}:LL(KM(e))}var LN=pM&&pM.isMap,MN=LN?cM(LN):function(e){return iL(e)&&"[object Map]"==_N(e)};var ON=pM&&pM.isSet,NN=ON?cM(ON):function(e){return iL(e)&&"[object Set]"==_N(e)},$N="[object Arguments]",FN="[object Function]",BN="[object Object]",zN={};function jN(e,t,i,n,o,r){var s,a=1&t,l=2&t,c=4&t;if(i&&(s=o?i(e,n,o,r):i(e)),void 0!==s)return s;if(!uL(e))return e;var d=oL(e);if(d){if(s=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&EN.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!a)return ML(e,s)}else{var u=_N(e),h=u==FN||"[object GeneratorFunction]"==u;if(aM(e))return tN(e,a);if(u==BN||u==$N||h&&!o){if(s=l||h?{}:RN(e),!a)return l?function(e,t){return qL(e,sN(e),t)}(e,function(e,t){return e&&qL(t,EM(t),e)}(s,e)):function(e,t){return qL(e,rN(e),t)}(e,function(e,t){return e&&qL(t,wM(t),e)}(s,e))}else{if(!zN[u])return o?e:{};s=DN(e,u,a)}}r||(r=new QO);var p=r.get(e);if(p)return p;r.set(e,s),NN(e)?e.forEach((function(n){s.add(jN(n,t,i,n,e,r))})):MN(e)&&e.forEach((function(n,o){s.set(o,jN(n,t,i,o,e,r))}));var m=d?void 0:(c?l?cN:lN:l?EM:wM)(e);return function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););}(m||e,(function(n,o){m&&(n=e[o=n]),HL(s,o,jN(n,t,i,o,e,r))})),s}zN[$N]=zN["[object Array]"]=zN["[object ArrayBuffer]"]=zN["[object DataView]"]=zN["[object Boolean]"]=zN["[object Date]"]=zN["[object Float32Array]"]=zN["[object Float64Array]"]=zN["[object Int8Array]"]=zN["[object Int16Array]"]=zN["[object Int32Array]"]=zN["[object Map]"]=zN["[object Number]"]=zN[BN]=zN["[object RegExp]"]=zN["[object Set]"]=zN["[object String]"]=zN["[object Symbol]"]=zN["[object Uint8Array]"]=zN["[object Uint8ClampedArray]"]=zN["[object Uint16Array]"]=zN["[object Uint32Array]"]=!0,zN["[object Error]"]=zN[FN]=zN["[object WeakMap]"]=!1;function VN(e){return jN(e,4)}function UN(e){return jN(e,5)}function HN(e,t){return jN(e,5,t="function"==typeof t?t:void 0)}function qN(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new FM;++t<i;)this.add(e[t])}function GN(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function WN(e,t){return e.has(t)}qN.prototype.add=qN.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},qN.prototype.has=function(e){return this.__data__.has(e)};function YN(e,t,i,n,o,r){var s=1&i,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(e),d=r.get(t);if(c&&d)return c==t&&d==e;var u=-1,h=!0,p=2&i?new qN:void 0;for(r.set(e,t),r.set(t,e);++u<a;){var m=e[u],f=t[u];if(n)var g=s?n(f,m,u,t,e,r):n(m,f,u,e,t,r);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!GN(t,(function(e,t){if(!WN(p,t)&&(m===e||o(m,e,i,n,r)))return p.push(t)}))){h=!1;break}}else if(m!==f&&!o(m,f,i,n,r)){h=!1;break}}return r.delete(e),r.delete(t),h}function KN(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function QN(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var XN=YR?YR.prototype:void 0,JN=XN?XN.valueOf:void 0;var ZN=Object.prototype.hasOwnProperty;var e$="[object Arguments]",t$="[object Array]",i$="[object Object]",n$=Object.prototype.hasOwnProperty;function o$(e,t,i,n,o,r){var s=oL(e),a=oL(t),l=s?t$:_N(e),c=a?t$:_N(t),d=(l=l==e$?i$:l)==i$,u=(c=c==e$?i$:c)==i$,h=l==c;if(h&&aM(e)){if(!aM(t))return!1;s=!0,d=!1}if(h&&!d)return r||(r=new QO),s||fM(e)?YN(e,t,i,n,o,r):function(e,t,i,n,o,r,s){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new CN(e),new CN(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return VL(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=KN;case"[object Set]":var l=1&n;if(a||(a=QN),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=2,s.set(e,t);var d=YN(a(e),a(t),n,o,r,s);return s.delete(e),d;case"[object Symbol]":if(JN)return JN.call(e)==JN.call(t)}return!1}(e,t,l,i,n,o,r);if(!(1&i)){var p=d&&n$.call(e,"__wrapped__"),m=u&&n$.call(t,"__wrapped__");if(p||m){var f=p?e.value():e,g=m?t.value():t;return r||(r=new QO),o(f,g,i,n,r)}}return!!h&&(r||(r=new QO),function(e,t,i,n,o,r){var s=1&i,a=lN(e),l=a.length;if(l!=lN(t).length&&!s)return!1;for(var c=l;c--;){var d=a[c];if(!(s?d in t:ZN.call(t,d)))return!1}var u=r.get(e),h=r.get(t);if(u&&h)return u==t&&h==e;var p=!0;r.set(e,t),r.set(t,e);for(var m=s;++c<l;){var f=e[d=a[c]],g=t[d];if(n)var b=s?n(g,f,d,t,e,r):n(f,g,d,e,t,r);if(!(void 0===b?f===g||o(f,g,i,n,r):b)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return r.delete(e),r.delete(t),p}(e,t,i,n,o,r))}function r$(e,t,i,n,o){return e===t||(null==e||null==t||!iL(e)&&!iL(t)?e!=e&&t!=t:o$(e,t,i,n,r$,o))}function s$(e){return e==e&&!uL(e)}function a$(e,t){return function(i){return null!=i&&(i[e]===t&&(void 0!==t||e in Object(i)))}}function l$(e){var t=function(e){for(var t=wM(e),i=t.length;i--;){var n=t[i],o=e[n];t[i]=[n,o,s$(o)]}return t}(e);return 1==t.length&&t[0][2]?a$(t[0][0],t[0][1]):function(i){return i===e||function(e,t,i,n){var o=i.length,r=o;if(null==e)return!r;for(e=Object(e);o--;){var s=i[o];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<r;){var a=(s=i[o])[0],l=e[a],c=s[1];if(s[2]){if(void 0===l&&!(a in e))return!1}else if(!r$(c,l,3,n,new QO))return!1}return!0}(i,0,t)}}function c$(e,t){return null!=e&&t in Object(e)}function d$(e,t){return null!=e&&function(e,t,i){for(var n=-1,o=(t=HM(t,e)).length,r=!1;++n<o;){var s=qM(t[n]);if(!(r=null!=e&&i(e,s)))break;e=e[s]}return r||++n!=o?r:!!(o=null==e?0:e.length)&&YL(o)&&zL(s,o)&&(oL(e)||nM(e))}(e,t,c$)}function u$(e){return SM(e)?(t=qM(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return GM(t,e)}}(e);var t}function h$(e){return"function"==typeof e?e:null==e?bL:"object"==typeof e?oL(e)?(t=e[0],i=e[1],SM(t)&&s$(i)?a$(qM(t),i):function(e){var n=WM(e,t);return void 0===n&&n===i?d$(e,t):r$(i,n,3)}):l$(e):u$(e);var t,i}var p$=function(e,t,i){for(var n=-1,o=Object(e),r=i(e),s=r.length;s--;){var a=r[++n];if(!1===t(o[a],a,o))break}return e};var m$=function(){return WR.Date.now()},f$=Math.max,g$=Math.min;function b$(e,t,i){var n,o,r,s,a,l,c=0,d=!1,u=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=n,r=o;return n=o=void 0,c=t,s=e.apply(r,i)}function m(e){var i=e-l;return void 0===l||i>=t||i<0||u&&e-c>=r}function f(){var e=m$();if(m(e))return g(e);a=setTimeout(f,function(e){var i=t-(e-l);return u?g$(i,r-(e-c)):i}(e))}function g(e){return a=void 0,h&&n?p(e):(n=o=void 0,s)}function b(){var e=m$(),i=m(e);if(n=arguments,o=this,l=e,i){if(void 0===a)return function(e){return c=e,a=setTimeout(f,t),d?p(e):s}(l);if(u)return clearTimeout(a),a=setTimeout(f,t),p(l)}return void 0===a&&(a=setTimeout(f,t)),s}return t=gL(t)||0,uL(i)&&(d=!!i.leading,r=(u="maxWait"in i)?f$(gL(i.maxWait)||0,t):r,h="trailing"in i?!!i.trailing:h),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,n=l=o=a=void 0},b.flush=function(){return void 0===a?s:g(m$())},b}function v$(e,t,i){(void 0!==i&&!VL(e[t],i)||void 0===i&&!(t in e))&&jL(e,t,i)}function y$(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function k$(e,t,i,n,o,r,s){var a=y$(e,i),l=y$(t,i),c=s.get(l);if(c)v$(e,i,c);else{var d=r?r(a,l,i+"",e,t,s):void 0,u=void 0===d;if(u){var h=oL(l),p=!h&&aM(l),m=!h&&!p&&fM(l);d=l,h||p||m?oL(a)?d=a:!function(e){return iL(e)&&KL(e)}(a)?p?(u=!1,d=tN(l,!0)):m?(u=!1,d=PN(l,!0)):d=[]:d=ML(a):tO(l)||nM(l)?(d=a,nM(a)?d=function(e){return qL(e,EM(e))}(a):uL(a)&&!vL(a)||(d=RN(l))):u=!1}u&&(s.set(l,d),o(d,l,n,r,s),s.delete(l)),v$(e,i,d)}}function w$(e,t,i,n,o){e!==t&&p$(t,(function(r,s){if(o||(o=new QO),uL(r))k$(e,t,s,i,w$,n,o);else{var a=n?n(y$(e,s),r,s+"",e,t,o):void 0;void 0===a&&(a=r),v$(e,s,a)}}),EM)}var x$=QL((function(e,t,i,n){w$(e,t,i,n)}));function _$(e){return"string"==typeof e||!oL(e)&&iL(e)&&"[object String]"==tL(e)}function E$(e){return iL(e)&&1===e.nodeType&&!tO(e)}function C$(e,t){return r$(e,t)}function A$(e,t,i){var n=(i="function"==typeof i?i:void 0)?i(e,t):void 0;return void 0===n?r$(e,t,void 0,i):!!n}function T$(e,t){var i={};return t=h$(t),function(e,t){e&&p$(e,t,wM)}(e,(function(e,n,o){jL(i,n,t(e,n,o))})),i}var S$=QL((function(e,t,i){w$(e,t,i)}));function I$(e,t){return null==(e=function(e,t){return t.length<2?e:GM(e,iO(t,0,-1))}(e,t=HM(t,e)))||delete e[qM((i=t,n=null==i?0:i.length,n?i[n-1]:void 0))];var i,n}function P$(e,t,i){return null==e?e:function(e,t,i){if(!uL(e))return e;for(var n=-1,o=(t=HM(t,e)).length,r=o-1,s=e;null!=s&&++n<o;){var a=qM(t[n]),l=i;if("__proto__"===a||"constructor"===a||"prototype"===a)return e;if(n!=r){var c=s[a];void 0===(l=void 0)&&(l=uL(c)?c:zL(t[n+1])?[]:{})}HL(s,a,l),s=s[a]}return e}(e,t,i)}var D$,R$=(D$=function(e,t,i){return e+(i?" ":"")+yO(t)},function(e){return function(e,t,i){for(var n=-1,o=null==e?0:e.length;++n<o;)i=t(i,e[n],n,e);return i}(YO(function(e){return(e=UM(e))&&e.replace(xO,wO).replace(_O,"")}(e).replace(KO,"")),D$,"")});function L$(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return uL(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),b$(e,t,{leading:n,maxWait:t,trailing:o})}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
let M$;try{M$={window:window,document:document}}catch(f1){
/* istanbul ignore next -- @preserve */
M$={window:{},document:{}}}var O$=M$;function N$(){try{return navigator.userAgent.toLowerCase()}catch(f1){return""}}const $$=N$(),F$={isMac:B$($$),isWindows:z$($$),isGecko:j$($$),isSafari:V$($$),isiOS:U$($$),isAndroid:H$($$),isBlink:q$($$),get isMediaForcedColors(){return!!O$.window.matchMedia&&O$.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!O$.window.matchMedia&&O$.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:G$()}};function B$(e){return e.indexOf("macintosh")>-1}function z$(e){return e.indexOf("windows")>-1}function j$(e){return!!e.match(/gecko\/\d+/)}function V$(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}function U$(e){return!!e.match(/iphone|ipad/i)||B$(e)&&navigator.maxTouchPoints>0}function H$(e){return e.indexOf("android")>-1}function q$(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}function G$(){let e=!1;try{e=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(t){}return e}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
function W$(e,t,i,n){i=i||function(e,t){return e===t};const o=Array.isArray(e)?e:Array.prototype.slice.call(e),r=Array.isArray(t)?t:Array.prototype.slice.call(t),s=function(e,t,i){const n=Y$(e,t,i);if(-1===n)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const o=K$(e,n),r=K$(t,n),s=Y$(o,r,i),a=e.length-s,l=t.length-s;return{firstIndex:n,lastIndexOld:a,lastIndexNew:l}}(o,r,i),a=n?function(e,t){const{firstIndex:i,lastIndexOld:n,lastIndexNew:o}=e;if(-1===i)return Array(t).fill("equal");let r=[];i>0&&(r=r.concat(Array(i).fill("equal")));o-i>0&&(r=r.concat(Array(o-i).fill("insert")));n-i>0&&(r=r.concat(Array(n-i).fill("delete")));o<t&&(r=r.concat(Array(t-o).fill("equal")));return r}(s,r.length):function(e,t){const i=[],{firstIndex:n,lastIndexOld:o,lastIndexNew:r}=t;r-n>0&&i.push({index:n,type:"insert",values:e.slice(n,r)});o-n>0&&i.push({index:n+(r-n),type:"delete",howMany:o-n});return i}(r,s);return a}function Y$(e,t,i){for(let n=0;n<Math.max(e.length,t.length);n++)if(void 0===e[n]||void 0===t[n]||!i(e[n],t[n]))return n;return-1}function K$(e,t){return e.slice(t).reverse()}function Q$(e,t,i){i=i||function(e,t){return e===t};const n=e.length,o=t.length;if(n>200||o>200||n+o>300)return Q$.fastDiff(e,t,i,!0);let r,s;if(o<n){const i=e;e=t,t=i,r="delete",s="insert"}else r="insert",s="delete";const a=e.length,l=t.length,c=l-a,d={},u={};function h(n){const o=(void 0!==u[n-1]?u[n-1]:-1)+1,c=void 0!==u[n+1]?u[n+1]:-1,h=o>c?-1:1;d[n+h]&&(d[n]=d[n+h].slice(0)),d[n]||(d[n]=[]),d[n].push(o>c?r:s);let p=Math.max(o,c),m=p-n;for(;m<a&&p<l&&i(e[m],t[p]);)m++,p++,d[n].push("equal");return p}let p,m=0;do{for(p=-m;p<c;p++)u[p]=h(p);for(p=c+m;p>c;p--)u[p]=h(p);u[c]=h(c),m++}while(u[c]!==l);return d[c].slice(1)}Q$.fastDiff=W$;class X${constructor(e,t){s(this,"source",void 0),s(this,"name",void 0),s(this,"path",void 0),s(this,"stop",void 0),s(this,"off",void 0),s(this,"return",void 0),this.source=e,this.name=t,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */const J$=new Array(256).fill("").map(((e,t)=>("0"+t.toString(16)).slice(-2)));function Z$(){const[e,t,i,n]=crypto.getRandomValues(new Uint32Array(4));return"e"+J$[255&e]+J$[e>>8&255]+J$[e>>16&255]+J$[e>>24&255]+J$[255&t]+J$[t>>8&255]+J$[t>>16&255]+J$[t>>24&255]+J$[255&i]+J$[i>>8&255]+J$[i>>16&255]+J$[i>>24&255]+J$[255&n]+J$[n>>8&255]+J$[n>>16&255]+J$[n>>24&255]}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */const eF={get(e="normal"){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function tF(e,t){const i=eF.get(t.priority);for(let n=0;n<e.length;n++)if(eF.get(e[n].priority)<i)return void e.splice(n,0,t);e.push(t)}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class iF extends Error{constructor(e,t,i){super(function(e,t){const i=new WeakSet,n=(e,t)=>{if("object"==typeof t&&null!==t){if(i.has(t))return`[object ${t.constructor.name}]`;i.add(t)}return t},o=t?` ${JSON.stringify(t,n)}`:"",r=oF(e);return e+o+r}(e,i)),s(this,"context",void 0),s(this,"data",void 0),this.name="CKEditorError",this.context=t,this.data=i}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const i=new iF(e.message,t);throw i.stack=e.stack,i}}function nF(e,t){console.warn(...function(e,t){const i=oF(e);return t?[e,t,i]:[e,i]}(e,t))}function oF(e){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${e}`}const rF=new Date(2024,10,6);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new iF("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION="43.3.1";const sF=Symbol("listeningTo"),aF=Symbol("emitterId"),lF=Symbol("delegations"),cF=dF(Object);function dF(e){if(!e)return cF;return class extends e{on(e,t,i){this.listenTo(this,e,t,i)}once(e,t,i){let n=!1;this.listenTo(this,e,((e,...i)=>{n||(n=!0,e.off(),t.call(this,e,...i))}),i)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,i,n={}){let o,r;this[sF]||(this[sF]={});const s=this[sF];hF(e)||uF(e);const a=hF(e);(o=s[a])||(o=s[a]={emitter:e,callbacks:{}}),(r=o.callbacks[t])||(r=o.callbacks[t]=[]),r.push(i),function(e,t,i,n,o){t._addEventListener?t._addEventListener(i,n,o):e._addEventListener.call(t,i,n,o)}(this,e,t,i,n)}stopListening(e,t,i){const n=this[sF];let o=e&&hF(e);const r=n&&o?n[o]:void 0,s=r&&t?r.callbacks[t]:void 0;if(!(!n||e&&!r||t&&!s))if(i){bF(this,e,t,i);-1!==s.indexOf(i)&&(1===s.length?delete r.callbacks[t]:bF(this,e,t,i))}else if(s){for(;i=s.pop();)bF(this,e,t,i);delete r.callbacks[t]}else if(r){for(t in r.callbacks)this.stopListening(e,t);delete n[o]}else{for(o in n)this.stopListening(n[o].emitter);delete this[sF]}}fire(e,...t){try{const i=e instanceof X$?e:new X$(this,e),n=i.name;let o=fF(this,n);if(i.path.push(this),o){const e=[i,...t];o=Array.from(o);for(let t=0;t<o.length&&(o[t].callback.apply(this,e),i.off.called&&(delete i.off.called,this._removeEventListener(n,o[t].callback)),!i.stop.called);t++);}const r=this[lF];if(r){const e=r.get(n),o=r.get("*");e&&gF(e,i,t),o&&gF(o,i,t)}return i.return}catch(N0){
/* istanbul ignore next -- @preserve */iF.rethrowUnexpectedError(N0,this)}}delegate(...e){return{to:(t,i)=>{this[lF]||(this[lF]=new Map),e.forEach((e=>{const n=this[lF].get(e);n?n.set(t,i):this[lF].set(e,new Map([[t,i]]))}))}}}stopDelegating(e,t){if(this[lF])if(e)if(t){const i=this[lF].get(e);i&&i.delete(t)}else this[lF].delete(e);else this[lF].clear()}_addEventListener(e,t,i){!function(e,t){const i=pF(e);if(i[t])return;let n=t,o=null;const r=[];for(;""!==n&&!i[n];)i[n]={callbacks:[],childEvents:[]},r.push(i[n]),o&&i[n].childEvents.push(o),o=n,n=n.substr(0,n.lastIndexOf(":"));if(""!==n){for(const e of r)e.callbacks=i[n].callbacks.slice();i[n].childEvents.push(o)}}(this,e);const n=mF(this,e),o={callback:t,priority:eF.get(i.priority)};for(const r of n)tF(r,o)}_removeEventListener(e,t){const i=mF(this,e);for(const n of i)for(let e=0;e<n.length;e++)n[e].callback==t&&(n.splice(e,1),e--)}}}function uF(e,t){e[aF]||(e[aF]=t||Z$())}function hF(e){return e[aF]}function pF(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function mF(e,t){const i=pF(e)[t];if(!i)return[];let n=[i.callbacks];for(let o=0;o<i.childEvents.length;o++){const t=mF(e,i.childEvents[o]);n=n.concat(t)}return n}function fF(e,t){let i;return e._events&&(i=e._events[t])&&i.callbacks.length?i.callbacks:t.indexOf(":")>-1?fF(e,t.substr(0,t.lastIndexOf(":"))):null}function gF(e,t,i){for(let[n,o]of e){o?"function"==typeof o&&(o=o(t.name)):o=t.name;const e=new X$(t.source,o);e.path=[...t.path],n.fire(e,...i)}}function bF(e,t,i,n){t._removeEventListener?t._removeEventListener(i,n):e._removeEventListener.call(t,i,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{dF[e]=cF.prototype[e]}));const vF=Symbol("observableProperties"),yF=Symbol("boundObservables"),kF=Symbol("boundProperties"),wF=Symbol("decoratedMethods"),xF=Symbol("decoratedOriginal"),_F=EF(dF());function EF(e){if(!e)return _F;return class extends e{constructor(...e){super(...e),s(this,vF,void 0),s(this,wF,void 0),s(this,kF,void 0),s(this,yF,void 0)}set(e,t){if(uL(e))return void Object.keys(e).forEach((t=>{this.set(t,e[t])}),this);CF(this);const i=this[vF];if(e in this&&!i.has(e))throw new iF("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>i.get(e),set(t){const n=i.get(e);let o=this.fire(`set:${e}`,e,t,n);void 0===o&&(o=t),n===o&&i.has(e)||(i.set(e,o),this.fire(`change:${e}`,e,o,n))}}),this[e]=t}bind(...e){if(!e.length||!SF(e))throw new iF("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new iF("observable-bind-duplicate-properties",this);CF(this);const t=this[kF];e.forEach((e=>{if(t.has(e))throw new iF("observable-bind-rebind",this)}));const i=new Map;return e.forEach((e=>{const n={property:e,to:[]};t.set(e,n),i.set(e,n)})),{to:AF,toMany:TF,_observable:this,_bindProperties:e,_to:[],_bindings:i}}unbind(...e){if(!this[vF])return;const t=this[kF],i=this[yF];if(e.length){if(!SF(e))throw new iF("observable-unbind-wrong-properties",this);e.forEach((e=>{const n=t.get(e);n&&(n.to.forEach((([e,t])=>{const o=i.get(e),r=o[t];r.delete(n),r.size||delete o[t],Object.keys(o).length||(i.delete(e),this.stopListening(e,"change"))})),t.delete(e))}))}else i.forEach(((e,t)=>{this.stopListening(t,"change")})),i.clear(),t.clear()}decorate(e){CF(this);const t=this[e];if(!t)throw new iF("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,((e,i)=>{e.return=t.apply(this,i)})),this[e]=function(...t){return this.fire(e,t)},this[e][xF]=t,this[wF]||(this[wF]=[]),this[wF].push(e)}stopListening(e,t,i){if(!e&&this[wF]){for(const e of this[wF])this[e]=this[e][xF];delete this[wF]}super.stopListening(e,t,i)}}}function CF(e){e[vF]||(Object.defineProperty(e,vF,{value:new Map}),Object.defineProperty(e,yF,{value:new Map}),Object.defineProperty(e,kF,{value:new Map}))}function AF(...e){const t=function(...e){if(!e.length)throw new iF("observable-bind-to-parse-error",null);const t={to:[]};let i;"function"==typeof e[e.length-1]&&(t.callback=e.pop());return e.forEach((e=>{if("string"==typeof e)i.properties.push(e);else{if("object"!=typeof e)throw new iF("observable-bind-to-parse-error",null);i={observable:e,properties:[]},t.to.push(i)}})),t}(...e),i=Array.from(this._bindings.keys()),n=i.length;if(!t.callback&&t.to.length>1)throw new iF("observable-bind-to-no-callback",this);if(n>1&&t.callback)throw new iF("observable-bind-to-extra-callback",this);t.to.forEach((e=>{if(e.properties.length&&e.properties.length!==n)throw new iF("observable-bind-to-properties-length",this);e.properties.length||(e.properties=this._bindProperties)})),this._to=t.to,t.callback&&(this._bindings.get(i[0]).callback=t.callback),function(e,t){t.forEach((t=>{const i=e[yF];let n;i.get(t.observable)||e.listenTo(t.observable,"change",((o,r)=>{n=i.get(t.observable)[r],n&&n.forEach((t=>{IF(e,t.property)}))}))}))}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */(this._observable,this._to),function(e){let t;e._bindings.forEach(((i,n)=>{e._to.forEach((o=>{t=o.properties[i.callback?0:e._bindProperties.indexOf(n)],i.to.push([o.observable,t]),function(e,t,i,n){const o=e[yF],r=o.get(i),s=r||{};s[n]||(s[n]=new Set);s[n].add(t),r||o.set(i,s)}(e._observable,i,o.observable,t)}))}))}(this),this._bindProperties.forEach((e=>{IF(this._observable,e)}))}function TF(e,t,i){if(this._bindings.size>1)throw new iF("observable-bind-to-many-not-one-binding",this);this.to(...function(e,t){const i=e.map((e=>[e,t]));return Array.prototype.concat.apply([],i)}(e,t),i)}function SF(e){return e.every((e=>"string"==typeof e))}function IF(e,t){const i=e[kF].get(t);let n;i.callback?n=i.callback.apply(e,i.to.map((e=>e[0][e[1]]))):(n=i.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(e,t)?e[t]=n:e.set(t,n)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{EF[e]=_F.prototype[e]}));class PF{constructor(){s(this,"_replacedElements",void 0),this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach((({element:e,newElement:t})=>{e.style.display="",t&&t.remove()})),this._replacedElements=[]}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function DF(e){let t=0;for(const i of e)t++;return t}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function RF(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)if(e[n]!=t[n])return n;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function LF(e){return!(!e||!e[Symbol.iterator])}function MF(e,t,i={},n=[]){const o=i&&i.xmlns,r=o?e.createElementNS(o,t):e.createElement(t);for(const s in i)r.setAttribute(s,i[s]);!_$(n)&&LF(n)||(n=[n]);for(let s of n)_$(s)&&(s=e.createTextNode(s)),r.appendChild(s);return r}let OF=class{constructor(e,t){s(this,"_config",void 0),this._config=Object.create(null),t&&this.define(NF(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,i,n=!1){if(tO(t))return void this._setObjectToTarget(e,t,n);const o=t.split(".");t=o.pop();for(const r of o)tO(e[r])||(e[r]=Object.create(null)),e=e[r];if(tO(i))return tO(e[t])||(e[t]=Object.create(null)),e=e[t],void this._setObjectToTarget(e,i,n);n&&void 0!==e[t]||(e[t]=i)}_getFromSource(e,t){const i=t.split(".");t=i.pop();for(const n of i){if(!tO(e[n])){e=null;break}e=e[n]}return e?NF(e[t]):void 0}_setObjectToTarget(e,t,i){Object.keys(t).forEach((n=>{this._setToTarget(e,n,t[n],i)}))}};function NF(e){return HN(e,$F)}function $F(e){return E$(e)||"function"==typeof e?e:void 0}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function FF(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function BF(e){const t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}const zF=jF(dF());function jF(e){if(!e)return zF;return class extends e{listenTo(e,t,i,n={}){if(FF(e)||BF(e)){const o={capture:!!n.useCapture,passive:!!n.usePassive},r=this._getProxyEmitter(e,o)||new VF(e,o);this.listenTo(r,t,i,n)}else super.listenTo(e,t,i,n)}stopListening(e,t,i){if(FF(e)||BF(e)){const n=this._getAllProxyEmitters(e);for(const e of n)this.stopListening(e,t,i)}else super.stopListening(e,t,i)}_getProxyEmitter(e,t){return function(e,t){const i=e[sF];return i&&i[t]?i[t].emitter:null}(this,UF(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((t=>this._getProxyEmitter(e,t))).filter((e=>!!e))}}}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{jF[e]=zF.prototype[e]}));class VF extends(dF()){constructor(e,t){super(),s(this,"_domNode",void 0),s(this,"_options",void 0),s(this,"_domListeners",void 0),uF(this,UF(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,i){this.attach(e),dF().prototype._addEventListener.call(this,e,t,i)}_removeEventListener(e,t){dF().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=t=>{this.fire(e,t)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function UF(e,t){let i=function(e){return e["data-ck-expando"]||(e["data-ck-expando"]=Z$())}(e);for(const n of Object.keys(t).sort())t[n]&&(i+="-"+n);return i}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
function HF(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function qF(e){if(!e.target)return null;const t=e.target.ownerDocument,i=e.clientX,n=e.clientY;let o=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(i,n)?o=t.caretRangeFromPoint(i,n):e.rangeParent&&(o=t.createRange(),o.setStart(e.rangeParent,e.rangeOffset),o.collapse(!0)),o}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function GF(e){return"[object Text]"==Object.prototype.toString.call(e)}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function WF(e){return"[object Range]"==Object.prototype.toString.apply(e)}function YF(e){return e&&e.parentNode?e.offsetParent===O$.document.body?null:e.offsetParent:null}const KF=["top","right","bottom","left","width","height"];class QF{constructor(e){s(this,"top",void 0),s(this,"right",void 0),s(this,"bottom",void 0),s(this,"left",void 0),s(this,"width",void 0),s(this,"height",void 0),s(this,"_source",void 0);const t=WF(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),ZF(e)||t)if(t){const t=QF.getDomRangeRects(e);XF(this,QF.getBoundingRect(t))}else XF(this,e.getBoundingClientRect());else if(BF(e)){const{innerWidth:t,innerHeight:i}=e;XF(this,{top:0,right:t,bottom:i,left:0,width:t,height:i})}else XF(this,e)}clone(){return new QF(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const e=new QF(t);return e._source=this._source,e}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(JF(e))return t;let i,n=e,o=e.parentNode||e.commonAncestorContainer;for(;o&&!JF(o);){const e="visible"===((r=o)instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).overflow:"visible");n instanceof HTMLElement&&"absolute"===eB(n)&&(i=n);const s=eB(o);if(e||i&&("relative"===s&&e||"relative"!==s)){n=o,o=o.parentNode;continue}const a=new QF(o),l=t.getIntersection(a);if(!l)return null;l.getArea()<t.getArea()&&(t=l),n=o,o=o.parentNode}var r;return t}isEqual(e){for(const t of KF)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=O$.window,i=this.clone().moveBy(e,t);if(ZF(i._source)){const e=YF(i._source);e&&function(e,t){const i=new QF(t),n=HF(t);let o=0,r=0;o-=i.left,r-=i.top,o+=t.scrollLeft,r+=t.scrollTop,o-=n.left,r-=n.top,e.moveBy(o,r)}(i,e)}return i}excludeScrollbarsAndBorders(){const e=this._source;let t,i,n;if(BF(e))t=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,n=e.getComputedStyle(e.document.documentElement).direction;else{const o=HF(e);t=e.offsetWidth-e.clientWidth-o.left-o.right,i=e.offsetHeight-e.clientHeight-o.top-o.bottom,n=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===n?this.right-=t:this.left+=t,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){const t=[],i=Array.from(e.getClientRects());if(i.length)for(const n of i)t.push(new QF(n));else{let i=e.startContainer;GF(i)&&(i=i.parentNode);const n=new QF(i.getBoundingClientRect());n.right=n.left,n.width=0,t.push(n)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const n of e)i++,t.left=Math.min(t.left,n.left),t.top=Math.min(t.top,n.top),t.right=Math.max(t.right,n.right),t.bottom=Math.max(t.bottom,n.bottom);return 0==i?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new QF(t))}}function XF(e,t){for(const i of KF)e[i]=t[i]}function JF(e){return!!ZF(e)&&e===e.ownerDocument.body}function ZF(e){return null!==e&&"object"==typeof e&&1===e.nodeType&&"function"==typeof e.getBoundingClientRect}function eB(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).position:"static"}let tB=(c=class e{constructor(t,i){s(this,"_element",void 0),s(this,"_callback",void 0),e._observerInstance||e._createObserver(),this._element=t,this._callback=i,e._addElementCallback(t,i),e._observerInstance.observe(t)}get element(){return this._element}destroy(){e._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,i){e._elementCallbacks||(e._elementCallbacks=new Map);let n=e._elementCallbacks.get(t);n||(n=new Set,e._elementCallbacks.set(t,n)),n.add(i)}static _deleteElementCallback(t,i){const n=e._getElementCallbacks(t);n&&(n.delete(i),n.size||(e._elementCallbacks.delete(t),e._observerInstance.unobserve(t))),e._elementCallbacks&&!e._elementCallbacks.size&&(e._observerInstance=null,e._elementCallbacks=null)}static _getElementCallbacks(t){return e._elementCallbacks?e._elementCallbacks.get(t):null}static _createObserver(){e._observerInstance=new O$.window.ResizeObserver((t=>{for(const i of t){const t=e._getElementCallbacks(i.target);if(t)for(const e of t)e(i)}}))}},s(c,"_observerInstance",null),s(c,"_elementCallbacks",null),c);
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function iB(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function nB(e){return t=>t+e}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function oB(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function rB(e,t,i){e.insertBefore(i,e.childNodes[t]||null)}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function sB(e){return e&&e.nodeType===Node.COMMENT_NODE}function aB(e){try{O$.document.createAttribute(e)}catch(t){return!1}return!0}function lB(e){return!!e&&(GF(e)?lB(e.parentElement):!!e.getClientRects&&!!e.getClientRects().length)}function cB({element:e,target:t,positions:i,limiter:n,fitInViewport:o,viewportOffsetConfig:r}){vL(t)&&(t=t()),vL(n)&&(n=n());const s=YF(e),a=function(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new QF(O$.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t}(r),l=new QF(e),c=dB(t,a);let d;if(!c||!a.getIntersection(c))return null;const u={targetRect:c,elementRect:l,positionedElementAncestor:s,viewportRect:a};if(n||o){if(n){const e=dB(n,a);e&&(u.limiterRect=e)}d=function(e,t){const{elementRect:i}=t,n=i.getArea(),o=e.map((e=>new uB(e,t))).filter((e=>!!e.name));let r=0,s=null;for(const a of o){const{limiterIntersectionArea:e,viewportIntersectionArea:t}=a;if(e===n)return a;const i=t**2+e**2;i>r&&(r=i,s=a)}return s}(i,u)}else d=new uB(i[0],u);return d}function dB(e,t){const i=new QF(e).getVisible();return i?i.getIntersection(t):null}class uB{constructor(e,t){s(this,"name",void 0),s(this,"config",void 0),s(this,"_positioningFunctionCoordinates",void 0),s(this,"_options",void 0),s(this,"_cachedRect",void 0),s(this,"_cachedAbsoluteRect",void 0);const i=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!i)return;const{left:n,top:o,name:r,config:a}=i;this.name=r,this.config=a,this._positioningFunctionCoordinates={left:n,top:o},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function hB(e){const t=e.parentNode;t&&t.removeChild(e)}function pB({window:e,rect:t,alignToTop:i,forceScroll:n,viewportOffset:o}){const r=t.clone().moveBy(0,o.bottom),s=t.clone().moveBy(0,-o.top),a=new QF(e).excludeScrollbarsAndBorders(),l=i&&n,c=[s,r].every((e=>a.contains(e)));let{scrollX:d,scrollY:u}=e;const h=d,p=u;l?u-=a.top-t.top+o.top:c||(gB(s,a)?u-=a.top-t.top+o.top:fB(r,a)&&(u+=i?t.top-a.top-o.top:t.bottom-a.bottom+o.bottom)),c||(bB(t,a)?d-=a.left-t.left+o.left:vB(t,a)&&(d+=t.right-a.right+o.right)),d==h&&u===p||e.scrollTo(d,u)}function mB({parent:e,getRect:t,alignToTop:i,forceScroll:n,ancestorOffset:o=0,limiterElement:r}){const s=yB(e),a=i&&n;let l,c,d;const u=r||s.document.body;for(;e!=u;)c=t(),l=new QF(e).excludeScrollbarsAndBorders(),d=l.contains(c),a?e.scrollTop-=l.top-c.top+o:d||(gB(c,l)?e.scrollTop-=l.top-c.top+o:fB(c,l)&&(e.scrollTop+=i?c.top-l.top-o:c.bottom-l.bottom+o)),d||(bB(c,l)?e.scrollLeft-=l.left-c.left+o:vB(c,l)&&(e.scrollLeft+=c.right-l.right+o)),e=e.parentNode}function fB(e,t){return e.bottom>t.bottom}function gB(e,t){return e.top<t.top}function bB(e,t){return e.left<t.left}function vB(e,t){return e.right>t.right}function yB(e){return WF(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function kB(e){if(WF(e)){let t=e.commonAncestorContainer;return GF(t)&&(t=t.parentNode),t}return e.parentNode}function wB(e,t){const i=yB(e),n=new QF(e);if(i===t)return n;{let e=i;for(;e!=t;){const t=e.frameElement,i=new QF(t).excludeScrollbarsAndBorders();n.moveBy(i.left,i.top),e=e.parent}}return n}const xB={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},_B={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},EB={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},CB=DB(),AB=Object.fromEntries(Object.entries(CB).map((([e,t])=>{let i;return i=t in EB?EB[t]:e.charAt(0).toUpperCase()+e.slice(1),[t,i]})));function TB(e){let t;if("string"==typeof e){if(t=CB[e.toLowerCase()],!t)throw new iF("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?CB.alt:0)+(e.ctrlKey?CB.ctrl:0)+(e.shiftKey?CB.shift:0)+(e.metaKey?CB.cmd:0);return t}function SB(e){return"string"==typeof e&&(e=function(e){return e.split("+").map((e=>e.trim()))}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */(e)),e.map((e=>"string"==typeof e?function(e){if(e.endsWith("!"))return TB(e.slice(0,-1));const t=TB(e);return(F$.isMac||F$.isiOS)&&t==CB.ctrl?CB.cmd:t}(e):e)).reduce(((e,t)=>t+e),0)}function IB(e){let t=SB(e);return Object.entries(F$.isMac||F$.isiOS?xB:_B).reduce(((e,[i,n])=>(t&CB[i]&&(t&=~CB[i],e+=n),e)),"")+(t?AB[t]:"")}function PB(e,t){const i="ltr"===t;switch(e){case CB.arrowleft:return i?"left":"right";case CB.arrowright:return i?"right":"left";case CB.arrowup:return"up";case CB.arrowdown:return"down"}}function DB(){const e={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){e[String.fromCharCode(t).toLowerCase()]=t}for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;return Object.assign(e,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),e}const RB=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function LB(e){return RB.includes(e)?"rtl":"ltr"}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function MB(e){return Array.isArray(e)?e:[e]}/* istanbul ignore else -- @preserve */function OB(e,t,i=1,n){if("number"!=typeof i)throw new iF("translation-service-quantity-not-a-number",null,{quantity:i});const o=n||O$.window.CKEDITOR_TRANSLATIONS,r=function(e){return Object.keys(e).length}(o);1===r&&(e=Object.keys(o)[0]);const s=t.id||t.string;if(0===r||!function(e,t,i){return!!i[e]&&!!i[e].dictionary[t]}(e,s,o))return 1!==i?t.plural:t.string;const a=o[e].dictionary,l=o[e].getPluralForm||(e=>1===e?0:1),c=a[s];if("string"==typeof c)return c;return c[Number(l(i))]}O$.window.CKEDITOR_TRANSLATIONS||(O$.window.CKEDITOR_TRANSLATIONS={});class NB{constructor({uiLanguage:e="en",contentLanguage:t,translations:i}={}){s(this,"uiLanguage",void 0),s(this,"uiLanguageDirection",void 0),s(this,"contentLanguage",void 0),s(this,"contentLanguageDirection",void 0),s(this,"t",void 0),s(this,"translations",void 0),this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=LB(this.uiLanguage),this.contentLanguageDirection=LB(this.contentLanguage),this.translations=function(e){return Array.isArray(e)?e.reduce(((e,t)=>S$(e,t))):e}(i),this.t=(e,t)=>this._t(e,t)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=MB(t),"string"==typeof e&&(e={string:e});const i=!!e.plural?t[0]:1;return function(e,t){return e.replace(/%(\d+)/g,((e,i)=>i<t.length?t[i]:e))}(OB(this.uiLanguage,e,i,this.translations),t)}}class $B extends(dF()){constructor(e={},t={}){super(),s(this,"_items",void 0),s(this,"_itemMap",void 0),s(this,"_idProperty",void 0),s(this,"_bindToCollection",void 0),s(this,"_bindToExternalToInternalMap",void 0),s(this,"_bindToInternalToExternalMap",void 0),s(this,"_skippedIndexesFromExternal",void 0);const i=LF(e);if(i||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const n of e)this._items.push(n),this._itemMap.set(this._getItemIdBeforeAdding(n),n)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new iF("collection-add-item-invalid-index",this);let i=0;for(const n of e){const e=this._getItemIdBeforeAdding(n),o=t+i;this._items.splice(o,0,n),this._itemMap.set(e,n),this.fire("add",n,o),i++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new iF("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,i]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:i}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new iF("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:e=>{this._setUpBindToBinding((t=>new e(t)))},using:e=>{"function"==typeof e?this._setUpBindToBinding(e):this._setUpBindToBinding((t=>t[e]))}}}_setUpBindToBinding(e){const t=this._bindToCollection,i=(i,n,o)=>{const r=t._bindToCollection==this,s=t._bindToInternalToExternalMap.get(n);if(r&&s)this._bindToExternalToInternalMap.set(n,s),this._bindToInternalToExternalMap.set(s,n);else{const i=e(n);if(!i)return void this._skippedIndexesFromExternal.push(o);let r=o;for(const e of this._skippedIndexesFromExternal)o>e&&r--;for(const e of t._skippedIndexesFromExternal)r>=e&&r++;this._bindToExternalToInternalMap.set(n,i),this._bindToInternalToExternalMap.set(i,n),this.add(i,r);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)r<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const n of t)i(0,n,t.getIndex(n));this.listenTo(t,"add",i),this.listenTo(t,"remove",((e,t,i)=>{const n=this._bindToExternalToInternalMap.get(t);n&&this.remove(n),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((e,t)=>(i<t&&e.push(t-1),i>t&&e.push(t),e)),[])}))}_getItemIdBeforeAdding(e){const t=this._idProperty;let i;if(t in e){if(i=e[t],"string"!=typeof i)throw new iF("collection-add-invalid-id",this);if(this.get(i))throw new iF("collection-add-item-already-exists",this)}else e[t]=i=Z$();return i}_remove(e){let t,i,n,o=!1;const r=this._idProperty;if("string"==typeof e?(i=e,n=this._itemMap.get(i),o=!n,n&&(t=this._items.indexOf(n))):"number"==typeof e?(t=e,n=this._items[t],o=!n,n&&(i=n[r])):(n=e,i=n[r],t=this._items.indexOf(n),o=-1==t||!this._itemMap.get(i)),o)throw new iF("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(i);const s=this._bindToInternalToExternalMap.get(n);return this._bindToInternalToExternalMap.delete(n),this._bindToExternalToInternalMap.delete(s),this.fire("remove",n,t),[n,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function FB(e){const t=e.next();return t.done?null:t.value}class BB extends(jF(EF())){constructor(){super(),s(this,"_elements",new Set),s(this,"_externalViews",new Set),s(this,"_blurTimeout",null),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(jB(e))this._addElement(e);else if(zB(e))this._addView(e);else{if(!e.element)throw new iF("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){jB(e)?this._removeElement(e):zB(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new iF("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",(()=>{const t=this.externalViews.find((t=>function(e,t){if(VB(e,t))return!0;return!!t.focusTracker.externalViews.find((t=>VB(e,t)))}(e,t)));t?this._focus(t.element):this._focus(e)}),{useCapture:!0}),this.listenTo(e,"blur",(()=>{this._blur()}),{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",(()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()})),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){if(this.elements.find((e=>e.contains(document.activeElement))))return;this.externalViews.find((e=>e.focusTracker.isFocused&&!e.focusTracker._blurTimeout))||(this._clearBlurTimeout(),this._blurTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function zB(e){return"focusTracker"in e&&e.focusTracker instanceof BB}function jB(e){return E$(e)}function VB(e,t){return!!t.element&&t.element.contains(document.activeElement)&&e.contains(t.element)}class UB{constructor(){s(this,"_listener",void 0),this._listener=new(jF())}listenTo(e){this._listener.listenTo(e,"keydown",((e,t)=>{this._listener.fire("_keydown:"+TB(t),t)}))}set(e,t,i={}){const n=SB(e),o=i.priority;this._listener.listenTo(this._listener,"_keydown:"+n,((e,n)=>{i.filter&&!i.filter(n)||(t(n,(()=>{n.preventDefault(),n.stopPropagation(),e.stop()})),e.return=!0)}),{priority:o})}press(e){return!!this._listener.fire("_keydown:"+TB(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function HB(e){return LF(e)?new Map(e):function(e){const t=new Map;for(const i in e)t.set(i,e[i]);return t}(e)}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function qB(e,t,i,n){if(Math.max(t.length,e.length)>1e4)return e.slice(0,i).concat(t).concat(e.slice(i+n,e.length));{const o=Array.from(e);return o.splice(i,n,...t),o}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function GB(e,t){let i;function n(...o){n.cancel(),i=setTimeout((()=>e(...o)),t)}return n.cancel=()=>{clearTimeout(i)},n}function WB(e,t){return!!(i=e.charAt(t-1))&&1==i.length&&/[\ud800-\udbff]/.test(i)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var i}function YB(e,t){return!!(i=e.charAt(t))&&1==i.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
var i}const KB=XB();function QB(e,t){const i=String(e).matchAll(KB);return Array.from(i).some((e=>e.index<t&&t<e.index+e[0].length))}function XB(){const e=/[\u{1F1E6}-\u{1F1FF}]{2}/u.source,t="(?:"+[/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA89}\u{1FA8F}-\u{1FAC6}\u{1FACE}-\u{1FADC}\u{1FADF}-\u{1FAE9}\u{1FAF0}-\u{1FAF8}][\u{E0020}-\u{E007E}]+\u{E007F}/u,/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA89}\u{1FA8F}-\u{1FAC6}\u{1FACE}-\u{1FADC}\u{1FADF}-\u{1FAE9}\u{1FAF0}-\u{1FAF8}]\uFE0F?\u20E3/u,/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA89}\u{1FA8F}-\u{1FAC6}\u{1FACE}-\u{1FADC}\u{1FADF}-\u{1FAE9}\u{1FAF0}-\u{1FAF8}]\uFE0F/u,/(?=[\xA6\xA9\xAE\xB0\u0482\u058D\u058E\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u09FA\u0B70\u0BF3-\u0BF8\u0BFA\u0C7F\u0D4F\u0D79\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116\u2117\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u214A\u214C\u214D\u214F\u218A\u218B\u2195-\u2199\u219C-\u219F\u21A1\u21A2\u21A4\u21A5\u21A7-\u21AD\u21AF-\u21CD\u21D0\u21D1\u21D3\u21D5-\u21F3\u2300-\u2307\u230C-\u231F\u2322-\u2328\u232B-\u237B\u237D-\u239A\u23B4-\u23DB\u23E2-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u25B6\u25B8-\u25C0\u25C2-\u25F7\u2600-\u266E\u2670-\u2767\u2794-\u27BF\u2800-\u28FF\u2B00-\u2B2F\u2B45\u2B46\u2B4D-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA828-\uA82B\uA836\uA837\uA839\uAA77-\uAA79\uFD40-\uFD4F\uFDCF\uFDFD-\uFDFF\uFFE4\uFFE8\uFFED\uFFEE\uFFFC\uFFFD\u{10137}-\u{1013F}\u{10179}-\u{10189}\u{1018C}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FC}\u{10877}\u{10878}\u{10AC8}\u{1173F}\u{11FD5}-\u{11FDC}\u{11FE1}-\u{11FF1}\u{16B3C}-\u{16B3F}\u{16B45}\u{1BC9C}\u{1CC00}-\u{1CCEF}\u{1CD00}-\u{1CEB3}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D164}\u{1D16A}-\u{1D16C}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1EA}\u{1D200}-\u{1D241}\u{1D245}\u{1D300}-\u{1D356}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}\u{1DA86}\u{1E14F}\u{1ECAC}\u{1ED2E}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F10D}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F3FA}\u{1F400}-\u{1F6D7}\u{1F6DC}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F776}\u{1F77B}-\u{1F7D9}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}-\u{1F8BB}\u{1F8C0}\u{1F8C1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA89}\u{1FA8F}-\u{1FAC6}\u{1FACE}-\u{1FADC}\u{1FADF}-\u{1FAE9}\u{1FAF0}-\u{1FAF8}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBEF}])[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA89}\u{1FA8F}-\u{1FAC6}\u{1FACE}-\u{1FADC}\u{1FADF}-\u{1FAE9}\u{1FAF0}-\u{1FAF8}][\u{1F3FB}-\u{1F3FF}]*/u].map((e=>e.source)).join("|")+")";return new RegExp(`${e}|${t}(?:‍${t})*`,"ug")}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */const JB=new WeakMap;let ZB=!1;function ez({view:e,element:t,text:i,isDirectHost:n=!0,keepOnFocus:o=!1}){const r=e.document;function s(i){JB.get(r).set(t,{text:i,isDirectHost:n,keepOnFocus:o,hostElement:n?t:null}),e.change((e=>tz(r,e)))}JB.has(r)||(JB.set(r,new Map),r.registerPostFixer((e=>tz(r,e))),r.on("change:isComposing",(()=>{e.change((e=>tz(r,e)))}),{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",((e,t,i)=>{s(i)})),t.placeholder?s(t.placeholder):i&&s(i),i&&function(){ZB||nF("enableplaceholder-deprecated-text-option");ZB=!0}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */()}function tz(e,t){const i=JB.get(e),n=[];let o=!1;for(const[r,s]of i)s.isDirectHost&&(n.push(r),iz(t,r,s)&&(o=!0));for(const[r,s]of i){if(s.isDirectHost)continue;const e=nz(r);e&&(n.includes(e)||(s.hostElement=e,iz(t,r,s)&&(o=!0)))}return o}function iz(e,t,i){const{text:n,isDirectHost:o,hostElement:r}=i;let s=!1;r.getAttribute("data-placeholder")!==n&&(e.setAttribute("data-placeholder",n,r),s=!0);return(o||1==t.childCount)&&function(e,t){if(!e.isAttached())return!1;const i=Array.from(e.getChildren()).some((e=>!e.is("uiElement")));if(i)return!1;const n=e.document,o=n.selection.anchor;return!(n.isComposing&&o&&o.parent===e||!t&&n.isFocused&&(!o||o.parent===e))}(r,i.keepOnFocus)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,r)&&(s=!0):function(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}(e,r)&&(s=!0),s}function nz(e){if(e.childCount){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}let oz=class{/* istanbul ignore next -- @preserve */is(){throw new Error("is() method is abstract")}},rz=class extends(dF(oz)){constructor(e){super(),s(this,"document",void 0),s(this,"parent",void 0),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new iF("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),n=e.getAncestors(t);let o=0;for(;i[o]==n[o]&&i[o];)o++;return 0===o?null:i[o-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),n=RF(t,i);switch(n){case"prefix":return!0;case"extension":return!1;default:return t[n]<i[n]}}isAfter(e){return this!=e&&(this.root===e.root&&!this.isBefore(e))}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=VN(this);return delete e.parent,e}};rz.prototype.is=function(e){return"node"===e||"view:node"===e};let sz=class e extends rz{constructor(e,t){super(e),s(this,"_textData",void 0),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(t){return t instanceof e&&(this===t||this.data===t.data)}_clone(){return new e(this.document,this.data)}};sz.prototype.is=function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e};let az=class extends oz{constructor(e,t,i){if(super(),s(this,"textNode",void 0),s(this,"data",void 0),s(this,"offsetInText",void 0),this.textNode=e,t<0||t>e.data.length)throw new iF("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new iF("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;null!==i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}};az.prototype.is=function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e};class lz{constructor(...e){s(this,"_patterns",[]),this.add(...e)}add(...e){for(let t of e)("string"==typeof t||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const e of this._patterns){const i=cz(t,e);if(i)return{element:t,pattern:e,match:i}}return null}matchAll(...e){const t=[];for(const i of e)for(const e of this._patterns){const n=cz(i,e);n&&t.push({element:i,pattern:e,match:n})}return t.length>0?t:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}function cz(e,t){if("function"==typeof t)return t(e);const i={};return t.name&&(i.name=function(e,t){if(e instanceof RegExp)return!!t.match(e);return e===t}(t.name,e.name),!i.name)||t.attributes&&(i.attributes=function(e,t){const i=new Set(t.getAttributeKeys());tO(e)?(void 0!==e.style&&nF("matcher-pattern-deprecated-attributes-style-key",e),void 0!==e.class&&nF("matcher-pattern-deprecated-attributes-class-key",e)):(i.delete("style"),i.delete("class"));return dz(e,i,(e=>t.getAttribute(e)))}(t.attributes,e),!i.attributes)||t.classes&&(i.classes=function(e,t){return dz(e,t.getClassNames(),(/* istanbul ignore next -- @preserve */()=>{}))}(t.classes,e),!i.classes)||t.styles&&(i.styles=function(e,t){return dz(e,t.getStyleNames(!0),(e=>t.getStyle(e)))}(t.styles,e),!i.styles)?null:i}function dz(e,t,i){const n=function(e){if(Array.isArray(e))return e.map((e=>tO(e)?(void 0!==e.key&&void 0!==e.value||nF("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]));if(tO(e))return Object.entries(e);return[[e,!0]]}(e),o=Array.from(t),r=[];if(n.forEach((([e,t])=>{o.forEach((n=>{(function(e,t){return!0===e||e===t||e instanceof RegExp&&t.match(e)})(e,n)&&function(e,t,i){if(!0===e)return!0;const n=i(t);return e===n||e instanceof RegExp&&!!String(n).match(e)}(t,n,i)&&r.push(n)}))})),n.length&&!(r.length<n.length))return r}class uz{constructor(e){s(this,"_styles",void 0),s(this,"_styleProcessor",void 0),this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(e){let t=null,i=0,n=0,o=null;const r=new Map;if(""===e)return r;";"!=e.charAt(e.length-1)&&(e+=";");for(let s=0;s<e.length;s++){const a=e.charAt(s);if(null===t)switch(a){case":":o||(o=e.substr(i,s-i),n=s+1);break;case'"':case"'":t=a;break;case";":{const t=e.substr(n,s-n);o&&r.set(o.trim(),t.trim()),o=null,i=s+1;break}}else a===t&&(t=null)}return r}(e);for(const[i,n]of t)this._styleProcessor.toNormalizedForm(i,n,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find((([t])=>t===e));return Array.isArray(t)}set(e,t){if(uL(e))for(const[i,n]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,n,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=pz(e);!function(e,t){null==e||I$(e,t)}(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map((e=>e.join(":"))).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!uL(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find((([t])=>t===e));return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){if(this.isEmpty)return[];if(e)return this._styleProcessor.getStyleNames(this._styles);return this.getStylesEntries().map((([e])=>e))}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const i=t.splice(0,t.length-1).join("."),n=WM(this._styles,i);if(!n)return;!Object.keys(n).length&&this.remove(i)}}class hz{constructor(){s(this,"_normalizers",void 0),s(this,"_extractors",void 0),s(this,"_reducers",void 0),s(this,"_consumables",void 0),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if(uL(t))mz(i,pz(e),t);else if(this._normalizers.has(e)){const n=this._normalizers.get(e),{path:o,value:r}=n(t);mz(i,o,r)}else mz(i,e,t)}getNormalized(e,t){if(!e)return S$({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if("string"==typeof i)return WM(t,i);const n=i(e,t);if(n)return n}return WM(t,pz(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);if(void 0===i)return[];if(this._reducers.has(e)){return this._reducers.get(e)(i)}return[[e,i]]}getStyleNames(e){const t=new Set;for(const i of this._consumables.keys()){const n=this.getNormalized(i,e);n&&("object"!=typeof n||Object.keys(n).length)&&t.add(i)}for(const i of Object.keys(e))t.add(i);return Array.from(t)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function pz(e){return e.replace("-",".")}function mz(e,t,i){let n=i;uL(i)&&(n=S$({},WM(e,t),i)),P$(e,t,n)}let fz=class e extends rz{constructor(e,t,i,n){if(super(e),s(this,"name",void 0),s(this,"_unsafeAttributesToRender",[]),s(this,"_attrs",void 0),s(this,"_children",void 0),s(this,"_classes",void 0),s(this,"_styles",void 0),s(this,"_customProperties",new Map),this.name=t,this._attrs=function(e){const t=HB(e);for(const[i,n]of t)null===n?t.delete(i):"string"!=typeof n&&t.set(i,String(n));return t}(i),this._children=[],n&&this._insertChild(0,n),this._classes=new Set,this._attrs.has("class")){const e=this._attrs.get("class");gz(this._classes,e),this._attrs.delete("class")}this._styles=new uz(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(t){if(!(t instanceof e))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,i]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==i)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new lz(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map((e=>`${e[0]}="${e[1]}"`)).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(t?` style="${t}"`:"")+(""==i?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const n of this.getChildren())t.push(n._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const n=function(e,t){if("string"==typeof t)return[new sz(e,t)];LF(t)||(t=[t]);return Array.from(t).map((t=>"string"==typeof t?new sz(e,t):t instanceof az?new sz(e,t.data):t))}(this.document,t);for(const o of n)null!==o.parent&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),"class"==e?gz(this._classes,i):"style"==e?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of MB(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of MB(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),"string"!=typeof e?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of MB(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};function gz(e,t){const i=t.split(/\s+/);e.clear(),i.forEach((t=>e.add(t)))}fz.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e};class bz extends fz{constructor(e,t,i,n){super(e,t,i,n),this.getFillerOffset=vz}}function vz(){const e=[...this.getChildren()],t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const i of e)if(!i.is("uiElement"))return null;return this.childCount}bz.prototype.is=function(e,t){return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class yz extends(EF(bz)){constructor(e,t,i,n){super(e,t,i,n),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",(t=>t&&e.selection.editableElement==this)),this.listenTo(e.selection,"change",(()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this}))}destroy(){this.stopListening()}}yz.prototype.is=function(e,t){return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};const kz=Symbol("rootName");class wz extends yz{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(kz)}set rootName(e){this._setCustomProperty(kz,e)}set _name(e){this.name=e}}wz.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};let xz=class{constructor(e={}){if(s(this,"direction",void 0),s(this,"boundaries",void 0),s(this,"singleCharacters",void 0),s(this,"shallow",void 0),s(this,"ignoreElementEnd",void 0),s(this,"_position",void 0),s(this,"_boundaryStartParent",void 0),s(this,"_boundaryEndParent",void 0),!e.boundaries&&!e.startPosition)throw new iF("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new iF("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=_z._createAt(e.startPosition):this._position=_z._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do{i=this.position,t=this.next()}while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(null===i.parent&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let n;if(i instanceof sz){if(e.isAtEnd)return this._position=_z._createAfter(i),this._next();n=i.data[e.offset]}else n=i.getChild(e.offset);if(n instanceof fz){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new _z(n,0);return this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}if(n instanceof sz){if(this.singleCharacters)return e=new _z(n,0),this._position=e,this._next();let i,o=n.data.length;return n==this._boundaryEndParent?(o=this.boundaries.end.offset,i=new az(n,0,o),e=_z._createAfter(i)):(i=new az(n,0,n.data.length),e.offset++),this._position=e,this._formatReturnValue("text",i,t,e,o)}if("string"==typeof n){let n;if(this.singleCharacters)n=1;else{n=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset}const o=new az(i,e.offset,n);return e.offset+=n,this._position=e,this._formatReturnValue("text",o,t,e,n)}return e=_z._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(null===i.parent&&0===e.offset)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let n;if(i instanceof sz){if(e.isAtStart)return this._position=_z._createBefore(i),this._previous();n=i.data[e.offset-1]}else n=i.getChild(e.offset-1);if(n instanceof fz)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",n,t,e,1)):(e=new _z(n,n.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",n,t,e));if(n instanceof sz){if(this.singleCharacters)return e=new _z(n,n.data.length),this._position=e,this._previous();let i,o=n.data.length;if(n==this._boundaryStartParent){const t=this.boundaries.start.offset;i=new az(n,t,n.data.length-t),o=i.data.length,e=_z._createBefore(i)}else i=new az(n,0,n.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",i,t,e,o)}if("string"==typeof n){let n;if(this.singleCharacters)n=1;else{const t=i===this._boundaryStartParent?this.boundaries.start.offset:0;n=e.offset-t}e.offset-=n;const o=new az(i,e.offset,n);return this._position=e,this._formatReturnValue("text",o,t,e,n)}return e=_z._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,n,o){return t instanceof az&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?i=_z._createAfter(t.textNode):(n=_z._createAfter(t.textNode),this._position=n)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?i=_z._createBefore(t.textNode):(n=_z._createBefore(t.textNode),this._position=n))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:n,length:o}}}},_z=class e extends oz{constructor(e,t){super(),s(this,"parent",void 0),s(this,"offset",void 0),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof yz);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(t){const i=e._createAt(this),n=i.offset+t;return i.offset=n<0?0:n,i}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new xz(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let n=0;for(;t[n]==i[n]&&t[n];)n++;return 0===n?null:t[n-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const n=RF(t,i);switch(n){case"prefix":return"before";case"extension":return"after";default:return t[n]<i[n]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new xz(e)}clone(){return new e(this.parent,this.offset)}static _createAt(t,i){if(t instanceof e)return new this(t.parent,t.offset);{const n=t;if("end"==i)i=n.is("$text")?n.data.length:n.childCount;else{if("before"==i)return this._createBefore(n);if("after"==i)return this._createAfter(n);if(0!==i&&!i)throw new iF("view-createpositionat-offset-required",n)}return new e(n,i)}}static _createAfter(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new iF("view-position-after-root",t,{root:t});return new e(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new iF("view-position-before-root",t,{root:t});return new e(t.parent,t.index)}};_z.prototype.is=function(e){return"position"===e||"view:position"===e};let Ez=class e extends oz{constructor(e,t=null){super(),s(this,"start",void 0),s(this,"end",void 0),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new xz({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Cz,{direction:"backward"}),i=this.end.getLastMatchingPosition(Cz);return t.parent.is("$text")&&t.isAtStart&&(t=_z._createBefore(t.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=_z._createAfter(i.parent)),new e(t,i)}getTrimmed(){let t=this.start.getLastMatchingPosition(Cz);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);let i=this.end.getLastMatchingPosition(Cz,{direction:"backward"});const n=t.nodeAfter,o=i.nodeBefore;return n&&n.is("$text")&&(t=new _z(n,0)),o&&o.is("$text")&&(i=new _z(o,o.data.length)),new e(t,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&n}getDifference(t){const i=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&i.push(new e(this.start,t.start)),this.containsPosition(t.end)&&i.push(new e(t.end,this.end))):i.push(this.clone()),i}getIntersection(t){if(this.isIntersecting(t)){let i=this.start,n=this.end;return this.containsPosition(t.start)&&(i=t.start),this.containsPosition(t.end)&&(n=t.end),new e(i,n)}return null}getWalker(e={}){return e.boundaries=this,new xz(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new e(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new xz(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new xz(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,n){return new this(new _z(e,t),new _z(i,n))}static _createFromPositionAndShift(e,t){const i=e,n=e.getShiftedBy(t);return t>0?new this(i,n):new this(n,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(_z._createBefore(e),t)}};function Cz(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}Ez.prototype.is=function(e){return"range"===e||"view:range"===e};let Az=class e extends(dF(oz)){constructor(...e){super(),s(this,"_ranges",void 0),s(this,"_lastRangeBackward",void 0),s(this,"_isFake",void 0),s(this,"_fakeSelectionLabel",void 0),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const n of e._ranges)if(t.isEqual(n)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=DF(this.getRanges());if(t!=DF(e.getRanges()))return!1;if(0==t)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let t=!1;for(let n of e.getRanges())if(n=n.getTrimmed(),i.start.isEqual(n.start)&&i.end.isEqual(n.end)){t=!0;break}if(!t)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...t){let[i,n,o]=t;if("object"==typeof n&&(o=n,n=void 0),null===i)this._setRanges([]),this._setFakeOptions(o);else if(i instanceof e||i instanceof Tz)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Ez)this._setRanges([i],o&&o.backward),this._setFakeOptions(o);else if(i instanceof _z)this._setRanges([new Ez(i)]),this._setFakeOptions(o);else if(i instanceof rz){const e=!!o&&!!o.backward;let t;if(void 0===n)throw new iF("view-selection-setto-required-second-parameter",this);t="in"==n?Ez._createIn(i):"on"==n?Ez._createOn(i):new Ez(_z._createAt(i,n)),this._setRanges([t],e),this._setFakeOptions(o)}else{if(!LF(i))throw new iF("view-selection-setto-not-selectable",this);this._setRanges(i,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new iF("view-selection-setfocus-no-ranges",this);const i=_z._createAt(e,t);if("same"==i.compareWith(this.focus))return;const n=this.anchor;this._ranges.pop(),"before"==i.compareWith(n)?this._addRange(new Ez(i,n),!0):this._addRange(new Ez(n,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Ez))throw new iF("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new iF("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Ez(e.start,e.end))}};Az.prototype.is=function(e){return"selection"===e||"view:selection"===e};let Tz=class extends(dF(oz)){constructor(...e){super(),s(this,"_selection",void 0),this._selection=new Az,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}};Tz.prototype.is=function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e};class Sz extends X${constructor(e,t,i){super(e,t),s(this,"startRange",void 0),s(this,"_eventPhase",void 0),s(this,"_currentTarget",void 0),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Iz=Symbol("bubbling contexts");function Pz(e){return class extends e{fire(e,...t){try{const i=e instanceof X$?e:new X$(this,e),n=Mz(this);if(!n.size)return;if(Dz(i,"capturing",this),Rz(n,"$capture",i,...t))return i.return;const o=i.startRange||this.selection.getFirstRange(),r=o?o.getContainedElement():null,s=!!r&&Boolean(Lz(n,r));let a=r||function(e){if(!e)return null;const t=e.start.parent,i=e.end.parent,n=t.getPath(),o=i.getPath();return n.length>o.length?t:i}(o);if(Dz(i,"atTarget",a),!s){if(Rz(n,"$text",i,...t))return i.return;Dz(i,"bubbling",a)}for(;a;){if(a.is("rootElement")){if(Rz(n,"$root",i,...t))return i.return}else if(a.is("element")&&Rz(n,a.name,i,...t))return i.return;if(Rz(n,a,i,...t))return i.return;a=a.parent,Dz(i,"bubbling",a)}return Dz(i,"bubbling",this),Rz(n,"$document",i,...t),i.return}catch(N0){
/* istanbul ignore next -- @preserve */iF.rethrowUnexpectedError(N0,this)}}_addEventListener(e,t,i){const n=MB(i.context||"$document"),o=Mz(this);for(const r of n){let n=o.get(r);n||(n=new(dF()),o.set(r,n)),this.listenTo(n,e,t,i)}}_removeEventListener(e,t){const i=Mz(this);for(const n of i.values())this.stopListening(n,e,t)}}}{const e=Pz(Object);["fire","_addEventListener","_removeEventListener"].forEach((t=>{Pz[t]=e.prototype[t]}))}function Dz(e,t,i){e instanceof Sz&&(e._eventPhase=t,e._currentTarget=i)}function Rz(e,t,i,...n){const o="string"==typeof t?e.get(t):Lz(e,t);return!!o&&(o.fire(i,...n),i.stop.called)}function Lz(e,t){for(const[i,n]of e)if("function"==typeof i&&i(t))return n;return null}function Mz(e){return e[Iz]||(e[Iz]=new Map),e[Iz]}let Oz=class extends(Pz(EF())){constructor(e){super(),s(this,"selection",void 0),s(this,"roots",void 0),s(this,"stylesProcessor",void 0),s(this,"_postFixers",new Set),this.selection=new Tz,this.roots=new $B({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach((e=>e.destroy())),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const i of this._postFixers)if(t=i(e),t)break}while(t)}};class Nz extends fz{constructor(e,t,i,n){super(e,t,i,n),s(this,"_priority",10),s(this,"_id",null),s(this,"_clonesGroup",null),this.getFillerOffset=$z}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new iF("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function $z(){if(Fz(this))return null;let e=this.parent;for(;e&&e.is("attributeElement");){if(Fz(e)>1)return null;e=e.parent}return!e||Fz(e)>1?null:this.childCount}function Fz(e){return Array.from(e.getChildren()).filter((e=>!e.is("uiElement"))).length}s(Nz,"DEFAULT_PRIORITY",10),Nz.prototype.is=function(e,t){return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class Bz extends fz{constructor(e,t,i,n){super(e,t,i,n),this.getFillerOffset=zz}_insertChild(e,t){if(t&&(t instanceof rz||Array.from(t).length>0))throw new iF("view-emptyelement-cannot-add",[this,t]);return 0}}function zz(){return null}Bz.prototype.is=function(e,t){return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class jz extends fz{constructor(e,t,i,n){super(e,t,i,n),this.getFillerOffset=Uz}_insertChild(e,t){if(t&&(t instanceof rz||Array.from(t).length>0))throw new iF("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}function Vz(e){e.document.on("arrowKey",((t,i)=>function(e,t,i){if(t.keyCode==CB.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection(),n=1==e.rangeCount&&e.getRangeAt(0).collapsed;if(n||t.shiftKey){const t=e.focusNode,o=e.focusOffset,r=i.domPositionToView(t,o);if(null===r)return;let s=!1;const a=r.getLastMatchingPosition((e=>(e.item.is("uiElement")&&(s=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement")))));if(s){const t=i.viewPositionToDom(a);n?e.collapse(t.parent,t.offset):e.extend(t.parent,t.offset)}}}}(0,i,e.domConverter)),{priority:"low"})}function Uz(){return null}jz.prototype.is=function(e,t){return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class Hz extends fz{constructor(e,t,i,n){super(e,t,i,n),this.getFillerOffset=qz}_insertChild(e,t){if(t&&(t instanceof rz||Array.from(t).length>0))throw new iF("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function qz(){return null}Hz.prototype.is=function(e,t){return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e};let Gz=class extends(dF(oz)){constructor(e,t){super(),s(this,"document",void 0),s(this,"_children",[]),s(this,"_customProperties",new Map),this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const n=function(e,t){if("string"==typeof t)return[new sz(e,t)];LF(t)||(t=[t]);return Array.from(t).map((t=>"string"==typeof t?new sz(e,t):t instanceof az?new sz(e,t.data):t))}(this.document,t);for(const o of n)null!==o.parent&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Gz.prototype.is=function(e){return"documentFragment"===e||"view:documentFragment"===e};class Wz{constructor(e){s(this,"document",void 0),s(this,"_cloneGroups",new Map),s(this,"_slotFactory",null),this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Gz(this.document,e)}createText(e){return new sz(this.document,e)}createAttributeElement(e,t,i={}){const n=new Nz(this.document,e,t);return"number"==typeof i.priority&&(n._priority=i.priority),i.id&&(n._id=i.id),i.renderUnsafeAttributes&&n._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),n}createContainerElement(e,t,i={},n={}){let o=null;tO(i)?n=i:o=i;const r=new bz(this.document,e,t,o);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createEditableElement(e,t,i={}){const n=new yz(this.document,e,t);return i.renderUnsafeAttributes&&n._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),n}createEmptyElement(e,t,i={}){const n=new Bz(this.document,e,t);return i.renderUnsafeAttributes&&n._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),n}createUIElement(e,t,i){const n=new jz(this.document,e,t);return i&&(n.render=i),n}createRawElement(e,t,i,n={}){const o=new Hz(this.document,e,t);return i&&(o.render=i),n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){tO(e)&&void 0===i?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof _z?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new iF("view-writer-break-non-container-element",this.document);if(!t.parent)throw new iF("view-writer-break-root",this.document);if(e.isAtStart)return _z._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(_z._createAfter(t),i);const n=new Ez(e,_z._createAt(t,"end")),o=new _z(i,0);this.move(n,o)}return _z._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&0===i.childCount){const e=i.parent,t=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new _z(e,t))}const n=i.getChild(t-1),o=i.getChild(t);if(!n||!o)return e;if(n.is("$text")&&o.is("$text"))return Jz(n,o);if(n.is("attributeElement")&&o.is("attributeElement")&&n.isSimilar(o)){const e=n.childCount;return n._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new _z(n,e))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!(t&&i&&t.is("containerElement")&&i.is("containerElement")))throw new iF("view-writer-merge-containers-invalid-position",this.document);const n=t.getChild(t.childCount-1),o=n instanceof sz?_z._createAt(n,"end"):_z._createAt(t,"end");return this.move(Ez._createIn(i),_z._createAt(t,"end")),this.remove(Ez._createOn(i)),o}insert(e,t){ej(t=LF(t)?[...t]:[t],this.document);const i=t.reduce(((e,t)=>{const i=e[e.length-1],n=!t.is("uiElement");return i&&i.breakAttributes==n?i.nodes.push(t):e.push({breakAttributes:n,nodes:[t]}),e}),[]);let n=null,o=e;for(const{nodes:r,breakAttributes:s}of i){const e=this._insertNodes(o,r,s);n||(n=e.start),o=e.end}return n?new Ez(n,o):new Ez(e)}remove(e){const t=e instanceof Ez?e:Ez._createOn(e);if(ij(t,this.document),t.isCollapsed)return new Gz(this.document);const{start:i,end:n}=this._breakAttributesRange(t,!0),o=i.parent,r=n.offset-i.offset,s=o._removeChildren(i.offset,r);for(const l of s)this._removeFromClonedElementsGroup(l);const a=this.mergeAttributes(i);return t.start=a,t.end=a.clone(),new Gz(this.document,s)}clear(e,t){ij(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const n of i){const i=n.item;let o;if(i.is("element")&&t.isSimilar(i))o=Ez._createOn(i);else if(!n.nextPosition.isAfter(e.start)&&i.is("$textProxy")){const e=i.getAncestors().find((e=>e.is("element")&&t.isSimilar(e)));e&&(o=Ez._createIn(e))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let i;if(t.isAfter(e.end)){const n=(t=this._breakAttributes(t,!0)).parent,o=n.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=n.childCount-o}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof Nz))throw new iF("view-writer-wrap-invalid-attribute",this.document);if(ij(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&!function(e){return Array.from(e.getChildren()).some((e=>!e.is("uiElement")))}(i.parent)&&(i=i.getLastMatchingPosition((e=>e.item.is("uiElement")))),i=this._wrapPosition(i,t);const n=this.document.selection;return n.isCollapsed&&n.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new Ez(i)}return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Nz))throw new iF("view-writer-unwrap-invalid-attribute",this.document);if(ij(e,this.document),e.isCollapsed)return e;const{start:i,end:n}=this._breakAttributesRange(e,!0),o=i.parent,r=this._unwrapChildren(o,i.offset,n.offset,t),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new Ez(s,a)}rename(e,t){const i=new bz(this.document,e,t.getAttributes());return this.insert(_z._createAfter(t),i),this.move(Ez._createIn(t),_z._createAt(i,0)),this.remove(Ez._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return _z._createAt(e,t)}createPositionAfter(e){return _z._createAfter(e)}createPositionBefore(e){return _z._createBefore(e)}createRange(e,t){return new Ez(e,t)}createRangeOn(e){return Ez._createOn(e)}createRangeIn(e){return Ez._createIn(e)}createSelection(...e){return new Az(...e)}createSlot(e="children"){if(!this._slotFactory)throw new iF("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let n,o;if(n=i?Yz(e):e.parent.is("$text")?e.parent.parent:e.parent,!n)throw new iF("view-writer-invalid-position-container",this.document);o=i?this._breakAttributes(e,!0):e.parent.is("$text")?Xz(e):e;const r=n._insertChild(o.offset,t);for(const c of t)this._addToClonedElementsGroup(c);const s=o.getShiftedBy(r),a=this.mergeAttributes(o);a.isEqual(o)||s.offset--;const l=this.mergeAttributes(s);return new Ez(a,l)}_wrapChildren(e,t,i,n){let o=t;const r=[];for(;o<i;){const t=e.getChild(o),i=t.is("$text"),s=t.is("attributeElement");if(s&&this._wrapAttributeElement(n,t))r.push(new _z(e,o));else if(i||!s||Kz(n,t)){const i=n._clone();t._remove(),i._appendChild(t),e._insertChild(o,i),this._addToClonedElementsGroup(i),r.push(new _z(e,o))}else this._wrapChildren(t,0,t.childCount,n);o++}let s=0;for(const a of r){if(a.offset-=s,a.offset==t)continue;this.mergeAttributes(a).isEqual(a)||(s++,i--)}return Ez._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,n){let o=t;const r=[];for(;o<i;){const t=e.getChild(o);if(t.is("attributeElement"))if(t.isSimilar(n)){const n=t.getChildren(),s=t.childCount;t._remove(),e._insertChild(o,n),this._removeFromClonedElementsGroup(t),r.push(new _z(e,o),new _z(e,o+s)),o+=s,i+=s-1}else this._unwrapAttributeElement(n,t)?(r.push(new _z(e,o),new _z(e,o+1)),o++):(this._unwrapChildren(t,0,t.childCount,n),o++);else o++}let s=0;for(const a of r){if(a.offset-=s,a.offset==t||a.offset==i)continue;this.mergeAttributes(a).isEqual(a)||(s++,i--)}return Ez._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:n}=this._breakAttributesRange(e,!0),o=i.parent,r=this._wrapChildren(o,i.offset,n.offset,t),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new Ez(s,a)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return Qz(e.clone());e.parent.is("$text")&&(e=Xz(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const n=new Ez(e,e.getShiftedBy(1));this.wrap(n,t);const o=new _z(i.parent,i.index);i._remove();const r=o.nodeBefore,s=o.nodeAfter;return r instanceof sz&&s instanceof sz?Jz(r,s):Qz(o)}_wrapAttributeElement(e,t){if(!nj(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if("class"!==i&&"style"!==i&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())"class"!==i&&"style"!==i&&(t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t));for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!nj(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if("class"!==i&&"style"!==i&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())"class"!==i&&"style"!==i&&this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,n=e.end;if(ij(e,this.document),e.isCollapsed){const i=this._breakAttributes(e.start,t);return new Ez(i,i)}const o=this._breakAttributes(n,t),r=o.parent.childCount,s=this._breakAttributes(i,t);return o.offset+=o.parent.childCount-r,new Ez(s,o)}_breakAttributes(e,t=!1){const i=e.offset,n=e.parent;if(e.parent.is("emptyElement"))throw new iF("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new iF("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new iF("view-writer-cannot-break-raw-element",this.document);if(!t&&n.is("$text")&&tj(n.parent))return e.clone();if(tj(n))return e.clone();if(n.is("$text"))return this._breakAttributes(Xz(e),t);if(i==n.childCount){const e=new _z(n.parent,n.index+1);return this._breakAttributes(e,t)}if(0===i){const e=new _z(n.parent,n.index);return this._breakAttributes(e,t)}{const e=n.index+1,o=n._clone();n.parent._insertChild(e,o),this._addToClonedElementsGroup(o);const r=n.childCount-i,s=n._removeChildren(i,r);o._appendChild(s);const a=new _z(n.parent,e);return this._breakAttributes(a,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const n of e.getChildren())this._addToClonedElementsGroup(n);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const n of e.getChildren())this._removeFromClonedElementsGroup(n);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function Yz(e){let t=e.parent;for(;!tj(t);){if(!t)return;t=t.parent}return t}function Kz(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function Qz(e){const t=e.nodeBefore;if(t&&t.is("$text"))return new _z(t,t.data.length);const i=e.nodeAfter;return i&&i.is("$text")?new _z(i,0):e}function Xz(e){if(e.offset==e.parent.data.length)return new _z(e.parent.parent,e.parent.index+1);if(0===e.offset)return new _z(e.parent.parent,e.parent.index);const t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new sz(e.root.document,t)),new _z(e.parent.parent,e.parent.index+1)}function Jz(e,t){const i=e.data.length;return e._data+=t.data,t._remove(),new _z(e,i)}const Zz=[sz,Nz,bz,Bz,Hz,jz];function ej(e,t){for(const i of e){if(!Zz.some((e=>i instanceof e)))throw new iF("view-writer-insert-invalid-node-type",t);i.is("$text")||ej(i.getChildren(),t)}}function tj(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function ij(e,t){const i=Yz(e.start),n=Yz(e.end);if(!i||!n||i!==n)throw new iF("view-writer-invalid-range-container",t)}function nj(e,t){return null===e.id&&null===t.id}const oj=e=>e.createTextNode(" "),rj=e=>{const t=e.createElement("span");return t.dataset.ckeFiller="true",t.innerText=" ",t},sj=e=>{const t=e.createElement("br");return t.dataset.ckeFiller="true",t},aj="⁠".repeat(7);function lj(e){return"string"==typeof e?e.substr(0,7)===aj:GF(e)&&e.data.substr(0,7)===aj}function cj(e){return 7==e.data.length&&lj(e)}function dj(e){const t="string"==typeof e?e:e.data;return lj(e)?t.slice(7):t}function uj(e,t){if(t.keyCode==CB.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,i=e.getRangeAt(0).startOffset;lj(t)&&i<=7&&e.collapse(t,0)}}}let hj=class extends(EF()){constructor(e,t){super(),s(this,"domDocuments",new Set),s(this,"domConverter",void 0),s(this,"markedAttributes",new Set),s(this,"markedChildren",new Set),s(this,"markedTexts",new Set),s(this,"selection",void 0),s(this,"_inlineFiller",null),s(this,"_fakeSelectionContainer",null),this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),F$.isBlink&&!F$.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()}))}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new iF("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!F$.isAndroid)return;let e=null;const t=!(F$.isBlink&&!F$.isAndroid)||!this.isSelecting;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=_z._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const t=this.domConverter.viewPositionToDom(e),i=t.parent.ownerDocument;lj(t.parent)?this._inlineFiller=t.parent:this._inlineFiller=pj(i,t.parent,t.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.childNodes),n=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),o=this._diffNodeLists(i,n),r=this._findUpdateActions(o,i,n,mj);if(-1!==r.indexOf("update")){const t={equal:0,insert:0,delete:0};for(const o of r)if("update"===o){const o=t.equal+t.insert,r=t.equal+t.delete,s=e.getChild(o);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,i[r]),hB(n[o]),t.equal++}else t[o]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?_z._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&GF(t.parent)&&lj(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!lj(e))throw new iF("view-renderer-filler-was-lost",this);cj(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;const t=e.findAncestor((e=>e.hasAttribute("contenteditable")));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;const n=e.nodeBefore,o=e.nodeAfter;return!(n instanceof sz||o instanceof sz)&&(!!(i!==t.getFillerOffset()||n&&n.is("element","br"))&&(!F$.isAndroid||!n&&!o))}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let n=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(n=aj+n),this._updateTextNode(i,n)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(t){for(const i of t.attributes){const n=i.name;e.hasAttribute(n)||this.domConverter.removeDomElementAttribute(t,n)}for(const i of e.getAttributeKeys())this.domConverter.setDomElementAttribute(t,i,e.getAttribute(i),e)}}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(F$.isAndroid){let e=null;for(const t of Array.from(i.childNodes)){if(e&&GF(e)&&GF(t)){i.normalize();break}e=t}}const n=t.inlineFillerPosition,o=i.childNodes,r=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));n&&n.parent===e&&pj(i.ownerDocument,r,n.offset);const s=this._diffNodeLists(o,r),a=this._findUpdateActions(s,o,r,fj);let l=0;const c=new Set;for(const d of a)"delete"===d?(c.add(o[l]),hB(o[l])):"equal"!==d&&"update"!==d||l++;l=0;for(const d of a)"insert"===d?(rB(i,l,r[l]),l++):"update"===d?(this._updateTextNode(o[l],r[l].data),l++):"equal"===d&&(this._markDescendantTextToSync(this.domConverter.domToView(r[l])),l++);for(const d of c)d.parentNode||this.domConverter.unbindDomElement(d)}_diffNodeLists(e,t){return e=function(e,t){const i=Array.from(e);if(0==i.length||!t)return i;const n=i[i.length-1];n==t&&i.pop();return i}(e,this._fakeSelectionContainer),Q$(e,t,gj.bind(null,this.domConverter))}_findUpdateActions(e,t,i,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let o=[],r=[],s=[];const a={equal:0,insert:0,delete:0};for(const l of e)"insert"===l?s.push(i[a.equal+a.insert]):"delete"===l?r.push(t[a.equal+a.delete]):(o=o.concat(Q$(r,s,n).map((e=>"equal"===e?"update":e))),o.push("equal"),r=[],s=[]),a[l]++;return o.concat(Q$(r,s,n).map((e=>"equal"===e?"update":e)))}_updateTextNode(e,t){const i=e.data;i!=t&&(F$.isAndroid&&this.isComposing&&i.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,t))}_updateTextNodeInternal(e,t){const i=W$(e.data,t);for(const n of i)"insert"===n.type?e.insertData(n.index,n.values.join("")):e.deleteData(n.index,n.howMany)}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(F$.isBlink&&!F$.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&F$.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){const t=e.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent=" ",t}(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;i.parentElement&&i.parentElement==e||e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||" ";const n=t.getSelection(),o=t.createRange();n.removeAllRanges(),o.selectNodeContents(i),n.addRange(o)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),n=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,n.parent,n.offset),F$.isGecko&&function(e,t){let i=e.parent,n=e.offset;GF(i)&&cj(i)&&(n=oB(i)+1,i=i.parentNode);if(i.nodeType!=Node.ELEMENT_NODE||n!=i.childNodes.length-1)return;const o=i.childNodes[n];o&&"BR"==o.tagName&&t.addRange(t.getRangeAt(0))}(n,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||(i.anchorNode!==t&&!t.contains(i.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel)}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,n=this.domConverter.mapDomToView(i);i&&n&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}};function pj(e,t,i){const n=t instanceof Array?t:t.childNodes,o=n[i];if(GF(o))return o.data=aj+o.data,o;{const o=e.createTextNode(aj);return Array.isArray(t)?n.splice(i,0,o):rB(t,i,o),o}}function mj(e,t){return FF(e)&&FF(t)&&!GF(e)&&!GF(t)&&!sB(e)&&!sB(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function fj(e,t){return FF(e)&&FF(t)&&GF(e)&&GF(t)}function gj(e,t,i){return t===i||(GF(t)&&GF(i)?t.data===i.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(i)))}const bj=sj(O$.document),vj=oj(O$.document),yj=rj(O$.document),kj="data-ck-unsafe-attribute-",wj="data-ck-unsafe-element";class xj{constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){s(this,"document",void 0),s(this,"renderingMode",void 0),s(this,"blockFillerMode",void 0),s(this,"preElements",void 0),s(this,"blockElements",void 0),s(this,"inlineObjectElements",void 0),s(this,"unsafeElements",void 0),s(this,"_domDocument",void 0),s(this,"_domToViewMapping",new WeakMap),s(this,"_viewToDomMapping",new WeakMap),s(this,"_fakeSelectionMapping",new WeakMap),s(this,"_rawContentElementMatcher",new lz),s(this,"_inlineObjectElementMatcher",new lz),s(this,"_elementsWithTemporaryCustomProperties",new Set),this.document=e,this.renderingMode=i,this.blockFillerMode=t||("editing"===i?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?O$.document:O$.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Az(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of e.children)this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&(("srcdoc"!==e||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===i&&("src"===e||"srcset"===e)||("source"===i&&"srcset"===e||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))))}setContentOf(e,t){if("data"===this.renderingMode)return void(e.innerHTML=t);const i=(new DOMParser).parseFromString(t,"text/html"),n=i.createDocumentFragment(),o=i.body.childNodes;for(;o.length>0;)n.appendChild(o[0]);const r=i.createTreeWalker(n,NodeFilter.SHOW_ELEMENT),s=[];let a;for(;a=r.nextNode();)s.push(a);for(const l of s){for(const t of l.getAttributeNames())this.setDomElementAttribute(l,t,l.getAttribute(t));const e=l.tagName.toLowerCase();this._shouldRenameElement(e)&&(Cj(e),l.replaceWith(this._createReplacementDomElement(e,l)))}for(;e.firstChild;)e.firstChild.remove();e.append(n)}viewToDom(e,t={}){if(e.is("$text")){const t=this._processDataFromViewText(e);return this._domDocument.createTextNode(t)}{const i=e;if(this.mapViewToDom(i)){if(!i.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(i);this._elementsWithTemporaryCustomProperties.add(i)}let n;if(i.is("documentFragment"))n=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(n,i);else{if(i.is("uiElement"))return n="$comment"===i.name?this._domDocument.createComment(i.getCustomProperty("$rawContent")):i.render(this._domDocument,this),t.bind&&this.bindElements(n,i),n;this._shouldRenameElement(i.name)?(Cj(i.name),n=this._createReplacementDomElement(i.name)):n=i.hasAttribute("xmlns")?this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(n,this),t.bind&&this.bindElements(n,i);for(const e of i.getAttributeKeys())this.setDomElementAttribute(n,e,i.getAttribute(e),i)}if(!1!==t.withChildren)for(const e of this.viewChildrenToDom(i,t))n instanceof HTMLTemplateElement?n.content.appendChild(e):n.appendChild(e);return n}}setDomElementAttribute(e,t,i,n){const o=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||n&&n.shouldRenderUnsafeAttribute(t);o||nF("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),aB(t)?(e.hasAttribute(t)&&!o?e.removeAttribute(t):e.hasAttribute(kj+t)&&o&&e.removeAttribute(kj+t),e.setAttribute(o?t:kj+t,i)):nF("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i})}removeDomElementAttribute(e,t){t!=wj&&(e.removeAttribute(t),e.removeAttribute(kj+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let n=0;for(const o of e.getChildren()){i===n&&(yield this._getBlockFiller());const e=o.is("element")&&!!o.getCustomProperty("dataPipeline:transparentRendering")&&!FB(o.getAttributes());if(e&&"data"==this.renderingMode)if(o.is("rawElement")){const e=this._domDocument.createElement(o.name);o.render(e,this),yield*[...e.childNodes]}else yield*this.viewChildrenToDom(o,t);else e&&nF("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:o}),yield this.viewToDom(o,t);n++}i===n&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),n=this._domDocument.createRange();return n.setStart(t.parent,t.offset),n.setEnd(i.parent,i.offset),n}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let n=e.offset;return lj(i)&&(n+=7),{parent:i,offset:n}}{let i,n,o;if(0===e.offset){if(i=this.mapViewToDom(t),!i)return null;o=i.childNodes[0]}else{const t=e.nodeBefore;if(n=t.is("$text")?this.findCorrespondingDomText(t):this.mapViewToDom(t),!n)return null;i=n.parentNode,o=n.nextSibling}if(GF(o)&&lj(o))return{parent:o,offset:7};return{parent:i,offset:n?oB(n)+1:0}}}domToView(e,t={}){const i=[],n=this._domToView(e,t,i),o=n.next().value;return o?(n.next(),this._processDomInlineNodes(null,i,t),o.is("$text")&&0==o.data.length?null:o):null}*domChildrenToView(e,t={},i=[]){let n=[];n=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let o=0;o<n.length;o++){const r=n[o],s=this._domToView(r,t,i),a=s.next().value;null!==a&&(this._isBlockViewElement(a)&&this._processDomInlineNodes(e,i,t),yield a,s.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(function(e){if(!F$.isGecko)return!1;if(!e.rangeCount)return!1;const t=e.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch(i){return!0}return!1}(e))return new Az([]);if(1===e.rangeCount){let t=e.getRangeAt(0).startContainer;GF(t)&&(t=t.parentNode);const i=this.fakeSelectionToView(t);if(i)return i}const t=this.isDomSelectionBackward(e),i=[];for(let n=0;n<e.rangeCount;n++){const t=e.getRangeAt(n),o=this.domRangeToView(t);o&&i.push(o)}return new Az(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new Ez(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,oB(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return _z._createBefore(i);if(GF(e)){if(cj(e))return this.domPositionToView(e.parentNode,oB(e));const i=this.findCorrespondingViewText(e);let n=t;return i?(lj(e)&&(n-=7,n=n<0?0:n),new _z(i,n)):null}if(0===t){const t=this.mapDomToView(e);if(t)return new _z(t,0)}else{const i=e.childNodes[t-1];if(GF(i)&&cj(i)||i&&this.isBlockFiller(i))return this.domPositionToView(i.parentNode,oB(i));const n=GF(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(n&&n.parent)return new _z(n.parent,n.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(cj(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const e=this.mapDomToView(i);if(e){const t=e.nextSibling;return t instanceof sz?t:null}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);return e instanceof sz?e:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:i}=O$.window,n=[];_j(t,(e=>{const{scrollLeft:t,scrollTop:i}=e;n.push([t,i])})),t.focus(),_j(t,(e=>{const[t,i]=n.shift();e.scrollLeft=t,e.scrollTop=i})),O$.window.scrollTo(e,i)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(bj):!("BR"!==e.tagName||!Ej(e,this.blockElements)||1!==e.parentNode.childNodes.length)||(e.isEqualNode(yj)||function(e,t){const i=e.isEqualNode(vj);return i&&Ej(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements))}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch(f1){return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=function(e){const t=[];let i=e;for(;i&&i.nodeType!=Node.DOCUMENT_NODE;)t.unshift(i),i=i.parentNode;return t}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */(e);for(t.pop();t.length;){const e=t.pop(),i=this._domToViewMapping.get(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return i}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return oj(this._domDocument);case"markedNbsp":return rj(this._domDocument);case"br":return sj(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(GF(e)&&lj(e)&&t<7)return!1;if(this.isElement(e)&&lj(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!i||!i.is("uiElement")&&!i.is("rawElement")}*_domToView(e,t,i){if(this.isBlockFiller(e))return null;const n=this.getHostViewElement(e);if(n)return n;if(sB(e)&&t.skipComments)return null;if(GF(e)){if(cj(e))return null;{const t=e.data;if(""===t)return null;const n=new sz(this.document,t);return i.push(n),n}}{let n=this.mapDomToView(e);if(n)return this._isInlineObjectElement(n)&&i.push(n),n;if(this.isDocumentFragment(e))n=new Gz(this.document),t.bind&&this.bindDocumentFragments(e,n);else{n=this._createViewElement(e,t),t.bind&&this.bindElements(e,n);const o=e.attributes;if(o)for(let e=o.length,t=0;t<e;t++)n._setAttribute(o[t].name,o[t].value);if(this._isViewElementWithRawContent(n,t))return n._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(n)||i.push(n),n;if(sB(e))return n._setCustomProperty("$rawContent",e.data),n}yield n;const o=[];if(!1!==t.withChildren)for(const i of this.domChildrenToView(e,t,o))n._appendChild(i);if(this._isInlineObjectElement(n))i.push(n),this._processDomInlineNodes(null,o,t);else for(const e of o)i.push(e)}}_processDomInlineNodes(e,t,i){if(!t.length)return;if(e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let n=!1;for(let o=0;o<t.length;o++){const e=t[o];if(!e.is("$text")){n=!1;continue}let r,s=!1;if(this._isPreFormatted(e))r=dj(e.data);else{r=e.data.replace(/[ \n\t\r]{1,}/g," "),s=/[^\S\u00A0]/.test(r.charAt(r.length-1));const a=o>0?t[o-1]:null,l=o+1<t.length?t[o+1]:null,c=!a||a.is("element")&&"br"==a.name||n,d=!l&&!lj(e.data);!1!==i.withChildren&&(c&&(r=r.replace(/^ /,"")),d&&(r=r.replace(/ $/,""))),r=dj(r),r=r.replace(/ \u00A0/g,"  ");const u=l&&l.is("element")&&"br"!=l.name,h=l&&l.is("$text")&&" "==l.data.charAt(0);(/[ \u00A0]\u00A0$/.test(r)||!l||u||h)&&(r=r.replace(/\u00A0$/," ")),(c||a&&a.is("element")&&"br"!=a.name)&&(r=r.replace(/^\u00A0/," "))}0==r.length&&e.parent?(e._remove(),t.splice(o,1),o--):(e._data=r,n=s)}t.length=0}_processDataFromViewText(e){let t=e.data;if(this._isPreFormatted(e))return t;if(" "==t.charAt(0)){const i=this._getTouchingInlineViewNode(e,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(t=" "+t.substr(1))}if(" "==t.charAt(t.length-1)){const i=this._getTouchingInlineViewNode(e,!0),n=i&&i.is("$textProxy")&&" "==i.data.charAt(0);" "!=t.charAt(t.length-2)&&i&&!n||(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_isPreFormatted(e){if(function(e,t){return e.getAncestors().some((e=>e.is("element")&&t.includes(e.name)))}(e,this.preElements))return!0;for(const t of e.getAncestors({parentFirst:!0}))if(t.is("element")&&t.hasStyle("white-space")&&"inherit"!==t.getStyle("white-space"))return["pre","pre-wrap","break-spaces"].includes(t.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,t){const i=new xz({startPosition:t?_z._createAfter(e):_z._createBefore(e),direction:t?"forward":"backward"});for(const{item:n}of i){if(n.is("$textProxy"))return n;if(!n.is("element")||!n.getCustomProperty("dataPipeline:transparentRendering")){if(n.is("element","br"))return null;if(this._isInlineObjectElement(n))return n;if(n.is("containerElement"))return null}}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&("br"==e.name||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(sB(e))return new jz(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new fz(this.document,i)}_isViewElementWithRawContent(e,t){return!1!==t.withChildren&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(wj,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const e of t.getAttributeNames())i.setAttribute(e,t.getAttribute(e))}return i}}function _j(e,t){let i=e;for(;i;)t(i),i=i.parentElement}function Ej(e,t){const i=e.parentNode;return!!i&&!!i.tagName&&t.includes(i.tagName.toLowerCase())}function Cj(e){"script"===e&&nF("domconverter-unsafe-script-element-detected"),"style"===e&&nF("domconverter-unsafe-style-element-detected")}class Aj extends(jF()){constructor(e){super(),s(this,"view",void 0),s(this,"document",void 0),s(this,"_isEnabled",!1),this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class Tj{constructor(e,t,i){s(this,"view",void 0),s(this,"document",void 0),s(this,"domEvent",void 0),s(this,"domTarget",void 0),this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,CM(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Sj extends Aj{constructor(...e){super(...e),s(this,"useCapture",!1),s(this,"usePassive",!1)}observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((t=>{this.listenTo(e,t,((e,t)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(t.target)&&this.onDomEvent(t)}),{useCapture:this.useCapture,usePassive:this.usePassive})}))}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new Tj(this.view,t,i))}}class Ij extends Sj{constructor(...e){super(...e),s(this,"domEventType",["keydown","keyup"])}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return TB(this)}};this.fire(e.type,e,t)}}class Pj extends Aj{constructor(e){super(e),s(this,"_fireSelectionChangeDoneDebounced",void 0),this._fireSelectionChangeDoneDebounced=b$((e=>{this.document.fire("selectionChangeDone",e)}),200)}observe(){const e=this.document;e.on("arrowKey",((t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()}),{context:"$capture"}),e.on("arrowKey",((t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new Az(t.getRanges(),{backward:t.isBackward,fake:!1});e!=CB.arrowleft&&e!=CB.arrowup||i.setTo(i.getFirstPosition()),e!=CB.arrowright&&e!=CB.arrowdown||i.setTo(i.getLastPosition());const n={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",n),this._fireSelectionChangeDoneDebounced(n)}}let Dj=class extends Aj{constructor(e){super(e),s(this,"domConverter",void 0),s(this,"_config",void 0),s(this,"_domElements",void 0),s(this,"_mutationObserver",void 0),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const t=this.domConverter,i=new Set,n=new Set;for(const r of e){const e=t.mapDomToView(r.target);e&&(e.is("uiElement")||e.is("rawElement")||"childList"!==r.type||this._isBogusBrMutation(r)||n.add(e))}for(const r of e){const e=t.mapDomToView(r.target);if((!e||!e.is("uiElement")&&!e.is("rawElement"))&&"characterData"===r.type){const e=t.findCorrespondingViewText(r.target);e&&!n.has(e.parent)?i.add(e):!e&&lj(r.target)&&n.add(t.mapDomToView(r.target.parentNode))}}const o=[];for(const r of i)o.push({type:"text",node:r});for(const r of n){const e=t.mapViewToDom(r);A$(Array.from(r.getChildren()),Array.from(t.domChildrenToView(e,{withChildren:!1})),Rj)||o.push({type:"children",node:r})}o.length&&this.document.fire("mutations",{mutations:o})}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function Rj(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}class Lj extends Sj{constructor(e){super(e),s(this,"_renderTimeoutId",null),s(this,"_isFocusChanging",!1),s(this,"domEventType",["focus","blur"]),this.useCapture=!0;const t=this.document;t.on("focus",(()=>this._handleFocus())),t.on("blur",((e,t)=>this._handleBlur(t))),t.on("beforeinput",(()=>{t.isFocused||this._handleFocus()}),{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this._renderTimeoutId=null,this.flush(),this.view.change((()=>{}))}),50)}_handleBlur(e){const t=this.document.selection.editableElement;null!==t&&t!==e.target||(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change((()=>{})))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class Mj extends Aj{constructor(e){super(e),s(this,"mutationObserver",void 0),s(this,"focusObserver",void 0),s(this,"selection",void 0),s(this,"domConverter",void 0),s(this,"_documents",void 0),s(this,"_fireSelectionChangeDoneDebounced",void 0),s(this,"_clearInfiniteLoopInterval",void 0),s(this,"_documentIsSelectingInactivityTimeoutDebounced",void 0),s(this,"_loopbackCounter",void 0),this.mutationObserver=e.getObserver(Dj),this.focusObserver=e.getObserver(Lj),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=b$((e=>{this.document.fire("selectionChangeDone",e)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=b$((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(()=>{this.document.isComposing&&!F$.isAndroid||(this._handleSelectionChange(t),this._documentIsSelectingInactivityTimeoutDebounced())})),this.listenTo(this.view.document,"compositionstart",(()=>{this._handleSelectionChange(t)}),{priority:"lowest"}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}/* istanbul ignore next -- @preserve */_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const t=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(t.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(t);if(0!=i.rangeCount){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(i)||!this.domConverter.isDomSelectionCorrect(t))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(i))this.view.forceRender();else{const e={oldSelection:this.selection,newSelection:i,domSelection:t};this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Oj extends Sj{constructor(e){super(e),s(this,"domEventType",["compositionstart","compositionupdate","compositionend"]);const t=this.document;t.on("compositionstart",(()=>{t.isComposing=!0}),{priority:"low"}),t.on("compositionend",(()=>{t.isComposing=!1}),{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class Nj{constructor(e,t={}){s(this,"_files",void 0),s(this,"_native",void 0),this._files=t.cacheFiles?$j(e):null,this._native=e}get files(){return this._files||(this._files=$j(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function $j(e){const t=Array.from(e.files||[]),i=Array.from(e.items||[]);return t.length?t:i.filter((e=>"file"===e.kind)).map((e=>e.getAsFile()))}class Fj extends Sj{constructor(...e){super(...e),s(this,"domEventType","beforeinput")}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,n=i.document;let o=null,r=null,s=[];if(e.dataTransfer&&(o=new Nj(e.dataTransfer)),null!==e.data?r=e.data:o&&(r=o.getData("text/plain")),n.selection.isFake)s=Array.from(n.selection.getRanges());else if(t.length)s=t.map((e=>{const t=i.domConverter.domPositionToView(e.startContainer,e.startOffset),n=i.domConverter.domPositionToView(e.endContainer,e.endOffset);return t?i.createRange(t,n):n?i.createRange(n):void 0})).filter((e=>!!e));else if(F$.isAndroid){const t=e.target.ownerDocument.defaultView.getSelection();s=Array.from(i.domConverter.domSelectionToView(t).getRanges())}if(F$.isAndroid&&"insertCompositionText"==e.inputType&&r&&r.endsWith("\n"))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(s[0].end)]});else if("insertText"==e.inputType&&r&&r.includes("\n")){const t=r.split(/\n{1,2}/g);let i=s;for(let r=0;r<t.length;r++){const s=t[r];""!=s&&(this.fire(e.type,e,{data:s,dataTransfer:o,targetRanges:i,inputType:e.inputType,isComposing:e.isComposing}),i=[n.selection.getFirstRange()]),r+1<t.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:i}),i=[n.selection.getFirstRange()])}}else this.fire(e.type,e,{data:r,dataTransfer:o,targetRanges:s,inputType:e.inputType,isComposing:e.isComposing})}}class Bj extends Aj{constructor(e){super(e),this.document.on("keydown",((e,t)=>{if(this.isEnabled&&((i=t.keyCode)==CB.arrowright||i==CB.arrowleft||i==CB.arrowup||i==CB.arrowdown)){const i=new Sz(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(i,t),i.stop.called&&e.stop()}var i}))}observe(){}stopObserving(){}}class zj extends Aj{constructor(e){super(e);const t=this.document;t.on("keydown",((e,i)=>{if(!this.isEnabled||i.keyCode!=CB.tab||i.ctrlKey)return;const n=new Sz(t,"tab",t.selection.getFirstRange());t.fire(n,i),n.stop.called&&e.stop()}))}observe(){}stopObserving(){}}let jj=class extends(EF()){constructor(e){super(),s(this,"document",void 0),s(this,"domConverter",void 0),s(this,"domRoots",new Map),s(this,"_renderer",void 0),s(this,"_initialDomRootAttributes",new WeakMap),s(this,"_observers",new Map),s(this,"_writer",void 0),s(this,"_ongoingChange",!1),s(this,"_postFixersInProgress",!1),s(this,"_renderingDisabled",!1),s(this,"_hasChangedSinceTheLastRendering",!1),this.document=new Oz(e),this.domConverter=new xj(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new hj(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Wz(this.document),this.addObserver(Dj),this.addObserver(Lj),this.addObserver(Mj),this.addObserver(Ij),this.addObserver(Pj),this.addObserver(Oj),this.addObserver(Bj),this.addObserver(Fj),this.addObserver(zj),this.document.on("arrowKey",uj,{priority:"low"}),Vz(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),F$.isiOS&&this.listenTo(this.document,"blur",((e,t)=>{this.domConverter.mapDomToView(t.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})),this.listenTo(this.document,"mutations",((e,{mutations:t})=>{t.forEach((e=>this._renderer.markToSync(e.type,e.node)))}),{priority:"low"}),this.listenTo(this.document,"mutations",(()=>{this.forceRender()}),{priority:"lowest"})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const n={};for(const{name:r,value:s}of Array.from(e.attributes))n[r]=s,"class"===r?this._writer.addClass(s.split(" "),i):i.hasAttribute(r)||this._writer.setAttribute(r,s,i);this._initialDomRootAttributes.set(e,n);const o=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};o(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",((e,t)=>this._renderer.markToSync("children",t))),i.on("change:attributes",((e,t)=>this._renderer.markToSync("attributes",t))),i.on("change:text",((e,t)=>this._renderer.markToSync("text",t))),i.on("change:isReadOnly",(()=>this.change(o))),i.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const r of this._observers.values())r.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach((({name:e})=>t.removeAttribute(e)));const i=this._initialDomRootAttributes.get(t);for(const n in i)t.setAttribute(n,i[n]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const n of this._observers.values())n.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,n]of this.domRoots)t.observe(n,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:n=20}={}){const o=this.document.selection.getFirstRange();if(!o)return;const r=UN({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:n});"number"==typeof i&&(i={top:i,bottom:i,left:i,right:i});const s={target:this.domConverter.viewRangeToDom(o),viewportOffset:i,ancestorOffset:n,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",s,r),function({target:e,viewportOffset:t=0,ancestorOffset:i=0,alignToTop:n,forceScroll:o}){const r=yB(e);let s=r,a=null;for(t=function(e){return"number"==typeof e?{top:e,bottom:e,left:e,right:e}:e}(t);s;){let l;l=kB(s==r?e:a),mB({parent:l,getRect:()=>wB(e,s),alignToTop:n,ancestorOffset:i,forceScroll:o});const c=wB(e,s);if(pB({window:s,rect:c,viewportOffset:t,alignToTop:n,forceScroll:o}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}(s)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new iF("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(N0){
/* istanbul ignore next -- @preserve */iF.rethrowUnexpectedError(N0,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Lj).flush(),this.change((()=>{}))}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return _z._createAt(e,t)}createPositionAfter(e){return _z._createAfter(e)}createPositionBefore(e){return _z._createBefore(e)}createRange(e,t){return new Ez(e,t)}createRangeOn(e){return Ez._createOn(e)}createRangeIn(e){return Ez._createIn(e)}createSelection(...e){return new Az(...e)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}};
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class Vj{/* istanbul ignore next -- @preserve */is(){throw new Error("is() method is abstract")}}let Uj=class extends Vj{constructor(e){super(),s(this,"parent",null),s(this,"_attrs",void 0),s(this,"_index",null),s(this,"_startOffset",null),this._attrs=HB(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return null!==this.parent&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),n=e.getAncestors(t);let o=0;for(;i[o]==n[o]&&i[o];)o++;return 0===o?null:i[o-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),n=RF(t,i);switch(n){case"prefix":return!0;case"extension":return!1;default:return t[n]<i[n]}}isAfter(e){return this!=e&&(this.root===e.root&&!this.isBefore(e))}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(((e,t)=>(e[t[0]]=t[1],e)),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=HB(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};Uj.prototype.is=function(e){return"node"===e||"model:node"===e};let Hj=class{constructor(e){s(this,"_nodes",[]),s(this,"_offsetToNode",[]),e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new iF("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const t=this._offsetToNode[e];if(!t)throw new iF("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(t)}_insertNodes(e,t){for(const r of t)if(!(r instanceof Uj))throw new iF("model-nodelist-insertnodes-not-node",this);const i=Array.from(t),n=function(e){const t=[];for(const i of e){const e=t.length;t.length+=i.offsetSize,t.fill(i,e)}return t}(i);let o=this.indexToOffset(e);this._nodes=qB(this._nodes,i,e,0),this._offsetToNode=qB(this._offsetToNode,n,o,0);for(let r=e;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=o,o+=this._nodes[r].offsetSize}_removeNodes(e,t=1){if(0==t)return[];let i=this.indexToOffset(e);const n=this._nodes.splice(e,t),o=n[n.length-1],r=o.startOffset+o.offsetSize-i;this._offsetToNode.splice(i,r);for(const s of n)s._index=null,s._startOffset=null;for(let s=e;s<this._nodes.length;s++)this._nodes[s]._index=s,this._nodes[s]._startOffset=i,i+=this._nodes[s].offsetSize;return n}toJSON(){return this._nodes.map((e=>e.toJSON()))}};let qj=class e extends Uj{constructor(e,t){super(t),s(this,"_data",void 0),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new e(this.data,this.getAttributes())}static fromJSON(t){return new e(t.data,t.attributes)}};qj.prototype.is=function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e};class Gj extends Vj{constructor(e,t,i){if(super(),s(this,"textNode",void 0),s(this,"data",void 0),s(this,"offsetInText",void 0),this.textNode=e,t<0||t>e.offsetSize)throw new iF("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new iF("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Gj.prototype.is=function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e};let Wj=class e extends Uj{constructor(e,t,i){super(t),s(this,"name",void 0),s(this,"_children",new Hj),this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChildAtOffset(i);return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(t=!1){const i=t?Array.from(this._children).map((e=>e._clone(!0))):void 0;return new e(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(e){if("string"==typeof e)return[new qj(e)];LF(e)||(e=[e]);return Array.from(e).map((e=>"string"==typeof e?new qj(e):e instanceof Gj?new qj(e.data,e.getAttributes()):e))}(t);for(const n of i)null!==n.parent&&n._remove(),n.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const n of i)n.parent=null;return i}static fromJSON(t){let i;if(t.children){i=[];for(const n of t.children)n.name?i.push(e.fromJSON(n)):i.push(qj.fromJSON(n))}return new e(t.name,t.attributes,i)}};Wj.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e};class Yj{constructor(e){if(s(this,"direction",void 0),s(this,"boundaries",void 0),s(this,"singleCharacters",void 0),s(this,"shallow",void 0),s(this,"ignoreElementEnd",void 0),s(this,"_position",void 0),s(this,"_boundaryStartParent",void 0),s(this,"_boundaryEndParent",void 0),s(this,"_visitedParent",void 0),!e||!e.boundaries&&!e.startPosition)throw new iF("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new iF("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Qj._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,n,o;do{n=this.position,o=this._visitedParent,({done:t,value:i}=this.next())}while(!t&&e(i));t||(this._position=n,this._visitedParent=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(null===i.parent&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const n=Xj(t,i),o=n||Jj(t,i,n);if(o instanceof Wj){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=o;return this._position=t,Kj("elementStart",o,e,t,1)}if(o instanceof qj){let n;if(this.singleCharacters)n=1;else{let e=o.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),n=e-t.offset}const r=t.offset-o.startOffset,s=new Gj(o,r,n);return t.offset+=n,this._position=t,Kj("text",s,e,t,n)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Kj("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(null===i.parent&&0===t.offset)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const n=t.parent,o=Xj(t,n),r=o||Zj(t,n,o);if(r instanceof Wj)return t.offset--,this.shallow?(this._position=t,Kj("elementStart",r,e,t,1)):(t.path.push(r.maxOffset),this._position=t,this._visitedParent=r,this.ignoreElementEnd?this._previous():Kj("elementEnd",r,e,t));if(r instanceof qj){let n;if(this.singleCharacters)n=1;else{let e=r.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),n=t.offset-e}const o=t.offset-r.startOffset,s=new Gj(r,o-n,n);return t.offset-=n,this._position=t,Kj("text",s,e,t,n)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,Kj("elementStart",i,e,t,1)}}function Kj(e,t,i,n,o){return{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:n,length:o}}}class Qj extends Vj{constructor(e,t,i="toNone"){if(super(),s(this,"root",void 0),s(this,"path",void 0),s(this,"stickiness",void 0),!e.is("element")&&!e.is("documentFragment"))throw new iF("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new iF("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)throw new iF("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new iF("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Xj(this,this.parent)}get nodeAfter(){const e=this.parent;return Jj(this,e,Xj(this,e))}get nodeBefore(){const e=this.parent;return Zj(this,e,Xj(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=RF(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Yj(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=RF(this.path,e.path),i="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let n=0;for(;t[n]==i[n]&&t[n];)n++;return 0===n?null:t[n-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const t=this.path[i]-e.path[i];if(t<-1||t>1)return!1;if(1===t)return eV(e,this,i);if(-1===t)return eV(this,e,i)}return this.path.length===e.path.length||(this.path.length>e.path.length?tV(this.path,t):tV(e.path,t))}hasSameParentAs(e){if(this.root!==e.root)return!1;return"same"==RF(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Qj._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let i;return t.containsPosition(this)||t.start.isEqual(this)?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):i=this.isEqual(e.deletionPosition)?Qj._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const i=Qj._createAt(this);if(this.root!=e.root)return i;if("same"==RF(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if("prefix"==RF(e.getParentPath(),this.getParentPath())){const n=e.path.length-1;if(e.offset<=this.path[n]){if(e.offset+t>this.path[n])return null;i.path[n]-=t}}return i}_getTransformedByInsertion(e,t){const i=Qj._createAt(this);if(this.root!=e.root)return i;if("same"==RF(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(i.offset+=t);else if("prefix"==RF(e.getParentPath(),this.getParentPath())){const n=e.path.length-1;e.offset<=this.path[n]&&(i.path[n]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return Qj._createAt(this);const n=this._getTransformedByDeletion(e,i);return null===n||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(i).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):n._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,n=Qj._createAt(t);return n.stickiness=this.stickiness,n.offset=n.offset+this.path[i]-e.offset,n.path=[...n.path,...this.path.slice(i+1)],n}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof Qj)return new Qj(e.root,e.path,e.stickiness);{const n=e;if("end"==t)t=n.maxOffset;else{if("before"==t)return this._createBefore(n,i);if("after"==t)return this._createAfter(n,i);if(0!==t&&!t)throw new iF("model-createpositionat-offset-required",[this,e])}if(!n.is("element")&&!n.is("documentFragment"))throw new iF("model-position-parent-incorrect",[this,e]);const o=n.getPath();return o.push(t),new this(n.root,o,i)}}static _createAfter(e,t){if(!e.parent)throw new iF("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new iF("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if("$graveyard"===e.root){const i=new Qj(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new iF("model-position-fromjson-no-root",t,{rootName:e.root});return new Qj(t.getRoot(e.root),e.path,e.stickiness)}}function Xj(e,t){const i=t.getChildAtOffset(e.offset);return i&&i.is("$text")&&i.startOffset<e.offset?i:null}function Jj(e,t,i){return null!==i?null:t.getChildAtOffset(e.offset)}function Zj(e,t,i){return null!==i?null:t.getChild(t.offsetToIndex(e.offset)-1)}function eV(e,t,i){return i+1!==e.path.length&&(!!tV(t.path,i+1)&&!!function(e,t){let i=e.parent,n=e.path.length-1,o=0;for(;n>=t;){if(e.path[n]+o!==i.maxOffset)return!1;o=1,n--,i=i.parent}return!0}(e,i+1))}function tV(e,t){for(;t<e.length;){if(0!==e[t])return!1;t++}return!0}Qj.prototype.is=function(e){return"position"===e||"model:position"===e};class iV extends Vj{constructor(e,t){super(),s(this,"start",void 0),s(this,"end",void 0),this.start=Qj._createAt(e),this.end=t?Qj._createAt(t):Qj._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Yj({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==RF(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&n}containsItem(e){const t=Qj._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new iV(this.start,e.start)),this.containsPosition(e.end)&&t.push(new iV(e.end,this.end))):t.push(new iV(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new iV(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(i=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let n=this.start,o=this.end;return e.start.isBefore(n)&&(n=e.start),e.end.isAfter(o)&&(o=e.end),new iV(n,o)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=Qj._createAt(this.start);let n=i.parent;for(;i.path.length>t+1;){const t=n.maxOffset-i.offset;0!==t&&e.push(new iV(i,i.getShiftedBy(t))),i.path=i.path.slice(0,-1),i.offset++,n=n.parent}for(;i.path.length<=this.end.path.length;){const t=this.end.path[i.path.length-1],n=t-i.offset;0!==n&&e.push(new iV(i,i.getShiftedBy(n))),i.offset=t,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Yj(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Yj(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Yj(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new iV(this.start,this.end)]}getTransformedByOperations(e){const t=[new iV(this.start,this.end)];for(const i of e)for(let e=0;e<t.length;e++){const n=t[e].getTransformedByOperation(i);t.splice(e,1,...n),e+=n.length-1}for(let i=0;i<t.length;i++){const e=t[i];for(let n=i+1;n<t.length;n++){const i=t[n];(e.containsRange(i)||i.containsRange(e)||e.isEqual(i))&&t.splice(n,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,n=e.howMany,o=e.targetPosition;return this._getTransformedByMove(i,o,n,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new iV(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new iV(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Qj._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new iV(t,i)):new iV(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new iV(this.start,e),new iV(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const i=new iV(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,t),i.end=i.end._getTransformedByInsertion(e,t),[i]}}_getTransformedByMove(e,t,i,n=!1){if(this.isCollapsed){const n=this.start._getTransformedByMove(e,t,i);return[new iV(n)]}const o=iV._createFromPositionAndShift(e,i),r=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!n&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const n=this.start._getTransformedByMove(e,t,i),o=this.end._getTransformedByMove(e,t,i);return[new iV(n,o)]}let s;const a=this.getDifference(o);let l=null;const c=this.getIntersection(o);if(1==a.length?l=new iV(a[0].start._getTransformedByDeletion(e,i),a[0].end._getTransformedByDeletion(e,i)):2==a.length&&(l=new iV(this.start,this.end._getTransformedByDeletion(e,i))),s=l?l._getTransformedByInsertion(r,i,null!==c||n):[],c){const e=new iV(c.start._getCombined(o.start,r),c.end._getCombined(o.start,r));2==s.length?s.splice(1,0,e):s.push(e)}return s}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),n=this.end._getTransformedByDeletion(e,t);return null==i&&null==n?null:(null==i&&(i=e),null==n&&(n=e),new iV(i,n))}static _createFromPositionAndShift(e,t){const i=e,n=e.getShiftedBy(t);return t>0?new this(i,n):new this(n,i)}static _createIn(e){return new this(Qj._createAt(e,0),Qj._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Qj._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new iF("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();const t=e[0];e.sort(((e,t)=>e.start.isAfter(t.start)?1:-1));const i=e.indexOf(t),n=new this(t.start,t.end);for(let o=i-1;o>=0&&e[o].end.isEqual(n.start);o--)n.start=Qj._createAt(e[o].start);for(let o=i+1;o<e.length&&e[o].start.isEqual(n.end);o++)n.end=Qj._createAt(e[o].end);return n}static fromJSON(e,t){return new this(Qj.fromJSON(e.start,t),Qj.fromJSON(e.end,t))}}iV.prototype.is=function(e){return"range"===e||"model:range"===e};class nV extends(dF()){constructor(){super(),s(this,"_modelToViewMapping",new WeakMap),s(this,"_viewToModelMapping",new WeakMap),s(this,"_viewToModelLengthCallbacks",new Map),s(this,"_markerNameToElements",new Map),s(this,"_elementToMarkerNames",new Map),s(this,"_deferredBindingRemovals",new Map),s(this,"_unboundMarkerNames",new Set),this.on("modelToViewPosition",((e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new iF("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),n=this._viewToModelMapping.get(i),o=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=Qj._createAt(n,o)}),{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const n of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(n);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const n=this._elementToMarkerNames.get(e)||new Set;n.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,n)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),0==i.size&&this._markerNameToElements.delete(t));const n=this._elementToMarkerNames.get(e);n&&(n.delete(t),0==n.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new iV(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Ez(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const n of t)if(n.is("attributeElement"))for(const e of n.getElementsWithSameId())i.add(e);else i.add(n);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e){return this._toModelOffset(e.parent,e.index,i)+this._toModelOffset(e,t,e)}if(e.is("$text"))return t;let n=0;for(let o=0;o<t;o++)n+=this.getModelLength(e.getChild(o));return n}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name)){return this._viewToModelLengthCallbacks.get(e.name)(e)}if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,n=0,o=0,r=0;if(e.is("$text"))return new _z(e,t);for(;o<t;)i=e.getChild(r),n=this.getModelLength(i),o+=n,r++;return o==t?this._moveViewPositionToTextNode(new _z(e,r)):this.findPositionIn(i,t-(o-n))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof sz?new _z(t,t.data.length):i instanceof sz?new _z(i,0):e}}class oV{constructor(){s(this,"_consumable",new Map),s(this,"_textProxyRegistry",new Map)}add(e,t){t=rV(t),e instanceof Gj&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=rV(t),e instanceof Gj&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=rV(t),e instanceof Gj&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(void 0===i)return null;const n=i.get(t);return void 0===n?null:n}revert(e,t){t=rV(t),e instanceof Gj&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return!1===i?(this._consumable.get(e).set(t,!0),!0):!0!==i&&null}verifyAllConsumed(e){const t=[];for(const[i,n]of this._consumable)for(const[o,r]of n){const n=o.split(":")[0];r&&e==n&&t.push({event:o,item:i.name||i.description})}if(t.length)throw new iF("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const n=i.get(e.endOffset);n&&(t=n.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,n=e.parent,o=Symbol("$textProxy:"+e.data);let r,s;return r=this._textProxyRegistry.get(t),r||(r=new Map,this._textProxyRegistry.set(t,r)),s=r.get(i),s||(s=new Map,r.set(i,s)),s.set(n,o),o}}function rV(e){const t=e.split(":");return"insert"==t[0]?t[0]:"addMarker"==t[0]||"removeMarker"==t[0]?e:t.length>1?t[0]+":"+t[1]:t[0]}class sV extends(dF()){constructor(e){super(),s(this,"_conversionApi",void 0),s(this,"_firedEventsMap",void 0),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const n=this._createConversionApi(i,e.getRefreshedItems());for(const r of e.getMarkersToRemove())this._convertMarkerRemove(r.name,r.range,n);const o=this._reduceChanges(e.getChanges());for(const r of o)"insert"===r.type?this._convertInsert(iV._createFromPositionAndShift(r.position,r.length),n):"reinsert"===r.type?this._convertReinsert(iV._createFromPositionAndShift(r.position,r.length),n):"remove"===r.type?this._convertRemove(r.position,r.length,r.name,n):this._convertAttribute(r.range,r.attributeKey,r.attributeOldValue,r.attributeNewValue,n);n.mapper.flushDeferredBindings();for(const r of n.mapper.flushUnboundMarkerNames()){const e=t.get(r).getRange();this._convertMarkerRemove(r,e,n),this._convertMarkerAdd(r,e,n)}for(const r of e.getMarkersToAdd())this._convertMarkerAdd(r.name,r.range,n);n.consumable.verifyAllConsumed("insert")}convert(e,t,i,n={}){const o=this._createConversionApi(i,void 0,n);this._convertInsert(e,o);for(const[r,s]of t)this._convertMarkerAdd(r,s,o);o.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const n=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},n);const o=e.getFirstPosition().root;if(!n.mapper.toViewElement(o))return;const r=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(n.consumable,e,r),this.fire("selection",{selection:e},n),e.isCollapsed){for(const t of r)if(n.consumable.test(e,"addMarker:"+t.name)){const i=t.getRange();if(!aV(e.getFirstPosition(),t,n.mapper))continue;const o={item:e,markerName:t.name,markerRange:i};this.fire(`addMarker:${t.name}`,o,n)}for(const t of e.getAttributeKeys())if(n.consumable.test(e,"attribute:"+t)){const i={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.fire(`attribute:${t}:$text`,i,n)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const n of Array.from(e.getWalker({shallow:!0})).map(lV))this._testAndFire("insert",n,t)}_convertRemove(e,t,i,n){this.fire(`remove:${i}`,{position:e,length:t},n)}_convertAttribute(e,t,i,n,o){this._addConsumablesForRange(o.consumable,e,`attribute:${t}`);for(const r of e){const e={item:r.item,range:iV._createFromPositionAndShift(r.previousPosition,r.length),attributeKey:t,attributeOldValue:i,attributeNewValue:n};this._testAndFire(`attribute:${t}`,e,o)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const n of i.map(lV))this._testAndFire("insert",{...n,reconversion:!0},t)}_convertMarkerAdd(e,t,i){if("$graveyard"==t.root.rootName)return;const n=`addMarker:${e}`;if(i.consumable.add(t,n),this.fire(n,{markerName:e,markerRange:t},i),i.consumable.consume(t,n)){this._addConsumablesForRange(i.consumable,t,n);for(const o of t.getItems()){if(!i.consumable.test(o,n))continue;const r={item:o,range:iV._createOn(o),markerName:e,markerRange:t};this.fire(n,r,i)}}}_convertMarkerRemove(e,t,i){"$graveyard"!=t.root.rootName&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const t=i.item;if(null===e.test(t,"insert")){e.add(t,"insert");for(const i of t.getAttributeKeys())e.add(t,"attribute:"+i)}}return e}_addConsumablesForRange(e,t,i){for(const n of t.getItems())e.add(n,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const n of i)e.add(t,"addMarker:"+n.name);for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n);return e}_testAndFire(e,t,i){const n=function(e,t){const i=t.item.is("element")?t.item.name:"$text";return`${e}:${i}`}(e,t),o=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,r=this._firedEventsMap.get(i),s=r.get(o);if(s){if(s.has(n))return;s.add(n)}else r.set(o,new Set([n]));this.fire(n,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:iV._createOn(e)};for(const n of i.item.getAttributeKeys())i.attributeKey=n,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(n),this._testAndFire(`attribute:${n}`,i,t)}_createConversionApi(e,t=new Set,i={}){const n={...this._conversionApi,consumable:new oV,writer:e,options:i,convertItem:e=>this._convertInsert(iV._createOn(e),n),convertChildren:e=>this._convertInsert(iV._createIn(e),n,{doNotAddConsumables:!0}),convertAttributes:e=>this._testAndFireAddAttributes(e,n),canReuseView:e=>!t.has(n.mapper.toModelElement(e))};return this._firedEventsMap.set(n,new Map),n}}function aV(e,t,i){const n=t.getRange(),o=Array.from(e.getAncestors());o.shift(),o.reverse();return!o.some((e=>{if(n.containsItem(e)){return!!i.toViewElement(e).getCustomProperty("addHighlight")}}))}function lV(e){return{item:e.item,range:iV._createFromPositionAndShift(e.previousPosition,e.length)}}class cV extends(dF(Vj)){constructor(...e){super(),s(this,"_lastRangeBackward",!1),s(this,"_attrs",new Map),s(this,"_ranges",[]),e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const n of e._ranges)if(t.isEqual(n)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new iV(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new iV(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new iV(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,n]=e;if("object"==typeof i&&(n=i,i=void 0),null===t)this._setRanges([]);else if(t instanceof cV)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof iV)this._setRanges([t],!!n&&!!n.backward);else if(t instanceof Qj)this._setRanges([new iV(t)]);else if(t instanceof Uj){const e=!!n&&!!n.backward;let o;if("in"==i)o=iV._createIn(t);else if("on"==i)o=iV._createOn(t);else{if(void 0===i)throw new iF("model-selection-setto-required-second-parameter",[this,t]);o=new iV(Qj._createAt(t,i))}this._setRanges([o],e)}else{if(!LF(t))throw new iF("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,n&&!!n.backward)}}_setRanges(e,t=!1){const i=Array.from(e),n=i.some((t=>{if(!(t instanceof iV))throw new iF("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every((e=>!e.isEqual(t)))}));(i.length!==this._ranges.length||n)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(null===this.anchor)throw new iF("model-selection-setfocus-no-ranges",[this,e]);const i=Qj._createAt(e,t);if("same"==i.compareWith(this.focus))return;const n=this.anchor;this._ranges.length&&this._popRange(),"before"==i.compareWith(n)?(this._pushRange(new iV(i,n)),this._lastRangeBackward=!0):(this._pushRange(new iV(n,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=hV(t.start,e);mV(i,t)&&(yield i);for(const o of t.getWalker()){const i=o.item;"elementEnd"==o.type&&uV(i,e,t)&&(yield i)}const n=hV(t.end,e);fV(n,t)&&(yield n)}}containsEntireContent(e=this.anchor.root){const t=Qj._createAt(e,0),i=Qj._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new iV(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new iF("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function dV(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&!!e.parent)}function uV(e,t,i){return dV(e,t)&&pV(e,i)}function hV(e,t){const i=e.parent.root.document.model.schema,n=e.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const r=n.find((e=>!o&&(o=i.isLimit(e),!o&&dV(e,t))));return n.forEach((e=>t.add(e))),r}function pV(e,t){const i=function(e){const t=e.root.document.model.schema;let i=e.parent;for(;i;){if(t.isBlock(i))return i;i=i.parent}}(e);if(!i)return!0;return!t.containsRange(iV._createOn(i),!0)}function mV(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.start.isTouching(Qj._createAt(e,e.maxOffset))&&pV(e,t))}function fV(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.end.isTouching(Qj._createAt(e,0))&&pV(e,t))}cV.prototype.is=function(e){return"selection"===e||"model:selection"===e};class gV extends(dF(iV)){constructor(e,t){super(e,t),bV.call(this)}detach(){this.stopListening()}toRange(){return new iV(this.start,this.end)}static fromRange(e){return new gV(e.start,e.end)}}function bV(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const i=t[0];i.isDocumentOperation&&vV.call(this,i)}),{priority:"low"})}function vV(e){const t=this.getTransformedByOperation(e),i=iV._createFromRanges(t),n=!i.isEqual(this),o=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e);let r=null;if(n){"$graveyard"==i.root.rootName&&(r="remove"==e.type?e.sourcePosition:e.deletionPosition);const t=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",t,{deletionPosition:r})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:r})}gV.prototype.is=function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e};const yV="selection:";class kV extends(dF(Vj)){constructor(e){super(),s(this,"_selection",void 0),this._selection=new wV(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return yV+e}static _isStoreAttributeKey(e){return e.startsWith(yV)}}kV.prototype.is=function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e};class wV extends cV{constructor(e){super(),s(this,"markers",new $B({idProperty:"name"})),s(this,"_model",void 0),s(this,"_document",void 0),s(this,"_attributePriority",new Map),s(this,"_selectionRestorePosition",null),s(this,"_hasChangedRange",!1),s(this,"_overriddenGravityRegister",new Set),s(this,"_observedMarkers",new Set),this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",((e,t)=>{const i=t[0];i.isDocumentOperation&&"marker"!=i.type&&"rename"!=i.type&&"noop"!=i.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((e,t,i,n)=>{this._updateMarker(t,n)})),this.listenTo(this._document,"change",((e,t)=>{!function(e,t){const i=e.document.differ;for(const n of i.getChanges()){if("insert"!=n.type)continue;const i=n.position.parent;n.length===i.maxOffset&&e.enqueueChange(t,(e=>{const t=Array.from(i.getAttributeKeys()).filter((e=>e.startsWith(yV)));for(const n of t)e.removeAttribute(n,i)}))}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */(this._model,t)}))}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=Z$();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new iF("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new iF("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=gV.fromRange(e);return t.on("change:range",((e,i,n)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=n.deletionPosition;const e=this._ranges.indexOf(t);this._ranges.splice(e,1),t.detach()}})),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const n of this._model.markers){const t=n.name.split(":",1)[0];if(!this._observedMarkers.has(t))continue;const i=n.getRange();for(const o of this.getRanges())i.containsRange(o,!o.isCollapsed)&&e.push(n)}const i=Array.from(this.markers);for(const n of e)this.markers.has(n)||(this.markers.add(n),t=!0);for(const n of Array.from(this.markers))e.includes(n)||(this.markers.remove(n),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let n=!1;const o=Array.from(this.markers),r=this.markers.has(e);if(t){let i=!1;for(const e of this.getRanges())if(t.containsRange(e,!e.isCollapsed)){i=!0;break}i&&!r?(this.markers.add(e),n=!0):!i&&r&&(this.markers.remove(e),n=!0)}else r&&(this.markers.remove(e),n=!0);n&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateAttributes(e){const t=HB(this._getSurroundingAttributes()),i=HB(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,r]of this._attributePriority)"low"==r&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(t);const n=[];for(const[o,r]of this.getAttributes())i.has(o)&&i.get(o)===r||n.push(o);for(const[o]of i)this.hasAttribute(o)||n.push(o);n.length>0&&this.fire("change:attribute",{attributeKeys:n,directChange:!1})}_setAttribute(e,t,i=!0){const n=i?"normal":"low";if("low"==n&&"normal"==this._attributePriority.get(e))return!1;return super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,n),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(e))&&(this._attributePriority.set(e,i),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[i,n]of this.getAttributes())e.get(i)!==n&&this._removeAttribute(i,!1);for(const[i,n]of e){this._setAttribute(i,n,!1)&&t.add(i)}return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())if(t.startsWith(yV)){const i=t.substr(10);yield[i,e.getAttribute(t)]}}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if("$graveyard"==e.root.rootName)return null;let i=null;if(this.isCollapsed){const n=e.textNode?e.textNode:e.nodeBefore,o=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=xV(n,t)),i||(i=xV(o,t)),!this.isGravityOverridden&&!i){let e=n;for(;e&&!i;)e=e.previousSibling,i=xV(e,t)}if(!i){let e=o;for(;e&&!i;)e=e.nextSibling,i=xV(e,t)}i||(i=this.getStoredAttributes())}else{const e=this.getFirstRange();for(const n of e){if(n.item.is("element")&&t.isObject(n.item)){i=xV(n.item,t);break}if("text"==n.type){i=n.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function xV(e,t){if(!e)return null;if(e instanceof Gj||e instanceof qj)return e.getAttributes();if(!t.isInline(e))return null;if(!t.isObject(e))return[];const i=[];for(const[n,o]of e.getAttributes())t.checkAttribute("$text",n)&&!1!==t.getAttributeProperties(n).copyFromObject&&i.push([n,o]);return i}class _V{constructor(e){s(this,"_dispatchers",void 0),this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class EV extends _V{elementToElement(e){return this.add(function(e){const t=TV(e.model),i=SV(e.view,"container");t.attributes.length&&(t.children=!0);return n=>{n.on(`insert:${t.name}`,function(e,t=NV){return(i,n,o)=>{if(!t(n.item,o.consumable,{preflight:!0}))return;const r=e(n.item,o,n);if(!r)return;t(n.item,o.consumable);const s=o.mapper.toViewPosition(n.range.start);o.mapper.bindElements(n.item,r),o.writer.insert(s,r),o.convertAttributes(n.item),MV(r,n.item.getChildren(),o,{reconversion:n.reconversion})}}(i,LV(t)),{priority:e.converterPriority||"normal"}),(t.children||t.attributes.length)&&n.on("reduceChanges",RV(t),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(e){const t=TV(e.model),i=SV(e.view,"container");return t.children=!0,n=>{if(n._conversionApi.schema.checkChild(t.name,"$text"))throw new iF("conversion-element-to-structure-disallowed-text",n,{elementName:t.name});var o,r;n.on(`insert:${t.name}`,(o=i,r=LV(t),(e,t,i)=>{if(!r(t.item,i.consumable,{preflight:!0}))return;const n=new Map;i.writer._registerSlotFactory(function(e,t,i){return(n,o)=>{const r=n.createContainerElement("$slot");let s=null;if("children"===o)s=Array.from(e.getChildren());else{if("function"!=typeof o)throw new iF("conversion-slot-mode-unknown",i.dispatcher,{modeOrFilter:o});s=Array.from(e.getChildren()).filter((e=>o(e)))}return t.set(r,s),r}}(t.item,n,i));const s=o(t.item,i,t);if(i.writer._clearSlotFactory(),!s)return;!function(e,t,i){const n=Array.from(t.values()).flat(),o=new Set(n);if(o.size!=n.length)throw new iF("conversion-slot-filter-overlap",i.dispatcher,{element:e});if(o.size!=e.childCount)throw new iF("conversion-slot-filter-incomplete",i.dispatcher,{element:e})}(t.item,n,i),r(t.item,i.consumable);const a=i.mapper.toViewPosition(t.range.start);i.mapper.bindElements(t.item,s),i.writer.insert(a,s),i.convertAttributes(t.item),function(e,t,i,n){i.mapper.on("modelToViewPosition",s,{priority:"highest"});let o=null,r=null;for([o,r]of t)MV(e,r,i,n),i.writer.move(i.writer.createRangeIn(o),i.writer.createPositionBefore(o)),i.writer.remove(o);function s(e,t){const i=t.modelPosition.nodeAfter,n=r.indexOf(i);n<0||(t.viewPosition=t.mapper.findPositionIn(o,n))}i.mapper.off("modelToViewPosition",s)}(s,n,i,{reconversion:t.reconversion})}),{priority:e.converterPriority||"normal"}),n.on("reduceChanges",RV(t),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(e){e=UN(e);let t=e.model;"string"==typeof t&&(t={key:t});let i=`attribute:${t.key}`;t.name&&(i+=":"+t.name);if(t.values)for(const o of t.values)e.view[o]=SV(e.view[o],"attribute");else e.view=SV(e.view,"attribute");const n=IV(e);return t=>{t.on(i,function(e){return(t,i,n)=>{if(!n.consumable.test(i.item,t.name))return;const o=e(i.attributeOldValue,n,i),r=e(i.attributeNewValue,n,i);if(!o&&!r)return;n.consumable.consume(i.item,t.name);const s=n.writer,a=s.document.selection;if(i.item instanceof cV||i.item instanceof kV)s.wrap(a.getFirstRange(),r);else{let e=n.mapper.toViewRange(i.range);null!==i.attributeOldValue&&o&&(e=s.unwrap(e,o)),null!==i.attributeNewValue&&r&&s.wrap(e,r)}}}(n),{priority:e.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(e){e=UN(e);let t=e.model;"string"==typeof t&&(t={key:t});let i=`attribute:${t.key}`;t.name&&(i+=":"+t.name);if(t.values)for(const o of t.values)e.view[o]=PV(e.view[o]);else e.view=PV(e.view);const n=IV(e);return t=>{var o;t.on(i,(o=n,(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const n=o(t.attributeOldValue,i,t),r=o(t.attributeNewValue,i,t);if(!n&&!r)return;i.consumable.consume(t.item,e.name);const s=i.mapper.toViewElement(t.item),a=i.writer;if(!s)throw new iF("conversion-attribute-to-attribute-on-text",i.dispatcher,t);if(null!==t.attributeOldValue&&n)if("class"==n.key){const e="string"==typeof n.value?n.value.split(/\s+/):n.value;for(const t of e)a.removeClass(t,s)}else if("style"==n.key)if("string"==typeof n.value){const e=new uz(a.document.stylesProcessor);e.setTo(n.value);for(const[t]of e.getStylesEntries())a.removeStyle(t,s)}else{const e=Object.keys(n.value);for(const t of e)a.removeStyle(t,s)}else a.removeAttribute(n.key,s);if(null!==t.attributeNewValue&&r)if("class"==r.key){const e="string"==typeof r.value?r.value.split(/\s+/):r.value;for(const t of e)a.addClass(t,s)}else if("style"==r.key)if("string"==typeof r.value){const e=new uz(a.document.stylesProcessor);e.setTo(r.value);for(const[t,i]of e.getStylesEntries())a.setStyle(t,i,s)}else{const e=Object.keys(r.value);for(const t of e)a.setStyle(t,r.value[t],s)}else a.setAttribute(r.key,r.value,s)}),{priority:e.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(e){const t=SV(e.view,"ui");return i=>{var n;i.on(`addMarker:${e.model}`,(n=t,(e,t,i)=>{t.isOpening=!0;const o=n(t,i);t.isOpening=!1;const r=n(t,i);if(!o||!r)return;const s=t.markerRange;if(s.isCollapsed&&!i.consumable.consume(s,e.name))return;for(const n of s)if(!i.consumable.consume(n.item,e.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(s.start),o),i.mapper.bindElementToMarker(o,t.markerName),s.isCollapsed||(l.insert(a.toViewPosition(s.end),r),i.mapper.bindElementToMarker(r,t.markerName)),e.stop()}),{priority:e.converterPriority||"normal"}),i.on(`removeMarker:${e.model}`,((e,t,i)=>{const n=i.mapper.markerNameToElements(t.markerName);if(n){for(const e of n)i.mapper.unbindElementFromMarkerName(e,t.markerName),i.writer.clear(i.writer.createRangeOn(e),e);i.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(e){return t=>{var i;t.on(`addMarker:${e.model}`,(i=e.view,(e,t,n)=>{if(!t.item)return;if(!(t.item instanceof cV||t.item instanceof kV||t.item.is("$textProxy")))return;const o=DV(i,t,n);if(!o)return;if(!n.consumable.consume(t.item,e.name))return;const r=n.writer,s=CV(r,o),a=r.document.selection;if(t.item instanceof cV||t.item instanceof kV)r.wrap(a.getFirstRange(),s);else{const e=n.mapper.toViewRange(t.range),i=r.wrap(e,s);for(const o of i.getItems())if(o.is("attributeElement")&&o.isSimilar(s)){n.mapper.bindElementToMarker(o,t.markerName);break}}}),{priority:e.converterPriority||"normal"}),t.on(`addMarker:${e.model}`,function(e){return(t,i,n)=>{if(!i.item)return;if(!(i.item instanceof Wj))return;const o=DV(e,i,n);if(!o)return;if(!n.consumable.test(i.item,t.name))return;const r=n.mapper.toViewElement(i.item);if(r&&r.getCustomProperty("addHighlight")){n.consumable.consume(i.item,t.name);for(const e of iV._createIn(i.item))n.consumable.consume(e.item,t.name);r.getCustomProperty("addHighlight")(r,o,n.writer),n.mapper.bindElementToMarker(r,i.markerName)}}}(e.view),{priority:e.converterPriority||"normal"}),t.on(`removeMarker:${e.model}`,function(e){return(t,i,n)=>{if(i.markerRange.isCollapsed)return;const o=DV(e,i,n);if(!o)return;const r=CV(n.writer,o),s=n.mapper.markerNameToElements(i.markerName);if(s){for(const e of s)if(n.mapper.unbindElementFromMarkerName(e,i.markerName),e.is("attributeElement"))n.writer.unwrap(n.writer.createRangeOn(e),r);else{e.getCustomProperty("removeHighlight")(e,o.id,n.writer)}n.writer.clearClonedElementsGroup(i.markerName),t.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(e){e=UN(e);const t=e.model;let i=e.view;i||(i=i=>({group:t,name:i.substr(e.model.length+1)}));return n=>{var o;n.on(`addMarker:${t}`,(o=i,(e,t,i)=>{const n=o(t.markerName,i);if(!n)return;const r=t.markerRange;i.consumable.consume(r,e.name)&&(AV(r,!1,i,t,n),AV(r,!0,i,t,n),e.stop())}),{priority:e.converterPriority||"normal"}),n.on(`removeMarker:${t}`,function(e){return(t,i,n)=>{const o=e(i.markerName,n);if(!o)return;const r=n.mapper.markerNameToElements(i.markerName);if(r){for(const e of r)n.mapper.unbindElementFromMarkerName(e,i.markerName),e.is("containerElement")?(s(`data-${o.group}-start-before`,e),s(`data-${o.group}-start-after`,e),s(`data-${o.group}-end-before`,e),s(`data-${o.group}-end-after`,e)):n.writer.clear(n.writer.createRangeOn(e),e);n.writer.clearClonedElementsGroup(i.markerName),t.stop()}function s(e,t){if(t.hasAttribute(e)){const i=new Set(t.getAttribute(e).split(","));i.delete(o.name),0==i.size?n.writer.removeAttribute(e,t):n.writer.setAttribute(e,Array.from(i).join(","),t)}}}}(i),{priority:e.converterPriority||"normal"})}}(e))}}function CV(e,t){const i=e.createAttributeElement("span",t.attributes);return t.classes&&i._addClass(t.classes),"number"==typeof t.priority&&(i._priority=t.priority),i._id=t.id,i}function AV(e,t,i,n,o){const r=t?e.start:e.end,s=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(s||a){let e,r;t&&s||!t&&!a?(e=s,r=!0):(e=a,r=!1);const l=i.mapper.toViewElement(e);if(l)return void function(e,t,i,n,o,r){const s=`data-${r.group}-${t?"start":"end"}-${i?"before":"after"}`,a=e.hasAttribute(s)?e.getAttribute(s).split(","):[];a.unshift(r.name),n.writer.setAttribute(s,a.join(","),e),n.mapper.bindElementToMarker(e,o.markerName)}(l,t,r,i,n,o)}!function(e,t,i,n,o){const r=`${o.group}-${t?"start":"end"}`,s=o.name?{name:o.name}:null,a=i.writer.createUIElement(r,s);i.writer.insert(e,a),i.mapper.bindElementToMarker(a,n.markerName)}(i.mapper.toViewPosition(r),t,i,n,o)}function TV(e){return"string"==typeof e&&(e={name:e}),{name:e.name,attributes:e.attributes?MB(e.attributes):[],children:!!e.children}}function SV(e,t){return"function"==typeof e?e:(i,n)=>function(e,t,i){"string"==typeof e&&(e={name:e});let n;const o=t.writer,r=Object.assign({},e.attributes);if("container"==i)n=o.createContainerElement(e.name,r);else if("attribute"==i){const t={priority:e.priority||Nz.DEFAULT_PRIORITY};n=o.createAttributeElement(e.name,r,t)}else n=o.createUIElement(e.name,r);if(e.styles){const t=Object.keys(e.styles);for(const i of t)o.setStyle(i,e.styles[i],n)}if(e.classes){const t=e.classes;if("string"==typeof t)o.addClass(t,n);else for(const e of t)o.addClass(e,n)}return n}(e,n,t)}function IV(e){return e.model.values?(t,i,n)=>{const o=e.view[t];return o?o(t,i,n):null}:e.view}function PV(e){return"string"==typeof e?t=>({key:e,value:t}):"object"==typeof e?e.value?()=>e:t=>({key:e.key,value:t}):e}function DV(e,t,i){const n="function"==typeof e?e(t,i):e;return n?(n.priority||(n.priority=10),n.id||(n.id=t.markerName),n):null}function RV(e){const t=function(e){return(t,i)=>{if(!t.is("element",e.name))return!1;if("attribute"==i.type){if(e.attributes.includes(i.attributeKey))return!0}else/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(e.children)return!0;return!1}}(e);return(e,i)=>{const n=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const o of i.changes){const e="attribute"==o.type?o.range.start.nodeAfter:o.position.parent;if(e&&t(e,o)){if(!i.reconvertedElements.has(e)){i.reconvertedElements.add(e);const t=Qj._createBefore(e);let o=n.length;for(let e=n.length-1;e>=0;e--){const i=n[e],r=("attribute"==i.type?i.range.start:i.position).compareWith(t);if("before"==r||"remove"==i.type&&"same"==r)break;o=e}n.splice(o,0,{type:"remove",name:e.name,position:t,length:1},{type:"reinsert",name:e.name,position:t,length:1})}}else n.push(o)}i.changes=n}}function LV(e){return(t,i,n={})=>{const o=["insert"];for(const r of e.attributes)t.hasAttribute(r)&&o.push(`attribute:${r}`);return!!o.every((e=>i.test(t,e)))&&(n.preflight||o.forEach((e=>i.consume(t,e))),!0)}}function MV(e,t,i,n){for(const o of t)OV(e.root,o,i,n)||i.convertItem(o)}function OV(e,t,i,n){const{writer:o,mapper:r}=i;if(!n.reconversion)return!1;const s=r.toViewElement(t);return!(!s||s.root==e)&&(!!i.canReuseView(s)&&(o.move(o.createRangeOn(s),r.toViewPosition(Qj._createBefore(t))),!0))}function NV(e,t,{preflight:i}={}){return i?t.test(e,"insert"):t.consume(e,"insert")}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function $V(e){const{schema:t,document:i}=e.model;for(const n of i.getRoots())if(n.isEmpty&&!t.checkChild(n,"$text")&&t.checkChild(n,"paragraph"))return e.insertElement("paragraph",n),!0;return!1}function FV(e,t,i){const n=i.createContext(e);return!!i.checkChild(n,"paragraph")&&!!i.checkChild(n.push("paragraph"),t)}function BV(e,t){const i=t.createElement("paragraph");return t.insert(i,e),t.createPositionAt(i,0)}class zV extends _V{elementToElement(e){return this.add(jV(e))}elementToAttribute(e){return this.add(function(e){e=UN(e),HV(e);const t=qV(e,!1),i=VV(e.view),n=i?`element:${i}`:"element";return i=>{i.on(n,t,{priority:e.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(e){e=UN(e);let t=null;("string"==typeof e.view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});const t=e.view.key,i=void 0===e.view.value?/[\s\S]*/:e.view.value;let n;if("class"==t||"style"==t){const e="class"==t?"classes":"styles";n={[e]:i}}else n={attributes:{[t]:i}};e.view.name&&(n.name=e.view.name);return e.view=n,t}(e));HV(e,t);const i=qV(e,!0);return t=>{t.on("element",i,{priority:e.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(e){const t=function(e){return(t,i)=>{const n="string"==typeof e?e:e(t,i);return i.writer.createElement("$marker",{"data-name":n})}}(e.model);return jV({...e,model:t})}(e))}dataToMarker(e){return this.add(function(e){e=UN(e),e.model||(e.model=t=>t?e.view+":"+t:e.view);const t={view:e.view,model:e.model},i=UV(GV(t,"start")),n=UV(GV(t,"end"));return o=>{o.on(`element:${e.view}-start`,i,{priority:e.converterPriority||"normal"}),o.on(`element:${e.view}-end`,n,{priority:e.converterPriority||"normal"});const r=eF.low,s=eF.highest,a=eF.get(e.converterPriority)/s;o.on("element",function(e){return(t,i,n)=>{const o=`data-${e.view}`;function r(t,o){for(const r of o){const o=e.model(r,n),s=n.writer.createElement("$marker",{"data-name":o});n.writer.insert(s,t),i.modelCursor.isEqual(t)?i.modelCursor=i.modelCursor.getShiftedBy(1):i.modelCursor=i.modelCursor._getTransformedByInsertion(t,1),i.modelRange=i.modelRange._getTransformedByInsertion(t,1)[0]}}(n.consumable.test(i.viewItem,{attributes:o+"-end-after"})||n.consumable.test(i.viewItem,{attributes:o+"-start-after"})||n.consumable.test(i.viewItem,{attributes:o+"-end-before"})||n.consumable.test(i.viewItem,{attributes:o+"-start-before"}))&&(i.modelRange||Object.assign(i,n.convertChildren(i.viewItem,i.modelCursor)),n.consumable.consume(i.viewItem,{attributes:o+"-end-after"})&&r(i.modelRange.end,i.viewItem.getAttribute(o+"-end-after").split(",")),n.consumable.consume(i.viewItem,{attributes:o+"-start-after"})&&r(i.modelRange.end,i.viewItem.getAttribute(o+"-start-after").split(",")),n.consumable.consume(i.viewItem,{attributes:o+"-end-before"})&&r(i.modelRange.start,i.viewItem.getAttribute(o+"-end-before").split(",")),n.consumable.consume(i.viewItem,{attributes:o+"-start-before"})&&r(i.modelRange.start,i.viewItem.getAttribute(o+"-start-before").split(",")))}}(t),{priority:r+a})}}(e))}}function jV(e){const t=UV(e=UN(e)),i=VV(e.view),n=i?`element:${i}`:"element";return i=>{i.on(n,t,{priority:e.converterPriority||"normal"})}}function VV(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function UV(e){const t=new lz(e.view);return(i,n,o)=>{const r=t.match(n.viewItem);if(!r)return;const s=r.match;if(s.name=!0,!o.consumable.test(n.viewItem,s))return;const a=function(e,t,i){return e instanceof Function?e(t,i):i.writer.createElement(e)}(e.model,n.viewItem,o);a&&o.safeInsert(a,n.modelCursor)&&(o.consumable.consume(n.viewItem,s),o.convertChildren(n.viewItem,a),o.updateConversionResult(a,n))}}function HV(e,t=null){const i=null===t||(e=>e.getAttribute(t)),n="object"!=typeof e.model?e.model:e.model.key,o="object"!=typeof e.model||void 0===e.model.value?i:e.model.value;e.model={key:n,value:o}}function qV(e,t){const i=new lz(e.view);return(n,o,r)=>{if(!o.modelRange&&t)return;const s=i.match(o.viewItem);if(!s)return;if(!function(e,t){const i="function"==typeof e?e(t):e;if("object"==typeof i&&!VV(i))return!1;return!i.classes&&!i.attributes&&!i.styles}(e.view,o.viewItem)?delete s.match.name:s.match.name=!0,!r.consumable.test(o.viewItem,s.match))return;const a=e.model.key,l="function"==typeof e.model.value?e.model.value(o.viewItem,r):e.model.value;if(null===l)return;o.modelRange||Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor));const c=function(e,t,i,n){let o=!1;for(const r of Array.from(e.getItems({shallow:i})))n.schema.checkAttribute(r,t.key)&&(o=!0,r.hasAttribute(t.key)||n.writer.setAttribute(t.key,t.value,r));return o}(o.modelRange,{key:a,value:l},t,r);c&&(r.consumable.test(o.viewItem,{name:!0})&&(s.match.name=!0),r.consumable.consume(o.viewItem,s.match))}}function GV(e,t){return{view:`${e.view}-${t}`,model:(t,i)=>{const n=t.getAttribute("name"),o=e.model(n,i);return i.writer.createElement("$marker",{"data-name":o})}}}function WV(e){e.document.registerPostFixer((t=>function(e,t){const i=t.document.selection,n=t.schema,o=[];let r=!1;for(const s of i.getRanges()){const e=YV(s,n);e&&!e.isEqual(s)?(o.push(e),r=!0):o.push(s)}r&&e.setSelection(function(e){const t=[...e],i=new Set;let n=1;for(;n<t.length;){const e=t[n],o=t.slice(0,n);for(const[r,s]of o.entries())if(!i.has(r))if(e.isEqual(s))i.add(r);else if(e.isIntersecting(s)){i.add(r),i.add(n);const o=e.getJoined(s);t.push(o)}n++}return t.filter(((e,t)=>!i.has(t)))}(o),{backward:i.isBackward});return!1}(t,e)))}function YV(e,t){return e.isCollapsed?function(e,t){const i=e.start,n=t.getNearestSelectionRange(i);if(!n){const e=i.getAncestors().reverse().find((e=>t.isObject(e)));return e?iV._createOn(e):null}if(!n.isCollapsed)return n;const o=n.start;if(i.isEqual(o))return null;return new iV(o)}(e,t):function(e,t){const{start:i,end:n}=e,o=t.checkChild(i,"$text"),r=t.checkChild(n,"$text"),s=t.getLimitElement(i),a=t.getLimitElement(n);if(s===a){if(o&&r)return null;if(function(e,t,i){const n=e.nodeAfter&&!i.isLimit(e.nodeAfter)||i.checkChild(e,"$text"),o=t.nodeBefore&&!i.isLimit(t.nodeBefore)||i.checkChild(t,"$text");return n||o}(i,n,t)){const e=i.nodeAfter&&t.isSelectable(i.nodeAfter)?null:t.getNearestSelectionRange(i,"forward"),o=n.nodeBefore&&t.isSelectable(n.nodeBefore)?null:t.getNearestSelectionRange(n,"backward"),r=e?e.start:i,s=o?o.end:n;return new iV(r,s)}}const l=s&&!s.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const e=i.nodeAfter&&n.nodeBefore&&i.nodeAfter.parent===n.nodeBefore.parent,o=l&&(!e||!QV(i.nodeAfter,t)),r=c&&(!e||!QV(n.nodeBefore,t));let d=i,u=n;return o&&(d=Qj._createBefore(KV(s,t))),r&&(u=Qj._createAfter(KV(a,t))),new iV(d,u)}return null}(e,t)}function KV(e,t){let i=e,n=i;for(;t.isLimit(n)&&n.parent;)i=n,n=n.parent;return i}function QV(e,t){return e&&t.isSelectable(e)}class XV extends(EF()){constructor(e,t){super(),s(this,"model",void 0),s(this,"view",void 0),s(this,"mapper",void 0),s(this,"downcastDispatcher",void 0),this.model=e,this.view=new jj(t),this.mapper=new nV,this.downcastDispatcher=new sV({mapper:this.mapper,schema:e.schema});const i=this.model.document,n=i.selection,o=this.model.markers;var r,a,l;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(i,"change",(()=>{this.view.change((e=>{this.downcastDispatcher.convertChanges(i.differ,o,e),this.downcastDispatcher.convertSelection(n,o,e)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return(i,n)=>{const o=n.newSelection,r=[];for(const e of o.getRanges())r.push(t.toModelRange(e));const s=e.createSelection(r,{backward:o.isBackward});s.isEqual(e.document.selection)||e.change((e=>{e.setSelection(s)}))}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(r=this.mapper,a=this.model.schema,l=this.view,(e,t)=>{if(!l.document.isComposing||F$.isAndroid)for(let i=0;i<t.targetRanges.length;i++){const e=t.targetRanges[i],n=r.toModelRange(e),o=YV(n,a);o&&!o.isEqual(n)&&(t.targetRanges[i]=r.toViewRange(o))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const n=i.writer,o=i.mapper.toViewPosition(t.range.start),r=n.createText(t.item.data);n.insert(o,r)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((e,t,i)=>{i.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||i.convertChildren(t.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((e,t,i)=>{const n=i.mapper.toViewPosition(t.position),o=t.position.getShiftedBy(t.length),r=i.mapper.toViewPosition(o,{isPhantom:!0}),s=i.writer.createRange(n,r),a=i.writer.remove(s.getTrimmed());for(const l of i.writer.createRangeIn(a).getItems())i.mapper.unbindViewElement(l,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((e,t,i)=>{const n=i.writer,o=n.document.selection;for(const r of o.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&i.writer.mergeAttributes(r.start);n.setSelection(null)})),this.downcastDispatcher.on("selection",((e,t,i)=>{const n=t.selection;if(n.isCollapsed)return;if(!i.consumable.consume(n,"selection"))return;const o=[];for(const r of n.getRanges())o.push(i.mapper.toViewRange(r));i.writer.setSelection(o,{backward:n.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((e,t,i)=>{const n=t.selection;if(!n.isCollapsed)return;if(!i.consumable.consume(n,"selection"))return;const o=i.writer,r=n.getFirstPosition(),s=i.mapper.toViewPosition(r),a=o.breakAttributes(s);o.setSelection(a)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((e=>{if("$graveyard"==e.rootName)return null;const t=new wz(this.view.document,e.name);return t.rootName=e.rootName,this.mapper.bindElements(e,t),t}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t="string"==typeof e?e:e.name,i=this.model.markers.get(t);if(!i)throw new iF("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change((()=>{this.model.markers._refresh(i)}))}reconvertItem(e){this.model.change((()=>{this.model.document.differ._refreshItem(e)}))}}class JV{constructor(){s(this,"_consumables",new Map)}add(e,t){let i;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?i=this._consumables.get(e):(i=new eU(e),this._consumables.set(e,i)),i.add(t))}test(e,t){const i=this._consumables.get(e);return void 0===i?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const i=this._consumables.get(e);void 0!==i&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const r of i)"style"!=r&&"class"!=r&&t.attributes.push(r);const n=e.getClassNames();for(const r of n)t.classes.push(r);const o=e.getStyleNames();for(const r of o)t.styles.push(r);return t}static createFrom(e,t){if(t||(t=new JV),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,JV.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=JV.createFrom(i,t);return t}}const ZV=["attributes","classes","styles"];class eU{constructor(e){s(this,"element",void 0),s(this,"_canConsumeName",void 0),s(this,"_consumables",void 0),this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of ZV)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of ZV)if(t in e){const i=this._test(t,e[t]);if(!0!==i)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of ZV)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of ZV)t in e&&this._revert(t,e[t])}_add(e,t){const i=MB(t),n=this._consumables[e];for(const o of i){if("attributes"===e&&("class"===o||"style"===o))throw new iF("viewconsumable-invalid-attribute",this);if(n.set(o,!0),"styles"===e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(o))n.set(e,!0)}}_test(e,t){const i=MB(t),n=this._consumables[e];for(const o of i)if("attributes"!==e||"class"!==o&&"style"!==o){const e=n.get(o);if(void 0===e)return null;if(!e)return!1}else{const e="class"==o?"classes":"styles",t=this._test(e,[...this._consumables[e].keys()]);if(!0!==t)return t}return!0}_consume(e,t){const i=MB(t),n=this._consumables[e];for(const o of i)if("attributes"!==e||"class"!==o&&"style"!==o){if(n.set(o,!1),"styles"==e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(o))n.set(e,!1)}else{const e="class"==o?"classes":"styles";this._consume(e,[...this._consumables[e].keys()])}}_revert(e,t){const i=MB(t),n=this._consumables[e];for(const o of i)if("attributes"!==e||"class"!==o&&"style"!==o){!1===n.get(o)&&n.set(o,!0)}else{const e="class"==o?"classes":"styles";this._revert(e,[...this._consumables[e].keys()])}}}class tU extends(EF()){constructor(){super(),s(this,"_sourceDefinitions",{}),s(this,"_attributeProperties",Object.create(null)),s(this,"_customChildChecks",new Map),s(this,"_customAttributeChecks",new Map),s(this,"_genericCheckSymbol",Symbol("$generic")),s(this,"_compiledDefinitions",void 0),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((e,t)=>{t[0]=new iU(t[0])}),{priority:"highest"}),this.on("checkChild",((e,t)=>{t[0]=new iU(t[0]),t[1]=this.getDefinition(t[1])}),{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new iF("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new iF("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t="string"==typeof e?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(e,t)}checkAttribute(e,t){const i=this.getDefinition(e.last);if(!i)return!1;const n=this._evaluateAttributeChecks(e,t);return void 0!==n?n:i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Qj){const t=e.nodeBefore,i=e.nodeAfter;if(!(t instanceof Wj))throw new iF("schema-check-merge-no-element-before",this);if(!(i instanceof Wj))throw new iF("schema-check-merge-no-element-after",this);return this.checkMerge(t,i)}if(this.isLimit(e)||this.isLimit(t))return!1;for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e,t){const i=void 0!==t?t:this._genericCheckSymbol,n=this._customChildChecks.get(i)||[];n.push(e),this._customChildChecks.set(i,n)}addAttributeCheck(e,t){const i=void 0!==t?t:this._genericCheckSymbol,n=this._customAttributeChecks.get(i)||[];n.push(e),this._customAttributeChecks.set(i,n)}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let t;if(e instanceof Qj)t=e.parent;else{t=(e instanceof iV?[e]:Array.from(e.getRanges())).reduce(((e,t)=>{const i=t.getCommonAncestor();return e?e.getCommonAncestor(i,{includeSelf:!0}):i}),null)}for(;!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new qj("",e.getAttributes())];return this.checkAttribute(i,t)}{const i=e.getRanges();for(const e of i)for(const i of e)if(this.checkAttribute(i.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(e){for(const t of e)yield*t.getMinimalFlatRanges()}(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if("$graveyard"==e.root.rootName)return null;if(this.checkChild(e,"$text"))return new iV(e);let i,n;const o=e.getAncestors().reverse().find((e=>this.isLimit(e)))||e.root;"both"!=t&&"backward"!=t||(i=new Yj({boundaries:iV._createIn(o),startPosition:e,direction:"backward"})),"both"!=t&&"forward"!=t||(n=new Yj({boundaries:iV._createIn(o),startPosition:e}));for(const r of function*(e,t){let i=!1;for(;!i;){if(i=!0,e){const t=e.next();t.done||(i=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(i=!1,yield{walker:t,value:e.value})}}}(i,n)){const e=r.walker==i?"elementEnd":"elementStart",t=r.value;if(t.type==e&&this.isObject(t.item))return iV._createOn(t.item);if(this.checkChild(t.nextPosition,"$text"))return new iV(t.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const n=i.model;for(const[o,r]of Object.entries(t))n.schema.checkAttribute(e,o)&&i.setAttribute(o,r,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))fU(this,i,t);else{const e=iV._createIn(i).getPositions();for(const i of e){fU(this,i.nodeBefore||i.parent,t)}}}getAttributesWithProperty(e,t,i){const n={};for(const[o,r]of e.getAttributes()){const e=this.getAttributeProperties(o);void 0!==e[t]&&(void 0!==i&&i!==e[t]||(n[o]=r))}return n}createContext(e){return new iU(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const o of i)e[o]=nU(t[o],o);const n=Object.values(e);for(const o of n)oU(e,o),rU(e,o),sU(e,o),aU(e,o);for(const o of n)lU(e,o);for(const o of n)cU(e,o);for(const o of n)dU(e,o);for(const o of n)uU(e,o);for(const o of n)hU(e,o);this._compiledDefinitions=function(e){const t={};for(const i of Object.values(e))t[i.name]={name:i.name,isBlock:!!i.isBlock,isContent:!!i.isContent,isInline:!!i.isInline,isLimit:!!i.isLimit,isObject:!!i.isObject,isSelectable:!!i.isSelectable,allowIn:Array.from(i.allowIn).filter((t=>!!e[t])),allowChildren:Array.from(i.allowChildren).filter((t=>!!e[t])),allowAttributes:Array.from(i.allowAttributes)};return t}(e)}_checkContextMatch(e,t){const i=e.last;let n=this._evaluateChildChecks(e,t);if(n=void 0!==n?n:t.allowIn.includes(i.name),!n)return!1;const o=this.getDefinition(i),r=e.trimLast();return!!o&&(0==r.length||this._checkContextMatch(r,o))}_evaluateChildChecks(e,t){const i=this._customChildChecks.get(this._genericCheckSymbol)||[],n=this._customChildChecks.get(t.name)||[];for(const o of[...i,...n]){const i=o(e,t);if(void 0!==i)return i}}_evaluateAttributeChecks(e,t){const i=this._customAttributeChecks.get(this._genericCheckSymbol)||[],n=this._customAttributeChecks.get(t)||[];for(const o of[...i,...n]){const i=o(e,t);if(void 0!==i)return i}}*_getValidRangesForRange(e,t){let i=e.start,n=e.start;for(const o of e.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(iV._createIn(o),t)),this.checkAttribute(o,t)||(i.isEqual(n)||(yield new iV(i,n)),i=Qj._createAfter(o)),n=Qj._createAfter(o);i.isEqual(n)||(yield new iV(i,n))}findOptimalInsertionRange(e,t){const i=e.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return"before"==t||"after"==t?new iV(Qj._createAt(i,t)):iV._createOn(i);const n=FB(e.getSelectedBlocks());if(!n)return new iV(e.focus);if(n.isEmpty)return new iV(Qj._createAt(n,0));const o=Qj._createAfter(n);return e.focus.isTouching(o)?new iV(o):new iV(Qj._createBefore(n))}}class iU{constructor(e){if(s(this,"_items",void 0),e instanceof iU)return e;let t;t="string"==typeof e?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(mU)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new iU([e]);return t._items=[...this._items,...t._items],t}trimLast(){const e=new iU([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*this._items.map((e=>e.name))}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function nU(e,t){const i={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return function(e,t){for(const i of e){const e=Object.keys(i).filter((e=>e.startsWith("is")));for(const n of e)t[n]=!!i[n]}}(e,i),pU(e,i,"allowIn"),pU(e,i,"allowChildren"),pU(e,i,"disallowIn"),pU(e,i,"disallowChildren"),pU(e,i,"allowContentOf"),pU(e,i,"allowWhere"),pU(e,i,"allowAttributes"),pU(e,i,"disallowAttributes"),pU(e,i,"allowAttributesOf"),pU(e,i,"inheritTypesFrom"),function(e,t){for(const i of e){const e=i.inheritAllFrom;e&&(t.allowContentOf.add(e),t.allowWhere.add(e),t.allowAttributesOf.add(e),t.inheritTypesFrom.add(e))}}(e,i),i}function oU(e,t){for(const i of t.allowIn){const n=e[i];n?n.allowChildren.add(t.name):t.allowIn.delete(i)}}function rU(e,t){for(const i of t.allowChildren){const n=e[i];n?n.allowIn.add(t.name):t.allowChildren.delete(i)}}function sU(e,t){for(const i of t.disallowIn){const n=e[i];n?n.disallowChildren.add(t.name):t.disallowIn.delete(i)}}function aU(e,t){for(const i of t.disallowChildren){const n=e[i];n?n.disallowIn.add(t.name):t.disallowChildren.delete(i)}}function lU(e,t){for(const i of t.disallowChildren)t.allowChildren.delete(i);for(const i of t.disallowIn)t.allowIn.delete(i);for(const i of t.disallowAttributes)t.allowAttributes.delete(i)}function cU(e,t){for(const i of t.allowContentOf){const n=e[i];n&&(n.disallowChildren.forEach((i=>{t.allowChildren.has(i)||(t.disallowChildren.add(i),e[i].disallowIn.add(t.name))})),n.allowChildren.forEach((i=>{t.disallowChildren.has(i)||(t.allowChildren.add(i),e[i].allowIn.add(t.name))})))}}function dU(e,t){for(const i of t.allowWhere){const n=e[i];n&&(n.disallowIn.forEach((i=>{t.allowIn.has(i)||(t.disallowIn.add(i),e[i].disallowChildren.add(t.name))})),n.allowIn.forEach((i=>{t.disallowIn.has(i)||(t.allowIn.add(i),e[i].allowChildren.add(t.name))})))}}function uU(e,t){for(const i of t.allowAttributesOf){const n=e[i];if(!n)return;n.allowAttributes.forEach((e=>{t.disallowAttributes.has(e)||t.allowAttributes.add(e)}))}}function hU(e,t){for(const i of t.inheritTypesFrom){const n=e[i];if(n){const e=Object.keys(n).filter((e=>e.startsWith("is")));for(const i of e)i in t||(t[i]=n[i])}}}function pU(e,t,i){for(const n of e){let e=n[i];"string"==typeof e&&(e=[e]),Array.isArray(e)&&e.forEach((e=>t[i].add(e)))}}function mU(e){return"string"==typeof e||e.is("documentFragment")?{name:"string"==typeof e?e:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:e.is("element")?e.name:"$text",*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute:t=>e.getAttribute(t)}}function fU(e,t,i){for(const n of t.getAttributeKeys())e.checkAttribute(t,n)||i.removeAttribute(n,t)}class gU extends(dF()){constructor(e){super(),s(this,"conversionApi",void 0),s(this,"_splitParts",new Map),s(this,"_cursorParents",new Map),s(this,"_modelCursor",null),s(this,"_emptyElementsToKeep",new Set),this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(e,t)=>this._convertItem(e,t),convertChildren:(e,t)=>this._convertChildren(e,t),safeInsert:(e,t)=>this._safeInsert(e,t),updateConversionResult:(e,t)=>this._updateConversionResult(e,t),splitToAllowedParent:(e,t)=>this._splitToAllowedParent(e,t),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)}}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(e,t){let i;for(const n of new iU(e)){const e={};for(const t of n.getAttributeKeys())e[t]=n.getAttribute(t);const o=t.createElement(n.name,e);i&&t.insert(o,i),i=Qj._createAt(o,0)}return i}(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=JV.createFrom(e),this.conversionApi.store={};const{modelRange:n}=this._convertItem(e,this._modelCursor),o=t.createDocumentFragment();if(n){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,o);o.markers=function(e,t){const i=new Set,n=new Map,o=iV._createIn(e).getItems();for(const r of o)r.is("element","$marker")&&i.add(r);for(const r of i){const e=r.getAttribute("data-name"),i=t.createPositionBefore(r);n.has(e)?n.get(e).end=i.clone():n.set(e,new iV(i.clone())),t.remove(r)}return n}(o,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof iV))throw new iF("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:Qj._createAt(t,0);const n=new iV(i);for(const o of Array.from(e.getChildren())){const e=this._convertItem(o,i);e.modelRange instanceof iV&&(n.end=e.modelRange.end,i=e.modelCursor)}return{modelRange:n,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return!!i&&(this.conversionApi.writer.insert(e,i.position),!0)}_updateConversionResult(e,t){const i=this._getSplitParts(e),n=this.conversionApi.writer;t.modelRange||(t.modelRange=n.createRange(n.createPositionBefore(e),n.createPositionAfter(i[i.length-1])));const o=this._cursorParents.get(e);t.modelCursor=o?n.createPositionAt(o,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:n}=this.conversionApi;let o=i.findAllowedParent(t,e);if(o){if(o===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return FV(t,e,i)?{position:BV(t,n)}:null;const r=this.conversionApi.writer.split(t,o),s=[];for(const l of r.range.getWalker())if("elementEnd"==l.type)s.push(l.item);else{const e=s.pop(),t=l.item;this._registerSplitPair(e,t)}const a=r.range.end.parent;return this._cursorParents.set(e,a),{position:r.position,cursorParent:a}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class bU{getHtml(e){const t=O$.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class vU{constructor(e){s(this,"domParser",void 0),s(this,"domConverter",void 0),s(this,"htmlWriter",void 0),s(this,"skipComments",!0),this.domParser=new DOMParser,this.domConverter=new xj(e,{renderingMode:"data"}),this.htmlWriter=new bU}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}_toDom(e){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4))||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),n=t.body.childNodes;for(;n.length>0;)i.appendChild(n[0]);return i}}class yU extends(dF()){constructor(e,t){super(),s(this,"model",void 0),s(this,"mapper",void 0),s(this,"downcastDispatcher",void 0),s(this,"upcastDispatcher",void 0),s(this,"viewDocument",void 0),s(this,"stylesProcessor",void 0),s(this,"htmlProcessor",void 0),s(this,"processor",void 0),s(this,"_viewWriter",void 0),this.model=e,this.mapper=new nV,this.downcastDispatcher=new sV({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",((e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const n=i.writer,o=i.mapper.toViewPosition(t.range.start),r=n.createText(t.item.data);n.insert(o,r)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((e,t,i)=>{i.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||i.convertChildren(t.item)}),{priority:"lowest"}),this.upcastDispatcher=new gU({schema:e.schema}),this.viewDocument=new Oz(t),this.stylesProcessor=t,this.htmlProcessor=new vU(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Wz(this.viewDocument),this.upcastDispatcher.on("text",((e,t,{schema:i,consumable:n,writer:o})=>{let r=t.modelCursor;if(!n.test(t.viewItem))return;if(!i.checkChild(r,"$text")){if(!FV(r,"$text",i))return;if(0==t.viewItem.data.trim().length)return;r=BV(r,o)}n.consume(t.viewItem);const s=o.createText(t.viewItem.data);o.insert(s,r),t.modelRange=o.createRange(r,r.getShiftedBy(s.offsetSize)),t.modelCursor=t.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((e,t,i)=>{if(!t.modelRange&&i.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:n}=i.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=n}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((e,t,i)=>{if(!t.modelRange&&i.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:n}=i.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=n}}),{priority:"lowest"}),EF().prototype.decorate.call(this,"init"),EF().prototype.decorate.call(this,"set"),EF().prototype.decorate.call(this,"get"),EF().prototype.decorate.call(this,"toView"),EF().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},$V)}),{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new iF("datacontroller-get-non-existent-root",this);const n=this.model.document.getRoot(t);return n.isAttached()||nF("datacontroller-get-detached-root",this),"empty"!==i||this.model.hasContent(n,{ignoreWhitespaces:!0})?this.stringify(n,e):""}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();const o=iV._createIn(e),r=new Gz(i);this.mapper.bindElements(e,r);const s=e.is("documentFragment")?e.markers:function(e){const t=[],i=e.root.document;if(!i)return new Map;const n=iV._createIn(e);for(const o of i.model.markers){const e=o.getRange(),i=e.isCollapsed,r=e.start.isEqual(n.start)||e.end.isEqual(n.end);if(i&&r)t.push([o.name,e]);else{const i=n.getIntersection(e);i&&t.push([o.name,i])}}return t.sort((([e,t],[i,n])=>{if("after"!==t.end.compareWith(n.start))return 1;if("before"!==t.start.compareWith(n.end))return-1;switch(t.start.compareWith(n.start)){case"before":return 1;case"after":return-1;default:switch(t.end.compareWith(n.end)){case"before":return 1;case"after":return-1;default:return i.localeCompare(e)}}})),new Map(t)}(e);return this.downcastDispatcher.convert(o,s,n,t),r}init(e){if(this.model.document.version)throw new iF("datacontroller-init-document-not-empty",this);let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new iF("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(e=>{for(const i of Object.keys(t)){const n=this.model.document.getRoot(i);e.insert(this.parse(t[i],n),n,0)}})),Promise.resolve()}set(e,t={}){let i={};if("string"==typeof e?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new iF("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},(e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const t of Object.keys(i)){const n=this.model.document.getRoot(t);e.remove(e.createRangeIn(n)),e.insert(this.parse(i[t],n),n,0)}}))}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change((i=>this.upcastDispatcher.convert(e,i,t)))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class kU{constructor(e,t){s(this,"_helpers",new Map),s(this,"_downcast",void 0),s(this,"_upcast",void 0),this._downcast=MB(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=MB(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new iF("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new iF("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of wU(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of wU(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of wU(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new iF("conversion-group-exists",this);const n=i?new EV(t):new zV(t);this._helpers.set(e,n)}}function*wU(e){if(e.model.values)for(const t of e.model.values){const i={key:e.model.key,value:t},n=e.view[t],o=e.upcastAlso?e.upcastAlso[t]:void 0;yield*xU(i,n,o)}else yield*xU(e.model,e.view,e.upcastAlso)}function*xU(e,t,i){if(yield{model:e,view:t},i)for(const n of MB(i))yield{model:e,view:n}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class _U{constructor(e){s(this,"baseVersion",void 0),s(this,"isDocumentOperation",void 0),s(this,"batch",void 0),this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function EU(e,t){const i=TU(t),n=i.reduce(((e,t)=>e+t.offsetSize),0),o=e.parent;IU(e);const r=e.index;return o._insertChild(r,i),SU(o,r+i.length),SU(o,r),new iV(e,e.getShiftedBy(n))}function CU(e){if(!e.isFlat)throw new iF("operation-utils-remove-range-not-flat",this);const t=e.start.parent;IU(e.start),IU(e.end);const i=t._removeChildren(e.start.index,e.end.index-e.start.index);return SU(t,e.start.index),i}function AU(e,t){if(!e.isFlat)throw new iF("operation-utils-move-range-not-flat",this);const i=CU(e);return EU(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),i)}function TU(e){const t=[];!function e(i){if("string"==typeof i)t.push(new qj(i));else if(i instanceof Gj)t.push(new qj(i.data,i.getAttributes()));else if(i instanceof Uj)t.push(i);else if(LF(i))for(const t of i)e(t)}(e);for(let i=1;i<t.length;i++){const e=t[i],n=t[i-1];e instanceof qj&&n instanceof qj&&PU(e,n)&&(t.splice(i-1,2,new qj(n.data+e.data,n.getAttributes())),i--)}return t}function SU(e,t){const i=e.getChild(t-1),n=e.getChild(t);if(i&&n&&i.is("$text")&&n.is("$text")&&PU(i,n)){const o=new qj(i.data+n.data,i.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,o)}}function IU(e){const t=e.textNode,i=e.parent;if(t){const n=e.offset-t.startOffset,o=t.index;i._removeChildren(o,1);const r=new qj(t.data.substr(0,n),t.getAttributes()),s=new qj(t.data.substr(n),t.getAttributes());i._insertChild(o,[r,s])}}function PU(e,t){const i=e.getAttributes(),n=t.getAttributes();for(const o of i){if(o[1]!==t.getAttribute(o[0]))return!1;n.next()}return n.next().done}class DU extends _U{constructor(e,t,i,n){super(n),s(this,"sourcePosition",void 0),s(this,"howMany",void 0),s(this,"targetPosition",void 0),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}get affectedSelectable(){return[iV._createFromPositionAndShift(this.sourcePosition,this.howMany),iV._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new DU(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new DU(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,n=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new iF("move-operation-nodes-do-not-exist",this);if(e===t&&i<n&&n<i+this.howMany)throw new iF("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==RF(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=i&&this.targetPosition.path[e]<i+this.howMany)throw new iF("move-operation-node-into-itself",this)}}_execute(){AU(iV._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=Qj.fromJSON(e.sourcePosition,t),n=Qj.fromJSON(e.targetPosition,t);return new this(i,e.howMany,n,e.baseVersion)}}class RU extends _U{constructor(e,t,i){super(i),s(this,"position",void 0),s(this,"nodes",void 0),s(this,"shouldReceiveAttributes",void 0),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Hj(TU(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Hj([...this.nodes].map((e=>e._clone(!0)))),t=new RU(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Qj(e,[0]);return new DU(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new iF("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Hj([...e].map((e=>e._clone(!0)))),EU(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const o of e.nodes)o.name?i.push(Wj.fromJSON(o)):i.push(qj.fromJSON(o));const n=new RU(Qj.fromJSON(e.position,t),i,e.baseVersion);return n.shouldReceiveAttributes=e.shouldReceiveAttributes,n}}class LU extends _U{constructor(e,t,i,n,o){super(o),s(this,"splitPosition",void 0),s(this,"howMany",void 0),s(this,"insertionPosition",void 0),s(this,"graveyardPosition",void 0),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Qj(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new iV(this.splitPosition,e)}get affectedSelectable(){const e=[iV._createFromPositionAndShift(this.splitPosition,0),iV._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(iV._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new LU(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Qj(e,[0]);return new MU(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new iF("split-operation-position-invalid",this);if(!e.parent)throw new iF("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new iF("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new iF("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)AU(iV._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();EU(this.insertionPosition,t)}AU(new iV(Qj._createAt(e,this.splitPosition.offset),Qj._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Qj(e.root,t,"toPrevious")}static fromJSON(e,t){const i=Qj.fromJSON(e.splitPosition,t),n=Qj.fromJSON(e.insertionPosition,t),o=e.graveyardPosition?Qj.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,n,o,e.baseVersion)}}class MU extends _U{constructor(e,t,i,n,o){super(o),s(this,"sourcePosition",void 0),s(this,"howMany",void 0),s(this,"targetPosition",void 0),s(this,"graveyardPosition",void 0),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=n.clone()}get type(){return"merge"}get deletionPosition(){return new Qj(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new iV(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[iV._createOn(e),iV._createFromPositionAndShift(this.targetPosition,0),iV._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new MU(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new Qj(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new LU(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new iF("merge-operation-source-position-invalid",this);if(!t.parent)throw new iF("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new iF("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;AU(iV._createIn(e),this.targetPosition),AU(iV._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=Qj.fromJSON(e.sourcePosition,t),n=Qj.fromJSON(e.targetPosition,t),o=Qj.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,n,o,e.baseVersion)}}class OU extends _U{constructor(e,t,i,n,o,r){super(r),s(this,"name",void 0),s(this,"oldRange",void 0),s(this,"newRange",void 0),s(this,"affectsData",void 0),s(this,"_markers",void 0),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=o,this._markers=n}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new OU(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new OU(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new OU(e.name,e.oldRange?iV.fromJSON(e.oldRange,t):null,e.newRange?iV.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class NU extends _U{constructor(e,t,i,n,o){super(o),s(this,"range",void 0),s(this,"key",void 0),s(this,"oldValue",void 0),s(this,"newValue",void 0),this.range=e.clone(),this.key=t,this.oldValue=void 0===i?null:i,this.newValue=void 0===n?null:n}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new NU(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new NU(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new iF("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!C$(e.getAttribute(this.key),this.oldValue))throw new iF("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new iF("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){C$(this.oldValue,this.newValue)||function(e,t,i){IU(e.start),IU(e.end);for(const n of e.getItems({shallow:!0})){const e=n.is("$textProxy")?n.textNode:n;null!==i?e._setAttribute(t,i):e._removeAttribute(t),SU(e.parent,e.index)}SU(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new NU(iV.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class $U extends _U{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new $U(this.baseVersion)}getReversed(){return new $U(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class FU extends _U{constructor(e,t,i,n){super(n),s(this,"position",void 0),s(this,"oldName",void 0),s(this,"newName",void 0),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new FU(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new FU(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Wj))throw new iF("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new iF("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new FU(Qj.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class BU extends _U{constructor(e,t,i,n,o){super(o),s(this,"root",void 0),s(this,"key",void 0),s(this,"oldValue",void 0),s(this,"newValue",void 0),this.root=e,this.key=t,this.oldValue=void 0===i?null:i,this.newValue=void 0===n?null:n}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new BU(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new BU(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new iF("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new iF("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new iF("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new iF("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new BU(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class zU extends _U{constructor(e,t,i,n,o){if(super(o),s(this,"rootName",void 0),s(this,"elementName",void 0),s(this,"isAdd",void 0),s(this,"_document",void 0),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=n,!this._document.getRoot(this.rootName)){this._document.createRoot(this.elementName,this.rootName)._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new zU(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new zU(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new zU(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const jU={};jU[NU.className]=NU,jU[RU.className]=RU,jU[OU.className]=OU,jU[DU.className]=DU,jU[$U.className]=$U,jU[_U.className]=_U,jU[FU.className]=FU,jU[BU.className]=BU,jU[zU.className]=zU,jU[LU.className]=LU,jU[MU.className]=MU;class VU{static fromJSON(e,t){return jU[e.__className].fromJSON(e,t)}}const UU=new Map;function HU(e,t,i){let n=UU.get(e);n||(n=new Map,UU.set(e,n)),n.set(t,i)}function qU(e){return[e]}function GU(e,t,i={}){const n=function(e,t){const i=UU.get(e);return i&&i.has(t)?i.get(t):qU}(e.constructor,t.constructor);try{return n(e=e.clone(),t,i)}catch(f1){throw f1}}function WU(e,t,i){e=e.slice(),t=t.slice();const n=new YU(i.document,i.useRelations,i.forceWeakRemove);n.setOriginalOperations(e),n.setOriginalOperations(t);const o=n.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:o};const r=new WeakMap;for(const l of e)r.set(l,0);const s={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let a=0;for(;a<e.length;){const i=e[a],o=r.get(i);if(o==t.length){a++;continue}const s=t[o],l=GU(i,s,n.getContext(i,s,!0)),c=GU(s,i,n.getContext(s,i,!1));n.updateRelation(i,s),n.setOriginalOperations(l,i),n.setOriginalOperations(c,s);for(const e of l)r.set(e,o+c.length);e.splice(a,1,...l),t.splice(o,1,...c)}return QU(e),QU(t),KU(e,s.nextBaseVersionB),KU(t,s.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:o}}class YU{constructor(e,t,i=!1){s(this,"originalOperations",void 0),s(this,"_history",void 0),s(this,"_useRelations",void 0),s(this,"_forceWeakRemove",void 0),s(this,"_relations",void 0),this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const n of e)this.originalOperations.set(n,i||n)}updateRelation(e,t){if(e instanceof DU)t instanceof MU?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof DU&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof LU){if(t instanceof MU)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof DU)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=iV._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const n=i.end.offset-e.splitPosition.offset,o=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:n,offset:o})}}}else if(e instanceof MU)t instanceof MU?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof LU?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof DU&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof OU){const i=e.newRange;if(!i)return;if(t instanceof MU){const n=i.start.isEqual(t.targetPosition),o=i.start.isEqual(t.deletionPosition),r=i.end.isEqual(t.deletionPosition),s=i.end.isEqual(t.sourcePosition);(n||o||r||s)&&this._setRelation(e,t,{wasInLeftElement:n,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:r,wasInRightElement:s})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),n=this._history.getUndoneOperation(i);if(!n)return null;const o=this.originalOperations.get(e),r=this._relations.get(o);return r&&r.get(n)||null}_setRelation(e,t,i){const n=this.originalOperations.get(e),o=this.originalOperations.get(t);let r=this._relations.get(n);r||(r=new Map,this._relations.set(n,r)),r.set(o,i)}}function KU(e,t){for(const i of e)i.baseVersion=t++}function QU(e){const t=new Map;for(let i=0;i<e.length;i++){const n=e[i];n instanceof OU&&(-1!==n.baseVersion?t.set(n.name,{op:n,ranges:n.newRange?[n.newRange]:[]}):(n.newRange&&t.get(n.name).ranges.push(n.newRange),e.splice(i,1),i--))}for(const{op:i,ranges:n}of t.values())n.length?i.newRange=iV._createFromRanges(n):i.newRange=null}function XU(e,t,i){const n=e.nodes.getNode(0).getAttribute(t);if(n==i)return null;const o=new iV(e.position,e.position.getShiftedBy(e.howMany));return new NU(o,t,n,i,0)}function JU(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function ZU(e,t){const i=[];for(let n=0;n<e.length;n++){const o=e[n],r=new DU(o.start,o.end.offset-o.start.offset,t,0);i.push(r);for(let t=n+1;t<e.length;t++)e[t]=e[t]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return i}HU(NU,NU,((e,t,i)=>{if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){const n=e.range.getDifference(t.range).map((t=>new NU(t,e.key,e.oldValue,e.newValue,0))),o=e.range.getIntersection(t.range);return o&&i.aIsStrong&&n.push(new NU(o,t.key,t.newValue,e.newValue,0)),0==n.length?[new $U(0)]:n}return[e]})),HU(NU,RU,((e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const i=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((t=>new NU(t,e.key,e.oldValue,e.newValue,e.baseVersion)));if(t.shouldReceiveAttributes){const n=XU(t,e.key,e.oldValue);n&&i.unshift(n)}return i}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),HU(NU,MU,((e,t)=>{const i=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&i.push(iV._createFromPositionAndShift(t.graveyardPosition,1));const n=e.range._getTransformedByMergeOperation(t);return n.isCollapsed||i.push(n),i.map((t=>new NU(t,e.key,e.oldValue,e.newValue,e.baseVersion)))})),HU(NU,DU,((e,t)=>{const i=function(e,t){const i=iV._createFromPositionAndShift(t.sourcePosition,t.howMany);let n=null,o=[];i.containsRange(e,!0)?n=e:e.start.hasSameParentAs(i.start)?(o=e.getDifference(i),n=e.getIntersection(i)):o=[e];const r=[];for(let s of o){s=s._getTransformedByDeletion(t.sourcePosition,t.howMany);const e=t.getMovedRangeStart(),i=s.start.hasSameParentAs(e),n=s._getTransformedByInsertion(e,t.howMany,i);r.push(...n)}n&&r.push(n._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]);return r}(e.range,t);return i.map((t=>new NU(t,e.key,e.oldValue,e.newValue,e.baseVersion)))})),HU(NU,LU,((e,t)=>{if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const i=e.clone();return i.range=new iV(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,i]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),HU(RU,NU,((e,t)=>{const i=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const n=XU(e,t.key,t.newValue);n&&i.push(n)}return i})),HU(RU,RU,((e,t,i)=>(e.position.isEqual(t.position)&&i.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]))),HU(RU,DU,((e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e]))),HU(RU,LU,((e,t)=>(e.position=e.position._getTransformedBySplitOperation(t),[e]))),HU(RU,MU,((e,t)=>(e.position=e.position._getTransformedByMergeOperation(t),[e]))),HU(OU,RU,((e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]))),HU(OU,OU,((e,t,i)=>{if(e.name==t.name){if(!i.aIsStrong)return[new $U(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),HU(OU,MU,((e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]))),HU(OU,DU,((e,t)=>{const i=[e];if(e.oldRange&&(e.oldRange=iV._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){const n=e.newRange._getTransformedByMoveOperation(t);e.newRange=n[0];for(let t=1;t<n.length;t++){const o=e.clone();o.oldRange=null,o.newRange=n[t],o.baseVersion=-1,i.push(o)}}return i})),HU(OU,LU,((e,t,i)=>{if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(i.abRelation){const n=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?e.newRange.start=Qj._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!i.abRelation.wasInLeftElement?e.newRange.start=Qj._createAt(t.moveTargetPosition):e.newRange.start=n.start,e.newRange.end.isEqual(t.splitPosition)&&i.abRelation.wasInRightElement?e.newRange.end=Qj._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?e.newRange.end=Qj._createAt(t.insertionPosition):e.newRange.end=n.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),HU(MU,RU,((e,t)=>(e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]))),HU(MU,MU,((e,t,i)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(i.bWasUndone){const i=t.graveyardPosition.path.slice();return i.push(0),e.sourcePosition=new Qj(t.graveyardPosition.root,i),e.howMany=0,[e]}return[new $U(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!i.bWasUndone&&"splitAtSource"!=i.abRelation){const n="$graveyard"==e.targetPosition.root.rootName,o="$graveyard"==t.targetPosition.root.rootName;if(o&&!n||!(n&&!o)&&i.aIsStrong){const i=t.targetPosition._getTransformedByMergeOperation(t),n=e.targetPosition._getTransformedByMergeOperation(t);return[new DU(i,e.howMany,n,0)]}return[new $U(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&i.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),HU(MU,DU,((e,t,i)=>{const n=iV._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!i.bWasUndone&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.sourcePosition)?[new $U(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(e.sourcePosition)?e.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(e.sourcePosition)&&"mergeSourceAffected"==i.abRelation?e.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(e.targetPosition)?(e.targetPosition.stickiness="toNone",e.howMany-=t.howMany):t.targetPosition.isEqual(e.targetPosition)&&"mergeTargetWasBefore"==i.abRelation?(e.targetPosition.stickiness="toPrevious",e.howMany+=t.howMany):(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany)),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.sourcePosition.stickiness="toPrevious",e.targetPosition.stickiness="toNext",e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),HU(MU,LU,((e,t,i)=>{if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){if(t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition)||"mergeTargetNotMoved"==i.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==i.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==i.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),HU(DU,RU,((e,t)=>{const i=iV._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=i.start,e.howMany=i.end.offset-i.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),HU(DU,DU,((e,t,i)=>{const n=iV._createFromPositionAndShift(e.sourcePosition,e.howMany),o=iV._createFromPositionAndShift(t.sourcePosition,t.howMany);let r,s=i.aIsStrong,a=!i.aIsStrong;if("insertBefore"==i.abRelation||"insertAfter"==i.baRelation?a=!0:"insertAfter"!=i.abRelation&&"insertBefore"!=i.baRelation||(a=!1),r=e.targetPosition.isEqual(t.targetPosition)&&a?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),JU(e,t)&&JU(t,e))return[t.getReversed()];if(n.containsPosition(t.targetPosition)&&n.containsRange(o,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ZU([n],r);if(o.containsPosition(e.targetPosition)&&o.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),ZU([n],r);const l=RF(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ZU([n],r);"remove"!=e.type||"remove"==t.type||i.aWasUndone||i.forceWeakRemove?"remove"==e.type||"remove"!=t.type||i.bWasUndone||i.forceWeakRemove||(s=!1):s=!0;const c=[],d=n.getDifference(o);for(const h of d){h.start=h.start._getTransformedByDeletion(t.sourcePosition,t.howMany),h.end=h.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const e="same"==RF(h.start.getParentPath(),t.getMovedRangeStart().getParentPath()),i=h._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,e);c.push(...i)}const u=n.getIntersection(o);return null!==u&&s&&(u.start=u.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),u.end=u.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===c.length?c.push(u):1==c.length?o.start.isBefore(n.start)||o.start.isEqual(n.start)?c.unshift(u):c.push(u):c.splice(1,0,u)),0===c.length?[new $U(e.baseVersion)]:ZU(c,r)})),HU(DU,LU,((e,t,i)=>{let n=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=i.abRelation||(n=e.targetPosition._getTransformedBySplitOperation(t));const o=iV._createFromPositionAndShift(e.sourcePosition,e.howMany);if(o.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=n,[e];if(o.start.hasSameParentAs(t.splitPosition)&&o.containsPosition(t.splitPosition)){let e=new iV(t.splitPosition,o.end);e=e._getTransformedBySplitOperation(t);return ZU([new iV(o.start,t.splitPosition),e],n)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==i.abRelation&&(n=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==i.abRelation&&(n=e.targetPosition);const r=[o._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const n=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);e.howMany>1&&n&&!i.aWasUndone&&r.push(iV._createFromPositionAndShift(t.insertionPosition,1))}return ZU(r,n)})),HU(DU,MU,((e,t,i)=>{const n=iV._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.sourcePosition))if("remove"!=e.type||i.forceWeakRemove){if(1==e.howMany)return i.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new $U(0)]}else if(!i.aWasUndone){const i=[];let n=t.graveyardPosition.clone(),o=t.targetPosition._getTransformedByMergeOperation(t);const r=e.targetPosition.getTransformedByOperation(t);e.howMany>1&&(i.push(new DU(e.sourcePosition,e.howMany-1,r,0)),n=n._getTransformedByMove(e.sourcePosition,r,e.howMany-1),o=o._getTransformedByMove(e.sourcePosition,r,e.howMany-1));const s=t.deletionPosition._getCombined(e.sourcePosition,r),a=new DU(n,1,s,0),l=a.getMovedRangeStart().path.slice();l.push(0);const c=new Qj(a.targetPosition.root,l);o=o._getTransformedByMove(n,s,1);const d=new DU(o,t.howMany,c,0);return i.push(a),i.push(d),i}const o=iV._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=o.start,e.howMany=o.end.offset-o.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),HU(FU,RU,((e,t)=>(e.position=e.position._getTransformedByInsertOperation(t),[e]))),HU(FU,MU,((e,t)=>e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e]))),HU(FU,DU,((e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e]))),HU(FU,FU,((e,t,i)=>{if(e.position.isEqual(t.position)){if(!i.aIsStrong)return[new $U(0)];e.oldName=t.newName}return[e]})),HU(FU,LU,((e,t)=>{if("same"==RF(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){const t=new FU(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),HU(BU,BU,((e,t,i)=>{if(e.root===t.root&&e.key===t.key){if(!i.aIsStrong||e.newValue===t.newValue)return[new $U(0)];e.oldValue=t.newValue}return[e]})),HU(zU,zU,((e,t)=>e.rootName===t.rootName&&e.isAdd===t.isAdd?[new $U(0)]:[e])),HU(LU,RU,((e,t)=>(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t),[e]))),HU(LU,MU,((e,t,i)=>{if(!e.graveyardPosition&&!i.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const i=t.graveyardPosition.path.slice();i.push(0);const n=new Qj(t.graveyardPosition.root,i),o=LU.getInsertionPosition(new Qj(t.graveyardPosition.root,i)),r=new LU(n,0,o,null,0);return e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=LU.getInsertionPosition(e.splitPosition),e.graveyardPosition=r.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[r,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=LU.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),HU(LU,DU,((e,t,i)=>{const n=iV._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const o=n.start.isEqual(e.graveyardPosition)||n.containsPosition(e.graveyardPosition);if(!i.bWasUndone&&o){const i=e.splitPosition._getTransformedByMoveOperation(t),n=e.graveyardPosition._getTransformedByMoveOperation(t),o=n.path.slice();o.push(0);const r=new Qj(n.root,o);return[new DU(i,e.howMany,r,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}const o=e.splitPosition.isEqual(t.targetPosition);if(o&&("insertAtSource"==i.baRelation||"splitBefore"==i.abRelation))return e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=LU.getInsertionPosition(e.splitPosition),[e];if(o&&i.abRelation&&i.abRelation.howMany){const{howMany:t,offset:n}=i.abRelation;return e.howMany+=t,e.splitPosition=e.splitPosition.getShiftedBy(n),[e]}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const i=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=i,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=LU.getInsertionPosition(e.splitPosition),[e]}return t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=LU.getInsertionPosition(e.splitPosition),[e]})),HU(LU,LU,((e,t,i)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new $U(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new $U(0)];if("splitBefore"==i.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const n="$graveyard"==e.splitPosition.root.rootName,o="$graveyard"==t.splitPosition.root.rootName;if(o&&!n||!(n&&!o)&&i.aIsStrong){const i=[];return t.howMany&&i.push(new DU(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&i.push(new DU(e.splitPosition,e.howMany,e.moveTargetPosition,0)),i}return[new $U(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==i.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==i.baRelation){const i=t.insertionPosition.path.slice();i.push(0);const n=new Qj(t.insertionPosition.root,i);return[e,new DU(e.insertionPosition,1,n,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=LU.getInsertionPosition(e.splitPosition),[e]}));class eH extends(dF(Qj)){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new iF("model-liveposition-root-not-rootelement",e);tH.call(this)}detach(){this.stopListening()}toPosition(){return new Qj(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function tH(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const i=t[0];i.isDocumentOperation&&iH.call(this,i)}),{priority:"low"})}function iH(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}eH.prototype.is=function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e};class nH{constructor(e={}){s(this,"operations",void 0),s(this,"isUndoable",void 0),s(this,"isLocal",void 0),s(this,"isUndo",void 0),s(this,"isTyping",void 0),"string"==typeof e&&(e="transparent"===e?{isUndoable:!1}:{},nF("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:n=!1,isTyping:o=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=n,this.isTyping=o}get type(){return nF("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class oH{constructor(e){s(this,"_markerCollection",void 0),s(this,"_changesInElement",new Map),s(this,"_elementsSnapshots",new Map),s(this,"_elementChildrenSnapshots",new Map),s(this,"_elementState",new Map),s(this,"_changedMarkers",new Map),s(this,"_changedRoots",new Map),s(this,"_changeCount",0),s(this,"_cachedChanges",null),s(this,"_cachedChangesWithGraveyard",null),s(this,"_refreshedItems",new Set),this._markerCollection=e}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size&&0==this._changedRoots.size}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),i=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),i||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);const n=iV._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const t of n.getItems({shallow:!0}))this._setElementState(t,"move");break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=iV._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getData();this.bufferMarkerChange(t.name,e,e)}this._setElementState(t.position.nodeAfter,"rename");break}case"split":{const e=t.splitPosition.parent;if(!this._isInInsertedElement(e)){this._markRemove(e,t.splitPosition.offset,t.howMany);const i=iV._createFromPositionAndShift(t.splitPosition,t.howMany);for(const e of i.getItems({shallow:!0}))this._setElementState(e,"move")}this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&(this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1),this._setElementState(t.graveyardPosition.nodeAfter,"move"));break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const i=t.graveyardPosition.parent;this._markInsert(i,t.graveyardPosition.offset,1),this._setElementState(e,"move");const n=t.targetPosition.parent;if(!this._isInInsertedElement(n)){this._markInsert(n,t.targetPosition.offset,e.maxOffset);const i=iV._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const e of i.getItems({shallow:!0}))this._setElementState(e,"move")}break}case"detachRoot":case"addRoot":{const e=t.affectedSelectable;if(!e._isLoaded)return;if(e.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const e=t.root.rootName;this._bufferRootAttributeChange(e,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let n=this._changedMarkers.get(e);n?n.newMarkerData=i:(n={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,n)),null==n.oldMarkerData.range&&null==i.range&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)null!=i.oldMarkerData.range&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)null!=i.newMarkerData.range&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map((([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}})))}hasDataChanges(){if(this.getChanges().length)return!0;if(this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,n=!e.range&&t.range,o=e.range&&t.range&&!e.range.isEqual(t.range);if(i||n||o)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const e=this._changesInElement.get(i).sort(((e,t)=>e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1)),n=this._elementChildrenSnapshots.get(i),o=sH(i.getChildren()),r=aH(n.length,e);let s=0,a=0;for(const l of r)if("i"===l){const e=this._getDiffActionForNode(o[s].node,"insert"),n=this._elementsSnapshots.get(o[s].node),r=this._getInsertDiff(i,s,e,o[s],n);t.push(r),s++}else if("r"===l){const e=this._getDiffActionForNode(n[a].node,"remove"),o=this._getRemoveDiff(i,s,e,n[a]);t.push(o),a++}else if("a"===l){const e=n[a].attributes,r=o[s].attributes;let l;if("$text"==o[s].name)l=new iV(Qj._createAt(i,s),Qj._createAt(i,s+1));else{const e=i.offsetToIndex(s);l=new iV(Qj._createAt(i,s),Qj._createAt(i.getChild(e),0))}const c=this._getAttributesDiff(l,e,r);t.push(...c),s++,a++}else s++,a++}t.sort(((e,t)=>e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1));for(let i=1,n=0;i<t.length;i++){const e=t[n],o=t[i],r="remove"==e.type&&"remove"==o.type&&"$text"==e.name&&"$text"==o.name&&e.position.isEqual(o.position),s="insert"==e.type&&"insert"==o.type&&"$text"==e.name&&"$text"==o.name&&e.position.parent==o.position.parent&&e.position.offset+e.length==o.position.offset,a="attribute"==e.type&&"attribute"==o.type&&e.position.parent==o.position.parent&&e.range.isFlat&&o.range.isFlat&&e.position.offset+e.length==o.position.offset&&e.attributeKey==o.attributeKey&&e.attributeOldValue==o.attributeOldValue&&e.attributeNewValue==o.attributeNewValue;r||s||a?(e.length++,a&&(e.range.end=e.range.end.getShiftedBy(1)),t[i]=null):n=i}t=t.filter((e=>e));for(const i of t)delete i.changeCount,"attribute"==i.type&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(lH),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((e=>{const t={...e};return void 0!==t.state&&delete t.attributes,t}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const t=iV._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const e=i.getData();this.bufferMarkerChange(i.name,e,e)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const e=t.getData();this.bufferMarkerChange(t.name,{...e,range:null},e)}}}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const i=this._changedRoots.get(e);void 0!==i.state?(delete i.state,void 0===i.attributes&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,n){const o=this._changedRoots.get(e)||{name:e},r=o.attributes||{};if(r[t]){const e=r[t];n===e.oldValue?delete r[t]:e.newValue=n}else r[t]={oldValue:i,newValue:n};0===Object.entries(r).length?(delete o.attributes,void 0===o.state&&this._changedRoots.delete(e)):(o.attributes=r,this._changedRoots.set(e,o))}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const n={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,n)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const n={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,n),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshots(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let n=0;n<i.length;n++)i[n].howMany<1&&(i.splice(n,1),n--)}_setElementState(e,t){if(!e.is("element"))return;const i=oH._statesPriority.indexOf(this._elementState.get(e));oH._statesPriority.indexOf(t)>i&&this._elementState.set(e,t)}_getDiffActionForNode(e,t){if(!e.is("element"))return t;if(!this._elementsSnapshots.has(e))return t;const i=this._elementState.get(e);return i&&"move"!=i?i:t}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const t=sH(e.getChildren());this._elementChildrenSnapshots.set(e,t);for(const i of t)this._elementsSnapshots.set(i.node,i)}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const n=e.offset+e.howMany,o=i.offset+i.howMany;if("insert"==e.type&&("insert"==i.type&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<o&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==i.type&&e.offset<i.offset&&(i.offset+=e.howMany),"attribute"==i.type))if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<o){const o=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:n,howMany:o-i.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==i.type)if(n<=i.offset)i.offset-=e.howMany;else if(n<=o)if(e.offset<i.offset){const t=n-i.offset;i.offset=e.offset,i.howMany-=t,e.nodesToHandle-=t}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<o){const t=o-e.offset;i.howMany-=t,e.nodesToHandle-=t}if("remove"==i.type&&(n<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),"attribute"==i.type)if(n<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const t=n-i.offset;i.offset=e.offset,i.howMany-=t}else if(e.offset<o)if(n<=o){const n=i.howMany;i.howMany=e.offset-i.offset;const o=n-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:o,count:this._changeCount++})}else i.howMany-=o-e.offset}if("attribute"==e.type){if("insert"==i.type)if(e.offset<i.offset&&n>i.offset){if(n>o){const e={type:"attribute",offset:o,howMany:n-o,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<o&&(n>o?(e.nodesToHandle=n-o,e.offset=o):e.nodesToHandle=0);if("remove"==i.type&&e.offset<i.offset&&n>i.offset){const o={type:"attribute",offset:i.offset,howMany:n-i.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==i.type&&(e.offset>=i.offset&&n<=o?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&n>=o&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i,n,o){const r={type:"insert",position:Qj._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,action:i};return"insert"!=i&&o&&(r.before={name:o.name,attributes:new Map(o.attributes)}),r}_getRemoveDiff(e,t,i,n){return{type:"remove",action:i,position:Qj._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const n=[];i=new Map(i);for(const[o,r]of t){const t=i.has(o)?i.get(o):null;t!==r&&n.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:r,attributeNewValue:t,changeCount:this._changeCount++}),i.delete(o)}for(const[o,r]of i)n.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++});return n}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),n=e.startOffset;if(i)for(const o of i)if("insert"==o.type&&n>=o.offset&&n<o.offset+o.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const n=new iV(Qj._createAt(e,t),Qj._createAt(e,t+i));for(const o of n.getItems({shallow:!0}))o.is("element")&&(this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}}function rH(e){return{node:e,name:e.is("$text")?"$text":e.name,attributes:new Map(e.getAttributes())}}function sH(e){const t=[];for(const i of e)if(i.is("$text"))for(let e=0;e<i.data.length;++e)t.push(rH(i));else t.push(rH(i));return t}function aH(e,t){const i=[];let n=0,o=0;for(const r of t){if(r.offset>n){for(let e=0;e<r.offset-n;e++)i.push("e");o+=r.offset-n}if("insert"==r.type){for(let e=0;e<r.howMany;e++)i.push("i");n=r.offset+r.howMany}else if("remove"==r.type){for(let e=0;e<r.howMany;e++)i.push("r");n=r.offset,o+=r.howMany}else{if(r.howMany>1500)for(let e=0;e<r.howMany;e++)i.push("a");else i.push(..."a".repeat(r.howMany).split(""));n=r.offset+r.howMany,o+=r.howMany}}if(o<e)for(let r=0;r<e-o-n;r++)i.push("e");return i}function lH(e){const t="position"in e&&"$graveyard"==e.position.root.rootName,i="range"in e&&"$graveyard"==e.range.root.rootName;return!t&&!i}s(oH,"_statesPriority",[void 0,"refresh","rename","move"]);class cH{constructor(){s(this,"_operations",[]),s(this,"_undoPairs",new Map),s(this,"_undoneOperations",new Set),s(this,"_baseVersionToOperationIndex",new Map),s(this,"_version",0),s(this,"_gaps",new Map)}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new iF("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];void 0===e&&(e=i.baseVersion);let n=t-1;for(const[s,a]of this._gaps)e>s&&e<a&&(e=a),n>s&&n<a&&(n=s-1);if(n<i.baseVersion||e>this.lastOperation.baseVersion)return[];let o=this._baseVersionToOperationIndex.get(e);void 0===o&&(o=0);let r=this._baseVersionToOperationIndex.get(n);return void 0===r&&(r=this._operations.length-1),this._operations.slice(o,r+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(void 0!==t)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class dH extends Wj{constructor(e,t,i="main"){super(t),s(this,"rootName",void 0),s(this,"_document",void 0),s(this,"_isAttached",!0),s(this,"_isLoaded",!0),this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}dH.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e};const uH="$graveyard";let hH=class extends(dF()){constructor(e){super(),s(this,"model",void 0),s(this,"history",void 0),s(this,"selection",void 0),s(this,"roots",void 0),s(this,"differ",void 0),s(this,"isReadOnly",void 0),s(this,"_postFixers",void 0),s(this,"_hasSelectionChangedFromTheLastChangeBlock",void 0),this.model=e,this.history=new cH,this.selection=new kV(this),this.roots=new $B({idProperty:"rootName"}),this.differ=new oH(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",uH),this.listenTo(e,"applyOperation",((e,t)=>{const i=t[0];i.isDocumentOperation&&this.differ.bufferOperation(i)}),{priority:"high"}),this.listenTo(e,"applyOperation",((e,t)=>{const i=t[0];i.isDocumentOperation&&this.history.addOperation(i)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(e.markers,"update",((e,t,i,n,o)=>{const r={...t.getData(),range:n};this.differ.bufferMarkerChange(t.name,o,r),null===i&&t.on("change",((e,i)=>{const n=t.getData();this.differ.bufferMarkerChange(t.name,{...n,range:i},n)}))})),this.registerPostFixer((e=>{let t=!1;for(const i of this.roots)i.isAttached()||i.isEmpty||(e.remove(e.createRangeIn(i)),t=!0);for(const i of this.model.markers)i.getRange().root.isAttached()||(e.removeMarker(i),t=!0);return t}))}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(uH)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new iF("model-document-createroot-name-exists",this,{name:t});const i=new dH(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map((e=>e.rootName))}getRoots(e=!1){return this.roots.filter((t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded))}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=VN(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,n=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(n)||t.createRange(n)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&pH(e.start)&&pH(e.end)}_callPostFixers(e){let t=!1;do{for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break}while(t)}};function pH(e){const t=e.textNode;if(t){const i=t.data,n=e.offset-t.startOffset;return!WB(i,n)&&!YB(i,n)}return!0}class mH extends(dF()){constructor(...e){super(...e),s(this,"_markers",new Map)}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof fH?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,n=!1){const o=e instanceof fH?e.name:e;if(o.includes(","))throw new iF("markercollection-incorrect-marker-name",this);const r=this._markers.get(o);if(r){const e=r.getData(),s=r.getRange();let a=!1;return s.isEqual(t)||(r._attachLiveRange(gV.fromRange(t)),a=!0),i!=r.managedUsingOperations&&(r._managedUsingOperations=i,a=!0),"boolean"==typeof n&&n!=r.affectsData&&(r._affectsData=n,a=!0),a&&this.fire(`update:${o}`,r,s,t,e),r}const s=gV.fromRange(t),a=new fH(o,s,i,n);return this._markers.set(o,a),this.fire(`update:${o}`,a,null,t,{...a.getData(),range:null}),a}_remove(e){const t=e instanceof fH?e.name:e,i=this._markers.get(t);return!!i&&(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(e){const t=e instanceof fH?e.name:e,i=this._markers.get(t);if(!i)throw new iF("markercollection-refresh-marker-not-exists",this);const n=i.getRange();this.fire(`update:${t}`,i,n,n,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class fH extends(dF(Vj)){constructor(e,t,i,n){super(),s(this,"name",void 0),s(this,"_managedUsingOperations",void 0),s(this,"_affectsData",void 0),s(this,"_liveRange",void 0),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=n}get managedUsingOperations(){if(!this._liveRange)throw new iF("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new iF("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new iF("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new iF("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new iF("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}fH.prototype.is=function(e){return"marker"===e||"model:marker"===e};class gH extends _U{constructor(e,t){super(null),s(this,"sourcePosition",void 0),s(this,"howMany",void 0),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new iF("detach-operation-on-document-node",this)}_execute(){CU(iV._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class bH extends Vj{constructor(e){super(),s(this,"markers",new Map),s(this,"_children",new Hj),e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChildAtOffset(i);return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(Wj.fromJSON(i)):t.push(qj.fromJSON(i));return new bH(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(e){if("string"==typeof e)return[new qj(e)];LF(e)||(e=[e]);return Array.from(e).map((e=>"string"==typeof e?new qj(e):e instanceof Gj?new qj(e.data,e.getAttributes()):e))}(t);for(const n of i)null!==n.parent&&n._remove(),n.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const n of i)n.parent=null;return i}}bH.prototype.is=function(e){return"documentFragment"===e||"model:documentFragment"===e};class vH{constructor(e,t){s(this,"model",void 0),s(this,"batch",void 0),this.model=e,this.batch=t}createText(e,t){return new qj(e,t)}createElement(e,t){return new Wj(e,t)}createDocumentFragment(){return new bH}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof qj&&""==e.data)return;const n=Qj._createAt(t,i);if(e.parent){if(_H(e.root,n.root))return void this.move(iV._createOn(e),n);if(e.root.document)throw new iF("model-writer-insert-forbidden-move",this);this.remove(e)}const o=n.root.document?n.root.document.version:null,r=new RU(n,e,o);if(e instanceof qj&&(r.shouldReceiveAttributes=!0),this.batch.addOperation(r),this.model.applyOperation(r),e instanceof bH)for(const[s,a]of e.markers){const e=Qj._createAt(a.root,0),t={range:new iV(a.start._getCombined(e,n),a.end._getCombined(e,n)),usingOperation:!0,affectsData:!0};this.model.markers.has(s)?this.updateMarker(s,t):this.addMarker(s,t)}}insertText(e,t,i,n){t instanceof bH||t instanceof Wj||t instanceof Qj?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,n)}insertElement(e,t,i,n){t instanceof bH||t instanceof Wj||t instanceof Qj?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,n)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof bH||t instanceof Wj?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof bH||t instanceof Wj?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof iV){const n=i.getMinimalFlatRanges();for(const i of n)yH(this,e,t,i)}else kH(this,e,t,i)}setAttributes(e,t){for(const[i,n]of HB(e))this.setAttribute(i,n,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof iV){const i=t.getMinimalFlatRanges();for(const t of i)yH(this,e,null,t)}else kH(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(e instanceof iV)for(const i of e.getItems())t(i);else t(e)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof iV))throw new iF("writer-move-invalid-range",this);if(!e.isFlat)throw new iF("writer-move-range-not-flat",this);const n=Qj._createAt(t,i);if(n.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!_H(e.root,n.root))throw new iF("writer-move-different-document",this);const o=e.root.document?e.root.document.version:null,r=new DU(e.start,e.end.offset-e.start.offset,n,o);this.batch.addOperation(r),this.model.applyOperation(r)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof iV?e:iV._createOn(e)).getMinimalFlatRanges().reverse();for(const i of t)this._addOperationForAffectedMarkers("move",i),xH(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Wj))throw new iF("writer-merge-no-element-before",this);if(!(i instanceof Wj))throw new iF("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(iV._createIn(i),Qj._createAt(t,"end")),this.remove(i)}_merge(e){const t=Qj._createAt(e.nodeBefore,"end"),i=Qj._createAt(e.nodeAfter,0),n=e.root.document.graveyard,o=new Qj(n,[0]),r=e.root.document.version,s=new MU(i,e.nodeAfter.maxOffset,t,o,r);this.batch.addOperation(s),this.model.applyOperation(s)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Wj))throw new iF("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,n=new FU(Qj._createBefore(e),e.name,t,i);this.batch.addOperation(n),this.model.applyOperation(n)}split(e,t){this._assertWriterUsedCorrectly();let i,n,o=e.parent;if(!o.parent)throw new iF("writer-split-element-no-parent",this);if(t||(t=o.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new iF("writer-split-invalid-limit-element",this);do{const t=o.root.document?o.root.document.version:null,r=o.maxOffset-e.offset,s=LU.getInsertionPosition(e),a=new LU(e,r,s,null,t);this.batch.addOperation(a),this.model.applyOperation(a),i||n||(i=o,n=e.parent.nextSibling),o=(e=this.createPositionAfter(e.parent)).parent}while(o!==t);return{position:e,range:new iV(Qj._createAt(i,"end"),Qj._createAt(n,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new iF("writer-wrap-range-not-flat",this);const i=t instanceof Wj?t:new Wj(t);if(i.childCount>0)throw new iF("writer-wrap-element-not-empty",this);if(null!==i.parent)throw new iF("writer-wrap-element-attached",this);this.insert(i,e.start);const n=new iV(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(n,Qj._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new iF("writer-unwrap-element-no-parent",this);this.move(iV._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new iF("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,n=t.range,o=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new iF("writer-addmarker-marker-exists",this);if(!n)throw new iF("writer-addmarker-no-range",this);return i?(wH(this,e,null,n,o),this.model.markers.get(e)):this.model.markers._set(e,n,i,o)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i="string"==typeof e?e:e.name,n=this.model.markers.get(i);if(!n)throw new iF("writer-updatemarker-marker-not-exists",this);if(!t)return nF("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(n);const o="boolean"==typeof t.usingOperation,r="boolean"==typeof t.affectsData,s=r?t.affectsData:n.affectsData;if(!o&&!t.range&&!r)throw new iF("writer-updatemarker-wrong-options",this);const a=n.getRange(),l=t.range?t.range:a;o&&t.usingOperation!==n.managedUsingOperations?t.usingOperation?wH(this,i,null,l,s):(wH(this,i,a,null,s),this.model.markers._set(i,l,void 0,s)):n.managedUsingOperations?wH(this,i,a,l,s):this.model.markers._set(i,l,void 0,s)}removeMarker(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new iF("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations)return void this.model.markers._remove(t);wH(this,t,i.getRange(),null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new iF("writer-addroot-root-exists",this);const n=this.model.document,o=new zU(e,t,!0,n,n.version);return this.batch.addOperation(o),this.model.applyOperation(o),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new iF("writer-detachroot-no-root",this);for(const o of this.model.markers)o.getRange().root===t&&this.removeMarker(o);for(const o of t.getAttributeKeys())this.removeAttribute(o,t);this.remove(this.createRangeIn(t));const i=this.model.document,n=new zU(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(n),this.model.applyOperation(n)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else for(const[i,n]of HB(e))this._setSelectionAttribute(i,n)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const n=kV._getStoreAttributeKey(e);this.setAttribute(n,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=kV._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new iF("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const n=i.getRange();let o=!1;if("move"===e){const e=t;o=e.containsPosition(n.start)||e.start.isEqual(n.start)||e.containsPosition(n.end)||e.end.isEqual(n.end)}else{const e=t,i=e.nodeBefore,r=e.nodeAfter,s=n.start.parent==i&&n.start.isAtEnd,a=n.end.parent==r&&0==n.end.offset,l=n.end.nodeAfter==r,c=n.start.nodeAfter==r;o=s||a||l||c}o&&this.updateMarker(i.name,{range:n})}}}function yH(e,t,i,n){const o=e.model,r=o.document;let s,a,l,c=n.start;for(const u of n.getWalker({shallow:!0}))l=u.item.getAttribute(t),s&&a!=l&&(a!=i&&d(),c=s),s=u.nextPosition,a=l;function d(){const n=new iV(c,s),l=n.root.document?r.version:null,d=new NU(n,t,a,i,l);e.batch.addOperation(d),o.applyOperation(d)}s instanceof Qj&&s!=c&&a!=i&&d()}function kH(e,t,i,n){const o=e.model,r=o.document,s=n.getAttribute(t);let a,l;if(s!=i){if(n.root===n){const e=n.document?r.version:null;l=new BU(n,t,s,i,e)}else{a=new iV(Qj._createBefore(n),e.createPositionAfter(n));const o=a.root.document?r.version:null;l=new NU(a,t,s,i,o)}e.batch.addOperation(l),o.applyOperation(l)}}function wH(e,t,i,n,o){const r=e.model,s=r.document,a=new OU(t,i,n,r.markers,!!o,s.version);e.batch.addOperation(a),r.applyOperation(a)}function xH(e,t,i,n){let o;if(e.root.document){const i=n.document,r=new Qj(i.graveyard,[0]);o=new DU(e,t,r,i.version)}else o=new gH(e,t);i.addOperation(o),n.applyOperation(o)}function _H(e,t){return e===t||e instanceof dH&&t instanceof dH}function EH(e,t,i={}){if(t.isCollapsed)return;const n=t.getFirstRange();if("$graveyard"==n.root.rootName)return;const o=e.schema;e.change((e=>{if(!i.doNotResetEntireContent&&function(e,t){const i=e.getLimitElement(t);if(!t.containsEntireContent(i))return!1;const n=t.getFirstRange();if(n.start.parent==n.end.parent)return!1;return e.checkChild(i,"paragraph")}(o,t))return void function(e,t){const i=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(i)),SH(e,e.createPositionAt(i,0),t)}(e,t);const r={};if(!i.doNotAutoparagraph){const e=t.getSelectedElement();e&&Object.assign(r,o.getAttributesWithProperty(e,"copyOnReplace",!0))}const[s,a]=function(e){const t=e.root.document.model,i=e.start;let n=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){const i=function(e){const t=e.parent,i=t.root.document.model.schema,n=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const o of n){if(i.isLimit(o))return null;if(i.isBlock(o))return o}}(n);if(i&&n.isTouching(t.createPositionAt(i,0))){const i=t.createSelection(e);t.modifySelection(i,{direction:"backward"});const o=i.getLastPosition(),r=t.createRange(o,n);t.hasContent(r,{ignoreMarkers:!0})||(n=o)}}return[eH.fromPosition(i,"toPrevious"),eH.fromPosition(n,"toNext")]}(n);s.isTouching(a)||e.remove(e.createRange(s,a)),i.leaveUnmerged||(!function(e,t,i){const n=e.model;if(!TH(e.model.schema,t,i))return;const[o,r]=function(e,t){const i=e.getAncestors(),n=t.getAncestors();let o=0;for(;i[o]&&i[o]==n[o];)o++;return[i[o],n[o]]}(t,i);if(!o||!r)return;!n.hasContent(o,{ignoreMarkers:!0})&&n.hasContent(r,{ignoreMarkers:!0})?AH(e,t,i,o.parent):CH(e,t,i,o.parent)}(e,s,a),o.removeDisallowedAttributes(s.parent.getChildren(),e)),IH(e,t,s),!i.doNotAutoparagraph&&function(e,t){const i=e.checkChild(t,"$text"),n=e.checkChild(t,"paragraph");return!i&&n}(o,s)&&SH(e,s,t,r),s.detach(),a.detach()}))}function CH(e,t,i,n){const o=t.parent,r=i.parent;if(o!=n&&r!=n){for(t=e.createPositionAfter(o),(i=e.createPositionBefore(r)).isEqual(t)||e.insert(r,t),e.merge(t);i.parent.isEmpty;){const t=i.parent;i=e.createPositionBefore(t),e.remove(t)}TH(e.model.schema,t,i)&&CH(e,t,i,n)}}function AH(e,t,i,n){const o=t.parent,r=i.parent;if(o!=n&&r!=n){for(t=e.createPositionAfter(o),(i=e.createPositionBefore(r)).isEqual(t)||e.insert(o,i);t.parent.isEmpty;){const i=t.parent;t=e.createPositionBefore(i),e.remove(i)}i=e.createPositionBefore(r),function(e,t){const i=t.nodeBefore,n=t.nodeAfter;i.name!=n.name&&e.rename(i,n.name);e.clearAttributes(i),e.setAttributes(Object.fromEntries(n.getAttributes()),i),e.merge(t)}(e,i),TH(e.model.schema,t,i)&&AH(e,t,i,n)}}function TH(e,t,i){const n=t.parent,o=i.parent;return n!=o&&(!e.isLimit(n)&&!e.isLimit(o)&&function(e,t,i){const n=new iV(e,t);for(const o of n.getWalker())if(i.isLimit(o.item))return!1;return!0}(t,i,e))}function SH(e,t,i,n={}){const o=e.createElement("paragraph");e.model.schema.setAllowedAttributes(o,n,e),e.insert(o,t),IH(e,i,e.createPositionAt(o,0))}function IH(e,t,i){t instanceof kV?e.setSelection(i):t.setTo(i)}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function PH(e,t){const i=[];Array.from(e.getItems({direction:"backward"})).map((e=>t.createRangeOn(e))).filter((t=>(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end)))).forEach((e=>{i.push(e.start.parent),t.remove(e)})),i.forEach((e=>{let i=e;for(;i.parent&&i.isEmpty;){const e=t.createRangeOn(i);i=i.parent,t.remove(e)}}))}class DH{constructor(e,t,i){s(this,"model",void 0),s(this,"writer",void 0),s(this,"position",void 0),s(this,"canMergeWith",void 0),s(this,"schema",void 0),s(this,"_documentFragment",void 0),s(this,"_documentFragmentPosition",void 0),s(this,"_firstNode",null),s(this,"_lastNode",null),s(this,"_lastAutoParagraph",null),s(this,"_filterAttributesOf",[]),s(this,"_affectedStart",null),s(this,"_affectedEnd",null),s(this,"_nodeToSelect",null),this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){/* istanbul ignore if -- @preserve */if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new iF("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?iV._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new iV(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){this._checkAndSplitToAllowedPosition(e)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this.schema.isObject(e)||this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=eH.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new iF("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=eH.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=eH.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Wj))return;if(!this._canMergeLeft(e))return;const t=eH._createBefore(e);t.stickiness="toNext";const i=eH.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=eH._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=eH._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Wj))return;if(!this._canMergeRight(e))return;const t=eH._createAfter(e);/* istanbul ignore if -- @preserve */if(t.stickiness="toNext",!this.position.isEqual(t))throw new iF("insertcontent-invalid-insertion-position",this);this.position=Qj._createAt(t.nodeBefore,"end");const i=eH.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=eH._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=eH._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Wj&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Wj&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_insertAutoParagraph(){this._insertPartialFragment();const e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===t&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)||this.schema.checkChild(e,"paragraph")&&this.schema.checkChild("paragraph",t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function RH(e,t,i,n={}){if(!e.schema.isObject(t))throw new iF("insertobject-element-not-an-object",e,{object:t});const o=i||e.document.selection;let r=o;n.findOptimalPosition&&e.schema.isBlock(t)&&(r=e.createSelection(e.schema.findOptimalInsertionRange(o,n.findOptimalPosition)));const s=FB(o.getSelectedBlocks()),a={};return s&&Object.assign(a,e.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),e.change((i=>{r.isCollapsed||e.deleteContent(r,{doNotAutoparagraph:!0});let o=t;const s=r.anchor.parent;!e.schema.checkChild(s,t)&&e.schema.checkChild(s,"paragraph")&&e.schema.checkChild("paragraph",t)&&(o=i.createElement("paragraph"),i.insert(t,o)),e.schema.setAllowedAttributes(o,a,i);const l=e.insertContent(o,r);return l.isCollapsed||n.setSelection&&function(e,t,i,n){const o=e.model;if("on"==i)return void e.setSelection(t,"on");if("after"!=i)throw new iF("insertobject-invalid-place-parameter-value",o);let r=t.nextSibling;if(o.schema.isInline(t))return void e.setSelection(t,"after");const s=r&&o.schema.checkChild(r,"$text");!s&&o.schema.checkChild(t.parent,"paragraph")&&(r=e.createElement("paragraph"),o.schema.setAllowedAttributes(r,n,e),o.insertContent(r,e.createPositionAfter(t)));r&&e.setSelection(r,0)}(i,t,n.setSelection,a),l}))}function LH(e,t){const{isForward:i,walker:n,unit:o,schema:r,treatEmojiAsSingleUnit:s}=e,{type:a,item:l,nextPosition:c}=t;if("text"==a)return"word"===e.unit?function(e,t){let i=e.position.textNode;i||(i=t?e.position.nodeAfter:e.position.nodeBefore);for(;i&&i.is("$text");){const n=e.position.offset-i.startOffset;if(NH(i,n,t))i=t?e.position.nodeAfter:e.position.nodeBefore;else{if(OH(i.data,n,t))break;e.next()}}return e.position}(n,i):function(e,t,i){const n=e.position.textNode;if(n){const o=n.data;let r=e.position.offset-n.startOffset;for(;WB(o,r)||"character"==t&&YB(o,r)||i&&QB(o,r);)e.next(),r=e.position.offset-n.startOffset}return e.position}(n,o,s);if(a==(i?"elementStart":"elementEnd")){if(r.isSelectable(l))return Qj._createAt(l,i?"after":"before");if(r.checkChild(c,"$text"))return c}else{if(r.isLimit(l))return void n.skip((()=>!0));if(r.checkChild(c,"$text"))return c}}function MH(e,t){const i=e.root,n=Qj._createAt(i,t?"end":0);return t?new iV(e,n):new iV(n,e)}function OH(e,t,i){const n=t+(i?0:-1);return' ,.?!:;"-()'.includes(e.charAt(n))}function NH(e,t,i){return t===(i?e.offsetSize:0)}let $H=class extends(EF()){constructor(){super(),s(this,"markers",void 0),s(this,"document",void 0),s(this,"schema",void 0),s(this,"_pendingChanges",void 0),s(this,"_currentWriter",void 0),this.markers=new mH,this.document=new hH(this),this.schema=new tU,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((e=>this.decorate(e))),this.on("applyOperation",((e,t)=>{t[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((()=>!0),"$marker"),WV(this),this.document.registerPostFixer($V),this.on("insertContent",((e,[t,i])=>{e.return=function(e,t,i){return e.change((n=>{const o=i||e.document.selection;o.isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0});const r=new DH(e,n,o.anchor),s=[];let a;if(t.is("documentFragment")){if(t.markers.size){const e=[];for(const[i,n]of t.markers){const{start:t,end:o}=n,r=t.isEqual(o);e.push({position:t,name:i,isCollapsed:r},{position:o,name:i,isCollapsed:r})}e.sort((({position:e},{position:t})=>e.isBefore(t)?1:-1));for(const{position:i,name:o,isCollapsed:r}of e){let e=null,a=null;const l=i.parent===t&&i.isAtStart,c=i.parent===t&&i.isAtEnd;l||c?r&&(a=l?"start":"end"):(e=n.createElement("$marker"),n.insert(e,i)),s.push({name:o,element:e,collapsed:a})}}a=t.getChildren()}else a=[t];r.handleNodes(a);let l=r.getSelectionRange();if(t.is("documentFragment")&&s.length){const e=l?gV.fromRange(l):null,t={};for(let i=s.length-1;i>=0;i--){const{name:e,element:o,collapsed:a}=s[i],l=!t[e];if(l&&(t[e]=[]),o){const i=n.createPositionAt(o,"before");t[e].push(i),n.remove(o)}else{const i=r.getAffectedRange();if(!i){a&&t[e].push(r.position);continue}a?t[e].push(i[a]):t[e].push(l?i.start:i.end)}}for(const[i,[o,r]]of Object.entries(t))o&&r&&o.root===r.root&&o.root.document&&!n.model.markers.has(i)&&n.addMarker(i,{usingOperation:!0,affectsData:!0,range:new iV(o,r)});e&&(l=e.toRange(),e.detach())}/* istanbul ignore else -- @preserve */l&&(o instanceof kV?n.setSelection(l):o.setTo(l));const c=r.getAffectedRange()||e.createRange(o.anchor);return r.destroy(),c}))}(this,t,i)})),this.on("insertObject",((e,[t,i,n])=>{e.return=RH(this,t,i,n)})),this.on("canEditAt",(e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()}))}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new nH,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(N0){
/* istanbul ignore next -- @preserve */iF.rethrowUnexpectedError(N0,this)}}enqueueChange(e,t){try{e?"function"==typeof e?(t=e,e=new nH):e instanceof nH||(e=new nH(e)):e=new nH,this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(N0){
/* istanbul ignore next -- @preserve */iF.rethrowUnexpectedError(N0,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...n){const o=FH(t,i);return this.fire("insertContent",[e,o,i,...n])}insertObject(e,t,i,n,...o){const r=FH(t,i);return this.fire("insertObject",[e,r,n,n,...o])}deleteContent(e,t){EH(this,e,t)}modifySelection(e,t){!function(e,t,i={}){const n=e.schema,o="backward"!=i.direction,r=i.unit?i.unit:"character",s=!!i.treatEmojiAsSingleUnit,a=t.focus,l=new Yj({boundaries:MH(a,o),singleCharacters:!0,direction:o?"forward":"backward"}),c={walker:l,schema:n,isForward:o,unit:r,treatEmojiAsSingleUnit:s};let d;for(;d=l.next();){if(d.done)return;const i=LH(c,d.value);if(i)return void(t instanceof kV?e.change((e=>{e.setSelectionFocus(i)})):t.setFocus(i))}}(this,e,t)}getSelectedContent(e){return function(e,t){return e.change((e=>{const i=e.createDocumentFragment(),n=t.getFirstRange();if(!n||n.isCollapsed)return i;const o=n.start.root,r=n.start.getCommonPath(n.end),s=o.getNodeByPath(r);let a;a=n.start.parent==n.end.parent?n:e.createRange(e.createPositionAt(s,n.start.path[r.length]),e.createPositionAt(s,n.end.path[r.length]+1));const l=a.end.offset-a.start.offset;for(const t of a.getItems({shallow:!0}))t.is("$textProxy")?e.appendText(t.data,t.getAttributes(),i):e.append(e.cloneElement(t,!0),i);if(a!=n){const t=n._getTransformedByMove(a.start,e.createPositionAt(i,0),l)[0],o=e.createRange(e.createPositionAt(i,0),t.start);PH(e.createRange(t.end,e.createPositionAt(i,"end")),e),PH(o,e)}return i}))}(this,e)}hasContent(e,t={}){const i=e instanceof iV?e:iV._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:n=!1,ignoreMarkers:o=!1}=t;if(!o)for(const r of this.markers.getMarkersIntersectingRange(i))if(r.affectsData)return!0;for(const r of i.getItems())if(this.schema.isContent(r)){if(!r.is("$textProxy"))return!0;if(!n)return!0;if(-1!==r.data.search(/\S/))return!0}return!1}canEditAt(e){const t=FH(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new Qj(e,t,i)}createPositionAt(e,t){return Qj._createAt(e,t)}createPositionAfter(e){return Qj._createAfter(e)}createPositionBefore(e){return Qj._createBefore(e)}createRange(e,t){return new iV(e,t)}createRangeIn(e){return iV._createIn(e)}createRangeOn(e){return iV._createOn(e)}createSelection(...e){return new cV(...e)}createBatch(e){return new nH(e)}createOperationFromJSON(e){return VU.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new vH(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function FH(e,t){if(e)return e instanceof cV||e instanceof kV?e:e instanceof Uj?t||0===t?new cV(e,t):e.is("rootElement")?new cV(e,"in"):new cV(e,"on"):new cV(e)}class BH extends Sj{constructor(...e){super(...e),s(this,"domEventType",["mousedown","mouseup","mouseover","mouseout"])}onDomEvent(e){this.fire(e.type,e)}}class zH{constructor(e){s(this,"document",void 0),this.document=e}createDocumentFragment(e){return new Gz(this.document,e)}createElement(e,t,i){return new fz(this.document,e,t,i)}createText(e){return new sz(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const n=i.getChildIndex(e);return this.removeChildren(n,1,i),this.insertChild(n,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new fz(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){tO(e)&&void 0===i?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return _z._createAt(e,t)}createPositionAfter(e){return _z._createAfter(e)}createPositionBefore(e){return _z._createBefore(e)}createRange(e,t){return new Ez(e,t)}createRangeOn(e){return Ez._createOn(e)}createRangeIn(e){return Ez._createIn(e)}createSelection(...e){return new Az(...e)}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class jH{constructor(e){if(s(this,"crashes",[]),s(this,"state","initializing"),s(this,"_crashNumberLimit",void 0),s(this,"_now",Date.now),s(this,"_minimumNonErrorTimePeriod",void 0),s(this,"_boundErrorHandler",void 0),s(this,"_listeners",void 0),this.crashes=[],this._crashNumberLimit="number"==typeof e.crashNumberLimit?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof e.minimumNonErrorTimePeriod?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const t="error"in e?e.error:e.reason;t instanceof Error&&this._handleError(t,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter((e=>e!==t))}_fire(e,...t){const i=this._listeners[e]||[];for(const n of i)n.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&void 0!==e.context&&null!==e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;return(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function VH(e,t=new Set){const i=[e],n=new Set;let o=0;for(;i.length>o;){const e=i[o++];if(!n.has(e)&&UH(e)&&!t.has(e))if(n.add(e),Symbol.iterator in e)try{for(const t of e)i.push(t)}catch(N0){}else for(const t in e)"defaultValue"!==t&&i.push(e[t])}return n}function UH(e){const t=Object.prototype.toString.call(e),i=typeof e;return!("number"===i||"boolean"===i||"string"===i||"symbol"===i||"function"===i||"[object Date]"===t||"[object RegExp]"===t||"[object Module]"===t||null==e||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function HH(e,t,i=new Set){if(e===t&&("object"==typeof(n=e)&&null!==n))return!0;var n;
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */const o=VH(e,i),r=VH(t,i);for(const s of o)if(r.has(s))return!0;return!1}class qH extends jH{constructor(e,t={}){super(t),s(this,"_editor",null),s(this,"_lifecyclePromise",null),s(this,"_throttledSave",void 0),s(this,"_data",void 0),s(this,"_lastDocumentVersion",void 0),s(this,"_elementOrData",void 0),s(this,"_initUsingData",!0),s(this,"_editables",{}),s(this,"_config",void 0),s(this,"_excludedProps",void 0),this._throttledSave=L$(this._save.bind(this),"number"==typeof t.saveInterval?t.saveInterval:5e3),e&&(this._creator=(t,i)=>e.create(t,i)),this._destructor=e=>e.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((e=>{console.error("An error happened during the editor destroying.",e)})).then((()=>{const e={},t=[],i=this._config.rootsAttributes||{},n={};for(const[r,s]of Object.entries(this._data.roots))s.isLoaded?(e[r]="",n[r]=i[r]||{}):t.push(r);const o={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:n,_watchdogInitialData:this._data};return delete o.initialData,o.extraPlugins.push(GH),this._initUsingData?this.create(e,o,o.context):E$(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)})).then((()=>{this._fire("restart")}))}create(e=this._elementOrData,t=this._config,i){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData="string"==typeof e||Object.keys(e).length>0&&"string"==typeof Object.values(e)[0],this._config=this._cloneEditorConfiguration(t)||{},this._config.context=i,this._creator(e,this._config)))).then((e=>{this._editor=e,e.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=e.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)}))}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(N0){console.error(N0,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter((e=>e.isAttached()&&"$graveyard"!=e.rootName)),{plugins:i}=e,n=i.has("CommentsRepository")&&i.get("CommentsRepository"),o=i.has("TrackChanges")&&i.get("TrackChanges"),r={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach((e=>{r.roots[e.rootName]={content:JSON.stringify(Array.from(e.getChildren())),attributes:JSON.stringify(Array.from(e.getAttributes())),isLoaded:e._isLoaded}}));for(const s of e.model.markers)s._affectsData&&(r.markers[s.name]={rangeJSON:s.getRange().toJSON(),usingOperation:s._managedUsingOperations,affectsData:s._affectsData});return n&&(r.commentThreads=JSON.stringify(n.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(r.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),r}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(t);i&&(e[t]=i)}return e}_isErrorComingFromThisItem(e){return HH(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return HN(e,((e,t)=>E$(e)||"context"===t?e:void 0))}}class GH{constructor(e){s(this,"editor",void 0),s(this,"_data",void 0),this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},(e=>{this._restoreCollaborationData(),this._restoreEditorData(e)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(e,t){if("name"in t){const i=e.createElement(t.name,t.attributes);if(t.children)for(const n of t.children)i._appendChild(this._createNode(e,n));return i}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach((([i,{content:n,attributes:o}])=>{const r=JSON.parse(n),s=JSON.parse(o),a=t.model.document.getRoot(i);for(const[t,l]of s)e.setAttribute(t,l,a);for(const t of r){const i=this._createNode(e,t);e.insert(i,a,"end")}})),Object.entries(this._data.markers).forEach((([i,n])=>{const{document:o}=t.model,{rangeJSON:{start:r,end:s},...a}=n,l=o.getRoot(r.root),c=e.createPositionFromPath(l,r.path,r.stickiness),d=e.createPositionFromPath(l,s.path,s.stickiness),u=e.createRange(c,d);e.addMarker(i,{range:u,...a})}))}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach((e=>{const t=this.editor.config.get("collaboration.channelId"),i=this.editor.plugins.get("CommentsRepository");if(i.hasCommentThread(e.threadId)){i.getCommentThread(e.threadId).remove()}i.addCommentThread({channelId:t,...e})})),t.forEach((e=>{const t=this.editor.plugins.get("TrackChangesEditing");if(t.hasSuggestion(e.id)){t.getSuggestion(e.id).attributes=e.attributes}else t.addSuggestionData(e)}))}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */const WH=Symbol("MainQueueId");class YH{constructor(){s(this,"_onEmptyCallbacks",[]),s(this,"_queues",new Map),s(this,"_activeActions",0)}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const i=e===WH;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const n=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(WH),this._queues.get(e)])).then(t),o=n.catch((()=>{}));return this._queues.set(e,o),n.finally((()=>{this._activeActions--,this._queues.get(e)===o&&0===this._activeActions&&this._onEmptyCallbacks.forEach((e=>e()))}))}}function KH(e){return Array.isArray(e)?e:[e]}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class QH extends(EF()){constructor(e){super(),s(this,"editor",void 0),s(this,"_disableStack",new Set),this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",XH,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",XH),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function XH(e){e.return=!1,e.stop()}class JH extends(EF()){constructor(e){super(),s(this,"editor",void 0),s(this,"_isEnabledBasedOnSelection",void 0),s(this,"_affectsData",void 0),s(this,"_disableStack",void 0),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(e,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(t=>{if(!this.affectsData)return;const i=e.model.document.selection,n=!("$graveyard"==i.getFirstPosition().root.rootName)&&e.model.canEditAt(i);(e.isReadOnly||this._isEnabledBasedOnSelection&&!n)&&(t.return=!1,t.stop())}),{priority:"highest"}),this.on("execute",(e=>{this.isEnabled||e.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",ZH,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",ZH),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function ZH(e){e.return=!1,e.stop()}class eq extends(dF()){constructor(e,t=[],i=[]){super(),s(this,"_context",void 0),s(this,"_plugins",new Map),s(this,"_availablePlugins",void 0),s(this,"_contextPlugins",void 0),this._context=e,this._availablePlugins=new Map;for(const n of t)n.pluginName&&this._availablePlugins.set(n.pluginName,n);this._contextPlugins=new Map;for(const[n,o]of i)this._contextPlugins.set(n,o),this._contextPlugins.set(o,n),n.pluginName&&this._availablePlugins.set(n.pluginName,n)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let t=e;throw"function"==typeof e&&(t=e.pluginName||e.name),new iF("plugincollection-plugin-not-loaded",this._context,{plugin:t})}return t}has(e){return this._plugins.has(e)}init(e,t=[],i=[]){const n=this,o=this._context;!function e(t,i=new Set){t.forEach((t=>{a(t)&&(i.has(t)||(i.add(t),t.pluginName&&!n._availablePlugins.has(t.pluginName)&&n._availablePlugins.set(t.pluginName,t),t.requires&&e(t.requires,i)))}))}(e),u(e);const r=[...function e(t,i=new Set){return t.map((e=>a(e)?e:n._availablePlugins.get(e))).reduce(((t,n)=>i.has(n)?t:(i.add(n),n.requires&&(u(n.requires,n),e(n.requires,i).forEach((e=>t.add(e)))),t.add(n))),new Set)}(e.filter((e=>!c(e,t))))];!function(e,t){for(const i of t){if("function"!=typeof i)throw new iF("plugincollection-replace-plugin-invalid-type",null,{pluginItem:i});const t=i.pluginName;if(!t)throw new iF("plugincollection-replace-plugin-missing-name",null,{pluginItem:i});if(i.requires&&i.requires.length)throw new iF("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:t});const o=n._availablePlugins.get(t);if(!o)throw new iF("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:t});const r=e.indexOf(o);if(-1===r){if(n._contextPlugins.has(o))return;throw new iF("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:t})}if(o.requires&&o.requires.length)throw new iF("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:t});e.splice(r,1,i),n._availablePlugins.set(t,i)}}(r,i);const s=function(e){return e.map((e=>{let t=n._contextPlugins.get(e);return t=t||new e(o),n._add(e,t),t}))}(r);return h(s,"init").then((()=>h(s,"afterInit"))).then((()=>s));function a(e){return"function"==typeof e}function l(e){return a(e)&&!!e.isContextPlugin}function c(e,t){return t.some((t=>t===e||(d(e)===t||d(t)===e)))}function d(e){return a(e)?e.pluginName||e.name:e}function u(e,i=null){e.map((e=>a(e)?e:n._availablePlugins.get(e)||e)).forEach((e=>{!function(e,t){if(a(e))return;if(t)throw new iF("plugincollection-soft-required",o,{missingPlugin:e,requiredBy:d(t)});throw new iF("plugincollection-plugin-not-found",o,{plugin:e})}(e,i),function(e,t){if(!l(t))return;if(l(e))return;throw new iF("plugincollection-context-required",o,{plugin:d(e),requiredBy:d(t)})}(e,i),function(e,i){if(!i)return;if(!c(e,t))return;throw new iF("plugincollection-required",o,{plugin:d(e),requiredBy:d(i)})}(e,i)}))}function h(e,t){return e.reduce(((e,i)=>i[t]?n._contextPlugins.has(i)?e:e.then(i[t].bind(i)):e),Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)"function"!=typeof t.destroy||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const i=e.pluginName;if(i){if(this._plugins.has(i))throw new iF("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,t)}}}class tq{constructor(e){s(this,"config",void 0),s(this,"plugins",void 0),s(this,"locale",void 0),s(this,"t",void 0),s(this,"editors",void 0),s(this,"_contextOwner",null);const{translations:t,...i}=e||{};this.config=new OF(i,this.constructor.defaultConfig);const n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new eq(this,n);const o=this.config.get("language")||{};this.locale=new NB({uiLanguage:"string"==typeof o?o:o.ui,contentLanguage:this.config.get("language.content"),translations:t}),this.t=this.locale.t,this.editors=new $B}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const i of e.concat(t)){if("function"!=typeof i)throw new iF("context-initplugins-constructor-only",null,{Plugin:i});if(!0!==i.isContextPlugin)throw new iF("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,(e=>e.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(e,t){if(this._contextOwner)throw new iF("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise((t=>{const i=new this(e);t(i.initPlugins().then((()=>i)))}))}}s(tq,"defaultConfig",void 0),s(tq,"builtinPlugins",void 0);class iq{constructor(){s(this,"_commands",void 0),this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const i=this.get(e);if(!i)throw new iF("commandcollection-command-not-found",this,{commandName:e});return i.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class nq extends UB{constructor(e){super(),s(this,"editor",void 0),this.editor=e}set(e,t,i={}){if("string"==typeof t){const e=t;t=(t,i)=>{this.editor.execute(e),i()}}super.set(e,t,i)}}const oq="contentEditing",rq="common";class sq{constructor(e){s(this,"keystrokeInfos",new Map),s(this,"_editor",void 0),this._editor=e;const t=e.config.get("menuBar.isVisible"),i=e.locale.t;this.addKeystrokeInfoCategory({id:oq,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const n=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&n.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:n}]})}addKeystrokeInfoCategory({id:e,label:t,description:i,groups:n}){this.keystrokeInfos.set(e,{id:e,label:t,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:rq}),n&&n.forEach((t=>{this.addKeystrokeInfoGroup({categoryId:e,...t})}))}addKeystrokeInfoGroup({categoryId:e=oq,id:t,label:i,keystrokes:n}){const o=this.keystrokeInfos.get(e);if(!o)throw new iF("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});o.groups.set(t,{id:t,label:i,keystrokes:n||[]})}addKeystrokeInfos({categoryId:e=oq,groupId:t=rq,keystrokes:i}){if(!this.keystrokeInfos.has(e))throw new iF("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:i});const n=this.keystrokeInfos.get(e);if(!n.groups.has(t))throw new iF("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:i});n.groups.get(t).keystrokes.push(...i)}}class aq extends(EF()){constructor(e={}){if(super(),s(this,"accessibility",void 0),s(this,"commands",void 0),s(this,"config",void 0),s(this,"conversion",void 0),s(this,"data",void 0),s(this,"editing",void 0),s(this,"locale",void 0),s(this,"model",void 0),s(this,"plugins",void 0),s(this,"keystrokes",void 0),s(this,"t",void 0),s(this,"_context",void 0),s(this,"_readOnlyLocks",void 0),"sanitizeHtml"in e)throw new iF("editor-config-sanitizehtml-not-supported");const t=this.constructor,{translations:i,...n}=t.defaultConfig||{},{translations:o=i,...r}=e,a=e.language||n.language;this._context=e.context||new tq({language:a,translations:o}),this._context._addEditor(this,!e.context);const l=Array.from(t.builtinPlugins||[]);this.config=new OF(r,n),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),this.plugins=new eq(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new iq,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new $H,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const c=new hz;this.data=new yU(this.model,c),this.editing=new XV(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new kU([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new nq(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new sq(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new iF("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new iF("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new iF("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),i=e.get("removePlugins")||[],n=e.get("extraPlugins")||[],o=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(n),i,o)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise((e=>this.once("ready",e)))),e.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(N0){
/* istanbul ignore next -- @preserve */iF.rethrowUnexpectedError(N0,this)}}focus(){this.editing.view.focus()}/* istanbul ignore next -- @preserve */static create(...e){throw new Error("This is an abstract method.")}}function lq(e){return class extends e{constructor(...e){super(...e),s(this,"sourceElement",void 0)}updateSourceElement(e){if(!this.sourceElement)throw new iF("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),i=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!i)return void iB(this.sourceElement,"");const n="string"==typeof e?e:this.data.get();iB(this.sourceElement,n)}}}s(aq,"defaultConfig",void 0),s(aq,"builtinPlugins",void 0),s(aq,"Context",tq),s(aq,"EditorWatchdog",qH),s(aq,"ContextWatchdog",class extends jH{constructor(e,t={}){super(t),s(this,"_watchdogs",new Map),s(this,"_watchdogConfig",void 0),s(this,"_context",null),s(this,"_contextProps",new Set),s(this,"_actionQueues",new YH),s(this,"_contextConfig",void 0),s(this,"_item",void 0),this._watchdogConfig=t,this._creator=t=>e.create(t),this._destructor=e=>e.destroy(),this._actionQueues.onEmpty((()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))}))}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(WH,(()=>(this._contextConfig=e,this._create())))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=KH(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e.id,(()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let t;if(this._watchdogs.has(e.id))throw new Error(`Item with the given id is already added: '${e.id}'.`);if("editor"===e.type)return t=new qH(null,this._watchdogConfig),t.setCreator(e.creator),t._setExcludedProperties(this._contextProps),e.destructor&&t.setDestructor(e.destructor),this._watchdogs.set(e.id,t),t.on("error",((i,{error:n,causesRestart:o})=>{this._fire("itemError",{itemId:e.id,error:n}),o&&this._actionQueues.enqueue(e.id,(()=>new Promise((i=>{const n=()=>{t.off("restart",n),this._fire("itemRestart",{itemId:e.id}),i()};t.on("restart",n)}))))})),t.create(e.sourceElementOrData,e.config,this._context);throw new Error(`Not supported item type: '${e.type}'.`)})))))}remove(e){const t=KH(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e,(()=>{const t=this._getWatchdog(e);return this._watchdogs.delete(e),t.destroy()})))))}destroy(){return this._actionQueues.enqueue(WH,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(WH,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((e=>{console.error("An error happened during destroying the context or items.",e)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((e=>(this._context=e,this._contextProps=VH(this._context),Promise.all(Array.from(this._watchdogs.values()).map((e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((e=>e.destroy()))).then((()=>this._destructor(e)))}))}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return HH(this._context,e.context)}}),lq.updateSourceElement=lq(Object).prototype.updateSourceElement;const cq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',dq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',uq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',hq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',pq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',mq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',fq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',gq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',bq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',vq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',yq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',kq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',wq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',xq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',_q='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',Eq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>';const Cq={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Aq={};for(const e of Object.keys(Cq))Aq[Cq[e]]=e;const Tq={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Sq=Tq;for(const e of Object.keys(Tq)){if(!("channels"in Tq[e]))throw new Error("missing channels property: "+e);if(!("labels"in Tq[e]))throw new Error("missing channel labels property: "+e);if(Tq[e].labels.length!==Tq[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:i}=Tq[e];delete Tq[e].channels,delete Tq[e].labels,Object.defineProperty(Tq[e],"channels",{value:t}),Object.defineProperty(Tq[e],"labels",{value:i})}Tq.rgb.hsl=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,o=Math.min(t,i,n),r=Math.max(t,i,n),s=r-o;let a,l;r===o?a=0:t===r?a=(i-n)/s:i===r?a=2+(n-t)/s:n===r&&(a=4+(t-i)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(o+r)/2;return l=r===o?0:c<=.5?s/(r+o):s/(2-r-o),[a,100*l,100*c]},Tq.rgb.hsv=function(e){let t,i,n,o,r;const s=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(s,a,l),d=c-Math.min(s,a,l),u=function(e){return(c-e)/6/d+.5};return 0===d?(o=0,r=0):(r=d/c,t=u(s),i=u(a),n=u(l),s===c?o=n-i:a===c?o=1/3+t-n:l===c&&(o=2/3+i-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*r,100*c]},Tq.rgb.hwb=function(e){const t=e[0],i=e[1];let n=e[2];const o=Tq.rgb.hsl(e)[0],r=1/255*Math.min(t,Math.min(i,n));return n=1-1/255*Math.max(t,Math.max(i,n)),[o,100*r,100*n]},Tq.rgb.cmyk=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,o=Math.min(1-t,1-i,1-n);return[100*((1-t-o)/(1-o)||0),100*((1-i-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*o]},Tq.rgb.keyword=function(e){const t=Aq[e];if(t)return t;let i,n=1/0;for(const s of Object.keys(Cq)){const t=(r=Cq[s],((o=e)[0]-r[0])**2+(o[1]-r[1])**2+(o[2]-r[2])**2);t<n&&(n=t,i=s)}var o,r;return i},Tq.keyword.rgb=function(e){return Cq[e]},Tq.rgb.xyz=function(e){let t=e[0]/255,i=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*t+.3576*i+.1805*n),100*(.2126*t+.7152*i+.0722*n),100*(.0193*t+.1192*i+.9505*n)]},Tq.rgb.lab=function(e){const t=Tq.rgb.xyz(e);let i=t[0],n=t[1],o=t[2];i/=95.047,n/=100,o/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*n-16,500*(i-n),200*(n-o)]},Tq.hsl.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;let o,r,s;if(0===i)return s=255*n,[s,s,s];o=n<.5?n*(1+i):n+i-n*i;const a=2*n-o,l=[0,0,0];for(let c=0;c<3;c++)r=t+1/3*-(c-1),r<0&&r++,r>1&&r--,s=6*r<1?a+6*(o-a)*r:2*r<1?o:3*r<2?a+(o-a)*(2/3-r)*6:a,l[c]=255*s;return l},Tq.hsl.hsv=function(e){const t=e[0];let i=e[1]/100,n=e[2]/100,o=i;const r=Math.max(n,.01);n*=2,i*=n<=1?n:2-n,o*=r<=1?r:2-r;return[t,100*(0===n?2*o/(r+o):2*i/(n+i)),100*((n+i)/2)]},Tq.hsv.rgb=function(e){const t=e[0]/60,i=e[1]/100;let n=e[2]/100;const o=Math.floor(t)%6,r=t-Math.floor(t),s=255*n*(1-i),a=255*n*(1-i*r),l=255*n*(1-i*(1-r));switch(n*=255,o){case 0:return[n,l,s];case 1:return[a,n,s];case 2:return[s,n,l];case 3:return[s,a,n];case 4:return[l,s,n];case 5:return[n,s,a]}},Tq.hsv.hsl=function(e){const t=e[0],i=e[1]/100,n=e[2]/100,o=Math.max(n,.01);let r,s;s=(2-i)*n;const a=(2-i)*o;return r=i*o,r/=a<=1?a:2-a,r=r||0,s/=2,[t,100*r,100*s]},Tq.hwb.rgb=function(e){const t=e[0]/360;let i=e[1]/100,n=e[2]/100;const o=i+n;let r;o>1&&(i/=o,n/=o);const s=Math.floor(6*t),a=1-n;r=6*t-s,1&s&&(r=1-r);const l=i+r*(a-i);let c,d,u;switch(s){default:case 6:case 0:c=a,d=l,u=i;break;case 1:c=l,d=a,u=i;break;case 2:c=i,d=a,u=l;break;case 3:c=i,d=l,u=a;break;case 4:c=l,d=i,u=a;break;case 5:c=a,d=i,u=l}return[255*c,255*d,255*u]},Tq.cmyk.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},Tq.xyz.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100;let o,r,s;return o=3.2406*t+-1.5372*i+-.4986*n,r=-.9689*t+1.8758*i+.0415*n,s=.0557*t+-.204*i+1.057*n,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=Math.min(Math.max(0,o),1),r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),[255*o,255*r,255*s]},Tq.xyz.lab=function(e){let t=e[0],i=e[1],n=e[2];t/=95.047,i/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*i-16,500*(t-i),200*(i-n)]},Tq.lab.xyz=function(e){let t,i,n;i=(e[0]+16)/116,t=e[1]/500+i,n=i-e[2]/200;const o=i**3,r=t**3,s=n**3;return i=o>.008856?o:(i-16/116)/7.787,t=r>.008856?r:(t-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,t*=95.047,i*=100,n*=108.883,[t,i,n]},Tq.lab.lch=function(e){const t=e[0],i=e[1],n=e[2];let o;o=360*Math.atan2(n,i)/2/Math.PI,o<0&&(o+=360);return[t,Math.sqrt(i*i+n*n),o]},Tq.lch.lab=function(e){const t=e[0],i=e[1],n=e[2]/360*2*Math.PI;return[t,i*Math.cos(n),i*Math.sin(n)]},Tq.rgb.ansi16=function(e,t=null){const[i,n,o]=e;let r=null===t?Tq.rgb.hsv(e)[2]:t;if(r=Math.round(r/50),0===r)return 30;let s=30+(Math.round(o/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return 2===r&&(s+=60),s},Tq.hsv.ansi16=function(e){return Tq.rgb.ansi16(Tq.hsv.rgb(e),e[2])},Tq.rgb.ansi256=function(e){const t=e[0],i=e[1],n=e[2];if(t===i&&i===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)},Tq.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const i=.5*(1+~~(e>50));return[(1&t)*i*255,(t>>1&1)*i*255,(t>>2&1)*i*255]},Tq.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},Tq.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},Tq.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let i=t[0];3===t[0].length&&(i=i.split("").map((e=>e+e)).join(""));const n=parseInt(i,16);return[n>>16&255,n>>8&255,255&n]},Tq.rgb.hcg=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,o=Math.max(Math.max(t,i),n),r=Math.min(Math.min(t,i),n),s=o-r;let a,l;return a=s<1?r/(1-s):0,l=s<=0?0:o===t?(i-n)/s%6:o===i?2+(n-t)/s:4+(t-i)/s,l/=6,l%=1,[360*l,100*s,100*a]},Tq.hsl.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=i<.5?2*t*i:2*t*(1-i);let o=0;return n<1&&(o=(i-.5*n)/(1-n)),[e[0],100*n,100*o]},Tq.hsv.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=t*i;let o=0;return n<1&&(o=(i-n)/(1-n)),[e[0],100*n,100*o]},Tq.hcg.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;if(0===i)return[255*n,255*n,255*n];const o=[0,0,0],r=t%1*6,s=r%1,a=1-s;let l=0;switch(Math.floor(r)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return l=(1-i)*n,[255*(i*o[0]+l),255*(i*o[1]+l),255*(i*o[2]+l)]},Tq.hcg.hsv=function(e){const t=e[1]/100,i=t+e[2]/100*(1-t);let n=0;return i>0&&(n=t/i),[e[0],100*n,100*i]},Tq.hcg.hsl=function(e){const t=e[1]/100,i=e[2]/100*(1-t)+.5*t;let n=0;return i>0&&i<.5?n=t/(2*i):i>=.5&&i<1&&(n=t/(2*(1-i))),[e[0],100*n,100*i]},Tq.hcg.hwb=function(e){const t=e[1]/100,i=t+e[2]/100*(1-t);return[e[0],100*(i-t),100*(1-i)]},Tq.hwb.hcg=function(e){const t=e[1]/100,i=1-e[2]/100,n=i-t;let o=0;return n<1&&(o=(i-n)/(1-n)),[e[0],100*n,100*o]},Tq.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},Tq.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},Tq.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},Tq.gray.hsl=function(e){return[0,0,e[0]]},Tq.gray.hsv=Tq.gray.hsl,Tq.gray.hwb=function(e){return[0,100,e[0]]},Tq.gray.cmyk=function(e){return[0,0,0,e[0]]},Tq.gray.lab=function(e){return[e[0],0,0]},Tq.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i},Tq.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const Iq=Sq;function Pq(e){const t=function(){const e={},t=Object.keys(Iq);for(let i=t.length,n=0;n<i;n++)e[t[n]]={distance:-1,parent:null};return e}(),i=[e];for(t[e].distance=0;i.length;){const e=i.pop(),n=Object.keys(Iq[e]);for(let o=n.length,r=0;r<o;r++){const o=n[r],s=t[o];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,i.unshift(o))}}return t}function Dq(e,t){return function(i){return t(e(i))}}function Rq(e,t){const i=[t[e].parent,e];let n=Iq[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)i.unshift(t[o].parent),n=Dq(Iq[t[o].parent][o],n),o=t[o].parent;return n.conversion=i,n}const Lq=Sq,Mq=function(e){const t=Pq(e),i={},n=Object.keys(t);for(let o=n.length,r=0;r<o;r++){const e=n[r];null!==t[e].parent&&(i[e]=Rq(e,t))}return i},Oq={};Object.keys(Lq).forEach((e=>{Oq[e]={},Object.defineProperty(Oq[e],"channels",{value:Lq[e].channels}),Object.defineProperty(Oq[e],"labels",{value:Lq[e].labels});const t=Mq(e);Object.keys(t).forEach((i=>{const n=t[i];Oq[e][i]=function(e){const t=function(...t){const i=t[0];if(null==i)return i;i.length>1&&(t=i);const n=e(t);if("object"==typeof n)for(let e=n.length,o=0;o<e;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(n),Oq[e][i].raw=function(e){const t=function(...t){const i=t[0];return null==i?i:(i.length>1&&(t=i),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))}));
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
class Nq extends $B{constructor(e=[]){super(e,{idProperty:"viewUid"}),s(this,"_parentElement",void 0),this.on("add",((e,t,i)=>{this._renderViewIntoCollectionParent(t,i)})),this.on("remove",((e,t)=>{t.element&&this._parentElement&&t.element.remove()})),this._parentElement=null}destroy(){this.map((e=>e.destroy()))}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every((e=>"string"==typeof e)))throw new iF("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const i of this)for(const n of e)i.delegate(n).to(t);this.on("add",((i,n)=>{for(const o of e)n.delegate(o).to(t)})),this.on("remove",((i,n)=>{for(const o of e)n.stopDelegating(o,t)}))}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class $q extends(dF()){constructor(e){super(),s(this,"ns",void 0),s(this,"tag",void 0),s(this,"text",void 0),s(this,"attributes",void 0),s(this,"children",void 0),s(this,"eventListeners",void 0),s(this,"_isRendered",void 0),s(this,"_revertData",void 0),Object.assign(this,Wq(Gq(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new iF("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const i of t.children)Zq(i)?yield i:eG(i)&&(yield*e(i))}(this)}static bind(e,t){return{to:(i,n)=>new Bq({eventNameOrFunction:i,attribute:i,observable:e,emitter:t,callback:n}),if:(i,n,o)=>new zq({observable:e,emitter:t,attribute:i,valueIfTrue:n,callback:o})}}static extend(e,t){if(e._isRendered)throw new iF("template-extend-render",[this,e]);Xq(e,Wq(Gq(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new iF("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),jq(this.text)?this._bindToObservable({schema:this.text,updater:Uq(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,i=e.revertData;for(const n in this.attributes){const o=t.getAttribute(n),r=this.attributes[n];i&&(i.attributes[n]=o);const s=iG(r)?r[0].ns:null;if(jq(r)){const a=iG(r)?r[0].value:r;i&&nG(n)&&a.unshift(o),this._bindToObservable({schema:a,updater:Hq(t,n,s),data:e})}else if("style"==n&&"string"!=typeof r[0])this._renderStyleAttribute(r[0],e);else{i&&o&&nG(n)&&r.unshift(o);const e=r.map((e=>e&&e.value||e)).reduce(((e,t)=>e.concat(t)),[]).reduce(Kq,"");Jq(e)||t.setAttributeNS(s,n,e)}}}_renderStyleAttribute(e,t){const i=t.node;for(const n in e){const o=e[n];jq(o)?this._bindToObservable({schema:[o],updater:qq(i,n),data:t}):i.style[n]=o}}_renderElementChildren(e){const t=e.node,i=e.intoFragment?document.createDocumentFragment():t,n=e.isApplying;let o=0;for(const r of this.children)if(tG(r)){if(!n){r.setParent(t);for(const e of r)i.appendChild(e.element)}}else if(Zq(r))n||(r.isRendered||r.render(),i.appendChild(r.element));else if(FF(r))i.appendChild(r);else if(n){const t={children:[],bindings:[],attributes:{}};e.revertData.children.push(t),r._renderNode({intoFragment:!1,node:i.childNodes[o++],isApplying:!0,revertData:t})}else i.appendChild(r.render());e.intoFragment&&t.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const i=this.eventListeners[t].map((i=>{const[n,o]=t.split("@");return i.activateDomEventListener(n,o,e)}));e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:t,data:i}){const n=i.revertData;Vq(e,t,i);const o=e.filter((e=>!Jq(e))).filter((e=>e.observable)).map((n=>n.activateAttributeListener(e,t,i)));n&&n.bindings.push(o)}_revertTemplateFromNode(e,t){for(const n of t.bindings)for(const e of n)e();if(t.text)return void(e.textContent=t.text);const i=e;for(const n in t.attributes){const e=t.attributes[n];null===e?i.removeAttribute(n):i.setAttribute(n,e)}for(let n=0;n<t.children.length;++n)this._revertTemplateFromNode(i.childNodes[n],t.children[n])}}class Fq{constructor(e){s(this,"attribute",void 0),s(this,"observable",void 0),s(this,"emitter",void 0),s(this,"callback",void 0),this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,i){const n=()=>Vq(e,t,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,n),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,n)}}}class Bq extends Fq{constructor(e){super(e),s(this,"eventNameOrFunction",void 0),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,i){const n=(e,i)=>{t&&!i.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(i):this.observable.fire(this.eventNameOrFunction,i))};return this.emitter.listenTo(i.node,e,n),()=>{this.emitter.stopListening(i.node,e,n)}}}class zq extends Fq{constructor(e){super(e),s(this,"valueIfTrue",void 0),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Jq(super.getValue(e))&&(this.valueIfTrue||!0)}}function jq(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(jq):e instanceof Fq)}function Vq(e,t,{node:i}){const n=function(e,t){return e.map((e=>e instanceof Fq?e.getValue(t):e))}(e,i);let o;o=1==e.length&&e[0]instanceof zq?n[0]:n.reduce(Kq,""),Jq(o)?t.remove():t.set(o)}function Uq(e){return{set(t){e.textContent=t},remove(){e.textContent=""}}}function Hq(e,t,i){return{set(n){e.setAttributeNS(i,t,n)},remove(){e.removeAttributeNS(i,t)}}}function qq(e,t){return{set(i){e.style[t]=i},remove(){e.style[t]=null}}}function Gq(e){const t=HN(e,(e=>{if(e&&(e instanceof Fq||eG(e)||Zq(e)||tG(e)))return e}));return t}function Wq(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){e.text=MB(e.text)}(e),e.on&&(e.eventListeners=function(e){for(const t in e)Yq(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(const t in e)e[t].value&&(e[t].value=MB(e[t].value)),Yq(e,t)}(e.attributes);const t=[];if(e.children)if(tG(e.children))t.push(e.children);else for(const i of e.children)eG(i)||Zq(i)||FF(i)?t.push(i):t.push(new $q(i));e.children=t}return e}function Yq(e,t){e[t]=MB(e[t])}function Kq(e,t){return Jq(t)?e:Jq(e)?t:`${e} ${t}`}function Qq(e,t){for(const i in t)e[i]?e[i].push(...t[i]):e[i]=t[i]}function Xq(e,t){if(t.attributes&&(e.attributes||(e.attributes={}),Qq(e.attributes,t.attributes)),t.eventListeners&&(e.eventListeners||(e.eventListeners={}),Qq(e.eventListeners,t.eventListeners)),t.text&&e.text.push(...t.text),t.children&&t.children.length){if(e.children.length!=t.children.length)throw new iF("ui-template-extend-children-mismatch",e);let i=0;for(const n of t.children)Xq(e.children[i++],n)}}function Jq(e){return!e&&0!==e}function Zq(e){return e instanceof oG}function eG(e){return e instanceof $q}function tG(e){return e instanceof Nq}function iG(e){return uL(e[0])&&e[0].ns}function nG(e){return"class"==e||"style"==e}class oG extends(jF(EF())){constructor(e){super(),s(this,"element",void 0),s(this,"isRendered",void 0),s(this,"locale",void 0),s(this,"t",void 0),s(this,"template",void 0),s(this,"_viewCollections",void 0),s(this,"_unboundChildren",void 0),s(this,"_bindTemplate",void 0),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new $B,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((t,i)=>{i.locale=e,i.t=e&&e.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=$q.bind(this,this)}createCollection(e){const t=new Nq(e);return this._viewCollections.add(t),t}registerChild(e){LF(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){LF(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new $q(e)}extendTemplate(e){$q.extend(this.template,e)}render(){if(this.isRendered)throw new iF("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((e=>e.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function rG({emitter:e,activator:t,callback:i,contextElements:n,listenerOptions:o}){e.listenTo(document,"mousedown",((e,o)=>{if(!t())return;const r="function"==typeof o.composedPath?o.composedPath():[],s="function"==typeof n?n():n;for(const t of s)if(t.contains(o.target)||r.includes(t))return;i()}),o)}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class sG extends oG{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",(e=>!e)),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:i,value:n}of Array.from(e.attributes))sG.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((e=>{e.style.fill=this.fillColor}))}}s(sG,"presentationalAttributeNames",["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"]);class aG extends oG{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}class lG extends oG{constructor(e,t=new aG){super(e),s(this,"children",void 0),s(this,"labelView",void 0),s(this,"iconView",void 0),s(this,"keystrokeView",void 0),s(this,"_focusDelayed",null);const i=this.bindTemplate,n=Z$();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${n}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new sG,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const o={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",(e=>!e)),i.if("isVisible","ck-hidden",(e=>!e)),i.to("isOn",(e=>e?"ck-on":"ck-off")),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",(e=>e||"button")),tabindex:i.to("tabindex"),"aria-checked":i.to("_ariaChecked"),"aria-pressed":i.to("_ariaPressed"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,(e=>!e)),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to((e=>{this.isEnabled?this.fire("execute"):e.preventDefault()}))}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",((e,t,i)=>!(!t||cG(i))&&String(!!e))),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",((e,t,i)=>!(!t||!cG(i))&&String(!!e))),F$.isSafari&&(this._focusDelayed||(this._focusDelayed=GB((()=>this.focus()),0)),o.on.mousedown=i.to((()=>{this._focusDelayed()})),o.on.mouseup=i.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(o)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new oG;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(e=>IB(e)))}]}),e}_getTooltipString(e,t,i){return e?"string"==typeof e?e:(i&&(i=IB(i)),e instanceof Function?e(t,i):`${t}${i?` (${i})`:""}`):""}}function cG(e){switch(e){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class dG extends oG{constructor(e,t={}){super(e),s(this,"children",void 0),s(this,"iconView",void 0);const i=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),t.icon&&(this.iconView=new sG,this.iconView.content=t.icon,this.children.add(this.iconView));const n=new oG(e);n.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(n)}}class uG extends(dF()){constructor(e){if(super(),s(this,"focusables",void 0),s(this,"focusTracker",void 0),s(this,"keystrokeHandler",void 0),s(this,"actions",void 0),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let i=e.actions[t];"string"==typeof i&&(i=[i]);for(const n of i)e.keystrokeHandler.set(n,((e,i)=>{this[t](),i()}),e.keystrokeHandlerOptions)}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(hG)||null}get last(){return this.focusables.filter(hG).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(((t,i)=>{const n=t.element===this.focusTracker.focusedElement;return n&&(e=i),n})),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const t=()=>null===this.current?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",(e=>{const i=t();this.focusNext(),i!==t()&&e.stop()}),{priority:"low"}),this.listenTo(e,"backwardCycle",(e=>{const i=t();this.focusPrevious(),i!==t()&&e.stop()}),{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const i=this.current;if(null===i)return this[1===e?"first":"last"];let n=this.focusables.get(i),o=(i+t+e)%t;do{const i=this.focusables.get(o);if(hG(i)){n=i;break}o=(o+t+e)%t}while(o!==i);return n}}function hG(e){return pG(e)&&lB(e.element)}function pG(e){return!(!("focus"in e)||"function"!=typeof e.focus)}function mG(e){return class extends e{constructor(...e){super(...e),s(this,"_onDragBound",this._onDrag.bind(this)),s(this,"_onDragEndBound",this._onDragEnd.bind(this)),s(this,"_lastDraggingCoordinates",{x:0,y:0}),this.on("render",(()=>{this._attachListeners()})),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(O$.document,"mouseup",this._onDragEndBound),this.listenTo(O$.document,"touchend",this._onDragEndBound),this.listenTo(O$.document,"mousemove",this._onDragBound),this.listenTo(O$.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(O$.document,"mouseup",this._onDragEndBound),this.stopListening(O$.document,"touchend",this._onDragEndBound),this.stopListening(O$.document,"mousemove",this._onDragBound),this.stopListening(O$.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let i=0,n=0;t instanceof MouseEvent?(i=t.clientX,n=t.clientY):(i=t.touches[0].clientX,n=t.touches[0].clientY),this._lastDraggingCoordinates={x:i,y:n},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let i=0,n=0;t instanceof MouseEvent?(i=t.clientX,n=t.clientY):(i=t.touches[0].clientX,n=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(i-this._lastDraggingCoordinates.x),deltaY:Math.round(n-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:i,y:n}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}class fG extends oG{constructor(e){super(e),s(this,"children",void 0),s(this,"keystrokes",void 0),s(this,"focusCycler",void 0),s(this,"_focusTracker",void 0),s(this,"_focusables",void 0),this.children=this.createCollection(),this.keystrokes=new UB,this._focusTracker=new BB,this._focusables=new Nq,this.focusCycler=new uG({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const e=new lG(this.locale);let i;for(i in e.on("execute",(()=>t.onExecute())),t.onCreate&&t.onCreate(e),t)"onExecute"!=i&&"onCreate"!=i&&e.set(i,t[i]);this.children.add(e)}this._updateFocusCyclableItems()}focus(e){-1===e?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach((e=>{this._focusables.add(e),this._focusTracker.add(e.element)}))}}class gG extends oG{constructor(e){super(e),s(this,"children",void 0),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const bG="screen-center",vG="editor-center",yG="editor-top-side",kG="editor-top-center",wG="editor-bottom-center",xG="editor-above-center",_G="editor-below-center",EG=nB("px");class CG extends(mG(oG)){constructor(e,{getCurrentDomRoot:t,getViewportOffset:i}){super(e),s(this,"parts",void 0),s(this,"headerView",void 0),s(this,"closeButtonView",void 0),s(this,"actionsView",void 0),s(this,"contentView",void 0),s(this,"keystrokes",void 0),s(this,"focusTracker",void 0),s(this,"wasMoved",!1),s(this,"_getCurrentDomRoot",void 0),s(this,"_getViewportOffset",void 0),s(this,"_focusables",void 0),s(this,"_focusCycler",void 0);const n=this.bindTemplate,o=e.t;this.set("className",""),this.set("ariaLabel",o("Editor dialog")),this.set("isModal",!1),this.set("position",bG),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new UB,this.focusTracker=new BB,this._focusables=new Nq,this._focusCycler=new uG({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",n.if("isModal","ck-dialog-overlay__transparent",(e=>!e)),n.if("_isVisible","ck-hidden",(e=>!e))],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",n.if("isModal","ck-dialog_modal"),n.to("className")],role:"dialog","aria-label":n.to("ariaLabel"),style:{top:n.to("_top",(e=>EG(e))),left:n.to("_left",(e=>EG(e))),visibility:n.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",((e,t)=>{this.fire("close",{source:"escKeyPress"}),t()})),this.on("drag",((e,{deltaX:t,deltaY:i})=>{this.wasMoved=!0,this.moveBy(t,i)})),this.listenTo(O$.window,"resize",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.listenTo(O$.document,"scroll",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.on("change:_isVisible",((e,t,i)=>{i&&(this._isTransparent=!0,setTimeout((()=>{this.updatePosition(),this._isTransparent=!1,this.focus()}),10))})),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:i=!0,content:n,actionButtons:o}){t&&(this.headerView=new dG(this.locale,{icon:e}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),n&&(n instanceof oG&&(n=[n]),this.contentView=new gG(this.locale),this.contentView.children.addMany(n),this.parts.add(this.contentView)),o&&(this.actionsView=new fG(this.locale),this.actionsView.setButtons(o),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const i=this._getViewportRect(),n=this._getDialogRect();e+n.width>i.right&&(e=i.right-n.width),e<i.left&&(e=i.left),t<i.top&&(t=i.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t,i=this.position;this._getCurrentDomRoot()?t=this._getVisibleDomRootRect(e):i=bG;const n=CG.defaultOffset,o=this._getDialogRect();switch(i){case yG:if(t){const e="ltr"===this.locale.contentLanguageDirection?t.right-o.width-n:t.left+n;this.moveTo(e,t.top+n)}else this._moveOffScreen();break;case vG:t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),Math.round(t.top+t.height/2-o.height/2)):this._moveOffScreen();break;case bG:this.moveTo(Math.round((e.width-o.width)/2),Math.round((e.height-o.height)/2));break;case kG:t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),t.top+n):this._moveOffScreen();break;case wG:t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),t.bottom-o.height-n):this._moveOffScreen();break;case xG:t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),t.top-o.height-n):this._moveOffScreen();break;case _G:t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),t.bottom+n):this._moveOffScreen()}}_getVisibleDomRootRect(e){let t=new QF(this._getCurrentDomRoot()).getVisible();return t?(t=e.getIntersection(t),t||null):null}_getDialogRect(){return new QF(this.element.firstElementChild)}_getViewportRect(){const e=new QF(O$.window);if(this.isModal)return e;const t={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e.left+=t.left,e.right-=t.right,e.width-=t.left+t.right,e}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)pG(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach((e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),pG(t=e)&&"focusCycler"in t&&t.focusCycler instanceof uG&&this._focusCycler.chain(e.focusCycler)}))}_createCloseButton(){const e=new lG(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:dq}),e.on("execute",(()=>this.fire("close",{source:"closeButton"}))),e}}s(CG,"defaultOffset",15);class AG extends QH{static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(e){super(e),s(this,"view",void 0),s(this,"_onHide",void 0);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",((e,t)=>{this._show(t)})),this.on("show",((e,t)=>{t.onShow&&t.onShow(this)}),{priority:"low"}),this.on("hide",(()=>{AG._visibleDialogPlugin&&AG._visibleDialogPlugin._hide()})),this.on("hide",(()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)}),{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",((t,i)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),i())}))}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",(()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const e of t)e.state&&this.view.updatePosition()}))}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:i,hasCloseButton:n=!0,content:o,actionButtons:r,className:s,isModal:a,position:l,onHide:c}){const d=this.editor;this.view=new CG(d.locale,{getCurrentDomRoot:()=>d.editing.view.getDomRoot(d.model.document.selection.anchor.root.rootName),getViewportOffset:()=>d.ui.viewportOffset});const u=this.view;u.on("close",(()=>{this.hide()})),d.ui.view.body.add(u),d.keystrokes.listenTo(u.element),l||(l=a?bG:vG),a&&this._lockBodyScroll(),u.set({position:l,_isVisible:!0,className:s,isModal:a}),u.setupParts({icon:t,title:i,hasCloseButton:n,content:o,actionButtons:r}),this.id=e,c&&(this._onHide=c),this.isOpen=!0,AG._visibleDialogPlugin=this}hide(){AG._visibleDialogPlugin&&AG._visibleDialogPlugin.fire(`hide:${AG._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.isModal&&this._unlockBodyScroll(),t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,AG._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}s(AG,"_visibleDialogPlugin",void 0);class TG extends lG{constructor(e,t=new aG){super(e,t),s(this,"_checkIconHolderView",new SG),this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",i.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",((e,t)=>e||t))}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",(e=>this.isToggleable&&e)),this.on("change:_hasCheck",((e,t,i)=>{const{children:n,_checkIconHolderView:o}=this;i?n.add(o,0):n.remove(o)}))}}class SG extends oG{constructor(){super(),s(this,"children",void 0),s(this,"_checkIconView",this._createCheckIconView());const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",(e=>e?"ck-on":"ck-off"))]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",((e,t,i)=>{const{children:n,_checkIconView:o}=this;i&&!n.has(o)?n.add(o):!i&&n.has(o)&&n.remove(o)}))}_createCheckIconView(){const e=new sG;return e.content=uq,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class IG extends TG{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class PG extends oG{constructor(e){super(e),s(this,"id",void 0),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Z$()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class DG extends oG{constructor(e,t){super(e);const i=e.t,n=new PG;n.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":n.id,role:"document",tabindex:-1},children:[MF(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),n]})}focus(){this.element.focus()}_createCategories(e){return e.map((e=>{const t=[MF(document,"h3",{},e.label),...Array.from(e.groups.values()).map((e=>this._createGroup(e))).flat()];return e.description&&t.splice(1,0,MF(document,"p",{},e.description)),MF(document,"section",{},t)}))}_createGroup(e){const t=e.keystrokes.sort(((e,t)=>e.label.localeCompare(t.label))).map((e=>this._createGroupRow(e))).flat(),i=[MF(document,"dl",{},t)];return e.label&&i.unshift(MF(document,"h4",{},e.label)),i}_createGroupRow(e){const t=this.locale.t,i=MF(document,"dt"),n=MF(document,"dd"),o=function(e){if("string"==typeof e)return[[e]];if("string"==typeof e[0])return[e];return e}(e.keystroke),r=[];for(const s of o)r.push(s.map(RG).join(""));return i.innerHTML=e.label,n.innerHTML=r.join(", ")+(e.mayRequireFn&&F$.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[i,n]}}function RG(e){return IB(e).split("+").map((e=>`<kbd>${e}</kbd>`)).join("+")}var LG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';class MG extends QH{constructor(...e){super(...e),s(this,"contentView",null)}static get requires(){return[AG]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",(()=>{const e=this._createButton(lG);return e.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),e})),e.ui.componentFactory.add("menuBar:accessibilityHelp",(()=>{const e=this._createButton(IG);return e.label=t("Accessibility"),e})),e.keystrokes.set("Alt+0",((e,t)=>{this._toggleDialog(),t()})),this._setupRootLabels()}_createButton(e){const t=this.editor,i=t.plugins.get("Dialog"),n=new e(t.locale);return n.set({keystroke:"Alt+0",icon:LG,isToggleable:!0}),n.on("execute",(()=>this._toggleDialog())),n.bind("isOn").to(i,"id",(e=>"accessibilityHelp"===e)),n}_setupRootLabels(){const e=this.editor,t=e.editing.view,i=e.t;function n(e,t){const n=[t.getAttribute("aria-label"),i("Press %0 for help.",[IB("Alt+0")])].filter((e=>e)).join(". ");e.setAttribute("aria-label",n,t)}e.ui.on("ready",(()=>{t.change((e=>{for(const i of t.document.roots)n(e,i)})),e.on("addRoot",((i,o)=>{const r=e.editing.view.document.getRoot(o.rootName);t.change((e=>n(e,r)))}),{priority:"low"})}))}_toggleDialog(){const e=this.editor,t=e.plugins.get("Dialog"),i=e.locale.t;this.contentView||(this.contentView=new DG(e.locale,e.accessibility.keystrokeInfos)),"accessibilityHelp"===t.id?t.hide():t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:LG,hasCloseButton:!0,content:this.contentView})}}class OG extends Nq{constructor(e,t=[]){super(t),s(this,"locale",void 0),s(this,"_bodyCollectionContainer",void 0),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new $q({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=MF(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}class NG extends lG{constructor(e){super(e),s(this,"toggleSwitchView",void 0),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new oG;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class $G extends(FG(TG)){}function FG(e){return class extends e{constructor(...e){super(...e),s(this,"buttonView",void 0),s(this,"_fileInputView",void 0),this.buttonView=this,this._fileInputView=new BG(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",(()=>{this._fileInputView.open()})),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}}class BG extends oG{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to((/* istanbul ignore next -- @preserve */()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""}))}})}open(){this.element.click()}}var zG='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class jG extends oG{constructor(e,t){super(e),s(this,"fieldView",void 0),s(this,"labelView",void 0),s(this,"statusView",void 0),s(this,"fieldWrapperChildren",void 0);const i=`ck-labeled-field-view-${Z$()}`,n=`ck-labeled-field-view-status-${Z$()}`;this.fieldView=t(this,i,n),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(n),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((e,t)=>e||t));const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",(e=>!e)),o.if("isEmpty","ck-labeled-field-view_empty"),o.if("isFocused","ck-labeled-field-view_focused"),o.if("placeholder","ck-labeled-field-view_placeholder"),o.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new PG(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new oG(this.locale),i=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",(e=>!e))],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class VG extends oG{constructor(e){super(e),s(this,"children",void 0);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",(e=>`ck-dropdown__panel_${e}`)),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to((e=>{"input"!==e.target.tagName.toLocaleLowerCase()&&e.preventDefault()}))}})}focus(){if(this.children.length){const e=this.children.first;"function"==typeof e.focus?e.focus():nF("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}class UG extends oG{constructor(e,t,i){super(e),s(this,"buttonView",void 0),s(this,"panelView",void 0),s(this,"focusTracker",void 0),s(this,"keystrokes",void 0),s(this,"listView",void 0),s(this,"toolbarView",void 0),s(this,"menuView",void 0);const n=this.bindTemplate;this.buttonView=t,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new UB,this.focusTracker=new BB,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",(e=>!e))],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[t,i]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":n.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((e,t,i)=>{if(i)if("auto"===this.panelPosition){const e=UG._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=e?e.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const e=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",((e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())})),this.keystrokes.set("arrowright",((e,t)=>{this.isOpen&&t()})),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:i,southWest:n,northEast:o,northWest:r,southMiddleEast:s,southMiddleWest:a,northMiddleEast:l,northMiddleWest:c}=UG.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[i,n,s,a,e,o,r,l,c,t]:[n,i,a,s,e,r,o,c,l,t]}}s(UG,"defaultPanelPositions",{south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-3*(t.width-e.width)/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-3*(t.width-e.width)/4,name:"nmw"})}),s(UG,"_getOptimalPosition",cB);class HG extends lG{constructor(e){super(e),s(this,"arrowView",void 0),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(e=>String(e)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new sG;return e.content=zG,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class qG extends oG{constructor(e){super(e),s(this,"children",void 0);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",(e=>!e))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class GG extends oG{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class WG extends oG{constructor(e,t=new PG){super(e),s(this,"labelView",void 0),s(this,"items",void 0),s(this,"children",void 0);const i=this.bindTemplate,n=new YG(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,n]),n.set({role:"group",ariaLabelledBy:t.id}),n.focusTracker.destroy(),n.keystrokes.destroy(),this.items=n.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",(e=>!e))]},children:this.children})}focus(){if(this.items){const e=this.items.find((e=>!(e instanceof GG)));e&&e.focus()}}}class YG extends oG{constructor(e){super(e),s(this,"focusables",void 0),s(this,"items",void 0),s(this,"focusTracker",void 0),s(this,"keystrokes",void 0),s(this,"_focusCycler",void 0),s(this,"_listItemGroupToChangeListeners",new WeakMap);const t=this.bindTemplate;this.focusables=new Nq,this.items=this.createCollection(),this.focusTracker=new BB,this.keystrokes=new UB,this._focusCycler=new uG({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof WG?this._registerFocusableItemsGroup(e):e instanceof qG&&this._registerFocusableListItem(e);this.items.on("change",((e,t)=>{for(const i of t.removed)i instanceof WG?this._deregisterFocusableItemsGroup(i):i instanceof qG&&this._deregisterFocusableListItem(i);for(const i of Array.from(t.added).reverse())i instanceof WG?this._registerFocusableItemsGroup(i,t.index):this._registerFocusableListItem(i,t.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,i)=>{for(const e of i.removed)this._deregisterFocusableListItem(e);for(const n of Array.from(i.added).reverse())this._registerFocusableListItem(n,this.items.getIndex(e)+i.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach(((e,i)=>{const n=void 0!==t?t+i:void 0;this._registerFocusableListItem(e,n)}));const i=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,i),e.items.on("change",i)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}const KG=nB("px"),QG={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class XG extends oG{constructor(e){super(e),s(this,"content",void 0),s(this,"_pinWhenIsVisibleCallback",void 0),s(this,"_resizeObserver",void 0);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",(e=>`ck-balloon-panel_${e}`)),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",KG),left:t.to("left",KG)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const t=JG(e.target);if(t&&!lB(t))return!1;this.show();const i=XG.defaultPositions,n=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:O$.document.body,fitInViewport:!0},e),o=XG._getOptimalPosition(n)||QG,r=parseInt(o.left),s=parseInt(o.top),a=o.name,l=o.config||{},{withArrow:c=!0}=l;return this.top=s,this.left=r,this.position=a,this.withArrow=c,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let t=JG(e.target);const i=e.limiter?JG(e.limiter):O$.document.body;if(this.listenTo(O$.document,"scroll",((n,o)=>{const r=o.target,s=t&&r.contains(t),a=i&&r.contains(i);!s&&!a&&t&&i||this.attachTo(e)}),{useCapture:!0}),this.listenTo(O$.window,"resize",(()=>{this.attachTo(e)})),!this._resizeObserver&&(t&&GF(t)&&(t=t.parentElement),t)){const e=()=>{lB(t)||this.unpin()};this._resizeObserver=new tB(t,e)}return!0}_stopPinning(){this.stopListening(O$.document,"scroll"),this.stopListening(O$.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:t=XG.arrowSideOffset,heightOffset:i=XG.arrowHeightOffset,stickyVerticalOffset:n=XG.stickyVerticalOffset,config:o}=e;return{northWestArrowSouthWest:(e,i)=>({top:r(e,i),left:e.left-t,name:"arrow_sw",...o&&{config:o}}),northWestArrowSouthMiddleWest:(e,i)=>({top:r(e,i),left:e.left-.25*i.width-t,name:"arrow_smw",...o&&{config:o}}),northWestArrowSouth:(e,t)=>({top:r(e,t),left:e.left-t.width/2,name:"arrow_s",...o&&{config:o}}),northWestArrowSouthMiddleEast:(e,i)=>({top:r(e,i),left:e.left-.75*i.width+t,name:"arrow_sme",...o&&{config:o}}),northWestArrowSouthEast:(e,i)=>({top:r(e,i),left:e.left-i.width+t,name:"arrow_se",...o&&{config:o}}),northArrowSouthWest:(e,i)=>({top:r(e,i),left:e.left+e.width/2-t,name:"arrow_sw",...o&&{config:o}}),northArrowSouthMiddleWest:(e,i)=>({top:r(e,i),left:e.left+e.width/2-.25*i.width-t,name:"arrow_smw",...o&&{config:o}}),northArrowSouth:(e,t)=>({top:r(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s",...o&&{config:o}}),northArrowSouthMiddleEast:(e,i)=>({top:r(e,i),left:e.left+e.width/2-.75*i.width+t,name:"arrow_sme",...o&&{config:o}}),northArrowSouthEast:(e,i)=>({top:r(e,i),left:e.left+e.width/2-i.width+t,name:"arrow_se",...o&&{config:o}}),northEastArrowSouthWest:(e,i)=>({top:r(e,i),left:e.right-t,name:"arrow_sw",...o&&{config:o}}),northEastArrowSouthMiddleWest:(e,i)=>({top:r(e,i),left:e.right-.25*i.width-t,name:"arrow_smw",...o&&{config:o}}),northEastArrowSouth:(e,t)=>({top:r(e,t),left:e.right-t.width/2,name:"arrow_s",...o&&{config:o}}),northEastArrowSouthMiddleEast:(e,i)=>({top:r(e,i),left:e.right-.75*i.width+t,name:"arrow_sme",...o&&{config:o}}),northEastArrowSouthEast:(e,i)=>({top:r(e,i),left:e.right-i.width+t,name:"arrow_se",...o&&{config:o}}),southWestArrowNorthWest:e=>({top:s(e),left:e.left-t,name:"arrow_nw",...o&&{config:o}}),southWestArrowNorthMiddleWest:(e,i)=>({top:s(e),left:e.left-.25*i.width-t,name:"arrow_nmw",...o&&{config:o}}),southWestArrowNorth:(e,t)=>({top:s(e),left:e.left-t.width/2,name:"arrow_n",...o&&{config:o}}),southWestArrowNorthMiddleEast:(e,i)=>({top:s(e),left:e.left-.75*i.width+t,name:"arrow_nme",...o&&{config:o}}),southWestArrowNorthEast:(e,i)=>({top:s(e),left:e.left-i.width+t,name:"arrow_ne",...o&&{config:o}}),southArrowNorthWest:e=>({top:s(e),left:e.left+e.width/2-t,name:"arrow_nw",...o&&{config:o}}),southArrowNorthMiddleWest:(e,i)=>({top:s(e),left:e.left+e.width/2-.25*i.width-t,name:"arrow_nmw",...o&&{config:o}}),southArrowNorth:(e,t)=>({top:s(e),left:e.left+e.width/2-t.width/2,name:"arrow_n",...o&&{config:o}}),southArrowNorthMiddleEast:(e,i)=>({top:s(e),left:e.left+e.width/2-.75*i.width+t,name:"arrow_nme",...o&&{config:o}}),southArrowNorthEast:(e,i)=>({top:s(e),left:e.left+e.width/2-i.width+t,name:"arrow_ne",...o&&{config:o}}),southEastArrowNorthWest:e=>({top:s(e),left:e.right-t,name:"arrow_nw",...o&&{config:o}}),southEastArrowNorthMiddleWest:(e,i)=>({top:s(e),left:e.right-.25*i.width-t,name:"arrow_nmw",...o&&{config:o}}),southEastArrowNorth:(e,t)=>({top:s(e),left:e.right-t.width/2,name:"arrow_n",...o&&{config:o}}),southEastArrowNorthMiddleEast:(e,i)=>({top:s(e),left:e.right-.75*i.width+t,name:"arrow_nme",...o&&{config:o}}),southEastArrowNorthEast:(e,i)=>({top:s(e),left:e.right-i.width+t,name:"arrow_ne",...o&&{config:o}}),westArrowEast:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.left-t.width-i,name:"arrow_e",...o&&{config:o}}),eastArrowWest:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.right+i,name:"arrow_w",...o&&{config:o}}),viewportStickyNorth:(e,t,i,r)=>{const s=r||i;return e.getIntersection(s)?s.height-e.height>n?null:{top:s.top+n,left:e.left+e.width/2-t.width/2,name:"arrowless",config:{withArrow:!1,...o}}:null}};function r(e,t){return e.top-t.height-i}function s(e){return e.bottom+i}}}function JG(e){return E$(e)?e:WF(e)?e.commonAncestorContainer:"function"==typeof e?JG(e()):null}d=XG,s(XG,"arrowSideOffset",25),s(XG,"arrowHeightOffset",10),s(XG,"stickyVerticalOffset",20),s(XG,"_getOptimalPosition",cB),s(XG,"defaultPositions",d.generatePositions());class ZG extends oG{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class eW extends oG{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
function tW(e){if(Array.isArray(e))return{items:e,removeItems:[]};const t={items:[],removeItems:[]};return e?{...t,...e}:t}const iW=(()=>({alignLeft:vq,bold:cq,importExport:mq,paragraph:fq,plus:gq,text:bq,threeVerticalDots:wq,pilcrow:yq,dragIndicator:xq}))();class nW extends oG{constructor(e,t){super(e),s(this,"options",void 0),s(this,"items",void 0),s(this,"focusTracker",void 0),s(this,"keystrokes",void 0),s(this,"itemsView",void 0),s(this,"children",void 0),s(this,"focusables",void 0),s(this,"_focusCycler",void 0),s(this,"_behavior",void 0);const i=this.bindTemplate,n=this.t;this.options=t||{},this.set("ariaLabel",n("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new BB,this.keystrokes=new UB,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new oW(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const o="rtl"===e.uiLanguageDirection;this._focusCycler=new uG({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[o?"arrowright":"arrowleft","arrowup"],focusNext:[o?"arrowleft":"arrowright","arrowdown"]}});const r=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];var a;this.options.shouldGroupWhenFull&&this.options.isFloating&&r.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:r,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(a=this,a.bindTemplate.to((e=>{e.target===a.element&&e.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new sW(this):new rW(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",((e,t)=>{this.focusTracker.add(t)})),this.items.on("remove",((e,t)=>{this.focusTracker.remove(t)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,i){this.items.addMany(this._buildItemsFromConfig(e,t,i))}_buildItemsFromConfig(e,t,i){const n=tW(e),o=i||n.removeItems;return this._cleanItemsConfiguration(n.items,t,o).map((e=>uL(e)?this._createNestedToolbarDropdown(e,t,o):"|"===e?new ZG:"-"===e?new eW:t.create(e))).filter((e=>!!e))}_cleanItemsConfiguration(e,t,i){const n=e.filter(((e,n,o)=>"|"===e||-1===i.indexOf(e)&&("-"===e?!this.options.shouldGroupWhenFull||(nF("toolbarview-line-break-ignored-when-grouping-items",o),!1):!(!uL(e)&&!t.has(e))||(nF("toolbarview-item-unavailable",{item:e}),!1))));return this._cleanSeparatorsAndLineBreaks(n)}_cleanSeparatorsAndLineBreaks(e){const t=e=>"-"!==e&&"|"!==e,i=e.length,n=e.findIndex(t);if(-1===n)return[];const o=i-e.slice().reverse().findIndex(t);return e.slice(n,o).filter(((e,i,n)=>{if(t(e))return!0;return!(i>0&&n[i-1]===e)}))}_createNestedToolbarDropdown(e,t,i){let{label:n,icon:o,items:r,tooltip:s=!0,withText:a=!1}=e;if(r=this._cleanItemsConfiguration(r,t,i),!r.length)return null;const l=lW(this.locale);return n||nF("toolbarview-nested-toolbar-dropdown-missing-label",e),l.class="ck-toolbar__nested-toolbar-dropdown",l.buttonView.set({label:n,tooltip:s,withText:!!a}),!1!==o?l.buttonView.icon=iW[o]||o||wq:l.buttonView.withText=!0,cW(l,(()=>l.toolbarView._buildItemsFromConfig(r,t,i))),l}}class oW extends oG{constructor(e){super(e),s(this,"children",void 0),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class rW{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using((e=>e)),e.focusables.bindTo(e.items).using((e=>pG(e)?e:null)),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class sW{constructor(e){s(this,"view",void 0),s(this,"viewChildren",void 0),s(this,"viewFocusables",void 0),s(this,"viewItemsView",void 0),s(this,"viewFocusTracker",void 0),s(this,"viewLocale",void 0),s(this,"ungroupedItems",void 0),s(this,"groupedItems",void 0),s(this,"groupedItemsDropdown",void 0),s(this,"resizeObserver",null),s(this,"cachedPadding",null),s(this,"shouldUpdateGroupingOnNextResize",!1),s(this,"viewElement",void 0),this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using((e=>e)),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",((e,t)=>{const i=t.index,n=Array.from(t.added);for(const o of t.removed)i>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=i;o<i+n.length;o++){const e=n[o-i];o>this.ungroupedItems.length?this.groupedItems.add(e,o-this.ungroupedItems.length):this.ungroupedItems.add(e,o)}this._updateGrouping()})),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!lB(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,i=new QF(e.lastChild),n=new QF(e);if(!this.cachedPadding){const i=O$.window.getComputedStyle(e),n="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(i[n])}return"ltr"===t?i.right>n.right-this.cachedPadding:i.left<n.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new tB(this.viewElement,(t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ZG),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,i=lW(e);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",cW(i,this.groupedItems),i.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:wq}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((e=>{pG(e)&&this.viewFocusables.add(e)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class aW extends oG{constructor(e,t){super(e),s(this,"children",void 0),s(this,"actionView",void 0),s(this,"arrowView",void 0),s(this,"keystrokes",void 0),s(this,"focusTracker",void 0);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new UB,this.focusTracker=new BB,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",(e=>!e)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())})),this.keystrokes.set("arrowleft",((e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new lG;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new lG,t=e.bindTemplate;return e.icon=zG,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",(e=>String(e)))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function lW(e,t=HG){const i="function"==typeof t?new t(e):t,n=new VG(e),o=new UG(e,i,n);return i.bind("isEnabled").to(o),i instanceof aW?i.arrowView.bind("isOn").to(o,"isOpen"):i.bind("isOn").to(o,"isOpen"),function(e){(function(e){rG({emitter:e,activator:()=>e.isRendered&&e.isOpen,callback:()=>{e.isOpen=!1},contextElements:()=>[e.element,...pW(e.focusTracker).filter((t=>!e.element.contains(t)))]})})(e),function(e){e.on("execute",(t=>{t.source instanceof NG||(e.isOpen=!1)}))}(e),function(e){e.focusTracker.on("change:isFocused",((t,i,n)=>{!n&&e.isOpen&&(e.isOpen=!1)}))}(e),function(e){e.keystrokes.set("arrowdown",((t,i)=>{e.isOpen&&(e.panelView.focus(),i())})),e.keystrokes.set("arrowup",((t,i)=>{e.isOpen&&(e.panelView.focusLast(),i())}))}(e),function(e){e.on("change:isOpen",((t,i,n)=>{if(n)return;e.focusTracker.elements.some((e=>e.contains(O$.document.activeElement)))&&e.buttonView.focus()}))}(e),function(e){e.on("change:isOpen",((t,i,n)=>{n&&e.panelView.focus()}),{priority:"low"})}(e)}(o),o}function cW(e,t,i={}){e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.isOpen?dW(e,t,i):e.once("change:isOpen",(()=>dW(e,t,i)),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&hW(e,(()=>e.toolbarView.items.find((e=>e.isOn))))}function dW(e,t,i){const n=e.locale,o=n.t,r=e.toolbarView=new nW(n),s="function"==typeof t?t():t;r.ariaLabel=i.ariaLabel||o("Dropdown toolbar"),i.maxWidth&&(r.maxWidth=i.maxWidth),i.class&&(r.class=i.class),i.isCompact&&(r.isCompact=i.isCompact),i.isVertical&&(r.isVertical=!0),s instanceof Nq?r.items.bindTo(s).using((e=>e)):r.items.addMany(s),e.panelView.children.add(r),e.focusTracker.add(r),r.items.delegate("execute").to(e)}function uW(e,t,i){const n=e.locale,o=e.listView=new YG(n),r="function"==typeof t?t():t;o.ariaLabel=i.ariaLabel,o.role=i.role,mW(e,o.items,r,n),e.panelView.children.add(o),o.items.delegate("execute").to(e)}function hW(e,t){e.on("change:isOpen",(()=>{if(!e.isOpen)return;const i=t();i&&("function"==typeof i.focus?i.focus():nF("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))}),{priority:eF.low-10})}function pW(e){return[...e.elements,...e.externalViews.flatMap((e=>pW(e.focusTracker)))]}function mW(e,t,i,n){t.on("change",(()=>{const e=[...t].reduce(((e,t)=>(t instanceof qG&&t.children.first instanceof TG&&e.push(t.children.first),e)),[]),i=e.some((e=>e.isToggleable));e.forEach((e=>{e.hasCheckSpace=i}))})),t.bindTo(i).using((t=>{if("separator"===t.type)return new GG(n);if("group"===t.type){const i=new WG(n);return i.set({label:t.label}),mW(e,i.items,t.items,n),i.items.delegate("execute").to(e),i}if("button"===t.type||"switchbutton"===t.type){const e="menuitemcheckbox"===t.model.role||"menuitemradio"===t.model.role,i=new qG(n);let o;return"button"===t.type?(o=new TG(n),o.set({isToggleable:e})):o=new NG(n),o.bind(...Object.keys(t.model)).to(t.model),o.delegate("execute").to(i),i.children.add(o),i}return null}))}const fW=(e,t,i)=>{const n=lW(e.locale);return n.set({id:t,ariaDescribedById:i}),n.bind("isEnabled").to(e),n};class gW{constructor(e){s(this,"editor",void 0),s(this,"_components",new Map),this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(bW(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new iF("componentfactory-item-missing",this,{name:e});return this._components.get(bW(e)).callback(this.editor.locale)}has(e){return this._components.has(bW(e))}}function bW(e){return String(e).toLowerCase()}const vW="ck-tooltip";class yW extends(jF()){constructor(e){if(super(),s(this,"tooltipTextView",void 0),s(this,"balloonPanelView",void 0),s(this,"_currentElementWithTooltip",null),s(this,"_currentTooltipPosition",null),s(this,"_mutationObserver",null),s(this,"_pinTooltipDebounced",void 0),s(this,"_unpinTooltipDebounced",void 0),s(this,"_watchdogExcluded",void 0),yW._editors.add(e),yW._instance)return yW._instance;yW._instance=this,this.tooltipTextView=new oG(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new XG(e.locale),this.balloonPanelView.class=vW,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver((()=>{e()}));return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}((()=>{this._updateTooltipPosition()})),this._pinTooltipDebounced=b$(this._pinTooltip,600),this._unpinTooltipDebounced=b$(this._unpinTooltip,400),this.listenTo(O$.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(O$.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(O$.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(O$.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(O$.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(O$.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;yW._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),yW._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),yW._instance=null)}static getPositioningFunctions(e){const t=yW.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){"Escape"===t.key&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,{target:t}){const i=kW(t);i?i!==this._currentElementWithTooltip&&(this._unpinTooltip(),"focus"!==e.name||i.matches(":hover")?this._pinTooltipDebounced(i,wW(i)):this._pinTooltip(i,wW(i))):"focus"===e.name&&this._unpinTooltip()}_onLeaveOrBlur(e,{target:t,relatedTarget:i}){if("mouseleave"===e.name){if(!E$(t))return;const e=this.balloonPanelView.element,n=e&&(e===i||e.contains(i)),o=!n&&t===e;if(n)return void this._unpinTooltipDebounced.cancel();if(!o&&this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const r=kW(t),s=kW(i);(o||r&&r!==s)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:i,cssClass:n}){this._unpinTooltip();const o=FB(yW._editors.values()).ui.view.body;o.has(this.balloonPanelView)||o.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.class=[vW,n].filter((e=>e)).join(" "),this.balloonPanelView.pin({target:e,positions:yW.getPositioningFunctions(i)}),this._mutationObserver.attach(e);for(const r of yW._editors)this.listenTo(r.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of yW._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=wW(this._currentElementWithTooltip);lB(this._currentElementWithTooltip)&&e.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:yW.getPositioningFunctions(e.position)}):this._unpinTooltip()}}function kW(e){return E$(e)?e.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function wW(e){return{text:e.dataset.ckeTooltipText,position:e.dataset.ckeTooltipPosition||"s",cssClass:e.dataset.ckeTooltipClass||""}}s(yW,"defaultBalloonPositions",XG.generatePositions({heightOffset:5,sideOffset:13})),s(yW,"_editors",new Set),s(yW,"_instance",null);class xW extends(jF()){constructor(e){super(),s(this,"editor",void 0),s(this,"_balloonView",void 0),s(this,"_showBalloonThrottled",void 0),s(this,"_lastFocusedEditableElement",void 0),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=L$(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;/* istanbul ignore next -- @preserve */(!!e.config.get("ui.poweredBy.forceVisible")||"VALID"!==function(e){function t(e){return e.length>=40&&e.length<=255?"VALID":"INVALID"}if(!e)return"INVALID";let i="";try{i=atob(e)}catch(f1){return"INVALID"}const n=i.split("-"),o=n[0],r=n[1];if(!r)return t(e);try{atob(r)}catch(f1){try{if(atob(o),!atob(o).length)return t(e)}catch(f1){return t(e)}}if(o.length<40||o.length>255)return"INVALID";let s="";try{atob(o),s=atob(r)}catch(f1){return"INVALID"}if(8!==s.length)return"INVALID";const a=Number(s.substring(0,4)),l=Number(s.substring(4,6))-1,c=Number(s.substring(6,8)),d=new Date(a,l,c);return d<rF||isNaN(Number(d))?"INVALID":"VALID"}(e.config.get("licenseKey")))&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",((e,t,i)=>{this._updateLastFocusedEditableElement(),i?this._showBalloon():this._hideBalloon()})),e.ui.focusTracker.on("change:focusedElement",((e,t,i)=>{this._updateLastFocusedEditableElement(),i&&this._showBalloon()})),e.ui.on("update",(()=>{this._showBalloonThrottled()})))}_createBalloonView(){const e=this.editor,t=this._balloonView=new XG,i=CW(e),n=new _W(e.locale,i.label);t.content.add(n),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(e,t){const i=CW(e),n="right"===i.side?function(e,t){return EW(e,t,((e,i)=>e.left+e.width-i.width-t.horizontalOffset))}(t,i):function(e,t){return EW(e,t,(e=>e.left+t.horizontalOffset))}(t,i);return{target:t,positions:[n]}}(this.editor,this._lastFocusedEditableElement);this._balloonView||this._createBalloonView(),this._balloonView.pin(e)}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,i=e.ui.focusTracker.focusedElement;if(!t||!i)return void(this._lastFocusedEditableElement=null);const n=Array.from(e.ui.getEditableElementsNames()).map((t=>e.ui.getEditableElement(t)));n.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=n[0]}}class _W extends oG{constructor(e,t){super(e);const i=new sG,n=this.bindTemplate;i.set({content:'<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n',isColorInherited:!1}),i.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],i],on:{dragstart:n.to((e=>e.preventDefault()))}}]})}}function EW(e,t,i){return(n,o)=>{const r=new QF(e);if(r.width<350||r.height<50)return null;let s;s="inside"===t.position?r.bottom-o.height:r.bottom-o.height/2,s-=t.verticalOffset;const a=i(r,o),l=n.clone().moveTo(a,s).getIntersection(o.clone().moveTo(a,s)).getVisible();return!l||l.getArea()<o.getArea()?null:{top:s,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function CW(e){const t=e.config.get("ui.poweredBy"),i=t&&t.position||"border";return{position:i,label:"Powered by",verticalOffset:"inside"===i?5:0,horizontalOffset:5,side:"ltr"===e.locale.contentLanguageDirection?"right":"left",...t}}const AW={POLITE:"polite",ASSERTIVE:"assertive"};class TW{constructor(e){s(this,"editor",void 0),s(this,"view",void 0),this.editor=e,e.once("ready",(()=>{for(const e of Object.values(AW))this.announce("",e)}))}announce(e,t=AW.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new SW(i.locale),i.ui.view.body.add(this.view));const{politeness:n,isUnsafeHTML:o}="string"==typeof t?{politeness:t}:t;let r=this.view.regionViews.find((e=>e.politeness===n));r||(r=new IW(i,n),this.view.regionViews.add(r)),r.announce({announcement:e,isUnsafeHTML:o})}}class SW extends oG{constructor(e){super(e),s(this,"regionViews",void 0),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class IW extends oG{constructor(e,t){super(e.locale),s(this,"politeness",void 0),s(this,"_domConverter",void 0),s(this,"_pruneAnnouncementsInterval",void 0),this.setTemplate({tag:"div",attributes:{"aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",(()=>{null!==this._pruneAnnouncementsInterval&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)})),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval((()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()}),5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const i=document.createElement("li");t?this._domConverter.setContentOf(i,e):i.innerText=e,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}}class PW extends qG{constructor(e,t){super(e);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}const DW={toggleMenusAndFocusItemsOnHover(e){e.on("menu:mouseenter",(t=>{if(e.isFocusBorderEnabled||e.isOpen){if(e.isOpen)for(const i of e.menus){const e=t.path[0],n=e instanceof PW&&e.children.first===i;i.isOpen=(t.path.includes(i)||n)&&i.isEnabled}t.source.focus()}}))},focusCycleMenusOnArrows(e){const t="rtl"===e.locale.uiLanguageDirection;function i(t,i){const n=e.children.getIndex(t),o=t.isOpen,r=e.children.length,s=e.children.get((n+r+i)%r);t.isOpen=!1,o&&(s.isOpen=!0),s.buttonView.focus()}e.on("menu:arrowright",(e=>{i(e.source,t?-1:1)})),e.on("menu:arrowleft",(e=>{i(e.source,t?1:-1)}))},closeMenusWhenTheBarCloses(e){e.on("change:isOpen",(()=>{e.isOpen||e.menus.forEach((e=>{e.isOpen=!1}))}))},closeMenuWhenAnotherOnTheSameLevelOpens(e){e.on("menu:change:isOpen",((t,i,n)=>{n&&e.menus.filter((e=>t.source.parentMenuView===e.parentMenuView&&t.source!==e&&e.isOpen)).forEach((e=>{e.isOpen=!1}))}))},closeOnClickOutside(e){rG({emitter:e,activator:()=>e.isOpen,callback:()=>e.close(),contextElements:()=>e.children.map((e=>e.element))})},enableFocusHighlightOnInteraction(e){let t=!1;e.on("change:isOpen",((i,n,o)=>{o||(t||(e.isFocusBorderEnabled=!1),t=!1)})),e.listenTo(e.element,"keydown",(()=>{t=!0}),{useCapture:!0}),e.listenTo(e.element,"keyup",(()=>{t=!1}),{useCapture:!0}),e.listenTo(e.element,"focus",(()=>{t&&(e.isFocusBorderEnabled=!0)}),{useCapture:!0})}},RW={openAndFocusPanelOnArrowDownKey(e){e.keystrokes.set("arrowdown",((t,i)=>{e.focusTracker.focusedElement===e.buttonView.element&&(e.isOpen||(e.isOpen=!0),e.panelView.focus(),i())}))},openOnArrowRightKey(e){const t="rtl"===e.locale.uiLanguageDirection?"arrowleft":"arrowright";e.keystrokes.set(t,((t,i)=>{e.focusTracker.focusedElement===e.buttonView.element&&e.isEnabled&&(e.isOpen||(e.isOpen=!0),e.panelView.focus(),i())}))},openOnButtonClick(e){e.buttonView.on("execute",(()=>{e.isOpen=!0}))},toggleOnButtonClick(e){e.buttonView.on("execute",(()=>{e.isOpen=!e.isOpen}))},openAndFocusOnEnterKeyPress(e){e.keystrokes.set("enter",((t,i)=>{e.focusTracker.focusedElement===e.buttonView.element&&(e.isOpen=!0,e.panelView.focus(),i())}))},closeOnArrowLeftKey(e){const t="rtl"===e.locale.uiLanguageDirection?"arrowright":"arrowleft";e.keystrokes.set(t,((t,i)=>{e.isOpen&&(e.isOpen=!1,e.focus(),i())}))},closeOnEscKey(e){e.keystrokes.set("esc",((t,i)=>{e.isOpen&&(e.isOpen=!1,e.focus(),i())}))},closeOnParentClose(e){e.parentMenuView.on("change:isOpen",((t,i,n)=>{n||t.source!==e.parentMenuView||(e.isOpen=!1)}))}},LW={southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),eastSouth:e=>({top:e.top,left:e.right-5,name:"es"}),eastNorth:(e,t)=>({top:e.top-t.height,left:e.right-5,name:"en"}),westSouth:(e,t)=>({top:e.top,left:e.left-t.width+5,name:"ws"}),westNorth:(e,t)=>({top:e.top-t.height,left:e.left-t.width+5,name:"wn"})},MW=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment","menuBar:insertMergeField"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function OW({normalizedConfig:e,locale:t,componentFactory:i,extraItems:n}){const o=UN(e);return NW(e,o,n),function(e,t){const i=t.removeItems,n=[];t.items=t.items.filter((({menuId:e})=>!i.includes(e)||(n.push(e),!1))),zW(t.items,(e=>{e.groups=e.groups.filter((({groupId:e})=>!i.includes(e)||(n.push(e),!1)));for(const t of e.groups)t.items=t.items.filter((e=>{const t=HW(e);return!i.includes(t)||(n.push(t),!1)}))}));for(const o of i)n.includes(o)||nF("menu-bar-item-could-not-be-removed",{menuBarConfig:e,itemName:o})}(e,o),NW(e,o,o.addItems),function(e,t,i){zW(t.items,(n=>{for(const o of n.groups)o.items=o.items.filter((o=>{const r="string"==typeof o&&!i.has(o);return r&&!t.isUsingDefaultConfig&&nF("menu-bar-item-unavailable",{menuBarConfig:e,parentMenuConfig:UN(n),componentName:o}),!r}))}))}(e,o,i),FW(e,o),function(e,t){const i=t.t,n={File:i({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:i({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:i({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:i({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:i({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:i({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:i({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:i({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:i({string:"Font",id:"MENU_BAR_MENU_FONT"})};zW(e.items,(e=>{e.label in n&&(e.label=n[e.label])}))}(o,t),o}function NW(e,t,i){const n=[];if(0!=i.length){for(const e of i){const i=VW(e.position),r=UW(e.position);if("object"==typeof(o=e)&&"menu"in o)if(r){const o=t.items.findIndex((e=>e.menuId===r));if(-1!=o)"before"===i?(t.items.splice(o,0,e.menu),n.push(e)):"after"===i&&(t.items.splice(o+1,0,e.menu),n.push(e));else{$W(t,e.menu,r,i)&&n.push(e)}}else"start"===i?(t.items.unshift(e.menu),n.push(e)):"end"===i&&(t.items.push(e.menu),n.push(e));else if(jW(e))zW(t.items,(t=>{if(t.menuId===r)"start"===i?(t.groups.unshift(e.group),n.push(e)):"end"===i&&(t.groups.push(e.group),n.push(e));else{const o=t.groups.findIndex((e=>e.groupId===r));-1!==o&&("before"===i?(t.groups.splice(o,0,e.group),n.push(e)):"after"===i&&(t.groups.splice(o+1,0,e.group),n.push(e)))}}));else{$W(t,e.item,r,i)&&n.push(e)}}var o;for(const t of i)n.includes(t)||nF("menu-bar-item-could-not-be-added",{menuBarConfig:e,addedItemConfig:t})}}function $W(e,t,i,n){let o=!1;return zW(e.items,(e=>{for(const{groupId:r,items:s}of e.groups){if(o)return;if(r===i)"start"===n?(s.unshift(t),o=!0):"end"===n&&(s.push(t),o=!0);else{const e=s.findIndex((e=>HW(e)===i));-1!==e&&("before"===n?(s.splice(e,0,t),o=!0):"after"===n&&(s.splice(e+1,0,t),o=!0))}}})),o}function FW(e,t){const i=t.isUsingDefaultConfig;let n=!1;t.items=t.items.filter((t=>!!t.groups.length||(BW(e,t,i),!1))),t.items.length?(zW(t.items,(t=>{t.groups=t.groups.filter((e=>!!e.items.length||(n=!0,!1)));for(const o of t.groups)o.items=o.items.filter((t=>!(qW(t)&&!t.groups.length)||(BW(e,t,i),n=!0,!1)))})),n&&FW(e,t)):BW(e,e,i)}function BW(e,t,i){i||nF("menu-bar-menu-empty",{menuBarConfig:e,emptyMenuConfig:t})}function zW(e,t){if(Array.isArray(e))for(const n of e)i(n);function i(e){t(e);for(const t of e.groups)for(const e of t.items)qW(e)&&i(e)}}function jW(e){return"object"==typeof e&&"group"in e}function VW(e){return e.startsWith("start")?"start":e.startsWith("end")?"end":e.startsWith("after")?"after":"before"}function UW(e){const t=e.match(/^[^:]+:(.+)/);return t?t[1]:null}function HW(e){return"string"==typeof e?e:e.menuId}function qW(e){return"object"==typeof e&&"menuId"in e}class GW extends(EF()){constructor(e){super(),s(this,"editor",void 0),s(this,"componentFactory",void 0),s(this,"focusTracker",void 0),s(this,"tooltipManager",void 0),s(this,"poweredBy",void 0),s(this,"ariaLiveAnnouncer",void 0),s(this,"isReady",!1),s(this,"_editableElementsMap",new Map),s(this,"_focusableToolbarDefinitions",[]),s(this,"_extraMenuBarElements",[]),s(this,"_lastFocusedForeignElement",null);const t=e.editing.view;this.editor=e,this.componentFactory=new gW(e),this.focusTracker=new BB,this.tooltipManager=new yW(e),this.poweredBy=new xW(e),this.ariaLiveAnnouncer=new TW(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0})),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",(()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)})),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){const t=e.element;this.focusTracker.add(t),this.editor.keystrokes.listenTo(t);const i=function(e){let t;return t="items"in e&&e.items?{items:e.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...e}:{items:UN(MW),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...e},t}(this.editor.config.get("menuBar")||{});e.fillFromConfig(i,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",((e,i)=>{t.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),i())})),this.editor.keystrokes.set("Alt+F9",((i,n)=>{t.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),n())}))}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const e=this.editor;let t;e.keystrokes.set("Alt+F10",((e,i)=>{this._saveLastFocusedForeignElement();const n=this._getCurrentFocusedToolbarDefinition();n&&t||(t=this._getFocusableCandidateToolbarDefinitions());for(let o=0;o<t.length;o++){const e=t.shift();if(t.push(e),e!==n&&this._focusFocusableCandidateToolbar(e)){n&&n.options.afterBlur&&n.options.afterBlur();break}}i()})),e.keystrokes.set("Esc",((t,i)=>{const n=this._getCurrentFocusedToolbarDefinition();n&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),n.options.afterBlur&&n.options.afterBlur(),i())}))}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:i,options:n}=t;(lB(i.element)||n.beforeFocus)&&e.push(t)}return e.sort(((e,t)=>WW(e)-WW(t))),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:i}}=e;return i&&i(),!!lB(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const i={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=i.top,t.viewportOffset.bottom+=i.bottom,t.viewportOffset.left+=i.left,t.viewportOffset.right+=i.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const t of e)this.focusTracker.add(t.element);e.on("add",((e,t)=>{this.focusTracker.add(t.element)})),e.on("remove",((e,t)=>{this.focusTracker.remove(t.element)}))}}function WW(e){const{toolbarView:t,options:i}=e;let n=10;return lB(t.element)&&n--,i.isContextual&&n--,n}class YW extends oG{constructor(e){super(e),s(this,"body",void 0),s(this,"menuBarView",void 0),this.body=new OG(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class KW extends YW{constructor(e){super(e),s(this,"top",void 0),s(this,"main",void 0),s(this,"_voiceLabelView",void 0),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new PG;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class QW extends oG{constructor(e,t,i){super(e),s(this,"name",null),s(this,"_editingView",void 0),s(this,"_editableElement",void 0),s(this,"_hasExternalElement",void 0),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(t){e.change((i=>{const n=e.document.getRoot(t.name);i.addClass(t.isFocused?"ck-focused":"ck-blurred",n),i.removeClass(t.isFocused?"ck-blurred":"ck-focused",n)}))}e.isRenderingInProgress?function i(n){e.once("change:isRenderingInProgress",((e,o,r)=>{r?i(n):t(n)}))}(this):t(this)}}class XW extends QW{constructor(e,t,i,n={}){super(e,t,i),s(this,"_options",void 0),this._options=n,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change((t=>{const i=e.document.getRoot(this.name);t.setAttribute("aria-label",this.getEditableAriaLabel(),i)}))}getEditableAriaLabel(){const e=this.locale.t,t=this._options.label,i=this._editableElement,n=this.name;if("string"==typeof t)return t;if("object"==typeof t)return t[n];if("function"==typeof t)return t(this);if(i){const e=i.getAttribute("aria-label");if(e)return e}return e("Rich Text Editor. Editing area: %0",n)}}class JW extends(EF()){constructor(e,t){super(),t&&CM(this,t),e&&this.set(e)}}const ZW=nB("px");class eY extends QH{static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}constructor(e){super(e),s(this,"positionLimiter",void 0),s(this,"visibleStack",void 0),s(this,"_viewToStack",new Map),s(this,"_idToStack",new Map),s(this,"_view",null),s(this,"_rotatorView",null),s(this,"_fakePanelsView",null),this.positionLimiter=()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new iF("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const i=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),i.set(e.view,e),this._viewToStack.set(e.view,i),i===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new iF("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new iF("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new XG(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find((t=>t[1]===e))[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new tY(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>!t&&e>1)),e.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((e,i)=>{if(i<2)return"";const n=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[n,i])})),e.buttonNextView.on("execute",(()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),e.buttonPrevView.on("execute",(()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),e}_createFakePanelsView(){const e=new iY(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>!t&&e>=2?Math.min(e-1,2):0)),e.listenTo(this.view,"change:top",(()=>e.updatePosition())),e.listenTo(this.view,"change:left",(()=>e.updatePosition())),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:i=!0,singleViewMode:n=!1}){this.view.class=t,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),n&&(this._singleViewMode=!0)}}class tY extends oG{constructor(e){super(e),s(this,"focusTracker",void 0),s(this,"buttonPrevView",void 0),s(this,"buttonNextView",void 0),s(this,"content",void 0);const t=e.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new BB,this.buttonPrevView=this._createButtonView(t("Previous"),hq),this.buttonNextView=this._createButtonView(t("Next"),pq),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",(e=>e?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const i=new lG(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i}}class iY extends oG{constructor(e,t){super(e),s(this,"content",void 0),s(this,"_balloonPanelView",void 0);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",(e=>e?"":"ck-hidden"))],style:{top:i.to("top",ZW),left:i.to("left",ZW),width:i.to("width",ZW),height:i.to("height",ZW)}},children:this.content}),this.on("change:numberOfPanels",((e,t,i,n)=>{i>n?this._addPanels(i-n):this._removePanels(n-i),this.updatePosition()}))}_addPanels(e){for(;e--;){const e=new oG;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(e){for(;e--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:i,height:n}=new QF(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:i,height:n})}}}const nY=nB("px");class oY extends oG{constructor(e){super(e),s(this,"content",void 0),s(this,"contentPanelElement",void 0),s(this,"_contentPanelPlaceholder",void 0);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new $q({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",(e=>e?"block":"none")),height:t.to("isSticky",(e=>e?nY(this._contentPanelRect.height):null))}}}).render(),this.contentPanelElement=new $q({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",(e=>e?nY(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:t.to("_stickyTopOffset",(e=>e?nY(e):e)),bottom:t.to("_stickyBottomOffset",(e=>e?nY(e):e)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(O$.document,"scroll",(()=>{this.checkIfShouldBeSticky()}),{useCapture:!0}),this.listenTo(this,"change:isActive",(()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new QF(this.limiterElement);let t=e.getVisible();if(t){const e=new QF(O$.window);e.top+=this.viewportTopOffset,e.height-=this.viewportTopOffset,t=t.getIntersection(e)}if(t&&e.top<t.top){const i=t.top;if(i+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const i=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-i>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(i):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(i):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=nY(-O$.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=nY(-O$.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new QF(this.contentPanelElement)}}class rY extends TG{constructor(e){super(e),s(this,"arrowView",void 0);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(e=>String(e))),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new sG;return e.content=zG,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class sY extends oG{constructor(e){super(e),s(this,"children",void 0);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",(e=>`ck-menu-bar__menu__panel_position_${e}`)),t.if("isVisible","ck-hidden",(e=>!e))],tabindex:"-1"},children:this.children,on:{selectstart:t.to((e=>{"input"!==e.target.tagName.toLocaleLowerCase()&&e.preventDefault()}))}})}focus(e=1){this.children.length&&(1===e?this.children.first.focus():this.children.last.focus())}}class aY extends oG{constructor(e){super(e),s(this,"buttonView",void 0),s(this,"panelView",void 0),s(this,"focusTracker",void 0),s(this,"keystrokes",void 0);const t=this.bindTemplate;this.buttonView=new rY(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new sY(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new UB,this.focusTracker=new BB,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",(e=>!e)),t.if("parentMenuView","ck-menu-bar__menu_top-level",(e=>!e))]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),RW.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(RW.openOnButtonClick(this),RW.openOnArrowRightKey(this),RW.closeOnArrowLeftKey(this),RW.openAndFocusOnEnterKeyPress(this),RW.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),RW.openAndFocusPanelOnArrowDownKey(this),RW.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",((e,t)=>{this.fire("arrowright"),t()})),this.keystrokes.set("arrowleft",((e,t)=>{this.fire("arrowleft"),t()}))}_repositionPanelOnOpen(){this.on("change:isOpen",((e,t,i)=>{if(!i)return;const n=aY._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=n?n.name:this._panelPositions[0].name}))}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:i,northWest:n,westSouth:o,eastSouth:r,westNorth:s,eastNorth:a}=LW;return"ltr"===this.locale.uiLanguageDirection?this.parentMenuView?[r,a,o,s]:[e,t,i,n]:this.parentMenuView?[o,s,r,a]:[t,e,n,i]}}s(aY,"_getOptimalPosition",cB);class lY extends YG{constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const e=Array.from(this.items).some((e=>{const t=cY(e);return t&&t.isToggleable}));this.items.forEach((t=>{const i=cY(t);i&&(i.hasCheckSpace=e)}))}}function cY(e){return e instanceof qG?e.children.map((e=>function(e){return"object"==typeof e&&"buttonView"in e&&e.buttonView instanceof lG}(e)?e.buttonView:e)).find((e=>e instanceof TG)):null}class dY extends $G{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const uY=["mouseenter","arrowleft","arrowright","change:isOpen"];class hY extends oG{constructor(e){super(e),s(this,"children",void 0),s(this,"menus",[]);const t=e.t,i=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",i.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t,i=[]){const n=OW({normalizedConfig:e,locale:this.locale,componentFactory:t,extraItems:i}).items.map((e=>this._createMenu({componentFactory:t,menuDefinition:e})));this.children.addMany(n)}render(){super.render(),DW.toggleMenusAndFocusItemsOnHover(this),DW.closeMenusWhenTheBarCloses(this),DW.closeMenuWhenAnotherOnTheSameLevelOpens(this),DW.focusCycleMenusOnArrows(this),DW.closeOnClickOutside(this),DW.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...uY).to(t),e.parentMenuView=t):e.delegate(...uY).to(this,(e=>"menu:"+e)),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:i}){const n=this.locale,o=new aY(n);return this.registerMenu(o,i),o.buttonView.set({label:t.label}),o.once("change:isOpen",(()=>{const i=new lY(n);i.ariaLabel=t.label,o.panelView.children.add(i),i.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:o,componentFactory:e}))})),o}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:i}){const n=this.locale,o=[];for(const r of e.groups){for(const e of r.items){const r=new PW(n,t);if(uL(e))r.children.add(this._createMenu({componentFactory:i,menuDefinition:e,parentMenuView:t}));else{const n=this._createMenuItemContentFromFactory({componentName:e,componentFactory:i,parentMenuView:t});if(!n)continue;r.children.add(n)}o.push(r)}r!==e.groups[e.groups.length-1]&&o.push(new GG(n))}return o}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:i}){const n=i.create(e);return n instanceof aY||n instanceof IG||n instanceof dY?(this._registerMenuTree(n,t),n.on("execute",(()=>{this.close()})),n):(nF("menu-bar-component-unsupported",{componentName:e,componentView:n}),null)}_registerMenuTree(e,t){if(!(e instanceof aY))return void e.delegate("mouseenter").to(t);this.registerMenu(e,t);const i=e.panelView.children.filter((e=>e instanceof lY))[0];if(!i)return void e.delegate("mouseenter").to(t);const n=i.items.filter((e=>e instanceof qG));for(const o of n)this._registerMenuTree(o.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",((t,i,n)=>{clearTimeout(e),n?this.isOpen=!0:e=setTimeout((()=>{this.isOpen=Array.from(this.children).some((e=>e.isOpen))}),0)}))}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class pY{constructor(e,t=20){s(this,"model",void 0),s(this,"limit",void 0),s(this,"_isLocked",void 0),s(this,"_size",void 0),s(this,"_batch",null),s(this,"_changeCallback",void 0),s(this,"_selectionChangeCallback",void 0),this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(e,t)=>{t.isLocal&&t.isUndoable&&t!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class mY extends JH{constructor(e,t){super(e),s(this,"_buffer",void 0),this._buffer=new pY(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,i=t.document,n=e.text||"",o=n.length;let r=i.selection;if(e.selection?r=e.selection:e.range&&(r=t.createSelection(e.range)),!t.canEditAt(r))return;const s=e.resultRange;t.enqueueChange(this._buffer.batch,(e=>{this._buffer.lock();const a=Array.from(i.selection.getAttributes());t.deleteContent(r),n&&t.insertContent(e.createText(n,a),r),s?e.setSelection(s):r.is("documentSelection")||e.setSelection(r),this._buffer.unlock(),this._buffer.input(o)}))}}const fY=["insertText","insertReplacementText"],gY=[...fY,"insertCompositionText"];class bY extends Aj{constructor(e){super(e),s(this,"focusObserver",void 0),this.focusObserver=e.getObserver(Lj);const t=F$.isAndroid?gY:fY,i=e.document;i.on("beforeinput",((n,o)=>{if(!this.isEnabled)return;const{data:r,targetRanges:s,inputType:a,domEvent:l}=o;if(!t.includes(a))return;this.focusObserver.flush();const c=new X$(i,"insertText");i.fire(c,new Tj(e,l,{text:r,selection:e.createSelection(s)})),c.stop.called&&n.stop()})),F$.isAndroid||i.on("compositionend",((t,{data:n,domEvent:o})=>{this.isEnabled&&n&&i.fire("insertText",new Tj(e,o,{text:n}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class vY extends QH{constructor(...e){super(...e),s(this,"_compositionQueue",void 0)}static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model,i=e.editing.view,n=e.editing.mapper,o=t.document.selection;this._compositionQueue=new yY(e),i.addObserver(bY);const r=new mY(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",r),e.commands.add("input",r),this.listenTo(i.document,"insertText",((r,s)=>{i.document.isComposing||s.preventDefault(),F$.isAndroid&&i.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:a,selection:l}=s;let c;c=l?Array.from(l.getRanges()).map((e=>n.toModelRange(e))):Array.from(o.getRanges());let d=a;if(F$.isAndroid){const e=Array.from(c[0].getItems()).reduce(((e,t)=>e+(t.is("$textProxy")?t.data:"")),"");if(e&&(e.length<=d.length?d.startsWith(e)&&(d=d.substring(e.length),c[0].start=c[0].start.getShiftedBy(e.length)):e.startsWith(d)&&(c[0].start=c[0].start.getShiftedBy(d.length),d="")),0==d.length&&c[0].isCollapsed)return}const u={text:d,selection:t.createSelection(c)};F$.isAndroid&&i.document.isComposing?this._compositionQueue.push(u):(e.execute("insertText",u),i.scrollToTheSelection())})),F$.isAndroid?this.listenTo(i.document,"keydown",((e,n)=>{!o.isCollapsed&&229==n.keyCode&&i.document.isComposing&&kY(t,r)})):this.listenTo(i.document,"compositionstart",(()=>{o.isCollapsed||kY(t,r)})),F$.isAndroid?(this.listenTo(i.document,"mutations",((e,{mutations:t})=>{if(i.document.isComposing)for(const{node:i}of t){const e=wY(i,n),t=n.toModelElement(e);if(this._compositionQueue.isComposedElement(t))return void this._compositionQueue.flush("mutations")}})),this.listenTo(i.document,"compositionend",(()=>{this._compositionQueue.flush("composition end")})),this.listenTo(i.document,"compositionend",(()=>{const e=[];for(const t of this._compositionQueue.flushComposedElements()){const i=n.toViewElement(t);i&&e.push({type:"children",node:i})}e.length&&i.document.fire("mutations",{mutations:e})}),{priority:"lowest"})):this.listenTo(i.document,"compositionend",(()=>{i.document.fire("mutations",{mutations:[]})}),{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class yY{constructor(e){s(this,"editor",void 0),s(this,"flushDebounced",b$((()=>this.flush("timeout")),50)),s(this,"_queue",[]),s(this,"_compositionElements",new Set),this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e){const t={text:e.text};if(e.selection){t.selectionRanges=[];for(const i of e.selection.getRanges())t.selectionRanges.push(gV.fromRange(i)),this._compositionElements.add(i.start.parent)}this._queue.push(t),this.flushDebounced()}shift(){const e=this._queue.shift(),t={text:e.text};if(e.selectionRanges){const i=e.selectionRanges.map((e=>function(e){const t=e.toRange();if(e.detach(),"$graveyard"==t.root.rootName)return null;return t}(e))).filter((e=>!!e));i.length&&(t.selection=this.editor.model.createSelection(i))}return t}flush(e){const t=this.editor,i=t.model,n=t.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const o=t.commands.get("insertText").buffer;i.enqueueChange(o.batch,(()=>{for(o.lock();this._queue.length;){const e=this.shift();t.execute("insertText",e)}o.unlock()})),n.scrollToTheSelection()}isComposedElement(e){return this._compositionElements.has(e)}flushComposedElements(){const e=Array.from(this._compositionElements);return this._compositionElements.clear(),e}}function kY(e,t){if(!t.isEnabled)return;const i=t.buffer;i.lock(),e.enqueueChange(i.batch,(()=>{e.deleteContent(e.document.selection)})),i.unlock()}function wY(e,t){let i=e.is("$text")?e.parent:e;for(;!t.toModelElement(i);)i=i.parent;return i}class xY extends JH{constructor(e,t){super(e),s(this,"direction",void 0),s(this,"_buffer",void 0),this.direction=t,this._buffer=new pY(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,i=t.document;t.enqueueChange(this._buffer.batch,(n=>{this._buffer.lock();const o=n.createSelection(e.selection||i.selection);if(!t.canEditAt(o))return;const r=e.sequence||1,s=o.isCollapsed;if(o.isCollapsed&&t.modifySelection(o,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(r))return void this._replaceEntireContentWithParagraph(n);if(this._shouldReplaceFirstBlockWithParagraph(o,r))return void this.editor.execute("paragraph",{selection:o});if(o.isCollapsed)return;let a=0;o.getFirstRange().getMinimalFlatRanges().forEach((e=>{a+=DF(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),t.deleteContent(o,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(a),n.setSelection(o),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,i=t.document.selection,n=t.schema.getLimitElement(i);if(!(i.isCollapsed&&i.containsEntireContent(n)))return!1;if(!t.schema.checkChild(n,"paragraph"))return!1;const o=n.getChild(0);return!o||!o.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,i=t.document.selection,n=t.schema.getLimitElement(i),o=e.createElement("paragraph");e.remove(e.createRangeIn(n)),e.insert(o,n),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const i=this.editor.model;if(t>1||"backward"!=this.direction)return!1;if(!e.isCollapsed)return!1;const n=e.getFirstPosition(),o=i.schema.getLimitElement(n),r=o.getChild(0);return n.parent==r&&(!!e.containsEntireContent(r)&&(!!i.schema.checkChild(o,"paragraph")&&"paragraph"!=r.name))}}const _Y="word",EY="selection",CY="backward",AY="forward",TY={deleteContent:{unit:EY,direction:CY},deleteContentBackward:{unit:"codePoint",direction:CY},deleteWordBackward:{unit:_Y,direction:CY},deleteHardLineBackward:{unit:EY,direction:CY},deleteSoftLineBackward:{unit:EY,direction:CY},deleteContentForward:{unit:"character",direction:AY},deleteWordForward:{unit:_Y,direction:AY},deleteHardLineForward:{unit:EY,direction:AY},deleteSoftLineForward:{unit:EY,direction:AY}};class SY extends Aj{constructor(e){super(e);const t=e.document;let i=0;t.on("keydown",(()=>{i++})),t.on("keyup",(()=>{i=0})),t.on("beforeinput",((n,o)=>{if(!this.isEnabled)return;const{targetRanges:r,domEvent:s,inputType:a}=o,l=TY[a];if(!l)return;const c={direction:l.direction,unit:l.unit,sequence:i};c.unit==EY&&(c.selectionToRemove=e.createSelection(r[0])),"deleteContentBackward"===a&&(F$.isAndroid&&(c.sequence=1),function(e){if(1!=e.length||e[0].isCollapsed)return!1;const t=e[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let i=0;for(const{nextPosition:n,item:o}of t){if(n.parent.is("$text")){const e=n.parent.data,t=n.offset;if(WB(e,t)||YB(e,t)||QB(e,t))continue;i++}else(o.is("containerElement")||o.is("emptyElement"))&&i++;if(i>1)return!0}return!1}(r)&&(c.unit=EY,c.selectionToRemove=e.createSelection(r)));const d=new Sz(t,"delete",r[0]);t.fire(d,new Tj(e,s,c)),d.stop.called&&n.stop()})),F$.isBlink&&function(e){const t=e.view,i=t.document;let n=null,o=!1;function r(e){return e==CB.backspace||e==CB.delete}function s(e){return e==CB.backspace?CY:AY}i.on("keydown",((e,{keyCode:t})=>{n=t,o=!1})),i.on("keyup",((a,{keyCode:l,domEvent:c})=>{const d=i.selection,u=e.isEnabled&&l==n&&r(l)&&!d.isCollapsed&&!o;if(n=null,u){const e=d.getFirstRange(),n=new Sz(i,"delete",e),o={unit:EY,direction:s(l),selectionToRemove:d};i.fire(n,new Tj(t,c,o))}})),i.on("beforeinput",((e,{inputType:t})=>{const i=TY[t];r(n)&&i&&i.direction==s(n)&&(o=!0)}),{priority:"high"}),i.on("beforeinput",((e,{inputType:t,data:i})=>{n==CB.delete&&"insertText"==t&&""==i&&e.stop()}),{priority:"high"})}(this)}observe(){}stopObserving(){}}class IY extends QH{constructor(...e){super(...e),s(this,"_undoOnBackspace",void 0)}static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,i=t.document,n=e.model.document;t.addObserver(SY),this._undoOnBackspace=!1;const o=new xY(e,"forward");e.commands.add("deleteForward",o),e.commands.add("forwardDelete",o),e.commands.add("delete",new xY(e,"backward")),this.listenTo(i,"delete",((n,o)=>{i.isComposing||o.preventDefault();const{direction:r,sequence:s,selectionToRemove:a,unit:l}=o,c="forward"===r?"deleteForward":"delete",d={sequence:s};if("selection"==l){const t=Array.from(a.getRanges()).map((t=>e.editing.mapper.toModelRange(t)));d.selection=e.model.createSelection(t)}else d.unit=l;e.execute(c,d),t.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",((t,i)=>{this._undoOnBackspace&&"backward"==i.direction&&1==i.sequence&&"codePoint"==i.unit&&(this._undoOnBackspace=!1,e.execute("undo"),i.preventDefault(),t.stop())}),{context:"$capture"}),this.listenTo(n,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class PY extends QH{static get requires(){return[vY,IY]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class DY extends(EF()){constructor(e,t){super(),s(this,"model",void 0),s(this,"testCallback",void 0),s(this,"_hasMatch",void 0),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))})),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",((t,{directChange:i})=>{i&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))})),this.listenTo(e,"change:data",((e,t)=>{!t.isUndo&&t.isLocal&&this._evaluateTextBeforeSelection("data",{batch:t})}))}_evaluateTextBeforeSelection(e,t={}){const i=this.model,n=i.document.selection,o=i.createRange(i.createPositionAt(n.focus.parent,0),n.focus),{text:r,range:s}=function(e,t){let i=e.start;return{text:Array.from(e.getWalker({ignoreElementEnd:!1})).reduce(((e,{item:n})=>n.is("$text")||n.is("$textProxy")?e+n.data:(i=t.createPositionAfter(n),"")),""),range:t.createRange(i,e.end)}}(o,i),a=this.testCallback(r);if(!a&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!a,a){const i=Object.assign(t,{text:r,range:s});"object"==typeof a&&Object.assign(i,a),this.fire(`matched:${e}`,i)}}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function RY(e,t,i,n){let o,r=null;"function"==typeof n?o=n:(r=e.commands.get(n),o=()=>{e.execute(n)}),e.model.document.on("change:data",((s,a)=>{if(r&&!r.isEnabled||!t.isEnabled)return;const l=FB(e.model.document.selection.getRanges());if(!l.isCollapsed)return;if(a.isUndo||!a.isLocal)return;const c=Array.from(e.model.document.differ.getChanges()),d=c[0];if(1!=c.length||"insert"!==d.type||"$text"!=d.name||1!=d.length)return;const u=d.position.parent;if(u.is("element","codeBlock"))return;if(u.is("element","listItem")&&"function"!=typeof n&&!["numberedList","bulletedList","todoList"].includes(n))return;if(r&&!0===r.value)return;const h=u.getChild(0),p=e.model.createRangeOn(h);if(!p.containsRange(l)&&!l.end.isEqual(p.end))return;const m=i.exec(h.data.substr(0,l.end.offset));m&&e.model.enqueueChange((t=>{const i=t.createPositionAt(u,0),n=t.createPositionAt(u,m[0].length),r=new gV(i,n);if(!1!==o({match:m})){t.remove(r);const i=e.model.document.selection.getFirstRange(),n=t.createRangeIn(u);!u.isEmpty||n.isEqual(i)||n.containsRange(i,!0)||t.remove(u)}r.detach(),e.model.enqueueChange((()=>{e.plugins.get("Delete").requestUndoOnBackspace()}))}))}))}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function LY(e,t,i,n){let o,r;i instanceof RegExp?o=i:r=i,r=r||(e=>{let t;const i=[],n=[];for(;null!==(t=o.exec(e))&&!(t&&t.length<4);){let{index:e,1:o,2:r,3:s}=t;const a=o+r+s;e+=t[0].length-a.length;const l=[e,e+o.length],c=[e+o.length+r.length,e+o.length+r.length+s.length];i.push(l),i.push(c),n.push([e+o.length,e+o.length+r.length])}return{remove:i,format:n}}),e.model.document.on("change:data",((i,o)=>{if(o.isUndo||!o.isLocal||!t.isEnabled)return;const s=e.model,a=s.document.selection;if(!a.isCollapsed)return;const l=Array.from(s.document.differ.getChanges()),c=l[0];if(1!=l.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;const d=a.focus,u=d.parent,{text:h,range:p}=function(e,t){let i=e.start;const n=Array.from(e.getItems()).reduce(((e,n)=>!n.is("$text")&&!n.is("$textProxy")||n.getAttribute("code")?(i=t.createPositionAfter(n),""):e+n.data),"");return{text:n,range:t.createRange(i,e.end)}}(s.createRange(s.createPositionAt(u,0),d),s),m=r(h),f=MY(p.start,m.format,s),g=MY(p.start,m.remove,s);f.length&&g.length&&s.enqueueChange((t=>{if(!1!==n(t,f)){for(const e of g.reverse())t.remove(e);s.enqueueChange((()=>{e.plugins.get("Delete").requestUndoOnBackspace()}))}}))}))}function MY(e,t,i){return t.filter((e=>void 0!==e[0]&&void 0!==e[1])).map((t=>i.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1]))))}class OY extends QH{static get requires(){return[IY]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&RY(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&RY(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&RY(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&RY(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const e=NY(this.editor,"bold");LY(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),LY(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(e.get("italic")){const e=NY(this.editor,"italic");LY(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),LY(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(e.get("code")){const e=NY(this.editor,"code");LY(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(e.get("strikethrough")){const e=NY(this.editor,"strikethrough");LY(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter((e=>e.match(/^heading[1-6]$/))).forEach((t=>{const i=t[7],n=new RegExp(`^(#{${i}})\\s$`);RY(this.editor,this,n,(()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&RY(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&RY(e,this,/^```$/,(()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&RY(this.editor,this,/^---$/,"horizontalLine")}}function NY(e,t){return(i,n)=>{if(!e.commands.get(t).isEnabled)return!1;const o=e.model.schema.getValidRanges(n,t);for(const e of o)i.setAttribute(t,!0,e);i.removeSelectionAttribute(t)}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function*$Y(e,t){for(const i of t)i&&e.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class FY extends JH{execute(){this.editor.model.change((e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})}))}enterBlock(e){const t=this.editor.model,i=t.document.selection,n=t.schema,o=i.isCollapsed,r=i.getFirstRange(),s=r.start.parent,a=r.end.parent;if(n.isLimit(s)||n.isLimit(a))return o||s!=a||t.deleteContent(i),!1;if(o){const t=$Y(e.model.schema,i.getAttributes());return BY(e,r.start),e.setSelectionAttribute(t),!0}{const n=!(r.start.isAtStart&&r.end.isAtEnd),o=s==a;if(t.deleteContent(i,{leaveUnmerged:n}),n){if(o)return BY(e,i.focus),!0;e.setSelection(a,0)}}return!1}}function BY(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}const zY={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class jY extends Aj{constructor(e){super(e);const t=this.document;let i=!1;t.on("keydown",((e,t)=>{i=t.shiftKey})),t.on("beforeinput",((n,o)=>{if(!this.isEnabled)return;let r=o.inputType;F$.isSafari&&i&&"insertParagraph"==r&&(r="insertLineBreak");const s=o.domEvent,a=zY[r];if(!a)return;const l=new Sz(t,"enter",o.targetRanges[0]);t.fire(l,new Tj(e,s,{isSoft:a.isSoft})),l.stop.called&&n.stop()}))}observe(){}stopObserving(){}}class VY extends QH{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,i=t.document,n=this.editor.t;t.addObserver(jY),e.commands.add("enter",new FY(e)),this.listenTo(i,"enter",((n,o)=>{i.isComposing||o.preventDefault(),o.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class UY extends JH{execute(){const e=this.editor.model,t=e.document;e.change((i=>{!function(e,t,i){const n=i.isCollapsed,o=i.getFirstRange(),r=o.start.parent,s=o.end.parent,a=r==s;if(n){const n=$Y(e.schema,i.getAttributes());HY(e,t,o.end),t.removeSelectionAttribute(i.getAttributeKeys()),t.setSelectionAttribute(n)}else{const n=!(o.start.isAtStart&&o.end.isAtEnd);e.deleteContent(i,{leaveUnmerged:n}),a?HY(e,t,i.focus):n&&t.setSelection(s,0)}}(e,i,t.selection),this.fire("afterExecute",{writer:i})}))}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;const i=t.anchor;if(!i||!e.checkChild(i,"softBreak"))return!1;const n=t.getFirstRange(),o=n.start.parent,r=n.end.parent;if((qY(o,e)||qY(r,e))&&o!==r)return!1;return!0}(e.schema,t.selection)}}function HY(e,t,i){const n=t.createElement("softBreak");e.insertContent(n,i),t.setSelection(n,"after")}function qY(e,t){return!e.is("rootElement")&&(t.isLimit(e)||qY(e.parent,t))}class GY extends QH{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,i=e.conversion,n=e.editing.view,o=n.document,r=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(e,{writer:t})=>t.createEmptyElement("br")}),n.addObserver(jY),e.commands.add("shiftEnter",new UY(e)),this.listenTo(o,"enter",((t,i)=>{o.isComposing||i.preventDefault(),i.isSoft&&(e.execute("shiftEnter"),n.scrollToTheSelection())}),{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class WY extends JH{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.schema,n=t.document.selection,o=Array.from(n.getSelectedBlocks()),r=void 0===e.forceValue?!this.value:e.forceValue;t.change((e=>{if(r){const t=o.filter((e=>YY(e)||QY(i,e)));this._applyQuote(e,t)}else this._removeQuote(e,o.filter(YY))}))}_getValue(){const e=FB(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!YY(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=FB(e.getSelectedBlocks());return!!i&&QY(t,i)}_removeQuote(e,t){KY(e,t).reverse().forEach((t=>{if(t.start.isAtStart&&t.end.isAtEnd)return void e.unwrap(t.start.parent);if(t.start.isAtStart){const i=e.createPositionBefore(t.start.parent);return void e.move(t,i)}t.end.isAtEnd||e.split(t.end);const i=e.createPositionAfter(t.end.parent);e.move(t,i)}))}_applyQuote(e,t){const i=[];KY(e,t).reverse().forEach((t=>{let n=YY(t.start);n||(n=e.createElement("blockQuote"),e.wrap(t,n)),i.push(n)})),i.reverse().reduce(((t,i)=>t.nextSibling==i?(e.merge(e.createPositionAfter(t)),t):i))}}function YY(e){return"blockQuote"==e.parent.name?e.parent:null}function KY(e,t){let i,n=0;const o=[];for(;n<t.length;){const r=t[n],s=t[n+1];i||(i=e.createPositionBefore(r)),s&&r.nextSibling==s||(o.push(e.createRange(i,e.createPositionAfter(r))),i=null),n++}return o}function QY(e,t){const i=e.checkChild(t.parent,"blockQuote"),n=e.checkChild(["$root","blockQuote"],t);return i&&n}class XY extends QH{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[VY,IY]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new WY(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer((i=>{const n=e.model.document.differ.getChanges();for(const e of n)if("insert"==e.type){const n=e.position.nodeAfter;if(!n)continue;if(n.is("element","blockQuote")&&n.isEmpty)return i.remove(n),!0;if(n.is("element","blockQuote")&&!t.checkChild(e.position,n))return i.unwrap(n),!0;if(n.is("element")){const e=i.createRangeIn(n);for(const n of e.getItems())if(n.is("element","blockQuote")&&!t.checkChild(i.createPositionBefore(n),n))return i.unwrap(n),!0}}else if("remove"==e.type){const t=e.position.parent;if(t.is("element","blockQuote")&&t.isEmpty)return i.remove(t),!0}return!1}));const i=this.editor.editing.view.document,n=e.model.document.selection,o=e.commands.get("blockQuote");this.listenTo(i,"enter",((t,i)=>{if(!n.isCollapsed||!o.value)return;n.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),i.preventDefault(),t.stop())}),{context:"blockquote"}),this.listenTo(i,"delete",((t,i)=>{if("backward"!=i.direction||!n.isCollapsed||!o.value)return;const r=n.getLastPosition().parent;r.isEmpty&&!r.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),i.preventDefault(),t.stop())}),{context:"blockquote"})}}class JY extends QH{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("blockQuote",(()=>{const e=this._createButton(lG);return e.set({tooltip:!0}),e})),e.ui.componentFactory.add("menuBar:blockQuote",(()=>{const e=this._createButton(IG);return e.set({role:"menuitemcheckbox"}),e}))}_createButton(e){const t=this.editor,i=t.locale,n=t.commands.get("blockQuote"),o=new e(t.locale),r=i.t;return o.set({label:r("Block quote"),icon:kq,isToggleable:!0}),o.bind("isEnabled").to(n,"isEnabled"),o.bind("isOn").to(n,"value"),this.listenTo(o,"execute",(()=>{t.execute("blockQuote"),t.editing.view.focus()})),o}}class ZY extends QH{static get requires(){return[XY,JY]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class eK extends(dF()){constructor(...e){super(...e),s(this,"_stack",[])}add(e,t){const i=this._stack,n=i[0];this._insertDescriptor(e);const o=i[0];n===o||tK(n,o)||this.fire("change:top",{oldDescriptor:n,newDescriptor:o,writer:t})}remove(e,t){const i=this._stack,n=i[0];this._removeDescriptor(e);const o=i[0];n===o||tK(n,o)||this.fire("change:top",{oldDescriptor:n,newDescriptor:o,writer:t})}_insertDescriptor(e){const t=this._stack,i=t.findIndex((t=>t.id===e.id));if(tK(e,t[i]))return;i>-1&&t.splice(i,1);let n=0;for(;t[n]&&iK(t[n],e);)n++;t.splice(n,0,e)}_removeDescriptor(e){const t=this._stack,i=t.findIndex((t=>t.id===e));i>-1&&t.splice(i,1)}}function tK(e,t){return e&&t&&e.priority==t.priority&&nK(e.classes)==nK(t.classes)}function iK(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&nK(e.classes)>nK(t.classes)}function nK(e){return Array.isArray(e)?e.sort().join(","):e}var oK='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const rK="ck-widget_selected";function sK(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function aK(e,t,i={}){if(!e.is("containerElement"))throw new iF("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=dK,t.setCustomProperty("widgetLabel",[],e),i.label&&function(e,t){const i=e.getCustomProperty("widgetLabel");i.push(t)}(e,i.label),i.hasSelectionHandle&&function(e,t){const i=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){const t=this.toDomElement(e),i=new sG;return i.set("content",oK),i.render(),t.appendChild(i.element),t}));t.insert(t.createPositionAt(e,0),i),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),function(e,t,i=lK,n=cK){const o=new eK;o.on("change:top",((t,o)=>{o.oldDescriptor&&n(e,o.oldDescriptor,o.writer),o.newDescriptor&&i(e,o.newDescriptor,o.writer)}));const r=(e,t,i)=>o.add(t,i),s=(e,t,i)=>o.remove(t,i);t.setCustomProperty("addHighlight",r,e),t.setCustomProperty("removeHighlight",s,e)}(e,t),e}function lK(e,t,i){if(t.classes&&i.addClass(MB(t.classes),e),t.attributes)for(const n in t.attributes)i.setAttribute(n,t.attributes[n],e)}function cK(e,t,i){if(t.classes&&i.removeClass(MB(t.classes),e),t.attributes)for(const n in t.attributes)i.removeAttribute(n,e)}function dK(){return null}const uK="widget-type-around";function hK(e,t,i){return!!e&&sK(e)&&!i.isInline(t)}function pK(e){return e.getAttribute(uK)}const mK=["before","after"],fK=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,gK="ck-widget__type-around_disabled";class bK extends QH{constructor(...e){super(...e),s(this,"_currentFakeCaretModelElement",null)}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[VY,IY]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",((i,n,o)=>{t.change((e=>{for(const i of t.document.roots)o?e.removeClass(gK,i):e.addClass(gK,i)})),o||e.model.change((e=>{e.removeSelectionAttribute(uK)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const i=this.editor,n=i.editing.view,o=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,t),attributes:o}),n.focus(),n.scrollToTheSelection()}_listenToIfEnabled(e,t,i,n){this.listenTo(e,t,((...e)=>{this.isEnabled&&i(...e)}),n)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=pK(e);if(!t)return!1;const i=e.getSelectedElement();return this._insertParagraph(i,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,i=e.locale.t,n={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",((e,o,r)=>{const s=r.mapper.toViewElement(o.item);if(s&&hK(s,o.item,t)){!function(e,t,i){const n=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){const i=this.toDomElement(e);return function(e,t){for(const i of mK){const n=new $q({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${i}`],title:t[i],"aria-hidden":"true"},children:[e.ownerDocument.importNode(fK,!0)]});e.appendChild(n.render())}}(i,t),function(e){const t=new $q({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}(i),i}));e.insert(e.createPositionAt(i,"end"),n)}(r.writer,n,s);s.getCustomProperty("widgetLabel").push((()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))}}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,i=t.document.selection,n=t.schema,o=e.editing.view;function r(e){return`ck-widget_type-around_show-fake-caret_${e}`}this._listenToIfEnabled(o.document,"arrowKey",((e,t)=>{this._handleArrowKeyPress(e,t)}),{context:[sK,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",((t,i)=>{i.directChange&&e.model.change((e=>{e.removeSelectionAttribute(uK)}))})),this._listenToIfEnabled(t.document,"change:data",(()=>{const t=i.getSelectedElement();if(t){if(hK(e.editing.mapper.toViewElement(t),t,n))return}e.model.change((e=>{e.removeSelectionAttribute(uK)}))})),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",((e,t,i)=>{const o=i.writer;if(this._currentFakeCaretModelElement){const e=i.mapper.toViewElement(this._currentFakeCaretModelElement);e&&(o.removeClass(mK.map(r),e),this._currentFakeCaretModelElement=null)}const s=t.selection.getSelectedElement();if(!s)return;const a=i.mapper.toViewElement(s);if(!hK(a,s,n))return;const l=pK(t.selection);l&&(o.addClass(r(l),a),this._currentFakeCaretModelElement=s)})),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",((t,i,n)=>{n||e.model.change((e=>{e.removeSelectionAttribute(uK)}))}))}_handleArrowKeyPress(e,t){const i=this.editor,n=i.model,o=n.document.selection,r=n.schema,s=i.editing.view,a=function(e,t){const i=PB(e,t);return"down"===i||"right"===i}(t.keyCode,i.locale.contentLanguageDirection),l=s.document.selection.getSelectedElement();let c;hK(l,i.editing.mapper.toModelElement(l),r)?c=this._handleArrowKeyPressOnSelectedWidget(a):o.isCollapsed?c=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):t.shiftKey||(c=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),c&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,i=pK(t.document.selection);return t.change((t=>{if(!i)return t.setSelectionAttribute(uK,e?"after":"before"),!0;if(!(i===(e?"after":"before")))return t.removeSelectionAttribute(uK),!0;return!1}))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,i=t.model,n=i.schema,o=t.plugins.get("Widget"),r=o._getObjectElementNextToSelection(e);return!!hK(t.editing.mapper.toViewElement(r),r,n)&&(i.change((t=>{o._setSelectionOverElement(r),t.setSelectionAttribute(uK,e?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,i=t.model,n=i.schema,o=t.editing.mapper,r=i.document.selection,s=e?r.getLastPosition().nodeBefore:r.getFirstPosition().nodeAfter;return!!hK(o.toViewElement(s),s,n)&&(i.change((t=>{t.setSelection(s,"on"),t.setSelectionAttribute(uK,e?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",((i,n)=>{const o=n.domTarget.closest(".ck-widget__type-around__button");if(!o)return;const r=function(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(o),s=function(e,t){const i=e.closest(".ck-widget");return t.mapDomToView(i)}(o,t.domConverter),a=e.editing.mapper.toModelElement(s);this._insertParagraph(a,r),n.preventDefault(),i.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",((i,n)=>{if("atTarget"!=i.eventPhase)return;const o=t.getSelectedElement(),r=e.editing.mapper.toViewElement(o),s=e.model.schema;let a;this._insertParagraphAccordingToFakeCaretPosition()?a=!0:hK(r,o,s)&&(this._insertParagraph(o,n.isSoft?"before":"after"),a=!0),a&&(n.preventDefault(),i.stop())}),{context:sK})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",((t,i)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(i.selection=e.selection)}),{priority:"high"}),F$.isAndroid?this._listenToIfEnabled(e,"keydown",((e,t)=>{229==t.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(e,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,i=e.model,n=i.schema;this._listenToIfEnabled(t.document,"delete",((t,o)=>{if("atTarget"!=t.eventPhase)return;const r=pK(i.document.selection);if(!r)return;const s=o.direction,a=i.document.selection.getSelectedElement(),l="forward"==s;if("before"===r===l)e.execute("delete",{selection:i.createSelection(a,"on")});else{const t=n.getNearestSelectionRange(i.createPositionAt(a,r),s);if(t)if(t.isCollapsed){const o=i.createSelection(t.start);if(i.modifySelection(o,{direction:s}),o.focus.isEqual(t.start)){const e=function(e,t){let i=t;for(const n of t.getAncestors({parentFirst:!0})){if(n.childCount>1||e.isLimit(n))break;i=n}return i}(n,t.start.parent);i.deleteContent(i.createSelection(e,"on"),{doNotAutoparagraph:!0})}else i.change((i=>{i.setSelection(t),e.execute(l?"deleteForward":"delete")}))}else i.change((i=>{i.setSelection(t),e.execute(l?"deleteForward":"delete")}))}o.preventDefault(),t.stop()}),{context:sK})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",((e,[n,o])=>{if(o&&!o.is("documentSelection"))return;const r=pK(i);return r?(e.stop(),t.change((e=>{const o=i.getSelectedElement(),s=t.createPositionAt(o,r),a=e.createSelection(s),l=t.insertContent(n,a);return e.setSelection(a),l}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",((e,i)=>{const[,n,o={}]=i;if(n&&!n.is("documentSelection"))return;const r=pK(t);r&&(o.findOptimalPosition=r,i[3]=o)}),{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",((e,[i])=>{if(i&&!i.is("documentSelection"))return;pK(t)&&e.stop()}),{priority:"high"})}}function vK(e){const t=e.model;return(i,n)=>{const o=n.keyCode==CB.arrowup,r=n.keyCode==CB.arrowdown,s=n.shiftKey,a=t.document.selection;if(!o&&!r)return;const l=r;if(s&&function(e,t){return!e.isCollapsed&&e.isBackward==t}(a,l))return;const c=function(e,t,i){const n=e.model;if(i){const e=t.isCollapsed?t.focus:t.getLastPosition(),i=yK(n,e,"forward");if(!i)return null;const o=n.createRange(e,i),r=kK(n.schema,o,"backward");return r?n.createRange(e,r):null}{const e=t.isCollapsed?t.focus:t.getFirstPosition(),i=yK(n,e,"backward");if(!i)return null;const o=n.createRange(i,e),r=kK(n.schema,o,"forward");return r?n.createRange(r,e):null}}(e,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(s)return}(c.isCollapsed||function(e,t,i){const n=e.model,o=e.view.domConverter;if(i){const e=n.createSelection(t.start);n.modifySelection(e),e.focus.isAtEnd||t.start.isEqual(e.focus)||(t=n.createRange(e.focus,t.end))}const r=e.mapper.toViewRange(t),s=o.viewRangeToDom(r),a=QF.getDomRangeRects(s);let l;for(const c of a)if(void 0!==l){if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}else l=Math.round(c.bottom);return!0}(e,c,l))&&(t.change((e=>{const i=l?c.end:c.start;if(s){const n=t.createSelection(a.anchor);n.setFocus(i),e.setSelection(n)}else e.setSelection(i)})),i.stop(),n.preventDefault(),n.stopPropagation())}}}function yK(e,t,i){const n=e.schema,o=e.createRangeIn(t.root),r="forward"==i?"elementStart":"elementEnd";for(const{previousPosition:s,item:a,type:l}of o.getWalker({startPosition:t,direction:i})){if(n.isLimit(a)&&!n.isInline(a))return s;if(l==r&&n.isBlock(a))return null}return null}function kK(e,t,i){const n="backward"==i?t.end:t.start;if(e.checkChild(n,"$text"))return n;for(const{nextPosition:o}of t.getWalker({direction:i}))if(e.checkChild(o,"$text"))return o;return null}class wK extends QH{constructor(...e){super(...e),s(this,"_previouslySelected",new Set)}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[bK,IY]}init(){const e=this.editor,t=e.editing.view,i=t.document,n=e.t;this.editor.editing.downcastDispatcher.on("selection",((t,i,n)=>{const o=n.writer,r=i.selection;if(r.isCollapsed)return;const s=r.getSelectedElement();if(!s)return;const a=e.editing.mapper.toViewElement(s);var l;sK(a)&&(n.consumable.consume(r,"selection")&&o.setSelection(o.createRangeOn(a),{fake:!0,label:(l=a,l.getCustomProperty("widgetLabel").reduce(((e,t)=>"function"==typeof t?e?e+". "+t():t():e?e+". "+t:t),""))}))})),this.editor.editing.downcastDispatcher.on("selection",((e,t,i)=>{this._clearPreviouslySelectedWidgets(i.writer);const n=i.writer,o=n.document.selection;let r=null;for(const s of o.getRanges())for(const e of s){const t=e.item;sK(t)&&!xK(t,r)&&(n.addClass(rK,t),this._previouslySelected.add(t),r=t)}}),{priority:"low"}),t.addObserver(BH),this.listenTo(i,"mousedown",((...e)=>this._onMousedown(...e))),this.listenTo(i,"arrowKey",((...e)=>{this._handleSelectionChangeOnArrowKeyPress(...e)}),{context:[sK,"$text"]}),this.listenTo(i,"arrowKey",((...e)=>{this._preventDefaultOnArrowKeyPress(...e)}),{context:"$root"}),this.listenTo(i,"arrowKey",vK(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",((e,t)=>{this._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())}),{context:"$root"}),this.listenTo(i,"tab",((e,t)=>{"atTarget"==e.eventPhase&&(t.shiftKey||this._selectFirstNestedEditable()&&(t.preventDefault(),e.stop()))}),{context:sK,priority:"low"}),this.listenTo(i,"tab",((e,t)=>{t.shiftKey&&this._selectAncestorWidget()&&(t.preventDefault(),e.stop())}),{priority:"low"}),this.listenTo(i,"keydown",((e,t)=>{t.keystroke==CB.esc&&this._selectAncestorWidget()&&(t.preventDefault(),e.stop())}),{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:n("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:n("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:n("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:n("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:n("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:n("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const i=this.editor,n=i.editing.view,o=n.document;let r=t.target;if(!r)return;if(t.domEvent.detail>=3)return void(this._selectBlockContent(r)&&t.preventDefault());if(!sK(r)){const e=function(e){let t=e;for(;t;){if(t.is("editableElement")||sK(t))return t;t=t.parent}return null}(r);if(!e)return;if(sK(e))r=e;else{const e=function(e,t){const i=qF(t.domEvent);let n=null;n=i?e.domConverter.domRangeToView(i):e.createRange(e.createPositionAt(t.target,0));if(!n)return null;const o=n.start;if(!o.parent)return null;let r=o.parent;o.parent.is("editableElement")&&(o.isAtEnd&&o.nodeBefore?r=o.nodeBefore:o.isAtStart&&o.nodeAfter&&(r=o.nodeAfter));if(r.is("$text"))return r.parent;return r}(n,t);if(!e||!sK(e))return;r=e}}F$.isAndroid&&t.preventDefault(),o.isFocused||n.focus();const s=i.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}_selectBlockContent(e){const t=this.editor,i=t.model,n=t.editing.mapper,o=i.schema,r=n.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),s=function(e,t){for(const i of e.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(i,"$text"))return i;if(t.isLimit(i)&&!t.isObject(i))break}return null}(n.toModelElement(r),i.schema);return!!s&&(i.change((e=>{const t=o.isLimit(s)?null:function(e,t){const i=new Yj({startPosition:e});for(const{item:n}of i){if(t.isLimit(n)||!n.is("element"))return null;if(t.checkChild(n,"$text"))return n}return null}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */(e.createPositionAfter(s),o),i=e.createPositionAt(s,0),n=t?e.createPositionAt(t,0):e.createPositionAt(s,"end");e.setSelection(e.createRange(i,n))})),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const i=t.keyCode,n=this.editor.model,o=n.schema,r=n.document.selection,s=r.getSelectedElement(),a=PB(i,this.editor.locale.contentLanguageDirection),l="down"==a||"right"==a,c="up"==a||"down"==a;if(s&&o.isObject(s)){const i=l?r.getLastPosition():r.getFirstPosition(),s=o.getNearestSelectionRange(i,l?"forward":"backward");return void(s&&(n.change((e=>{e.setSelection(s)})),t.preventDefault(),e.stop()))}if(!r.isCollapsed&&!t.shiftKey){const i=r.getFirstPosition(),s=r.getLastPosition(),a=i.nodeAfter,c=s.nodeBefore;return void((a&&o.isObject(a)||c&&o.isObject(c))&&(n.change((e=>{e.setSelection(l?s:i)})),t.preventDefault(),e.stop()))}if(!r.isCollapsed)return;const d=this._getObjectElementNextToSelection(l);if(d&&o.isObject(d)){if(o.isInline(d)&&c)return;this._setSelectionOverElement(d),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const i=this.editor.model,n=i.schema,o=i.document.selection.getSelectedElement();o&&n.isObject(o)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t))return;if(!t.isCollapsed)return;const i=this._getObjectElementNextToSelection(e);return i?(this.editor.model.change((e=>{let n=t.anchor.parent;for(;n.isEmpty;){const t=n;n=t.parent,e.remove(t)}this._setSelectionOverElement(i)})),!0):void 0}_setSelectionOverElement(e){this.editor.model.change((t=>{t.setSelection(t.createRangeOn(e))}))}_getObjectElementNextToSelection(e){const t=this.editor.model,i=t.schema,n=t.document.selection,o=t.createSelection(n);if(t.modifySelection(o,{direction:e?"forward":"backward"}),o.isEqual(n))return null;const r=e?o.focus.nodeBefore:o.focus.nodeAfter;return r&&i.isObject(r)?r:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(rK,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,t=this.editor.editing.view.document;for(const i of t.selection.getFirstRange().getItems())if(i.is("editableElement")){const t=e.editing.mapper.toModelElement(i);/* istanbul ignore next -- @preserve */if(!t)continue;const n=e.model.createPositionAt(t,0),o=e.model.schema.getNearestSelectionRange(n,"forward");return e.model.change((e=>{e.setSelection(o)})),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,i=e.editing.view.document.selection.getFirstPosition().parent,n=(i.is("$text")?i.parent:i).findAncestor(sK);if(!n)return!1;const o=t.toModelElement(n);/* istanbul ignore next -- @preserve */return!!o&&(e.model.change((e=>{e.setSelection(o,"on")})),!0)}}function xK(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}class _K extends Sj{constructor(e){super(e),s(this,"domEventType",["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"]);const t=this.document;function i(e){return(i,n)=>{n.preventDefault();const o=n.dropRange?[n.dropRange]:null,r=new X$(t,e);t.fire(r,{dataTransfer:n.dataTransfer,method:i.name,targetRanges:o,target:n.target,domEvent:n.domEvent}),r.stop.called&&n.stopPropagation()}}this.listenTo(t,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",i("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,i="drop"==e.type||"paste"==e.type,n={dataTransfer:new Nj(t,{cacheFiles:i})};if("drop"==e.type||"dragover"==e.type){const t=qF(e);n.dropRange=t&&this.view.domConverter.domRangeToView(t)}this.fire(e.type,e,n)}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
const EK=["figcaption","li"],CK=["ol","ul"];function AK(e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return"\n";let t="",i=null;for(const n of e.getChildren())t+=TK(n,i)+AK(n),i=n;return t}function TK(e,t){return t?e.is("element","li")&&!e.isEmpty&&e.getChild(0).is("containerElement")||CK.includes(e.name)&&CK.includes(t.name)?"\n\n":e.is("containerElement")||t.is("containerElement")?EK.includes(e.name)||EK.includes(t.name)?"\n":e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")||t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")?"":"\n\n":"":""}class SK extends QH{constructor(...e){super(...e),s(this,"_markersToCopy",new Map)}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,i=e=>e.model.getSelectedContent(e.model.document.selection)){return this.editor.model.change((n=>{const o=n.model.document.selection;n.setSelection(t);const r=this._insertFakeMarkersIntoSelection(n,n.model.document.selection,e),s=i(n),a=this._removeFakeMarkersInsideElement(n,s);for(const[e,t]of Object.entries(r)){a[e]||(a[e]=n.createRangeIn(s));for(const e of t)n.remove(e)}s.markers.clear();for(const[e,t]of Object.entries(a))s.markers.set(e,t);return n.setSelection(o),s}))}_pasteMarkersIntoTransformedElement(e,t){const i=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change((e=>{const n=this._insertFakeMarkersElements(e,i),o=t(e),r=this._removeFakeMarkersInsideElement(e,o);for(const t of Object.values(n).flat())e.remove(t);for(const[t,i]of Object.entries(r))e.model.markers.has(t)||e.addMarker(t,{usingOperation:!0,affectsData:!0,range:i});return o}))}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const i of t)e.markers.set(i.name,i.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,i={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const n=this._markersToCopy.get(e);this._markersToCopy.set(e,i),t(),n?this._markersToCopy.set(e,n):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const i=this._getMarkerClipboardConfig(e);if(!i)return!1;if(!t)return!0;const{allowedActions:n}=i;return"all"===n||n.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,i){const n=this._getCopyableMarkersFromSelection(e,t,i);return this._insertFakeMarkersElements(e,n)}_getCopyableMarkersFromSelection(e,t,i){const n=Array.from(t.getRanges()),o=new Set(n.flatMap((t=>Array.from(e.model.markers.getMarkersIntersectingRange(t)))));return Array.from(o).filter((e=>{if(!this._isMarkerCopyable(e.name,i))return!1;const{copyPartiallySelected:t}=this._getMarkerClipboardConfig(e.name);if(!t){const t=e.getRange();return n.some((e=>e.containsRange(t,!0)))}return!0})).map((e=>({name:"dragstart"===i?this._getUniqueMarkerName(e.name):e.name,range:e.getRange()})))}_getPasteMarkersFromRangeMap(e,t=null){const{model:i}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap((([e,n])=>{if(!this._hasMarkerConfiguration(e))return[{name:e,range:n}];if(this._isMarkerCopyable(e,t)){const t=this._getMarkerClipboardConfig(e),o=i.markers.has(e)&&"$graveyard"===i.markers.get(e).getRange().root.rootName;return(t.duplicateOnPaste||o)&&(e=this._getUniqueMarkerName(e)),[{name:e,range:n}]}return[]}))}_insertFakeMarkersElements(e,t){const i={},n=t.flatMap((e=>{const{start:t,end:i}=e.range;return[{position:t,marker:e,type:"start"},{position:i,marker:e,type:"end"}]})).sort((({position:e},{position:t})=>e.isBefore(t)?1:-1));for(const{position:o,marker:r,type:s}of n){const t=e.createElement("$marker",{"data-name":r.name,"data-type":s});i[r.name]||(i[r.name]=[]),i[r.name].push(t),e.insert(t,o)}return i}_removeFakeMarkersInsideElement(e,t){return T$(this._getAllFakeMarkersFromElement(e,t).reduce(((t,i)=>{const n=i.markerElement&&e.createPositionBefore(i.markerElement);let o=t[i.name],r=!1;if(o&&o.start&&o.end){this._getMarkerClipboardConfig(i.name).duplicateOnPaste?t[this._getUniqueMarkerName(i.name)]=t[i.name]:r=!0,o=null}return r||(t[i.name]={...o,[i.type]:n}),i.markerElement&&e.remove(i.markerElement),t}),{}),(i=>new iV(i.start||e.createPositionFromPath(t,[0]),i.end||e.createPositionAt(t,"end"))))}_getAllFakeMarkersFromElement(e,t){const i=Array.from(e.createRangeIn(t)).flatMap((({item:e})=>{if(!e.is("element","$marker"))return[];const t=e.getAttribute("data-name"),i=e.getAttribute("data-type");return[{markerElement:e,name:t,type:i}]})),n=[],o=[];for(const r of i){if("end"===r.type){i.some((e=>e.name===r.name&&"start"===e.type))||n.push({markerElement:null,name:r.name,type:"start"})}if("start"===r.type){i.some((e=>e.name===r.name&&"end"===e.type))||o.unshift({markerElement:null,name:r.name,type:"end"})}}return[...n,...i,...o]}_getUniqueMarkerName(e){const t=e.split(":"),i=Z$().substring(1,6);return 3===t.length?`${t.slice(0,2).join(":")}:${i}`:`${t.join(":")}:${i}`}}class IK extends QH{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[SK]}init(){this.editor.editing.view.addObserver(_K),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,i){const n=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:"cut"===i},(()=>{const o=n._copySelectedFragmentWithMarkers(i,t);this.fire("outputTransformation",{dataTransfer:e,content:o,method:i})}))}_setupPasteDrop(){const e=this.editor,t=e.model,i=e.editing.view,n=i.document,o=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(n,"clipboardInput",((t,i)=>{"paste"!=i.method||e.model.canEditAt(e.model.document.selection)||t.stop()}),{priority:"highest"}),this.listenTo(n,"clipboardInput",((e,t)=>{const n=t.dataTransfer;let o;if(t.content)o=t.content;else{let e="";n.getData("text/html")?e=
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((e,t)=>1==t.length?" ":t)).replace(/<!--[\s\S]*?-->/g,"")}(n.getData("text/html")):n.getData("text/plain")&&(e=function(e){return((e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||e.includes("<br>"))&&(e=`<p>${e}</p>`),e}(n.getData("text/plain"))),o=this.editor.data.htmlProcessor.toView(e)}const r=new X$(this,"inputTransformation");this.fire(r,{content:o,dataTransfer:n,targetRanges:t.targetRanges,method:t.method}),r.stop.called&&e.stop(),i.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((e,i)=>{if(i.content.isEmpty)return;const n=this.editor.data.toModel(i.content,"$clipboardHolder");0!=n.childCount&&(e.stop(),t.change((()=>{this.fire("contentInsertion",{content:n,method:i.method,dataTransfer:i.dataTransfer,targetRanges:i.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((e,t)=>{t.resultRange=o._pasteFragmentWithMarkers(t.content)}),{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,i=e.editing.view.document,n=(e,i)=>{const n=i.dataTransfer;i.preventDefault(),this._fireOutputTransformationEvent(n,t.selection,e.name)};this.listenTo(i,"copy",n,{priority:"low"}),this.listenTo(i,"cut",((t,i)=>{e.model.canEditAt(e.model.document.selection)?n(t,i):i.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((t,n)=>{const o=e.data.toView(n.content);i.fire("clipboardOutput",{dataTransfer:n.dataTransfer,content:o,method:n.method})}),{priority:"low"}),this.listenTo(i,"clipboardOutput",((i,n)=>{n.content.isEmpty||(n.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(n.content)),n.dataTransfer.setData("text/plain",AK(n.content))),"cut"==n.method&&e.model.deleteContent(t.selection)}),{priority:"low"})}}const PK=nB("px");class DK extends oG{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",(e=>!e))],style:{left:e.to("left",(e=>PK(e))),top:e.to("top",(e=>PK(e))),width:e.to("width",(e=>PK(e)))}}})}}class RK extends QH{constructor(...e){super(...e),s(this,"removeDropMarkerDelayed",GB((()=>this.removeDropMarker()),40)),s(this,"_updateDropMarkerThrottled",L$((e=>this._updateDropMarker(e)),40)),s(this,"_reconvertMarkerThrottled",L$((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0)),s(this,"_dropTargetLineView",new DK),s(this,"_domEmitter",new(jF())),s(this,"_scrollables",new Map)}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,i,n,o,r){this.removeDropMarkerDelayed.cancel();const s=LK(this.editor,e,t,i,n,o,r);/* istanbul ignore next -- @preserve */if(s)return r&&r.containsRange(s)?this.removeDropMarker():void this._updateDropMarkerThrottled(s)}getFinalDropRange(e,t,i,n,o,r){const s=LK(this.editor,e,t,i,n,o,r);return this.removeDropMarker(),s}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change((e=>{e.removeMarker("drop-target")}))}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:i})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,i=t.model.markers;t.model.change((t=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||t.updateMarker("drop-target",{range:e}):t.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(e){const t=this.toDomElement(e);return t.append("⁠",e.createElement("span"),"⁠"),t}))}_updateDropTargetLine(e){const t=this.editor.editing,i=e.start.nodeBefore,n=e.start.nodeAfter,o=e.start.parent,r=i?t.mapper.toViewElement(i):null,s=r?t.view.domConverter.mapViewToDom(r):null,a=n?t.mapper.toViewElement(n):null,l=a?t.view.domConverter.mapViewToDom(a):null,c=t.mapper.toViewElement(o);if(!c)return;const d=t.view.domConverter.mapViewToDom(c),u=this._getScrollableRect(c),{scrollX:h,scrollY:p}=O$.window,m=s?new QF(s):null,f=l?new QF(l):null,g=new QF(d).excludeScrollbarsAndBorders(),b=m?m.bottom:g.top,v=f?f.top:g.bottom,y=O$.window.getComputedStyle(d),k=b<=v?(b+v)/2:v;if(u.top<k&&k<u.bottom){const e=g.left+parseFloat(y.paddingLeft),t=g.right-parseFloat(y.paddingRight),i=Math.max(e+h,u.left),n=Math.min(t+h,u.right);this._dropTargetLineView.set({isVisible:!0,left:i,top:k+p,width:n-i})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let i;if(this._scrollables.has(t))i=this._scrollables.get(t).domElement;else{i=function(e){let t=e;do{t=t.parentElement;const e=O$.window.getComputedStyle(t).overflowY;if("auto"==e||"scroll"==e)break}while("BODY"!=t.tagName);return t}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const n=new tB(i,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:i,resizeObserver:n})}return new QF(i).excludeScrollbarsAndBorders()}}function LK(e,t,i,n,o,r,s){const a=e.model,l=e.editing.mapper;let c=$K(e,t);for(;c;){if(!r)if(a.schema.checkChild(c,"$text")){if(i){const t=i[0].start,r=l.toModelPosition(t);if(!s||Array.from(s.getItems()).every((e=>a.schema.checkChild(r,e)))){if(a.schema.checkChild(r,"$text"))return a.createRange(r);if(t)return OK(e,$K(e,t.parent),n,o)}}}else if(a.schema.isInline(c))return OK(e,c,n,o);if(a.schema.isBlock(c))return OK(e,c,n,o);if(a.schema.checkChild(c,"$block")){const t=Array.from(c.getChildren()).filter((t=>t.is("element")&&!MK(e,t)));let i=0,r=t.length;if(0==r)return a.createRange(a.createPositionAt(c,"end"));for(;i<r-1;){const s=Math.floor((i+r)/2);"before"==NK(e,t[s],n,o)?r=s:i=s}return OK(e,t[i],n,o)}c=c.parent}return null}function MK(e,t){const i=e.editing.mapper,n=e.editing.view.domConverter,o=i.toViewElement(t);if(!o)return!0;const r=n.mapViewToDom(o);return"none"!=O$.window.getComputedStyle(r).float}function OK(e,t,i,n){const o=e.model;return o.createRange(o.createPositionAt(t,NK(e,t,i,n)))}function NK(e,t,i,n){const o=e.editing.mapper,r=e.editing.view.domConverter,s=o.toViewElement(t),a=r.mapViewToDom(s),l=new QF(a);return e.model.schema.isInline(t)?i<(l.left+l.right)/2?"before":"after":n<(l.top+l.bottom)/2?"before":"after"}function $K(e,t){const i=e.editing.mapper,n=e.editing.view,o=i.toModelElement(t);if(o)return o;const r=n.createPositionBefore(t),s=i.findMappedViewAncestor(r);return i.toModelElement(s)}class FK extends QH{constructor(...e){super(...e),s(this,"_isBlockDragging",!1),s(this,"_domEmitter",new(jF()))}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",((e,t,i)=>{i?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),F$.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",((e,t)=>this._handleBlockDragStart(t))),this._domEmitter.listenTo(O$.document,"dragover",((e,t)=>this._handleBlockDragging(t))),this._domEmitter.listenTo(O$.document,"drop",((e,t)=>this._handleBlockDragging(t))),this._domEmitter.listenTo(O$.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",((e,i,n)=>{t.setAttribute("draggable",n?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,i=t.document.selection,n=this.editor.editing.view,o=Array.from(i.getSelectedBlocks()),r=t.createRange(t.createPositionBefore(o[0]),t.createPositionAfter(o[o.length-1]));t.change((e=>e.setSelection(r))),this._isBlockDragging=!0,n.focus(),n.getObserver(_K).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+("ltr"==this.editor.locale.contentLanguageDirection?100:-100),i=e.clientY,n=document.elementFromPoint(t,i),o=this.editor.editing.view;n&&n.closest(".ck-editor__editable")&&o.getObserver(_K).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:n,clientX:t,clientY:i,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class BK extends QH{constructor(...e){super(...e),s(this,"_draggedRange",void 0),s(this,"_draggingUid",void 0),s(this,"_draggableElement",void 0),s(this,"_clearDraggableAttributesDelayed",GB((()=>this._clearDraggableAttributes()),40)),s(this,"_blockMode",!1),s(this,"_domEmitter",new(jF())),s(this,"_previewContainer",void 0)}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[IK,wK,RK,FK]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(_K),t.addObserver(BH),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",((e,t,i)=>{i?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((e,t,i)=>{i||this._finalizeDragging(!1)})),F$.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,i=e.editing.view,n=i.document,o=e.plugins.get(RK);this.listenTo(n,"dragstart",((e,i)=>{if(i.target&&i.target.is("editableElement"))return void i.preventDefault();if(this._prepareDraggedRange(i.target),!this._draggedRange)return void i.preventDefault();this._draggingUid=Z$(),i.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",i.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const n=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(i.dataTransfer,n,"dragstart");const{dataTransfer:o,domTarget:r,domEvent:s}=i,{clientX:a}=s;this._updatePreview({dataTransfer:o,domTarget:r,clientX:a}),i.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(n,"dragend",((e,t)=>{this._finalizeDragging(!t.dataTransfer.isCanceled&&"move"==t.dataTransfer.dropEffect)}),{priority:"low"}),this._domEmitter.listenTo(O$.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(n,"dragenter",(()=>{this.isEnabled&&i.focus()})),this.listenTo(n,"dragleave",(()=>{o.removeDropMarkerDelayed()})),this.listenTo(n,"dragging",((e,t)=>{if(!this.isEnabled)return void(t.dataTransfer.dropEffect="none");const{clientX:i,clientY:n}=t.domEvent;o.updateDropMarker(t.target,t.targetRanges,i,n,this._blockMode,this._draggedRange),this._draggedRange||(t.dataTransfer.dropEffect="copy"),F$.isGecko||("copy"==t.dataTransfer.effectAllowed?t.dataTransfer.dropEffect="copy":["all","copyMove"].includes(t.dataTransfer.effectAllowed)&&(t.dataTransfer.dropEffect="move")),e.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,i=e.plugins.get(RK);this.listenTo(t,"clipboardInput",((t,n)=>{if("drop"!=n.method)return;const{clientX:o,clientY:r}=n.domEvent,s=i.getFinalDropRange(n.target,n.targetRanges,o,r,this._blockMode,this._draggedRange);if(!s)return this._finalizeDragging(!1),void t.stop();this._draggedRange&&this._draggingUid!=n.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="");if("move"==zK(n.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(s,!0))return this._finalizeDragging(!1),void t.stop();n.targetRanges=[e.editing.mapper.toViewRange(s)]}),{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(IK);e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const i=t.targetRanges.map((e=>this.editor.editing.mapper.toModelRange(e)));this.editor.model.change((e=>e.setSelection(i)))}),{priority:"high"}),e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const i="move"==zK(t.dataTransfer),n=!t.resultRange||!t.resultRange.isCollapsed;this._finalizeDragging(n&&i)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,i=t.document;this.listenTo(i,"mousedown",((n,o)=>{if(F$.isAndroid||!o)return;this._clearDraggableAttributesDelayed.cancel();let r=jK(o.target);if(F$.isBlink&&!e.isReadOnly&&!r&&!i.selection.isCollapsed){const e=i.selection.getSelectedElement();e&&sK(e)||(r=i.selection.editableElement)}r&&(t.change((e=>{e.setAttribute("draggable","true",r)})),this._draggableElement=e.editing.mapper.toModelElement(r))})),this.listenTo(i,"mouseup",(()=>{F$.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change((t=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(e){const t=this.editor,i=t.model;if(t.plugins.get(RK).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")){t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop")}this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&i.change((e=>{const t=i.createSelection(this._draggedRange);i.deleteContent(t,{doNotAutoparagraph:!0});const n=t.getFirstPosition().parent;n.isEmpty&&!i.schema.checkChild(n,"$text")&&i.schema.checkChild(n,"paragraph")&&e.insertElement("paragraph",n,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,i=t.model,n=i.document.selection,o=e?jK(e):null;if(o){const e=t.editing.mapper.toModelElement(o);if(this._draggedRange=gV.fromRange(i.createRangeOn(e)),this._blockMode=i.schema.isBlock(e),t.plugins.has("WidgetToolbarRepository")){t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}return}if(n.isCollapsed&&!n.getFirstPosition().parent.isEmpty)return;const r=Array.from(n.getSelectedBlocks()),s=n.getFirstRange();if(0==r.length)return void(this._draggedRange=gV.fromRange(s));const a=VK(i,r);if(r.length>1)this._draggedRange=gV.fromRange(a),this._blockMode=!0;else if(1==r.length){const e=s.start.isTouching(a.start)&&s.end.isTouching(a.end);this._draggedRange=gV.fromRange(e?a:s),this._blockMode=e}i.change((e=>e.setSelection(this._draggedRange.toRange())))}_updatePreview({dataTransfer:e,domTarget:t,clientX:i}){const n=this.editor.editing.view,o=n.document.selection.editableElement,r=n.domConverter.mapViewToDom(o),s=O$.window.getComputedStyle(r);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=MF(O$.document,"div",{style:"position: fixed; left: -999999px;"}),O$.document.body.appendChild(this._previewContainer));const a=new QF(r);if(r.contains(t))return;const l=parseFloat(s.paddingLeft),c=MF(O$.document,"div");c.className="ck ck-content",c.style.width=s.width,c.style.paddingLeft=`${a.left-i+l}px`,F$.isiOS&&(c.style.backgroundColor="white"),n.domConverter.setContentOf(c,e.getData("text/html")),e.setDragImage(c,0,0),this._previewContainer.appendChild(c)}}function zK(e){return F$.isGecko?e.dropEffect:["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function jK(e){if(e.is("editableElement"))return null;if(e.hasClass("ck-widget__selection-handle"))return e.findAncestor(sK);if(sK(e))return e;const t=e.findAncestor((e=>sK(e)||e.is("editableElement")));return sK(t)?t:null}function VK(e,t){const i=t[0],n=t[t.length-1],o=i.getCommonAncestor(n),r=e.createPositionBefore(i),s=e.createPositionAfter(n);if(o&&o.is("element")&&!e.schema.isLimit(o)){const t=e.createRangeOn(o),i=r.isTouching(t.start),n=s.isTouching(t.end);if(i&&n)return VK(e,[o])}return e.createRange(r,s)}class UK extends QH{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[IK]}init(){const e=this.editor,t=e.model,i=e.editing.view,n=t.document.selection;i.addObserver(_K),e.plugins.get(IK).on("contentInsertion",((e,i)=>{(function(e,t){let i=t.createRangeIn(e);if(1==e.childCount){const n=e.getChild(0);n.is("element")&&t.schema.isBlock(n)&&!t.schema.isObject(n)&&!t.schema.isLimit(n)&&(i=t.createRangeIn(n))}for(const n of i.getItems()){if(!t.schema.isInline(n))return!1;if(Array.from(n.getAttributeKeys()).find((e=>t.schema.getAttributeProperties(e).isFormatting)))return!1}return!0})(i.content,t)&&t.change((e=>{const o=Array.from(n.getAttributes()).filter((([e])=>t.schema.getAttributeProperties(e).isFormatting));n.isCollapsed||t.deleteContent(n,{doNotAutoparagraph:!0}),o.push(...n.getAttributes());const r=e.createRangeIn(i.content);for(const i of r.getItems())for(const n of o)t.schema.checkAttribute(i,n[0])&&e.setAttribute(n[0],n[1],i)}))}))}}class HK extends QH{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[SK,IK,BK,UK]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class qK extends GW{constructor(e,t){super(e),s(this,"view",void 0),s(this,"_toolbarConfig",void 0),s(this,"_elementReplacer",void 0),this.view=t,this._toolbarConfig=tW(e.config.get("toolbar")),this._elementReplacer=new PF,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,i=this.view,n=t.editing.view,o=i.editable,r=n.document.getRoot();o.name=r.rootName,i.render();const s=o.element;this.setEditableElement(o.name,s),i.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(s),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),i.menuBarView&&this._initMenuBar(i.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.getDomRoot(e.editable.name)&&t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(({top:e})=>e||0)),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,i=t.document.getRoot(),n=e.sourceElement;let o;const r=e.config.get("placeholder");r&&(o="string"==typeof r?r:r[this.view.editable.name]),!o&&n&&"textarea"===n.tagName.toLowerCase()&&(o=n.getAttribute("placeholder")),o&&(i.placeholder=o),ez({view:t,element:i,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,t=this.editor.plugins.get("ContextualBalloon");t.on("getPositionOptions",(t=>{const i=t.return;if(!i||!e.isSticky||!e.element)return;const n=new QF(e.element).height,o="function"==typeof i.target?i.target():i.target,r="function"==typeof i.limiter?i.limiter():i.limiter;if(o&&r&&new QF(o).height>=new QF(r).height-n)return;const s={...i.viewportOffsetConfig},a=(s.top||0)+n;t.return={...i,viewportOffsetConfig:{...s,top:a}}}),{priority:"low"});const i=()=>{t.visibleView&&t.updatePosition()};this.listenTo(e,"change:isSticky",i),this.listenTo(this.editor.ui,"change:viewportOffset",i)}_handleScrollToTheSelectionWithStickyPanel(e,t,i){const n=this.view.stickyPanel;if(n.isSticky){const e=new QF(n.element).height;t.viewportOffset.top+=e}else{const e=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(n,"change:isSticky",e),setTimeout((()=>{this.stopListening(n,"change:isSticky",e)}),20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",(()=>{const i=t.view;i.on("moveTo",((t,n)=>{if(!e.isSticky||i.wasMoved)return;const o=new QF(e.contentPanelElement);n[1]<o.bottom+CG.defaultOffset&&(n[1]=o.bottom+CG.defaultOffset)}),{priority:"high"})}),{priority:"low"})}}class GK extends KW{constructor(e,t,i={}){super(e),s(this,"stickyPanel",void 0),s(this,"toolbar",void 0),s(this,"editable",void 0),this.stickyPanel=new oY(e),this.toolbar=new nW(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),i.useMenuBar&&(this.menuBarView=new hY(e)),this.editable=new XW(e,t,void 0,{label:i.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class WK extends(lq(aq)){constructor(e,t={}){if(!YK(e)&&void 0!==t.initialData)throw new iF("editor-create-initial-data",null);super(t),s(this,"ui",void 0),this.config.define("menuBar.isVisible",!1),void 0===this.config.get("initialData")&&this.config.set("initialData",function(e){return YK(e)?(t=e,t instanceof HTMLTextAreaElement?t.value:t.innerHTML):e;var t}(e)),YK(e)&&(this.sourceElement=e),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),n=this.config.get("menuBar"),o=new GK(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i,useMenuBar:n.isVisible,label:this.config.get("label")});this.ui=new qK(this,o),function(e){if(!vL(e.updateSourceElement))throw new iF("attachtoform-missing-elementapi-interface",e);const t=e.sourceElement;if(function(e){return!!e&&"textarea"===e.tagName.toLowerCase()}(t)&&t.form){let i;const n=t.form,o=()=>e.updateSourceElement();vL(n.submit)&&(i=n.submit,n.submit=()=>{o(),i.apply(n)}),n.addEventListener("submit",o),e.on("destroy",(()=>{n.removeEventListener("submit",o),i&&(n.submit=i)}))}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise((i=>{const n=new this(e,t);i(n.initPlugins().then((()=>n.ui.init(YK(e)?e:null))).then((()=>n.data.init(n.config.get("initialData")))).then((()=>n.fire("ready"))).then((()=>n)))}))}}function YK(e){return E$(e)}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class KK extends JH{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let i=e.schema.getLimitElement(t);if(t.containsEntireContent(i)||!QK(e.schema,i))do{if(i=i.parent,!i)return}while(!QK(e.schema,i));e.change((e=>{e.setSelection(i,"in")}))}}function QK(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}const XK=SB("Ctrl+A");class JK extends QH{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,i=e.editing.view.document;e.commands.add("selectAll",new KK(e)),this.listenTo(i,"keydown",((t,i)=>{TB(i)===XK&&(e.execute("selectAll"),i.preventDefault())})),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class ZK extends QH{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",(()=>{const e=this._createButton(lG);return e.set({tooltip:!0}),e})),e.ui.componentFactory.add("menuBar:selectAll",(()=>this._createButton(IG)))}_createButton(e){const t=this.editor,i=t.locale,n=t.commands.get("selectAll"),o=new e(t.locale),r=i.t;return o.set({label:r("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),o.bind("isEnabled").to(n,"isEnabled"),this.listenTo(o,"execute",(()=>{t.execute("selectAll"),t.editing.view.focus()})),o}}class eQ extends QH{static get requires(){return[JK,ZK]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class tQ extends JH{constructor(e){super(e),s(this,"_stack",[]),s(this,"_createdBatches",new WeakSet),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",((e,t)=>{t[1]={...t[1]};const i=t[1];i.batchType||(i.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(e.data,"set",((e,t)=>{t[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,i={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,i){const n=this.editor.model,o=n.document,r=[],s=e.map((e=>e.getTransformedByOperations(i))),a=s.flat();for(const l of s){const e=l.filter((e=>e.root!=o.graveyard)).filter((e=>!nQ(e,a)));e.length&&(iQ(e),r.push(e[0]))}r.length&&n.change((e=>{e.setSelection(r,{backward:t})}))}_undo(e,t){const i=this.editor.model,n=i.document;this._createdBatches.add(t);const o=e.operations.slice().filter((e=>e.isDocumentOperation));o.reverse();for(const r of o){const e=r.baseVersion+1,o=Array.from(n.history.getOperations(e)),s=WU([r.getReversed()],o,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let a of s){const e=a.affectedSelectable;e&&!i.canEditAt(e)&&(a=new $U(a.baseVersion)),t.addOperation(a),i.applyOperation(a),n.history.setOperationAsUndone(r,a)}}}}function iQ(e){e.sort(((e,t)=>e.start.isBefore(t.start)?-1:1));for(let t=1;t<e.length;t++){const i=e[t-1].getJoined(e[t],!0);i&&(t--,e.splice(t,2,i))}}function nQ(e,t){return t.some((t=>t!==e&&t.containsRange(e,!0)))}class oQ extends tQ{execute(e=null){const t=e?this._stack.findIndex((t=>t.batch==e)):this._stack.length-1,i=this._stack.splice(t,1)[0],n=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(n,(()=>{this._undo(i.batch,n);const e=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,e)})),this.fire("revert",i.batch,n),this.refresh()}}class rQ extends tQ{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,(()=>{const i=e.batch.operations[e.batch.operations.length-1].baseVersion+1,n=this.editor.model.document.history.getOperations(i);this._restoreSelection(e.selection.ranges,e.selection.isBackward,n),this._undo(e.batch,t)})),this.refresh()}}class sQ extends QH{constructor(...e){super(...e),s(this,"_undoCommand",void 0),s(this,"_redoCommand",void 0),s(this,"_batchRegistry",new WeakSet)}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;this._undoCommand=new oQ(e),this._redoCommand=new rQ(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",((e,t)=>{const i=t[0];if(!i.isDocumentOperation)return;const n=i.batch,o=this._redoCommand.createdBatches.has(n),r=this._undoCommand.createdBatches.has(n);this._batchRegistry.has(n)||(this._batchRegistry.add(n),n.isUndoable&&(o?this._undoCommand.addBatch(n):r||(this._undoCommand.addBatch(n),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((e,t,i)=>{this._redoCommand.addBatch(i)})),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class aQ extends QH{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale,i=e.t,n="ltr"==t.uiLanguageDirection?Eq:_q,o="ltr"==t.uiLanguageDirection?_q:Eq;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",n),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",o)}_addButtonsToFactory(e,t,i,n){const o=this.editor;o.ui.componentFactory.add(e,(()=>{const o=this._createButton(lG,e,t,i,n);return o.set({tooltip:!0}),o})),o.ui.componentFactory.add("menuBar:"+e,(()=>this._createButton(IG,e,t,i,n)))}_createButton(e,t,i,n,o){const r=this.editor,s=r.locale,a=r.commands.get(t),l=new e(s);return l.set({label:i,icon:o,keystroke:n}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",(()=>{r.execute(t),r.editing.view.focus()})),l}}class lQ extends QH{static get requires(){return[sQ,aQ]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class cQ extends QH{static get requires(){return[MG,HK,VY,eQ,GY,PY,lQ]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class dQ extends JH{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=FB(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&uQ(t,e.schema)}execute(e={}){const t=this.editor.model,i=t.document,n=e.selection||i.selection;t.canEditAt(n)&&t.change((e=>{const i=n.getSelectedBlocks();for(const n of i)!n.is("element","paragraph")&&uQ(n,t.schema)&&e.rename(n,"paragraph")}))}}function uQ(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}class hQ extends JH{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,i=e.attributes;let n=e.position;t.canEditAt(n)&&t.change((e=>{if(n=this._findPositionToInsertParagraph(n,e),!n)return;const o=e.createElement("paragraph");i&&t.schema.setAllowedAttributes(o,i,e),t.insertContent(o,n),e.setSelection(o,"in")}))}_findPositionToInsertParagraph(e,t){const i=this.editor.model;if(i.schema.checkChild(e,"paragraph"))return e;const n=i.schema.findAllowedParent(e,"paragraph");if(!n)return null;const o=e.parent,r=i.schema.checkChild(o,"$text");return o.isEmpty||r&&e.isAtEnd?i.createPositionAfter(o):!o.isEmpty&&r&&e.isAtStart?i.createPositionBefore(o):t.split(e,n).position}}class pQ extends QH{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new dQ(e)),e.commands.add("insertParagraph",new hQ(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(e,{writer:t})=>pQ.paragraphLikeElements.has(e.name)?e.isEmpty?null:t.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function mQ(e,t,i,n){t&&function(e,t,i){if(t.attributes)for(const[n]of Object.entries(t.attributes))e.removeAttribute(n,i);if(t.styles)for(const n of Object.keys(t.styles))e.removeStyle(n,i);t.classes&&e.removeClass(t.classes,i)}(e,t,n),i&&fQ(e,i,n)}function fQ(e,t,i){if(t.attributes)for(const[n,o]of Object.entries(t.attributes))e.setAttribute(n,o,i);t.styles&&e.setStyle(t.styles,i),t.classes&&e.addClass(t.classes,i)}function gQ(e,t,i,n,o){const r=t.getAttribute(i),s={};for(const a of["attributes","styles","classes"]){if(a!=n){r&&r[a]&&(s[a]=r[a]);continue}if("classes"==n){const e=new Set(r&&r.classes||[]);o(e),e.size&&(s[a]=Array.from(e));continue}const e=new Map(Object.entries(r&&r[a]||{}));o(e),e.size&&(s[a]=Object.fromEntries(e))}Object.keys(s).length?t.is("documentSelection")?e.setSelectionAttribute(i,s):e.setAttribute(i,s,t):r&&(t.is("documentSelection")?e.removeSelectionAttribute(i):e.removeAttribute(i,t))}function bQ(e){return`html${t=e,R$(t).replace(/ /g,"")}Attributes`;var t}function vQ({model:e}){return(t,i)=>i.writer.createElement(e,{htmlContent:t.getCustomProperty("$rawContent")})}function yQ(e,{view:t,isInline:i}){const n=e.t;return(e,{writer:o})=>{const r=n("HTML object"),s=kQ(t,e,o),a=e.getAttribute(bQ(t));o.addClass("html-object-embed__content",s),a&&fQ(o,a,s);return aK(o.createContainerElement(i?"span":"div",{class:"html-object-embed","data-html-object-embed-label":r},s),o,{label:r})}}function kQ(e,t,i){return i.createRawElement(e,null,((e,i)=>{i.setContentOf(e,t.getAttribute("htmlContent"))}))}function wQ({view:e,model:t,allowEmpty:i},n){return t=>{t.on(`element:${e}`,((e,t,r)=>{let s=n.processViewAttributes(t.viewItem,r);if(s||r.consumable.test(t.viewItem,{name:!0})){if(s=s||{},r.consumable.consume(t.viewItem,{name:!0}),t.modelRange||(t=Object.assign(t,r.convertChildren(t.viewItem,t.modelCursor))),i&&t.modelRange.isCollapsed&&Object.keys(s).length){const e=r.writer.createElement("htmlEmptyElement");if(!r.safeInsert(e,t.modelCursor))return;const i=r.getSplitParts(e);return t.modelRange=r.writer.createRange(t.modelRange.start,r.writer.createPositionAfter(i[i.length-1])),r.updateConversionResult(e,t),void o(e,s,r)}for(const e of t.modelRange.getItems())o(e,s,r)}}),{priority:"low"})};function o(e,i,n){if(n.schema.checkAttribute(e,t)){const o=function(e,t){const i=UN(e);let n="attributes";for(n in t)i[n]="classes"==n?Array.from(new Set([...e[n]||[],...t[n]])):{...e[n],...t[n]};return i}(i,e.getAttribute(t)||{});n.writer.setAttribute(t,o,e)}}}function xQ({model:e,view:t},i){return(n,{writer:o,consumable:r})=>{if(!n.hasAttribute(e))return null;const s=o.createContainerElement(t),a=n.getAttribute(e);return r.consume(n,`attribute:${e}`),fQ(o,a,s),s.getFillerOffset=()=>null,i?aK(s,o):s}}function _Q({priority:e,view:t}){return(i,n)=>{if(!i)return;const{writer:o}=n,r=o.createAttributeElement(t,null,{priority:e});return fQ(o,i,r),r}}function EQ({view:e},t){return i=>{i.on(`element:${e}`,((e,i,n)=>{if(!i.modelRange||i.modelRange.isCollapsed)return;const o=t.processViewAttributes(i.viewItem,n);o&&n.writer.setAttribute(bQ(i.viewItem.name),o,i.modelRange)}),{priority:"low"})}}function CQ({view:e,model:t}){return i=>{i.on(`attribute:${bQ(e)}:${t}`,((e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const{attributeOldValue:n,attributeNewValue:o}=t;mQ(i.writer,n,o,i.mapper.toViewElement(t.item))}))}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */s(pQ,"paragraphLikeElements",new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]));var AQ=[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6","$text"],allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowIn:["$root","$container"],allowChildren:["paragraph","htmlP","htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}}],TQ=[{model:"htmlLiAttributes",view:"li",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlOlAttributes",view:"ol",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlUlAttributes",view:"ul",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"table"},{model:"htmlTheadAttributes",view:"thead",appliesToBlock:"table"},{model:"htmlTbodyAttributes",view:"tbody",appliesToBlock:"table"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"imageBlock"},{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref"},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],allowAttributesOf:"$inlineObject",isInline:!0}}];class SQ extends QH{constructor(...e){super(...e),s(this,"_definitions",[])}static get pluginName(){return"DataSchema"}static get isOfficialPlugin(){return!0}init(){for(const e of AQ)this.registerBlockElement(e);for(const e of TQ)this.registerInlineElement(e)}registerBlockElement(e){this._definitions.push({...e,isBlock:!0})}registerInlineElement(e){this._definitions.push({...e,isInline:!0})}extendBlockElement(e){this._extendDefinition({...e,isBlock:!0})}extendInlineElement(e){this._extendDefinition({...e,isInline:!0})}getDefinitionsForView(e,t=!1){const i=new Set;for(const n of this._getMatchingViewDefinitions(e)){if(t)for(const e of this._getReferences(n.model))i.add(e);i.add(n)}return i}getDefinitionsForModel(e){return this._definitions.filter((t=>t.model==e))}_getMatchingViewDefinitions(e){return this._definitions.filter((t=>t.view&&function(e,t){if("string"==typeof e)return e===t;if(e instanceof RegExp)return e.test(t);return!1}(e,t.view)))}*_getReferences(e){const t=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"],i=this._definitions.filter((t=>t.model==e));for(const{modelSchema:n}of i)if(n)for(const i of t)for(const t of MB(n[i]||[])){const i=this._definitions.filter((e=>e.model==t));for(const n of i)t!==e&&(yield*this._getReferences(n.model),yield n)}}_extendDefinition(e){const t=Array.from(this._definitions.entries()).filter((([,t])=>t.model==e.model));if(0!=t.length)for(const[i,n]of t)this._definitions[i]=x$({},n,e,((e,t)=>Array.isArray(e)?e.concat(t):void 0));else this._definitions.push(e)}}class IQ extends QH{constructor(e){super(e),s(this,"_dataSchema",void 0),s(this,"_allowedAttributes",void 0),s(this,"_disallowedAttributes",void 0),s(this,"_allowedElements",void 0),s(this,"_disallowedElements",void 0),s(this,"_dataInitialized",void 0),s(this,"_coupledAttributes",void 0),this._dataSchema=e.plugins.get("DataSchema"),this._allowedAttributes=new lz,this._disallowedAttributes=new lz,this._allowedElements=new Set,this._disallowedElements=new Set,this._dataInitialized=!1,this._coupledAttributes=null,this._registerElementsAfterInit(),this._registerElementHandlers(),this._registerCoupledAttributesPostFixer(),this._registerAssociatedHtmlAttributesPostFixer()}static get pluginName(){return"DataFilter"}static get isOfficialPlugin(){return!0}static get requires(){return[SQ,wK]}loadAllowedConfig(e){for(const t of e){const e=t.name||/[\s\S]+/,i=MQ(t);this.allowElement(e),i.forEach((e=>this.allowAttributes(e)))}}loadDisallowedConfig(e){for(const t of e){const e=t.name||/[\s\S]+/,i=MQ(t);0==i.length?this.disallowElement(e):i.forEach((e=>this.disallowAttributes(e)))}}loadAllowedEmptyElementsConfig(e){for(const t of e)this.allowEmptyElement(t)}allowElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!0))this._addAllowedElement(t),this._coupledAttributes=null}disallowElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!1))this._disallowedElements.add(t.view)}allowEmptyElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!0))t.isInline&&this._dataSchema.extendInlineElement({...t,allowEmpty:!0})}allowAttributes(e){this._allowedAttributes.add(e)}disallowAttributes(e){this._disallowedAttributes.add(e)}processViewAttributes(e,t){const{consumable:i}=t;return PQ(e,this._disallowedAttributes,i),function(e,{attributes:t,classes:i,styles:n}){if(!t.length&&!i.length&&!n.length)return null;return{...t.length&&{attributes:DQ(e,t)},...n.length&&{styles:RQ(e,n)},...i.length&&{classes:i}}}(e,PQ(e,this._allowedAttributes,i))}_addAllowedElement(e){if(!this._allowedElements.has(e)){if(this._allowedElements.add(e),"appliesToBlock"in e&&"string"==typeof e.appliesToBlock)for(const t of this._dataSchema.getDefinitionsForModel(e.appliesToBlock))t.isBlock&&this._addAllowedElement(t);this._dataInitialized&&this.editor.data.once("set",(()=>{this._fireRegisterEvent(e)}),{priority:eF.highest+1})}}_registerElementsAfterInit(){this.editor.data.on("init",(()=>{this._dataInitialized=!0;for(const e of this._allowedElements)this._fireRegisterEvent(e)}),{priority:eF.highest+1})}_registerElementHandlers(){this.on("register",((e,t)=>{const i=this.editor.model.schema;if(t.isObject&&!i.isRegistered(t.model))this._registerObjectElement(t);else if(t.isBlock)this._registerBlockElement(t);else{if(!t.isInline)throw new iF("data-filter-invalid-definition",null,t);this._registerInlineElement(t)}e.stop()}),{priority:"lowest"})}_registerCoupledAttributesPostFixer(){const e=this.editor.model,t=e.document.selection;e.document.registerPostFixer((t=>{const i=e.document.differ.getChanges();let n=!1;const o=this._getCoupledAttributesMap();for(const e of i){if("attribute"!=e.type||null!==e.attributeNewValue)continue;const i=o.get(e.attributeKey);if(i)for(const{item:o}of e.range.getWalker())for(const e of i)o.hasAttribute(e)&&(t.removeAttribute(e,o),n=!0)}return n})),this.listenTo(t,"change:attribute",((i,{attributeKeys:n})=>{const o=new Set,r=this._getCoupledAttributesMap();for(const e of n){if(t.hasAttribute(e))continue;const i=r.get(e);if(i)for(const e of i)t.hasAttribute(e)&&o.add(e)}0!=o.size&&e.change((e=>{for(const t of o)e.removeSelectionAttribute(t)}))}))}_registerAssociatedHtmlAttributesPostFixer(){const e=this.editor.model;e.document.registerPostFixer((t=>{const i=e.document.differ.getChanges();let n=!1;for(const o of i)if("insert"===o.type&&"$text"!==o.name)for(const i of o.attributes.keys())i.startsWith("html")&&i.endsWith("Attributes")&&(e.schema.checkAttribute(o.name,i)||(t.removeAttribute(i,o.position.nodeAfter),n=!0));return n}))}_getCoupledAttributesMap(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;for(const e of this._allowedElements)if(e.coupledAttribute&&e.model){const t=this._coupledAttributes.get(e.coupledAttribute);t?t.push(e.model):this._coupledAttributes.set(e.coupledAttribute,[e.model])}return this._coupledAttributes}_fireRegisterEvent(e){e.view&&this._disallowedElements.has(e.view)||this.fire(e.view?`register:${e.view}`:"register",e)}_registerObjectElement(e){const t=this.editor,i=t.model.schema,n=t.conversion,{view:o,model:r}=e;i.register(r,e.modelSchema),/* istanbul ignore next: paranoid check -- @preserve */o&&(i.extend(e.model,{allowAttributes:[bQ(o),"htmlContent"]}),t.data.registerRawContentMatcher({name:o}),n.for("upcast").elementToElement({view:o,model:vQ(e),converterPriority:eF.low+2}),n.for("upcast").add(EQ(e,this)),n.for("editingDowncast").elementToStructure({model:{name:r,attributes:[bQ(o)]},view:yQ(t,e)}),n.for("dataDowncast").elementToElement({model:r,view:(e,{writer:t})=>kQ(o,e,t)}),n.for("dataDowncast").add(CQ(e)))}_registerBlockElement(e){const t=this.editor,i=t.model.schema,n=t.conversion,{view:o,model:r}=e;if(!i.isRegistered(e.model)){if(i.register(e.model,e.modelSchema),!o)return;n.for("upcast").elementToElement({model:r,view:o,converterPriority:eF.low+2}),n.for("downcast").elementToElement({model:r,view:o})}o&&(i.extend(e.model,{allowAttributes:bQ(o)}),n.for("upcast").add(EQ(e,this)),n.for("downcast").add(CQ(e)))}_registerInlineElement(e){const t=this.editor,i=t.model.schema,n=t.conversion,o=e.model;e.appliesToBlock||(i.extend("$text",{allowAttributes:o}),e.attributeProperties&&i.setAttributeProperties(o,e.attributeProperties),n.for("upcast").add(wQ(e,this)),n.for("downcast").attributeToElement({model:o,view:_Q(e)}),e.allowEmpty&&(i.setAttributeProperties(o,{copyFromObject:!1}),i.isRegistered("htmlEmptyElement")||i.register("htmlEmptyElement",{inheritAllFrom:"$inlineObject"}),t.data.htmlProcessor.domConverter.registerInlineObjectMatcher((t=>t.name==e.view&&t.isEmpty&&Array.from(t.getAttributeKeys()).length?{name:!0}:null)),n.for("editingDowncast").elementToElement({model:"htmlEmptyElement",view:xQ(e,!0)}),n.for("dataDowncast").elementToElement({model:"htmlEmptyElement",view:xQ(e)})))}}function PQ(e,t,i){const n=t.matchAll(e)||[],o=e.document.stylesProcessor;return n.reduce(((t,{match:n})=>{for(const r of n.styles||[]){const n=o.getRelatedStyles(r).filter((e=>e.split("-").length>r.split("-").length)).sort(((e,t)=>t.split("-").length-e.split("-").length));for(const o of n)i.consume(e,{styles:[o]})&&t.styles.push(o);i.consume(e,{styles:[r]})&&t.styles.push(r)}for(const o of n.classes||[])i.consume(e,{classes:[o]})&&t.classes.push(o);for(const o of n.attributes||[])i.consume(e,{attributes:[o]})&&t.attributes.push(o);return t}),{attributes:[],classes:[],styles:[]})}function DQ(e,t){const i={};for(const n of t){const t=e.getAttribute(n);void 0!==t&&aB(n)&&(i[n]=t)}return i}function RQ(e,t){const i=new uz(e.document.stylesProcessor);for(const n of t){const t=e.getStyle(n);void 0!==t&&i.set(n,t)}return Object.fromEntries(i.getStylesEntries())}function LQ(e,t){const{name:i}=e,n=e[t];return tO(n)?Object.entries(n).map((([e,n])=>({name:i,[t]:{[e]:n}}))):Array.isArray(n)?n.map((e=>({name:i,[t]:[e]}))):[e]}function MQ(e){const{name:t,attributes:i,classes:n,styles:o}=e,r=[];return i&&r.push(...LQ({name:t,attributes:i},"attributes")),n&&r.push(...LQ({name:t,classes:n},"classes")),o&&r.push(...LQ({name:t,styles:o},"styles")),r}class OQ extends QH{static get requires(){return[IQ]}static get pluginName(){return"CodeBlockElementSupport"}static get isOfficialPlugin(){return!0}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const e=this.editor.plugins.get(IQ);e.on("register:pre",((t,i)=>{if("codeBlock"!==i.model)return;const n=this.editor,o=n.model.schema,r=n.conversion;o.extend("codeBlock",{allowAttributes:["htmlPreAttributes","htmlContentAttributes"]}),r.for("upcast").add(function(e){return t=>{t.on("element:code",((t,i,n)=>{const o=i.viewItem,r=o.parent;function s(t,o){const r=e.processViewAttributes(t,n);r&&n.writer.setAttribute(o,r,i.modelRange)}r&&r.is("element","pre")&&(s(r,"htmlPreAttributes"),s(o,"htmlContentAttributes"))}),{priority:"low"})}}(e)),r.for("downcast").add((e=>{e.on("attribute:htmlPreAttributes:codeBlock",((e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const{attributeOldValue:n,attributeNewValue:o}=t,r=i.mapper.toViewElement(t.item).parent;mQ(i.writer,n,o,r)})),e.on("attribute:htmlContentAttributes:codeBlock",((e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const{attributeOldValue:n,attributeNewValue:o}=t,r=i.mapper.toViewElement(t.item);mQ(i.writer,n,o,r)}))})),t.stop()}))}}class NQ extends QH{static get requires(){return[IQ]}static get pluginName(){return"DualContentModelElementSupport"}static get isOfficialPlugin(){return!0}init(){this.editor.plugins.get(IQ).on("register",((e,t)=>{const i=t,n=this.editor,o=n.model.schema,r=n.conversion;if(!i.paragraphLikeModel)return;if(o.isRegistered(i.model)||o.isRegistered(i.paragraphLikeModel))return;const s={model:i.paragraphLikeModel,view:i.view};o.register(i.model,i.modelSchema),o.register(s.model,{inheritAllFrom:"$block"}),r.for("upcast").elementToElement({view:i.view,model:(e,{writer:t})=>this._hasBlockContent(e)?t.createElement(i.model):t.createElement(s.model),converterPriority:eF.low+.5}),r.for("downcast").elementToElement({view:i.view,model:i.model}),this._addAttributeConversion(i),r.for("downcast").elementToElement({view:s.view,model:s.model}),this._addAttributeConversion(s),e.stop()}))}_hasBlockContent(e){const t=this.editor.editing.view,i=t.domConverter.blockElements;for(const n of t.createRangeIn(e).getItems())if(n.is("element")&&i.includes(n.name))return!0;return!1}_addAttributeConversion(e){const t=this.editor,i=t.conversion,n=t.plugins.get(IQ);t.model.schema.extend(e.model,{allowAttributes:bQ(e.view)}),i.for("upcast").add(EQ(e,n)),i.for("downcast").add(CQ(e))}}class $Q extends QH{static get requires(){return[SQ,VY]}static get pluginName(){return"HeadingElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("HeadingEditing"))return;const t=e.config.get("heading.options");this.registerHeadingElements(e,t)}registerHeadingElements(e,t){const i=e.plugins.get(SQ),n=[];for(const o of t)"model"in o&&"view"in o&&(i.registerBlockElement({view:o.view,model:o.model}),n.push(o.model));i.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:n}}),i.extendBlockElement({model:"htmlSummary",modelSchema:{allowChildren:n}})}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function FQ(e,t,i){const n=e.createRangeOn(t);for(const{item:o}of n.getWalker())if(o.is("element",i))return o}class BQ extends QH{static get requires(){return[IQ]}static get pluginName(){return"ImageElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("ImageInlineEditing")&&!e.plugins.has("ImageBlockEditing"))return;const t=e.model.schema,i=e.conversion,n=e.plugins.get(IQ);n.on("register:figure",(()=>{i.for("upcast").add(function(e){return t=>{t.on("element:figure",((t,i,n)=>{const o=i.viewItem;if(!i.modelRange||!o.hasClass("image"))return;const r=e.processViewAttributes(o,n);r&&n.writer.setAttribute("htmlFigureAttributes",r,i.modelRange)}),{priority:"low"})}}(n))})),n.on("register:img",((o,r)=>{"imageBlock"!==r.model&&"imageInline"!==r.model||(t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["htmlImgAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["htmlA","htmlImgAttributes"]}),i.for("upcast").add(function(e){return t=>{t.on("element:img",((t,i,n)=>{if(!i.modelRange)return;const o=i.viewItem,r=e.processViewAttributes(o,n);r&&n.writer.setAttribute("htmlImgAttributes",r,i.modelRange)}),{priority:"low"})}}(n)),i.for("downcast").add((e=>{function t(t){e.on(`attribute:${t}:imageInline`,((e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const{attributeOldValue:n,attributeNewValue:o}=t,r=i.mapper.toViewElement(t.item);mQ(i.writer,n,o,r)}),{priority:"low"})}function i(t,i){e.on(`attribute:${i}:imageBlock`,((e,i,n)=>{if(!n.consumable.test(i.item,e.name))return;const{attributeOldValue:o,attributeNewValue:r}=i,s=n.mapper.toViewElement(i.item),a=FQ(n.writer,s,t);a&&(mQ(n.writer,o,r,a),n.consumable.consume(i.item,e.name))}),{priority:"low"}),"a"===t&&e.on("attribute:linkHref:imageBlock",((e,t,i)=>{if(!i.consumable.consume(t.item,"attribute:htmlLinkAttributes:imageBlock"))return;const n=i.mapper.toViewElement(t.item),o=FQ(i.writer,n,"a");fQ(i.writer,t.item.getAttribute("htmlLinkAttributes"),o)}),{priority:"low"})}t("htmlImgAttributes"),i("img","htmlImgAttributes"),i("figure","htmlFigureAttributes"),i("a","htmlLinkAttributes")})),e.plugins.has("LinkImage")&&i.for("upcast").add(function(e,t){const i=t.plugins.get("ImageUtils");return t=>{t.on("element:a",((t,n,o)=>{const r=n.viewItem;if(!i.findViewImgElement(r))return;const s=n.modelCursor.parent;if(!s.is("element","imageBlock"))return;const a=e.processViewAttributes(r,o);a&&o.writer.setAttribute("htmlLinkAttributes",a,s)}),{priority:"low"})}}(n,e)),o.stop())}))}}class zQ extends QH{static get requires(){return[IQ]}static get pluginName(){return"MediaEmbedElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("MediaEmbed")||e.config.get("mediaEmbed.previewsInData"))return;const t=e.model.schema,i=e.conversion,n=this.editor.plugins.get(IQ),o=this.editor.plugins.get(SQ),r=e.config.get("mediaEmbed.elementName");o.registerBlockElement({model:"media",view:r}),n.on("register:figure",(()=>{i.for("upcast").add(function(e){return t=>{t.on("element:figure",((t,i,n)=>{const o=i.viewItem;if(!i.modelRange||!o.hasClass("media"))return;const r=e.processViewAttributes(o,n);r&&n.writer.setAttribute("htmlFigureAttributes",r,i.modelRange)}),{priority:"low"})}}(n))})),n.on(`register:${r}`,((e,o)=>{"media"===o.model&&(t.extend("media",{allowAttributes:[bQ(r),"htmlFigureAttributes"]}),i.for("upcast").add(function(e,t){const i=(i,n,o)=>{function r(t,i){const r=e.processViewAttributes(t,o);r&&o.writer.setAttribute(i,r,n.modelRange)}r(n.viewItem,bQ(t))};return e=>{e.on(`element:${t}`,i,{priority:"low"})}}(n,r)),i.for("dataDowncast").add(function(e){return t=>{function i(e,i){t.on(`attribute:${i}:media`,((t,i,n)=>{if(!n.consumable.consume(i.item,t.name))return;const{attributeOldValue:o,attributeNewValue:r}=i,s=n.mapper.toViewElement(i.item),a=FQ(n.writer,s,e);mQ(n.writer,o,r,a)}))}i(e,bQ(e)),i("figure","htmlFigureAttributes")}}(r)),e.stop())}))}}class jQ extends QH{static get requires(){return[IQ]}static get pluginName(){return"ScriptElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(IQ);e.on("register:script",((t,i)=>{const n=this.editor,o=n.model.schema,r=n.conversion;o.register("htmlScript",i.modelSchema),o.extend("htmlScript",{allowAttributes:["htmlScriptAttributes","htmlContent"],isContent:!0}),n.data.registerRawContentMatcher({name:"script"}),r.for("upcast").elementToElement({view:"script",model:vQ(i)}),r.for("upcast").add(EQ(i,e)),r.for("downcast").elementToElement({model:"htmlScript",view:(e,{writer:t})=>kQ("script",e,t)}),r.for("downcast").add(CQ(i)),t.stop()}))}}class VQ extends QH{static get requires(){return[IQ]}static get pluginName(){return"TableElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("TableEditing"))return;const t=e.model.schema,i=e.conversion,n=e.plugins.get(IQ),o=e.plugins.get("TableUtils");n.on("register:figure",(()=>{i.for("upcast").add(function(e){return t=>{t.on("element:figure",((t,i,n)=>{const o=i.viewItem;if(!i.modelRange||!o.hasClass("table"))return;const r=e.processViewAttributes(o,n);r&&n.writer.setAttribute("htmlFigureAttributes",r,i.modelRange)}),{priority:"low"})}}(n))})),n.on("register:table",((r,s)=>{"table"===s.model&&(t.extend("table",{allowAttributes:["htmlTableAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),i.for("upcast").add(function(e){return t=>{t.on("element:table",((t,i,n)=>{if(!i.modelRange)return;const o=i.viewItem;r(o,"htmlTableAttributes");for(const e of o.getChildren())e.is("element","thead")&&r(e,"htmlTheadAttributes"),e.is("element","tbody")&&r(e,"htmlTbodyAttributes");function r(t,o){const r=e.processViewAttributes(t,n);r&&n.writer.setAttribute(o,r,i.modelRange)}}),{priority:"low"})}}(n)),i.for("downcast").add((e=>{function t(t,i){e.on(`attribute:${i}:table`,((e,i,n)=>{if(!n.consumable.test(i.item,e.name))return;const o=n.mapper.toViewElement(i.item),r=FQ(n.writer,o,t);r&&(n.consumable.consume(i.item,e.name),mQ(n.writer,i.attributeOldValue,i.attributeNewValue,r))}))}t("table","htmlTableAttributes"),t("figure","htmlFigureAttributes"),t("thead","htmlTheadAttributes"),t("tbody","htmlTbodyAttributes")})),e.model.document.registerPostFixer(function(e,t){return i=>{const n=e.document.differ.getChanges();let o=!1;for(const e of n){if("attribute"!=e.type||"headingRows"!=e.attributeKey)continue;const n=e.range.start.nodeAfter,r=n.getAttribute("htmlTheadAttributes"),s=n.getAttribute("htmlTbodyAttributes");r&&!e.attributeNewValue?(i.removeAttribute("htmlTheadAttributes",n),o=!0):s&&e.attributeNewValue==t.getRows(n)&&(i.removeAttribute("htmlTbodyAttributes",n),o=!0)}return o}}(e.model,o)),r.stop())}))}}class UQ extends QH{static get requires(){return[IQ]}static get pluginName(){return"StyleElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(IQ);e.on("register:style",((t,i)=>{const n=this.editor,o=n.model.schema,r=n.conversion;o.register("htmlStyle",i.modelSchema),o.extend("htmlStyle",{allowAttributes:["htmlStyleAttributes","htmlContent"],isContent:!0}),n.data.registerRawContentMatcher({name:"style"}),r.for("upcast").elementToElement({view:"style",model:vQ(i)}),r.for("upcast").add(EQ(i,e)),r.for("downcast").elementToElement({model:"htmlStyle",view:(e,{writer:t})=>kQ("style",e,t)}),r.for("downcast").add(CQ(i)),t.stop()}))}}class HQ extends QH{static get requires(){return[IQ]}static get pluginName(){return"ListElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("ListEditing"))return;const t=e.model.schema,i=e.conversion,n=e.plugins.get(IQ),o=e.plugins.get("ListEditing"),r=e.plugins.get("ListUtils"),s=["ul","ol","li"];o.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast:fQ}),o.registerDowncastStrategy({scope:"list",attributeName:"htmlUlAttributes",setAttributeOnDowncast:fQ}),o.registerDowncastStrategy({scope:"list",attributeName:"htmlOlAttributes",setAttributeOnDowncast:fQ}),n.on("register",((e,o)=>{if(!s.includes(o.view))return;if(e.stop(),t.checkAttribute("$block","htmlLiAttributes"))return;const r=s.map((e=>bQ(e)));t.extend("$listItem",{allowAttributes:r}),i.for("upcast").add((e=>{e.on("element:ul",qQ("htmlUlAttributes",n),{priority:"low"}),e.on("element:ol",qQ("htmlOlAttributes",n),{priority:"low"}),e.on("element:li",qQ("htmlLiAttributes",n),{priority:"low"})}))})),o.on("postFixer",((e,{listNodes:t,writer:i})=>{for(const{node:n,previousNodeInList:o}of t)if(o){if(o.getAttribute("listType")==n.getAttribute("listType")){const t=GQ(o.getAttribute("listType")),r=o.getAttribute(t);!C$(n.getAttribute(t),r)&&i.model.schema.checkAttribute(n,t)&&(i.setAttribute(t,r,n),e.return=!0)}if(o.getAttribute("listItemId")==n.getAttribute("listItemId")){const t=o.getAttribute("htmlLiAttributes");!C$(n.getAttribute("htmlLiAttributes"),t)&&i.model.schema.checkAttribute(n,"htmlLiAttributes")&&(i.setAttribute("htmlLiAttributes",t,n),e.return=!0)}}})),o.on("postFixer",((e,{listNodes:t,writer:i})=>{for(const{node:n}of t){const t=n.getAttribute("listType");!r.isNumberedListType(t)&&n.getAttribute("htmlOlAttributes")&&(i.removeAttribute("htmlOlAttributes",n),e.return=!0),r.isNumberedListType(t)&&n.getAttribute("htmlUlAttributes")&&(i.removeAttribute("htmlUlAttributes",n),e.return=!0)}}))}afterInit(){const e=this.editor;if(!e.commands.get("indentList"))return;const t=e.commands.get("indentList");this.listenTo(t,"afterExecute",((t,i)=>{e.model.change((t=>{for(const n of i){const i=GQ(n.getAttribute("listType"));e.model.schema.checkAttribute(n,i)&&t.setAttribute(i,{},n)}}))}))}}function qQ(e,t){return(i,n,o)=>{const r=n.viewItem;n.modelRange||Object.assign(n,o.convertChildren(n.viewItem,n.modelCursor));const s=t.processViewAttributes(r,o);for(const t of n.modelRange.getItems({shallow:!0}))t.hasAttribute("listItemId")&&(t.hasAttribute("htmlUlAttributes")||t.hasAttribute("htmlOlAttributes")||o.writer.model.schema.checkAttribute(t,e)&&o.writer.setAttribute(e,s||{},t))}}function GQ(e){return"numbered"===e||"customNumbered"==e?"htmlOlAttributes":"htmlUlAttributes"}class WQ extends QH{static get requires(){return[IQ,SQ]}static get pluginName(){return"CustomElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(IQ),t=this.editor.plugins.get(SQ);e.on("register:$customElement",((i,n)=>{i.stop();const o=this.editor,r=o.model.schema,s=o.conversion,a=o.editing.view.domConverter.unsafeElements,l=o.data.htmlProcessor.domConverter.preElements;r.register(n.model,n.modelSchema),r.extend(n.model,{allowAttributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"],isContent:!0}),o.data.htmlProcessor.domConverter.registerRawContentMatcher({name:"template"}),s.for("upcast").elementToElement({view:/.*/,model:(i,r)=>{if("$comment"==i.name)return null;if(!function(e){try{document.createElement(e)}catch(t){return!1}return!0}(i.name))return null;if(t.getDefinitionsForView(i.name).size)return null;a.includes(i.name)||a.push(i.name),l.includes(i.name)||l.push(i.name);const s=r.writer.createElement(n.model,{htmlElementName:i.name}),c=e.processViewAttributes(i,r);let d;if(c&&r.writer.setAttribute("htmlCustomElementAttributes",c,s),i.is("element","template")&&i.getCustomProperty("$rawContent"))d=i.getCustomProperty("$rawContent");else{const e=new zH(i.document).createDocumentFragment(i),t=o.data.htmlProcessor.domConverter.viewToDom(e),n=t.firstChild;for(;n.firstChild;)t.appendChild(n.firstChild);n.remove(),d=o.data.htmlProcessor.htmlWriter.getHtml(t)}r.writer.setAttribute("htmlContent",d,s);for(const{item:e}of o.editing.view.createRangeIn(i))r.consumable.consume(e,{name:!0});return s},converterPriority:"low"}),s.for("editingDowncast").elementToElement({model:{name:n.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(e,{writer:t})=>{const i=e.getAttribute("htmlElementName"),n=t.createRawElement(i);return e.hasAttribute("htmlCustomElementAttributes")&&fQ(t,e.getAttribute("htmlCustomElementAttributes"),n),n}}),s.for("dataDowncast").elementToElement({model:{name:n.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(e,{writer:t})=>{const i=e.getAttribute("htmlElementName"),n=e.getAttribute("htmlContent"),o=t.createRawElement(i,null,((e,t)=>{t.setContentOf(e,n)}));return e.hasAttribute("htmlCustomElementAttributes")&&fQ(t,e.getAttribute("htmlCustomElementAttributes"),o),o}})}))}}class YQ extends QH{static get pluginName(){return"GeneralHtmlSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[IQ,OQ,NQ,$Q,BQ,zQ,jQ,VQ,UQ,HQ,WQ]}init(){const e=this.editor,t=e.plugins.get(IQ);t.loadAllowedEmptyElementsConfig(e.config.get("htmlSupport.allowEmpty")||[]),t.loadAllowedConfig(e.config.get("htmlSupport.allow")||[]),t.loadDisallowedConfig(e.config.get("htmlSupport.disallow")||[])}getGhsAttributeNameForElement(e){const t=this.editor.plugins.get("DataSchema"),i=Array.from(t.getDefinitionsForView(e,!1)),n=i.find((e=>e.isInline&&!i[0].isObject));return n?n.model:bQ(e)}addModelHtmlClass(e,t,i){const n=this.editor.model,o=this.getGhsAttributeNameForElement(e);n.change((e=>{for(const r of KQ(n,i,o))gQ(e,r,o,"classes",(e=>{for(const i of MB(t))e.add(i)}))}))}removeModelHtmlClass(e,t,i){const n=this.editor.model,o=this.getGhsAttributeNameForElement(e);n.change((e=>{for(const r of KQ(n,i,o))gQ(e,r,o,"classes",(e=>{for(const i of MB(t))e.delete(i)}))}))}setModelHtmlAttributes(e,t,i){const n=this.editor.model,o=this.getGhsAttributeNameForElement(e);n.change((e=>{for(const r of KQ(n,i,o))gQ(e,r,o,"attributes",(e=>{for(const[i,n]of Object.entries(t))e.set(i,n)}))}))}removeModelHtmlAttributes(e,t,i){const n=this.editor.model,o=this.getGhsAttributeNameForElement(e);n.change((e=>{for(const r of KQ(n,i,o))gQ(e,r,o,"attributes",(e=>{for(const i of MB(t))e.delete(i)}))}))}setModelHtmlStyles(e,t,i){const n=this.editor.model,o=this.getGhsAttributeNameForElement(e);n.change((e=>{for(const r of KQ(n,i,o))gQ(e,r,o,"styles",(e=>{for(const[i,n]of Object.entries(t))e.set(i,n)}))}))}removeModelHtmlStyles(e,t,i){const n=this.editor.model,o=this.getGhsAttributeNameForElement(e);n.change((e=>{for(const r of KQ(n,i,o))gQ(e,r,o,"styles",(e=>{for(const i of MB(t))e.delete(i)}))}))}}function*KQ(e,t,i){if(t)if(!(Symbol.iterator in t)&&t.is("documentSelection")&&t.isCollapsed)e.schema.checkAttributeInSelection(t,i)&&(yield t);else for(const n of function(e,t,i){return!(Symbol.iterator in t)&&(t.is("node")||t.is("$text")||t.is("$textProxy"))?e.schema.checkAttribute(t,i)?[e.createRangeOn(t)]:[]:e.schema.getValidRanges(e.createSelection(t).getRanges(),i)}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */(e,t,i))yield*n.getItems({shallow:!0})}const QQ=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:e,typeAttribute:t,listType:i}of QQ);function XQ(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let JQ={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const ZQ=/[&<>"']/,eX=/[&<>"']/g,tX=/[<>"']|&(?!#?\w+;)/,iX=/[<>"']|&(?!#?\w+;)/g,nX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oX=e=>nX[e];function rX(e,t){if(t){if(ZQ.test(e))return e.replace(eX,oX)}else if(tX.test(e))return e.replace(iX,oX);return e}const sX=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function aX(e){return e.replace(sX,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const lX=/(^|[^\[])\^/g;function cX(e,t){e=e.source||e,t=t||"";const i={replace:(t,n)=>(n=(n=n.source||n).replace(lX,"$1"),e=e.replace(t,n),i),getRegex:()=>new RegExp(e,t)};return i}const dX=/[^\w:]/g,uX=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function hX(e,t,i){if(e){let e;try{e=decodeURIComponent(aX(i)).replace(dX,"").toLowerCase()}catch(f1){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!uX.test(i)&&(i=function(e,t){pX[" "+e]||(mX.test(e)?pX[" "+e]=e+"/":pX[" "+e]=kX(e,"/",!0));e=pX[" "+e];const i=-1===e.indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(fX,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(gX,"$1")+t:e+t}(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(f1){return null}return i}const pX={},mX=/^[^:]+:\/*[^/]*$/,fX=/^([^:]+:)[\s\S]*$/,gX=/^([^:]+:\/*[^/]*)[\s\S]*$/;const bX={exec:function(){}};function vX(e){let t,i,n=1;for(;n<arguments.length;n++)for(i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function yX(e,t){const i=e.replace(/\|/g,((e,t,i)=>{let n=!1,o=t;for(;--o>=0&&"\\"===i[o];)n=!n;return n?"|":" |"})).split(/ \|/);let n=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function kX(e,t,i){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const r=e.charAt(n-o-1);if(r!==t||i){if(r===t||!i)break;o++}else o++}return e.substr(0,n-o)}function wX(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function xX(e,t){if(t<1)return"";let i="";for(;t>1;)1&t&&(i+=e),t>>=1,e+=e;return i+e}function _X(e,t,i,n){const o=t.href,r=t.title?rX(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const e={type:"link",raw:i,href:o,title:r,text:s,tokens:n.inlineTokens(s,[])};return n.state.inLink=!1,e}return{type:"image",raw:i,href:o,title:r,text:rX(s)}}class EX{constructor(e){this.options=e||JQ}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:kX(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],i=function(e,t){const i=e.match(/^(\s+)(?:```)/);if(null===i)return t;const n=i[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[i]=t;return i.length>=n.length?e.slice(n.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=kX(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}const i={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,n,o,r,s,a,l,c,d,u,h,p,m=t[1].trim();const f=m.length>1,g={type:"list",raw:"",ordered:f,start:f?+m.slice(0,-1):"",loose:!1,items:[]};m=f?`\\d{1,9}\\${m.slice(-1)}`:`\\${m}`,this.options.pedantic&&(m=f?m:"[*+-]");const b=new RegExp(`^( {0,3}${m})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=b.exec(e))&&!this.rules.block.hr.test(e);){if(i=t[0],e=e.substring(i.length),c=t[2].split("\n",1)[0],d=e.split("\n",1)[0],this.options.pedantic?(r=2,h=c.trimLeft()):(r=t[2].search(/[^ ]/),r=r>4?1:r,h=c.slice(r),r+=t[1].length),a=!1,!c&&/^ *$/.test(d)&&(i+=d+"\n",e=e.substring(d.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(u=e.split("\n",1)[0],c=u,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!t.test(c));){if(c.search(/[^ ]/)>=r||!c.trim())h+="\n"+c.slice(r);else{if(a)break;h+="\n"+c}a||c.trim()||(a=!0),i+=u+"\n",e=e.substring(u.length+1)}}g.loose||(l?g.loose=!0:/\n *\n *$/.test(i)&&(l=!0)),this.options.gfm&&(n=/^\[[ xX]\] /.exec(h),n&&(o="[ ] "!==n[0],h=h.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:i,task:!!n,checked:o,loose:!1,text:h}),g.raw+=i}g.items[g.items.length-1].raw=i.trimRight(),g.items[g.items.length-1].text=h.trimRight(),g.raw=g.raw.trimRight();const v=g.items.length;for(s=0;s<v;s++){this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]);const e=g.items[s].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{const t=e.raw.split("");let i=0;for(const n of t)if("\n"===n&&(i+=1),i>1)return!0;return!1}));!g.loose&&e.length&&t&&(g.loose=!0,g.items[s].loose=!0)}return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):rX(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:yX(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let i,n,o,r,s=e.align.length;for(i=0;i<s;i++)/^ *-+: *$/.test(e.align[i])?e.align[i]="right":/^ *:-+: *$/.test(e.align[i])?e.align[i]="center":/^ *:-+ *$/.test(e.align[i])?e.align[i]="left":e.align[i]=null;for(s=e.rows.length,i=0;i<s;i++)e.rows[i]=yX(e.rows[i],e.header.length).map((e=>({text:e})));for(s=e.header.length,n=0;n<s;n++)e.header[n].tokens=[],this.lexer.inlineTokens(e.header[n].text,e.header[n].tokens);for(s=e.rows.length,n=0;n<s;n++)for(r=e.rows[n],o=0;o<r.length;o++)r[o].tokens=[],this.lexer.inlineTokens(r[o].text,r[o].tokens);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}text(e){const t=this.rules.block.text.exec(e);if(t){const e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:rX(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):rX(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=kX(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const i=e.length;let n=0,o=0;for(;o<i;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&(n--,n<0))return o;return-1}(t[2],"()");if(e>-1){const i=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,i).trim(),t[3]=""}}let i=t[2],n="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);e&&(i=e[1],n=e[3])}else n=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(e)?i.slice(1):i.slice(1,-1)),_X(t,{href:i?i.replace(this.rules.inline._escapes,"$1"):i,title:n?n.replace(this.rules.inline._escapes,"$1"):n},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let e=(i[2]||i[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=i[0].charAt(0);return{type:"text",raw:e,text:e}}return _X(i,e,i[0],this.lexer)}}emStrong(e,t,i=""){let n=this.rules.inline.emStrong.lDelim.exec(e);if(!n)return;if(n[3]&&i.match(/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10107}-\u{10133}\u{10140}-\u{10178}\u{1018A}\u{1018B}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{103A0}-\u{103C3}\u{103C8}-\u{103CF}\u{103D1}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{10570}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{105C0}-\u{105F3}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10858}-\u{10876}\u{10879}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A60}-\u{10A7E}\u{10A80}-\u{10A9F}\u{10AC0}-\u{10AC7}\u{10AC9}-\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10D40}-\u{10D65}\u{10D6F}-\u{10D85}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EB0}\u{10EB1}\u{10EC2}-\u{10EC4}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F54}\u{10F70}-\u{10F81}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11003}-\u{11037}\u{11052}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11083}-\u{110AF}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{11136}-\u{1113F}\u{11144}\u{11147}\u{11150}-\u{11172}\u{11176}\u{11183}-\u{111B2}\u{111C1}-\u{111C4}\u{111D0}-\u{111DA}\u{111DC}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122B}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A8}\u{112B0}-\u{112DE}\u{112F0}-\u{112F9}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}\u{11350}\u{1135D}-\u{11361}\u{11380}-\u{11389}\u{1138B}\u{1138E}\u{11390}-\u{113B5}\u{113B7}\u{113D1}\u{113D3}\u{11400}-\u{11434}\u{11447}-\u{1144A}\u{11450}-\u{11459}\u{1145F}-\u{11461}\u{11480}-\u{114AF}\u{114C4}\u{114C5}\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115AE}\u{115D8}-\u{115DB}\u{11600}-\u{1162F}\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116B8}\u{116C0}-\u{116C9}\u{116D0}-\u{116E3}\u{11700}-\u{1171A}\u{11730}-\u{1173B}\u{11740}-\u{11746}\u{11800}-\u{1182B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{1192F}\u{1193F}\u{11941}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D0}\u{119E1}\u{119E3}\u{11A00}\u{11A0B}-\u{11A32}\u{11A3A}\u{11A50}\u{11A5C}-\u{11A89}\u{11A9D}\u{11AB0}-\u{11AF8}\u{11BC0}-\u{11BE0}\u{11BF0}-\u{11BF9}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2E}\u{11C40}\u{11C50}-\u{11C6C}\u{11C72}-\u{11C8F}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D89}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11F02}\u{11F04}-\u{11F10}\u{11F12}-\u{11F33}\u{11F50}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FD4}\u{12000}-\u{12399}\u{12400}-\u{1246E}\u{12480}-\u{12543}\u{12F90}-\u{12FF0}\u{13000}-\u{1342F}\u{13441}-\u{13446}\u{13460}-\u{143FA}\u{14400}-\u{14646}\u{16100}-\u{1611D}\u{16130}-\u{16139}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A70}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16B00}-\u{16B2F}\u{16B40}-\u{16B43}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16D40}-\u{16D6C}\u{16D70}-\u{16D79}\u{16E40}-\u{16E96}\u{16F00}-\u{16F4A}\u{16F50}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18CFF}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1CCF0}-\u{1CCF9}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D7FF}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E4D0}-\u{1E4EB}\u{1E4F0}-\u{1E4F9}\u{1E5D0}-\u{1E5ED}\u{1E5F0}-\u{1E5FA}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1EC71}-\u{1ECAB}\u{1ECAD}-\u{1ECAF}\u{1ECB1}-\u{1ECB4}\u{1ED01}-\u{1ED2D}\u{1ED2F}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10C}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2EBF0}-\u{2EE5D}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}]/u))return;const o=n[1]||n[2]||"";if(!o||o&&(""===i||this.rules.inline.punctuation.exec(i))){const i=n[0].length-1;let o,r,s=i,a=0;const l="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+i);null!=(n=l.exec(t));){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(r=o.length,n[3]||n[4]){s+=r;continue}if((n[5]||n[6])&&i%3&&!((i+r)%3)){a+=r;continue}if(s-=r,s>0)continue;if(r=Math.min(r,r+s+a),Math.min(i,r)%2){const t=e.slice(1,i+n.index+r);return{type:"em",raw:e.slice(0,i+n.index+r+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}const t=e.slice(2,i+n.index+r-1);return{type:"strong",raw:e.slice(0,i+n.index+r+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const i=/[^ ]/.test(e),n=/^ /.test(e)&&/ $/.test(e);return i&&n&&(e=e.substring(1,e.length-1)),e=rX(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let e,n;return"@"===i[2]?(e=rX(this.options.mangle?t(i[1]):i[1]),n="mailto:"+e):(e=rX(i[1]),n=e),{type:"link",raw:i[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let e,n;if("@"===i[2])e=rX(this.options.mangle?t(i[0]):i[0]),n="mailto:"+e;else{let t;do{t=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(t!==i[0]);e=rX(i[0]),n="www."===i[1]?"http://"+e:e}return{type:"link",raw:i[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):rX(i[0]):i[0]:rX(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:e}}}}const CX={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:bX,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};CX.def=cX(CX.def).replace("label",CX._label).replace("title",CX._title).getRegex(),CX.bullet=/(?:[*+-]|\d{1,9}[.)])/,CX.listItemStart=cX(/^( *)(bull) */).replace("bull",CX.bullet).getRegex(),CX.list=cX(CX.list).replace(/bull/g,CX.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+CX.def.source+")").getRegex(),CX._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",CX._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,CX.html=cX(CX.html,"i").replace("comment",CX._comment).replace("tag",CX._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),CX.paragraph=cX(CX._paragraph).replace("hr",CX.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",CX._tag).getRegex(),CX.blockquote=cX(CX.blockquote).replace("paragraph",CX.paragraph).getRegex(),CX.normal=vX({},CX),CX.gfm=vX({},CX.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),CX.gfm.table=cX(CX.gfm.table).replace("hr",CX.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",CX._tag).getRegex(),CX.gfm.paragraph=cX(CX._paragraph).replace("hr",CX.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",CX.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",CX._tag).getRegex(),CX.pedantic=vX({},CX.normal,{html:cX("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",CX._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:bX,paragraph:cX(CX.normal._paragraph).replace("hr",CX.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",CX.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const AX={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:bX,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:bX,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function TX(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function SX(e){let t,i,n="";const o=e.length;for(t=0;t<o;t++)i=e.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}AX._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",AX.punctuation=cX(AX.punctuation).replace(/punctuation/g,AX._punctuation).getRegex(),AX.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,AX.escapedEmSt=/\\\*|\\_/g,AX._comment=cX(CX._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),AX.emStrong.lDelim=cX(AX.emStrong.lDelim).replace(/punct/g,AX._punctuation).getRegex(),AX.emStrong.rDelimAst=cX(AX.emStrong.rDelimAst,"g").replace(/punct/g,AX._punctuation).getRegex(),AX.emStrong.rDelimUnd=cX(AX.emStrong.rDelimUnd,"g").replace(/punct/g,AX._punctuation).getRegex(),AX._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,AX._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,AX._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,AX.autolink=cX(AX.autolink).replace("scheme",AX._scheme).replace("email",AX._email).getRegex(),AX._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,AX.tag=cX(AX.tag).replace("comment",AX._comment).replace("attribute",AX._attribute).getRegex(),AX._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,AX._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,AX._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,AX.link=cX(AX.link).replace("label",AX._label).replace("href",AX._href).replace("title",AX._title).getRegex(),AX.reflink=cX(AX.reflink).replace("label",AX._label).replace("ref",CX._label).getRegex(),AX.nolink=cX(AX.nolink).replace("ref",CX._label).getRegex(),AX.reflinkSearch=cX(AX.reflinkSearch,"g").replace("reflink",AX.reflink).replace("nolink",AX.nolink).getRegex(),AX.normal=vX({},AX),AX.pedantic=vX({},AX.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:cX(/^!?\[(label)\]\((.*?)\)/).replace("label",AX._label).getRegex(),reflink:cX(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",AX._label).getRegex()}),AX.gfm=vX({},AX.normal,{escape:cX(AX.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),AX.gfm.url=cX(AX.gfm.url,"i").replace("email",AX.gfm._extended_email).getRegex(),AX.breaks=vX({},AX.gfm,{br:cX(AX.br).replace("{2,}","*").getRegex(),text:cX(AX.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class IX{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||JQ,this.options.tokenizer=this.options.tokenizer||new EX,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:CX.normal,inline:AX.normal};this.options.pedantic?(t.block=CX.pedantic,t.inline=AX.pedantic):this.options.gfm&&(t.block=CX.gfm,this.options.breaks?t.inline=AX.breaks:t.inline=AX.gfm),this.tokenizer.rules=t}static get rules(){return{block:CX,inline:AX}}static lex(e,t){return new IX(t).lex(e)}static lexInline(e,t){return new IX(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let i,n,o,r;for(this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(i=n.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))))if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),n=t[t.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?t.push(i):(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.list(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.def(e))e=e.substring(i.raw.length),n=t[t.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(n.raw+="\n"+i.raw,n.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const i=e.slice(1);let n;this.options.extensions.startBlock.forEach((function(e){n=e.call({lexer:this},i),"number"==typeof n&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o)))n=t[t.length-1],r&&"paragraph"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),r=o.length!==e.length,e=e.substring(i.raw.length);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),n=t[t.length-1],n&&"text"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,n,o,r,s,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,r.index)+"["+xX("a",r[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,r.index)+"["+xX("a",r[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,r.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((n=>!!(i=n.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e))e=e.substring(i.raw.length),n=t[t.length-1],n&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),n=t[t.length-1],n&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,l,a))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.autolink(e,SX))e=e.substring(i.raw.length),t.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(e,SX))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const i=e.slice(1);let n;this.options.extensions.startInline.forEach((function(e){n=e.call({lexer:this},i),"number"==typeof n&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(i=this.tokenizer.inlineText(o,TX))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(a=i.raw.slice(-1)),s=!0,n=t[t.length-1],n&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(i.raw.length),t.push(i);return t}}class PX{constructor(e){this.options=e||JQ}code(e,t,i){const n=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,n);null!=t&&t!==e&&(i=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+rX(n,!0)+'">'+(i?e:rX(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:rX(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,i){const n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(null===(e=hX(this.options.sanitize,this.options.baseUrl,e)))return i;let n='<a href="'+rX(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>",n}image(e,t,i){if(null===(e=hX(this.options.sanitize,this.options.baseUrl,e)))return i;let n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">",n}text(e){return e}}class DX{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class RX{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,n=0;if(this.seen.hasOwnProperty(i)){n=this.seen[e];do{n++,i=e+"-"+n}while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=n,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}}class LX{constructor(e){this.options=e||JQ,this.options.renderer=this.options.renderer||new PX,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new DX,this.slugger=new RX}static parse(e,t){return new LX(t).parse(e)}static parseInline(e,t){return new LX(t).parseInline(e)}parse(e,t=!0){let i,n,o,r,s,a,l,c,d,u,h,p,m,f,g,b,v,y,k,w="";const x=e.length;for(i=0;i<x;i++)if(u=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(k=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==k||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))w+=k||"";else switch(u.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(u.tokens),u.depth,aX(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(c="",l="",r=u.header.length,n=0;n<r;n++)l+=this.renderer.tablecell(this.parseInline(u.header[n].tokens),{header:!0,align:u.align[n]});for(c+=this.renderer.tablerow(l),d="",r=u.rows.length,n=0;n<r;n++){for(a=u.rows[n],l="",s=a.length,o=0;o<s;o++)l+=this.renderer.tablecell(this.parseInline(a[o].tokens),{header:!1,align:u.align[o]});d+=this.renderer.tablerow(l)}w+=this.renderer.table(c,d);continue;case"blockquote":d=this.parse(u.tokens),w+=this.renderer.blockquote(d);continue;case"list":for(h=u.ordered,p=u.start,m=u.loose,r=u.items.length,d="",n=0;n<r;n++)g=u.items[n],b=g.checked,v=g.task,f="",g.task&&(y=this.renderer.checkbox(b),m?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=y+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=y+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:y}):f+=y),f+=this.parse(g.tokens,m),d+=this.renderer.listitem(f,v,b);w+=this.renderer.list(d,h,p);continue;case"html":w+=this.renderer.html(u.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(d=u.tokens?this.parseInline(u.tokens):u.text;i+1<x&&"text"===e[i+1].type;)u=e[++i],d+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);w+=t?this.renderer.paragraph(d):d;continue;default:{const e='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return w}parseInline(e,t){t=t||this.renderer;let i,n,o,r="";const s=e.length;for(i=0;i<s;i++)if(n=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]&&(o=this.options.extensions.renderers[n.type].call({parser:this},n),!1!==o||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)))r+=o||"";else switch(n.type){case"escape":case"text":r+=t.text(n.text);break;case"html":r+=t.html(n.text);break;case"link":r+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":r+=t.image(n.href,n.title,n.text);break;case"strong":r+=t.strong(this.parseInline(n.tokens,t));break;case"em":r+=t.em(this.parseInline(n.tokens,t));break;case"codespan":r+=t.codespan(n.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(n.tokens,t));break;default:{const e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return r}}function MX(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(i=t,t=null),wX(t=vX({},MX.defaults,t||{})),i){const n=t.highlight;let o;try{o=IX.lex(e,t)}catch(f1){return i(f1)}const r=function(e){let r;if(!e)try{t.walkTokens&&MX.walkTokens(o,t.walkTokens),r=LX.parse(o,t)}catch(f1){e=f1}return t.highlight=n,e?i(e):i(null,r)};if(!n||n.length<3)return r();if(delete t.highlight,!o.length)return r();let s=0;return MX.walkTokens(o,(function(e){"code"===e.type&&(s++,setTimeout((()=>{n(e.text,e.lang,(function(t,i){if(t)return r(t);null!=i&&i!==e.text&&(e.text=i,e.escaped=!0),s--,0===s&&r()}))}),0))})),void(0===s&&r())}try{const i=IX.lex(e,t);return t.walkTokens&&MX.walkTokens(i,t.walkTokens),LX.parse(i,t)}catch(f1){if(f1.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+rX(f1.message+"",!0)+"</pre>";throw f1}}MX.options=MX.setOptions=function(e){var t;return vX(MX.defaults,e),t=MX.defaults,JQ=t,MX},MX.getDefaults=XQ,MX.defaults=JQ,MX.use=function(...e){const t=vX({},...e),i=MX.defaults.extensions||{renderers:{},childTokens:{}};let n;e.forEach((e=>{if(e.extensions&&(n=!0,e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const t=i.renderers?i.renderers[e.name]:null;i.renderers[e.name]=t?function(...i){let n=e.renderer.apply(this,i);return!1===n&&(n=t.apply(this,i)),n}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");i[e.level]?i[e.level].unshift(e.tokenizer):i[e.level]=[e.tokenizer],e.start&&("block"===e.level?i.startBlock?i.startBlock.push(e.start):i.startBlock=[e.start]:"inline"===e.level&&(i.startInline?i.startInline.push(e.start):i.startInline=[e.start]))}e.childTokens&&(i.childTokens[e.name]=e.childTokens)}))),e.renderer){const i=MX.defaults.renderer||new PX;for(const t in e.renderer){const n=i[t];i[t]=(...o)=>{let r=e.renderer[t].apply(i,o);return!1===r&&(r=n.apply(i,o)),r}}t.renderer=i}if(e.tokenizer){const i=MX.defaults.tokenizer||new EX;for(const t in e.tokenizer){const n=i[t];i[t]=(...o)=>{let r=e.tokenizer[t].apply(i,o);return!1===r&&(r=n.apply(i,o)),r}}t.tokenizer=i}if(e.walkTokens){const i=MX.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens.call(this,t),i&&i.call(this,t)}}n&&(t.extensions=i),MX.setOptions(t)}))},MX.walkTokens=function(e,t){for(const i of e)switch(t.call(MX,i),i.type){case"table":for(const e of i.header)MX.walkTokens(e.tokens,t);for(const e of i.rows)for(const i of e)MX.walkTokens(i.tokens,t);break;case"list":MX.walkTokens(i.items,t);break;default:MX.defaults.extensions&&MX.defaults.extensions.childTokens&&MX.defaults.extensions.childTokens[i.type]?MX.defaults.extensions.childTokens[i.type].forEach((function(e){MX.walkTokens(i[e],t)})):i.tokens&&MX.walkTokens(i.tokens,t)}},MX.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");wX(t=vX({},MX.defaults,t||{}));try{const i=IX.lexInline(e,t);return t.walkTokens&&MX.walkTokens(i,t.walkTokens),LX.parseInline(i,t)}catch(f1){if(f1.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+rX(f1.message+"",!0)+"</pre>";throw f1}},MX.Parser=LX,MX.parser=LX.parse,MX.Renderer=PX,MX.TextRenderer=DX,MX.Lexer=IX,MX.lexer=IX.lex,MX.Tokenizer=EX,MX.Slugger=RX,MX.parse=MX,MX.options,MX.setOptions,MX.use,MX.walkTokens,MX.parseInline,LX.parse,IX.lex;var OX="undefined"!=typeof window?window:{};!function(){var e=OX.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(f1){}return t}()?function(){var e=function(){};!function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(f1){OX.ActiveXObject&&(e=!0)}return e}()?e.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t}:e.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}}():OX.DOMParser;
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
const NX={"(":")","[":"]","{":"}"};class $X extends JH{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"mention")}execute(e){const t=this.editor.model,i=t.document.selection,n="string"==typeof e.mention?{id:e.mention}:e.mention,o=n.id,r=e.range||i.getFirstRange();if(!t.canEditAt(r))return;const s=e.text||o,a=BX({_text:s,id:o},n);if(1!=e.marker.length)throw new iF("mentioncommand-incorrect-marker",this);if(o.charAt(0)!=e.marker)throw new iF("mentioncommand-incorrect-id",this);t.change((e=>{const n=HB(i.getAttributes()),o=new Map(n.entries());o.set("mention",a);const l=t.insertContent(e.createText(s,o),r),c=l.start.nodeBefore,d=l.end.nodeAfter,u=d&&d.is("$text")&&d.data.startsWith(" ");let h=!1;if(c&&d&&c.is("$text")&&d.is("$text")){const e=c.data.slice(-1),t=e in NX,i=t&&d.data.startsWith(NX[e]);h=t&&i}h||u||t.insertContent(e.createText(" ",n),r.start.getShiftedBy(s.length))}))}}class FX extends QH{static get pluginName(){return"MentionEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model,i=t.document;t.schema.extend("$text",{allowAttributes:"mention"}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:e=>zX(e)}}),e.conversion.for("downcast").attributeToElement({model:"mention",view:VX}),e.conversion.for("downcast").add(jX),i.registerPostFixer((e=>function(e,t,i){const n=t.differ.getChanges();let o=!1;for(const r of n){if("attribute"==r.type)continue;const t=r.position;if("$text"==r.name){const i=t.textNode&&t.textNode.nextSibling;o=HX(t.textNode,e)||o,o=HX(i,e)||o,o=HX(t.nodeBefore,e)||o,o=HX(t.nodeAfter,e)||o}if("$text"!=r.name&&"insert"==r.type){const i=t.nodeAfter;for(const t of e.createRangeIn(i).getItems())o=HX(t,e)||o}if("insert"==r.type&&i.isInline(r.name)){const i=t.nodeAfter&&t.nodeAfter.nextSibling;o=HX(t.nodeBefore,e)||o,o=HX(i,e)||o}}return o}(e,i,t.schema))),i.registerPostFixer((e=>function(e,t){const i=t.differ.getChanges();let n=!1;for(const o of i)if("attribute"===o.type&&"mention"!=o.attributeKey){const t=o.range.start.nodeBefore,i=o.range.end.nodeAfter;for(const r of[t,i])UX(r)&&r.getAttribute(o.attributeKey)!=o.attributeNewValue&&(e.setAttribute(o.attributeKey,o.attributeNewValue,r),n=!0)}return n}(e,i))),i.registerPostFixer((e=>function(e,t){const i=t.selection,n=i.focus;if(i.isCollapsed&&i.hasAttribute("mention")&&function(e){const t=e.isAtStart;return e.nodeBefore&&e.nodeBefore.is("$text")||t}(n))return e.removeSelectionAttribute("mention"),!0;return!1}(e,i))),e.commands.add("mention",new $X(e))}}function BX(e,t){return Object.assign({uid:Z$()},e,t||{})}function zX(e,t){const i=e.getAttribute("data-mention"),n=e.getChild(0);if(!n)return;return BX({id:i,_text:n.data},t)}function jX(e){e.on("attribute:mention",((e,t,i)=>{const n=t.attributeNewValue;if(!t.item.is("$textProxy")||!n)return;const o=t.range.start;(o.textNode||o.nodeAfter).data!=n._text&&i.consumable.consume(t.item,e.name)}),{priority:"highest"})}function VX(e,{writer:t}){if(!e)return;const i={class:"mention","data-mention":e.id},n={id:e.uid,priority:20};return t.createAttributeElement("span",i,n)}function UX(e){if(!e||!e.is("$text")&&!e.is("$textProxy")||!e.hasAttribute("mention"))return!1;return e.data!=e.getAttribute("mention")._text}function HX(e,t){return!!UX(e)&&(t.removeAttribute("mention",e),!0)}class qX extends YG{constructor(e){super(e),s(this,"selected",void 0),s(this,"position",void 0),this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const e=this.selected,t=this.items.getIndex(e);this.select(t+1)}selectPrevious(){const e=this.selected,t=this.items.getIndex(e);this.select(t-1)}select(e){let t=0;e>0&&e<this.items.length?t=e:e<0&&(t=this.items.length-1);const i=this.items.get(t);this.selected!==i&&(this.selected&&this.selected.removeHighlight(),i.highlight(),this.selected=i,this._isItemVisibleInScrolledArea(i)||(this.element.scrollTop=i.element.offsetTop))}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(e){return new QF(this.element).contains(new QF(e.element))}}class GX extends oG{constructor(e,t){super(e),s(this,"domElement",void 0),this.template=void 0,this.domElement=t,this.domElement.classList.add("ck-button"),this.set("isOn",!1),this.on("change:isOn",((e,t,i)=>{i?(this.domElement.classList.add("ck-on"),this.domElement.classList.remove("ck-off")):(this.domElement.classList.add("ck-off"),this.domElement.classList.remove("ck-on"))})),this.listenTo(this.domElement,"click",(()=>{this.fire("execute")}))}render(){super.render(),this.element=this.domElement}focus(){this.domElement.focus()}}class WX extends qG{constructor(...e){super(...e),s(this,"item",void 0),s(this,"marker",void 0)}highlight(){this.children.first.isOn=!0}removeHighlight(){this.children.first.isOn=!1}}const YX=[CB.arrowup,CB.arrowdown,CB.esc],KX=[CB.enter,CB.tab];class QX extends QH{static get pluginName(){return"MentionUI"}static get isOfficialPlugin(){return!0}static get requires(){return[eY]}constructor(e){super(e),s(this,"_mentionsView",void 0),s(this,"_mentionsConfigurations",void 0),s(this,"_balloon",void 0),s(this,"_items",new $B),s(this,"_lastRequested",void 0),s(this,"_requestFeedDebounced",void 0),this._mentionsView=this._createMentionView(),this._mentionsConfigurations=new Map,this._requestFeedDebounced=b$(this._requestFeed,100),e.config.define("mention",{feeds:[]})}init(){const e=this.editor,t=e.config.get("mention.commitKeys")||KX,i=YX.concat(t);this._balloon=e.plugins.get(eY),e.editing.view.document.on("keydown",((e,n)=>{var o;o=n.keyCode,i.includes(o)&&this._isUIVisible&&(n.preventDefault(),e.stop(),n.keyCode==CB.arrowdown&&this._mentionsView.selectNext(),n.keyCode==CB.arrowup&&this._mentionsView.selectPrevious(),t.includes(n.keyCode)&&this._mentionsView.executeSelected(),n.keyCode==CB.esc&&this._hideUIAndRemoveMarker())}),{priority:"highest"}),rG({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const n=e.config.get("mention.feeds");for(const o of n){const{feed:e,marker:t,dropdownLimit:i}=o;if(!tJ(t))throw new iF("mentionconfig-incorrect-marker",null,{marker:t});const n={marker:t,feedCallback:"function"==typeof e?e.bind(this.editor):eJ(e),itemRenderer:o.itemRenderer,dropdownLimit:i};this._mentionsConfigurations.set(t,n)}this._setupTextWatcher(n),this.listenTo(e,"change:isReadOnly",(()=>{this._hideUIAndRemoveMarker()})),this.on("requestFeed:response",((e,t)=>this._handleFeedResponse(t))),this.on("requestFeed:error",(()=>this._hideUIAndRemoveMarker()))}destroy(){super.destroy(),this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const e=this.editor.locale,t=new qX(e);return t.items.bindTo(this._items).using((i=>{const{item:n,marker:o}=i,{dropdownLimit:r}=this._mentionsConfigurations.get(o),s=r||this.editor.config.get("mention.dropdownLimit")||10;if(t.items.length>=s)return null;const a=new WX(e),l=this._renderItem(n,o);return l.delegate("execute").to(a),a.children.add(l),a.item=n,a.marker=o,a.on("execute",(()=>{t.fire("execute",{item:n,marker:o})})),a})),t.on("execute",((e,t)=>{const i=this.editor,n=i.model,o=t.item,r=t.marker,s=i.model.markers.get("mention"),a=n.createPositionAt(n.document.selection.focus),l=n.createPositionAt(s.getStart()),c=n.createRange(l,a);this._hideUIAndRemoveMarker(),i.execute("mention",{mention:o,text:o.text,marker:r,range:c}),i.editing.view.focus()})),t}_getItemRenderer(e){const{itemRenderer:t}=this._mentionsConfigurations.get(e);return t}_requestFeed(e,t){this._lastRequested=t;const{feedCallback:i}=this._mentionsConfigurations.get(e),n=i(t);n instanceof Promise?n.then((i=>{this._lastRequested==t?this.fire("requestFeed:response",{feed:i,marker:e,feedText:t}):this.fire("requestFeed:discarded",{feed:i,marker:e,feedText:t})})).catch((t=>{this.fire("requestFeed:error",{error:t}),nF("mention-feed-callback-error",{marker:e})})):this.fire("requestFeed:response",{feed:n,marker:e,feedText:t})}_setupTextWatcher(e){const t=this.editor,i=e.map((e=>({...e,pattern:ZX(e.marker,e.minimumCharacters||0)}))),n=new DY(t.model,function(e){const t=t=>{const i=JX(e,t);if(!i)return!1;let n=0;0!==i.position&&(n=i.position-1);const o=t.substring(n);return i.pattern.test(o)};return t}(i));n.on("matched",((e,n)=>{const o=JX(i,n.text),r=t.model.document.selection.focus,s=t.model.createPositionAt(r.parent,o.position);if(function(e){const t=e.textNode&&e.textNode.hasAttribute("mention"),i=e.nodeBefore;return t||i&&i.is("$text")&&i.hasAttribute("mention")}(r)||function(e){const t=e.nodeAfter;return t&&t.is("$text")&&t.hasAttribute("mention")}(s))return void this._hideUIAndRemoveMarker();const a=function(e,t){let i=0;0!==e.position&&(i=e.position-1);const n=ZX(e.marker,0),o=t.substring(i);return o.match(n)[2]}(o,n.text),l=o.marker.length+a.length,c=r.getShiftedBy(-l),d=r.getShiftedBy(-a.length),u=t.model.createRange(c,d);if(iJ(t)){const e=t.model.markers.get("mention");t.model.change((t=>{t.updateMarker(e,{range:u})}))}else t.model.change((e=>{e.addMarker("mention",{range:u,usingOperation:!1,affectsData:!1})}));this._requestFeedDebounced(o.marker,a)})),n.on("unmatched",(()=>{this._hideUIAndRemoveMarker()}));const o=t.commands.get("mention");return n.bind("isEnabled").to(o),n}_handleFeedResponse(e){const{feed:t,marker:i}=e;if(!iJ(this.editor))return;this._items.clear();for(const o of t){const e="object"!=typeof o?{id:o,text:o}:o;this._items.add({item:e,marker:i})}const n=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(n):this._hideUIAndRemoveMarker()}_showOrUpdateUI(e){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,this._mentionsView.position),singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),iJ(this.editor)&&this.editor.model.change((e=>e.removeMarker("mention"))),this._mentionsView.position=void 0}_renderItem(e,t){const i=this.editor;let n,o=e.id;const r=this._getItemRenderer(t);if(r){const t=r(e);"string"!=typeof t?n=new GX(i.locale,t):o=t}if(!n){const e=new lG(i.locale);e.label=o,e.withText=!0,n=e}return n}_getBalloonPanelPositionData(e,t){const i=this.editor,n=i.editing,o=n.view.domConverter,r=n.mapper;return{target:()=>{let t=e.getRange();"$graveyard"==t.start.root.rootName&&(t=i.model.document.selection.getFirstRange());const n=r.toViewRange(t);return QF.getDomRangeRects(o.viewRangeToDom(n)).pop()},limiter:()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},positions:XX(t,i.locale.uiLanguageDirection)}}}function XX(e,t){const i={caret_se:e=>({top:e.bottom+3,left:e.right,name:"caret_se",config:{withArrow:!1}}),caret_ne:(e,t)=>({top:e.top-t.height-3,left:e.right,name:"caret_ne",config:{withArrow:!1}}),caret_sw:(e,t)=>({top:e.bottom+3,left:e.right-t.width,name:"caret_sw",config:{withArrow:!1}}),caret_nw:(e,t)=>({top:e.top-t.height-3,left:e.right-t.width,name:"caret_nw",config:{withArrow:!1}})};return Object.prototype.hasOwnProperty.call(i,e)?[i[e]]:"rtl"!==t?[i.caret_se,i.caret_sw,i.caret_ne,i.caret_nw]:[i.caret_sw,i.caret_se,i.caret_nw,i.caret_ne]}function JX(e,t){let i;for(const n of e){const e=t.lastIndexOf(n.marker);e>0&&!t.substring(e-1).match(n.pattern)||(!i||e>=i.position)&&(i={marker:n.marker,position:e,minimumCharacters:n.minimumCharacters,pattern:n.pattern})}return i}function ZX(e,t){const i=0==t?"*":`{${t},}`,n=F$.features.isRegExpUnicodePropertySupported?"\\p{Ps}\\p{Pi}\"'":"\\(\\[{\"'";e=e.replace(/[.*+?^${}()\-|[\]\\]/g,"\\$&");return new RegExp(`(?:^|[ ${n}])([${e}])(.${i})$`,"u")}function eJ(e){return t=>e.filter((e=>("string"==typeof e?e:String(e.id)).toLowerCase().includes(t.toLowerCase())))}function tJ(e){return e&&1==e.length}function iJ(e){return e.model.markers.has("mention")}class nJ extends QH{toMentionAttribute(e,t){return zX(e,t)}static get pluginName(){return"Mention"}static get isOfficialPlugin(){return!0}static get requires(){return[FX,QX]}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */class oJ extends oG{constructor(e){super(e),s(this,"tiles",void 0),s(this,"focusTracker",void 0),s(this,"keystrokes",void 0),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new BB,this.keystrokes=new UB,function({keystrokeHandler:e,focusTracker:t,gridItems:i,numberOfColumns:n,uiLanguageDirection:o}){const r="number"==typeof n?()=>n:n;function s(e){return n=>{const o=i.find((e=>e.element===t.focusedElement)),r=i.getIndex(o),s=e(r,i);i.get(s).focus(),n.stopPropagation(),n.preventDefault()}}function a(e,t){return e===t-1?0:e+1}function l(e,t){return 0===e?t-1:e-1}e.set("arrowright",s(((e,t)=>"rtl"===o?l(e,t.length):a(e,t.length)))),e.set("arrowleft",s(((e,t)=>"rtl"===o?a(e,t.length):l(e,t.length)))),e.set("arrowup",s(((e,t)=>{let i=e-r();return i<0&&(i=e+r()*Math.floor(t.length/r()),i>t.length-1&&(i-=r())),i}))),e.set("arrowdown",s(((e,t)=>{let i=e+r();return i>t.length-1&&(i=e%r()),i})))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>O$.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(e,t){const i=new lG(this.locale);return i.set({label:e,withText:!0,class:"ck-character-grid__tile"}),i.extendTemplate({attributes:{title:t},on:{mouseover:i.bindTemplate.to("mouseover"),focus:i.bindTemplate.to("focus")}}),i.on("mouseover",(()=>{this.fire("tileHover",{name:t,character:e})})),i.on("focus",(()=>{this.fire("tileFocus",{name:t,character:e})})),i.on("execute",(()=>{this.fire("execute",{name:t,character:e})})),i}render(){super.render();for(const e of this.tiles)this.focusTracker.add(e.element);this.tiles.on("change",((e,{added:t,removed:i})=>{if(t.length>0)for(const n of t)this.focusTracker.add(n.element);if(i.length>0)for(const n of i)this.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}class rJ extends oG{constructor(e){super(e);const t=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",sJ),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:t.to("name",(e=>e||"​"))}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:t.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function sJ(e){if(null===e)return"";return"U+"+("0000"+e.codePointAt(0).toString(16)).slice(-4)}class aJ extends oG{constructor(e,t,i,n){super(e),s(this,"items",void 0),s(this,"focusTracker",void 0),s(this,"keystrokes",void 0),s(this,"_focusCycler",void 0),s(this,"categoriesView",void 0),s(this,"gridView",void 0),s(this,"infoView",void 0),this.categoriesView=t,this.gridView=i,this.infoView=n,this.items=this.createCollection(),this.focusTracker=new BB,this.keystrokes=new UB,this._focusCycler=new uG({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.categoriesView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.categoriesView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class lJ extends oG{constructor(e,t){super(e),s(this,"_groupNames",void 0),s(this,"_dropdownView",void 0),this.set("currentGroupName",Array.from(t.entries())[0][0]),this._groupNames=t,this._dropdownView=new jG(e,fW),this.setTemplate({tag:"div",attributes:{class:["ck","ck-character-categories"]},children:[this._dropdownView]})}render(){super.render(),this._setupDropdown()}focus(){this._dropdownView.focus()}_setupDropdown(){const e=new $B;for(const[i,n]of this._groupNames){const t={type:"button",model:new JW({name:i,label:n,role:"menuitemradio",withText:!0})};t.model.bind("isOn").to(this,"currentGroupName",(e=>e===i)),e.add(t)}const t=(0,this.locale.t)("Category");this._dropdownView.set({label:t,isEmpty:!1}),this._dropdownView.fieldView.panelPosition="rtl"===this.locale.uiLanguageDirection?"se":"sw",this._dropdownView.fieldView.buttonView.set({withText:!0,tooltip:t,ariaLabel:t,ariaLabelledBy:void 0,isOn:!1}),this._dropdownView.fieldView.buttonView.bind("label").to(this,"currentGroupName",(e=>this._groupNames.get(e))),this._dropdownView.fieldView.on("execute",(({source:e})=>{this.currentGroupName=e.name})),function(e,t,i={}){e.isOpen?uW(e,t,i):e.once("change:isOpen",(()=>uW(e,t,i)),{priority:"highest"}),hW(e,(()=>e.listView.items.find((e=>e instanceof qG&&e.children.first.isOn))))}(this._dropdownView.fieldView,e,{ariaLabel:t,role:"menu"})}}const cJ="All";class dJ extends QH{static get requires(){return[PY,AG]}static get pluginName(){return"SpecialCharacters"}static get isOfficialPlugin(){return!0}constructor(e){super(e),s(this,"_characters",void 0),s(this,"_groups",void 0),s(this,"_allSpecialCharactersGroupLabel",void 0);const t=e.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=t("All")}init(){const e=this.editor;e.ui.componentFactory.add("specialCharacters",(()=>{const e=this._createDialogButton(lG);return e.set({tooltip:!0}),e})),e.ui.componentFactory.add("menuBar:specialCharacters",(()=>this._createDialogButton(IG)))}addItems(e,t,i={label:e}){if(e===cJ)throw new iF("special-character-invalid-group-name",null);const n=this._getGroup(e,i.label);for(const o of t)n.items.add(o.title),this._characters.set(o.title,o.character)}getGroups(){const e=Array.from(this._groups.keys()),t=this.editor.config.get("specialCharacters.order")||[],i=t.find((t=>!e.includes(t)));if(i)throw new iF("special-character-invalid-order-group-name",null,{invalidGroup:i});return new Set([...t,...e])}getCharactersForGroup(e){if(e===cJ)return new Set(this._characters.keys());const t=this._groups.get(e);return t?t.items:void 0}getCharacter(e){return this._characters.get(e)}_getGroup(e,t){return this._groups.has(e)||this._groups.set(e,{items:new Set,label:t}),this._groups.get(e)}_updateGrid(e,t){t.tiles.clear();const i=this.getCharactersForGroup(e);for(const n of i){const e=this.getCharacter(n);t.tiles.add(t.createTile(e,n))}}_createDropdownPanelContent(e){const t=Array.from(this.getGroups()).map((e=>[e,this._groups.get(e).label])),i=new Map([[cJ,this._allSpecialCharactersGroupLabel],...t]),n=new lJ(e,i),o=new oJ(e),r=new rJ(e);return o.on("tileHover",((e,t)=>{r.set(t)})),o.on("tileFocus",((e,t)=>{r.set(t)})),n.on("change:currentGroupName",((e,t,i)=>{this._updateGrid(i,o)})),this._updateGrid(n.currentGroupName,o),{categoriesView:n,gridView:o,infoView:r}}_createDialogButton(e){const t=this.editor,i=t.locale,n=new e(t.locale),o=t.commands.get("insertText"),r=i.t,s=this.editor.plugins.get("Dialog");return n.set({label:r("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',isToggleable:!0}),n.bind("isOn").to(s,"id",(e=>"specialCharacters"===e)),n.bind("isEnabled").to(o,"isEnabled"),n.on("execute",(()=>{"specialCharacters"!==s.id?this._showDialog():s.hide()})),n}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),i=e.locale,n=i.t,{categoriesView:o,gridView:r,infoView:s}=this._createDropdownPanelContent(i),a=new aJ(i,o,r,s);r.on("execute",((t,i)=>{e.execute("insertText",{text:i.character})})),t.show({id:"specialCharacters",title:n("Special characters"),className:"ck-special-characters",content:a,position:yG})}}class uJ extends QH{static get pluginName(){return"SpecialCharactersArrows"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Arrows",[{title:t("leftwards simple arrow"),character:"←"},{title:t("rightwards simple arrow"),character:"→"},{title:t("upwards simple arrow"),character:"↑"},{title:t("downwards simple arrow"),character:"↓"},{title:t("leftwards double arrow"),character:"⇐"},{title:t("rightwards double arrow"),character:"⇒"},{title:t("upwards double arrow"),character:"⇑"},{title:t("downwards double arrow"),character:"⇓"},{title:t("leftwards dashed arrow"),character:"⇠"},{title:t("rightwards dashed arrow"),character:"⇢"},{title:t("upwards dashed arrow"),character:"⇡"},{title:t("downwards dashed arrow"),character:"⇣"},{title:t("leftwards arrow to bar"),character:"⇤"},{title:t("rightwards arrow to bar"),character:"⇥"},{title:t("upwards arrow to bar"),character:"⤒"},{title:t("downwards arrow to bar"),character:"⤓"},{title:t("up down arrow with base"),character:"↨"},{title:t("back with leftwards arrow above"),character:"🔙"},{title:t("end with leftwards arrow above"),character:"🔚"},{title:t("on with exclamation mark with left right arrow above"),character:"🔛"},{title:t("soon with rightwards arrow above"),character:"🔜"},{title:t("top with upwards arrow above"),character:"🔝"}],{label:t("Arrows")})}}class hJ extends QH{static get pluginName(){return"SpecialCharactersText"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Text",[{character:"‹",title:t("Single left-pointing angle quotation mark")},{character:"›",title:t("Single right-pointing angle quotation mark")},{character:"«",title:t("Left-pointing double angle quotation mark")},{character:"»",title:t("Right-pointing double angle quotation mark")},{character:"‘",title:t("Left single quotation mark")},{character:"’",title:t("Right single quotation mark")},{character:"“",title:t("Left double quotation mark")},{character:"”",title:t("Right double quotation mark")},{character:"‚",title:t("Single low-9 quotation mark")},{character:"„",title:t("Double low-9 quotation mark")},{character:"¡",title:t("Inverted exclamation mark")},{character:"¿",title:t("Inverted question mark")},{character:"‥",title:t("Two dot leader")},{character:"…",title:t("Horizontal ellipsis")},{character:"‡",title:t("Double dagger")},{character:"‰",title:t("Per mille sign")},{character:"‱",title:t("Per ten thousand sign")},{character:"‼",title:t("Double exclamation mark")},{character:"⁈",title:t("Question exclamation mark")},{character:"⁉",title:t("Exclamation question mark")},{character:"⁇",title:t("Double question mark")},{character:"©",title:t("Copyright sign")},{character:"®",title:t("Registered sign")},{character:"™",title:t("Trade mark sign")},{character:"§",title:t("Section sign")},{character:"¶",title:t("Paragraph sign")},{character:"⁋",title:t("Reversed paragraph sign")}],{label:t("Text")})}}class pJ extends QH{static get pluginName(){return"SpecialCharactersMathematical"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:t("Less-than sign")},{character:">",title:t("Greater-than sign")},{character:"≤",title:t("Less-than or equal to")},{character:"≥",title:t("Greater-than or equal to")},{character:"–",title:t("En dash")},{character:"—",title:t("Em dash")},{character:"¯",title:t("Macron")},{character:"‾",title:t("Overline")},{character:"°",title:t("Degree sign")},{character:"−",title:t("Minus sign")},{character:"±",title:t("Plus-minus sign")},{character:"÷",title:t("Division sign")},{character:"⁄",title:t("Fraction slash")},{character:"×",title:t("Multiplication sign")},{character:"ƒ",title:t("Latin small letter f with hook")},{character:"∫",title:t("Integral")},{character:"∑",title:t("N-ary summation")},{character:"∞",title:t("Infinity")},{character:"√",title:t("Square root")},{character:"∼",title:t("Tilde operator")},{character:"≅",title:t("Approximately equal to")},{character:"≈",title:t("Almost equal to")},{character:"≠",title:t("Not equal to")},{character:"≡",title:t("Identical to")},{character:"∈",title:t("Element of")},{character:"∉",title:t("Not an element of")},{character:"∋",title:t("Contains as member")},{character:"∏",title:t("N-ary product")},{character:"∧",title:t("Logical and")},{character:"∨",title:t("Logical or")},{character:"¬",title:t("Not sign")},{character:"∩",title:t("Intersection")},{character:"∪",title:t("Union")},{character:"∂",title:t("Partial differential")},{character:"∀",title:t("For all")},{character:"∃",title:t("There exists")},{character:"∅",title:t("Empty set")},{character:"∇",title:t("Nabla")},{character:"∗",title:t("Asterisk operator")},{character:"∝",title:t("Proportional to")},{character:"∠",title:t("Angle")},{character:"¼",title:t("Vulgar fraction one quarter")},{character:"½",title:t("Vulgar fraction one half")},{character:"¾",title:t("Vulgar fraction three quarters")}],{label:t("Mathematical")})}}class mJ extends QH{static get pluginName(){return"SpecialCharactersLatin"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Latin",[{character:"Ā",title:t("Latin capital letter a with macron")},{character:"ā",title:t("Latin small letter a with macron")},{character:"Ă",title:t("Latin capital letter a with breve")},{character:"ă",title:t("Latin small letter a with breve")},{character:"Ą",title:t("Latin capital letter a with ogonek")},{character:"ą",title:t("Latin small letter a with ogonek")},{character:"Ć",title:t("Latin capital letter c with acute")},{character:"ć",title:t("Latin small letter c with acute")},{character:"Ĉ",title:t("Latin capital letter c with circumflex")},{character:"ĉ",title:t("Latin small letter c with circumflex")},{character:"Ċ",title:t("Latin capital letter c with dot above")},{character:"ċ",title:t("Latin small letter c with dot above")},{character:"Č",title:t("Latin capital letter c with caron")},{character:"č",title:t("Latin small letter c with caron")},{character:"Ď",title:t("Latin capital letter d with caron")},{character:"ď",title:t("Latin small letter d with caron")},{character:"Đ",title:t("Latin capital letter d with stroke")},{character:"đ",title:t("Latin small letter d with stroke")},{character:"Ē",title:t("Latin capital letter e with macron")},{character:"ē",title:t("Latin small letter e with macron")},{character:"Ĕ",title:t("Latin capital letter e with breve")},{character:"ĕ",title:t("Latin small letter e with breve")},{character:"Ė",title:t("Latin capital letter e with dot above")},{character:"ė",title:t("Latin small letter e with dot above")},{character:"Ę",title:t("Latin capital letter e with ogonek")},{character:"ę",title:t("Latin small letter e with ogonek")},{character:"Ě",title:t("Latin capital letter e with caron")},{character:"ě",title:t("Latin small letter e with caron")},{character:"Ĝ",title:t("Latin capital letter g with circumflex")},{character:"ĝ",title:t("Latin small letter g with circumflex")},{character:"Ğ",title:t("Latin capital letter g with breve")},{character:"ğ",title:t("Latin small letter g with breve")},{character:"Ġ",title:t("Latin capital letter g with dot above")},{character:"ġ",title:t("Latin small letter g with dot above")},{character:"Ģ",title:t("Latin capital letter g with cedilla")},{character:"ģ",title:t("Latin small letter g with cedilla")},{character:"Ĥ",title:t("Latin capital letter h with circumflex")},{character:"ĥ",title:t("Latin small letter h with circumflex")},{character:"Ħ",title:t("Latin capital letter h with stroke")},{character:"ħ",title:t("Latin small letter h with stroke")},{character:"Ĩ",title:t("Latin capital letter i with tilde")},{character:"ĩ",title:t("Latin small letter i with tilde")},{character:"Ī",title:t("Latin capital letter i with macron")},{character:"ī",title:t("Latin small letter i with macron")},{character:"Ĭ",title:t("Latin capital letter i with breve")},{character:"ĭ",title:t("Latin small letter i with breve")},{character:"Į",title:t("Latin capital letter i with ogonek")},{character:"į",title:t("Latin small letter i with ogonek")},{character:"İ",title:t("Latin capital letter i with dot above")},{character:"ı",title:t("Latin small letter dotless i")},{character:"Ĳ",title:t("Latin capital ligature ij")},{character:"ĳ",title:t("Latin small ligature ij")},{character:"Ĵ",title:t("Latin capital letter j with circumflex")},{character:"ĵ",title:t("Latin small letter j with circumflex")},{character:"Ķ",title:t("Latin capital letter k with cedilla")},{character:"ķ",title:t("Latin small letter k with cedilla")},{character:"ĸ",title:t("Latin small letter kra")},{character:"Ĺ",title:t("Latin capital letter l with acute")},{character:"ĺ",title:t("Latin small letter l with acute")},{character:"Ļ",title:t("Latin capital letter l with cedilla")},{character:"ļ",title:t("Latin small letter l with cedilla")},{character:"Ľ",title:t("Latin capital letter l with caron")},{character:"ľ",title:t("Latin small letter l with caron")},{character:"Ŀ",title:t("Latin capital letter l with middle dot")},{character:"ŀ",title:t("Latin small letter l with middle dot")},{character:"Ł",title:t("Latin capital letter l with stroke")},{character:"ł",title:t("Latin small letter l with stroke")},{character:"Ń",title:t("Latin capital letter n with acute")},{character:"ń",title:t("Latin small letter n with acute")},{character:"Ņ",title:t("Latin capital letter n with cedilla")},{character:"ņ",title:t("Latin small letter n with cedilla")},{character:"Ň",title:t("Latin capital letter n with caron")},{character:"ň",title:t("Latin small letter n with caron")},{character:"ŉ",title:t("Latin small letter n preceded by apostrophe")},{character:"Ŋ",title:t("Latin capital letter eng")},{character:"ŋ",title:t("Latin small letter eng")},{character:"Ō",title:t("Latin capital letter o with macron")},{character:"ō",title:t("Latin small letter o with macron")},{character:"Ŏ",title:t("Latin capital letter o with breve")},{character:"ŏ",title:t("Latin small letter o with breve")},{character:"Ő",title:t("Latin capital letter o with double acute")},{character:"ő",title:t("Latin small letter o with double acute")},{character:"Œ",title:t("Latin capital ligature oe")},{character:"œ",title:t("Latin small ligature oe")},{character:"Ŕ",title:t("Latin capital letter r with acute")},{character:"ŕ",title:t("Latin small letter r with acute")},{character:"Ŗ",title:t("Latin capital letter r with cedilla")},{character:"ŗ",title:t("Latin small letter r with cedilla")},{character:"Ř",title:t("Latin capital letter r with caron")},{character:"ř",title:t("Latin small letter r with caron")},{character:"Ś",title:t("Latin capital letter s with acute")},{character:"ś",title:t("Latin small letter s with acute")},{character:"Ŝ",title:t("Latin capital letter s with circumflex")},{character:"ŝ",title:t("Latin small letter s with circumflex")},{character:"Ş",title:t("Latin capital letter s with cedilla")},{character:"ş",title:t("Latin small letter s with cedilla")},{character:"Š",title:t("Latin capital letter s with caron")},{character:"š",title:t("Latin small letter s with caron")},{character:"Ţ",title:t("Latin capital letter t with cedilla")},{character:"ţ",title:t("Latin small letter t with cedilla")},{character:"Ť",title:t("Latin capital letter t with caron")},{character:"ť",title:t("Latin small letter t with caron")},{character:"Ŧ",title:t("Latin capital letter t with stroke")},{character:"ŧ",title:t("Latin small letter t with stroke")},{character:"Ũ",title:t("Latin capital letter u with tilde")},{character:"ũ",title:t("Latin small letter u with tilde")},{character:"Ū",title:t("Latin capital letter u with macron")},{character:"ū",title:t("Latin small letter u with macron")},{character:"Ŭ",title:t("Latin capital letter u with breve")},{character:"ŭ",title:t("Latin small letter u with breve")},{character:"Ů",title:t("Latin capital letter u with ring above")},{character:"ů",title:t("Latin small letter u with ring above")},{character:"Ű",title:t("Latin capital letter u with double acute")},{character:"ű",title:t("Latin small letter u with double acute")},{character:"Ų",title:t("Latin capital letter u with ogonek")},{character:"ų",title:t("Latin small letter u with ogonek")},{character:"Ŵ",title:t("Latin capital letter w with circumflex")},{character:"ŵ",title:t("Latin small letter w with circumflex")},{character:"Ŷ",title:t("Latin capital letter y with circumflex")},{character:"ŷ",title:t("Latin small letter y with circumflex")},{character:"Ÿ",title:t("Latin capital letter y with diaeresis")},{character:"Ź",title:t("Latin capital letter z with acute")},{character:"ź",title:t("Latin small letter z with acute")},{character:"Ż",title:t("Latin capital letter z with dot above")},{character:"ż",title:t("Latin small letter z with dot above")},{character:"Ž",title:t("Latin capital letter z with caron")},{character:"ž",title:t("Latin small letter z with caron")},{character:"ſ",title:t("Latin small letter long s")}],{label:t("Latin")})}}class fJ extends QH{static get pluginName(){return"SpecialCharactersCurrency"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:t("Dollar sign")},{character:"€",title:t("Euro sign")},{character:"¥",title:t("Yen sign")},{character:"£",title:t("Pound sign")},{character:"¢",title:t("Cent sign")},{character:"₠",title:t("Euro-currency sign")},{character:"₡",title:t("Colon sign")},{character:"₢",title:t("Cruzeiro sign")},{character:"₣",title:t("French franc sign")},{character:"₤",title:t("Lira sign")},{character:"¤",title:t("Currency sign")},{character:"₿",title:t("Bitcoin sign")},{character:"₥",title:t("Mill sign")},{character:"₦",title:t("Naira sign")},{character:"₧",title:t("Peseta sign")},{character:"₨",title:t("Rupee sign")},{character:"₩",title:t("Won sign")},{character:"₪",title:t("New sheqel sign")},{character:"₫",title:t("Dong sign")},{character:"₭",title:t("Kip sign")},{character:"₮",title:t("Tugrik sign")},{character:"₯",title:t("Drachma sign")},{character:"₰",title:t("German penny sign")},{character:"₱",title:t("Peso sign")},{character:"₲",title:t("Guarani sign")},{character:"₳",title:t("Austral sign")},{character:"₴",title:t("Hryvnia sign")},{character:"₵",title:t("Cedi sign")},{character:"₶",title:t("Livre tournois sign")},{character:"₷",title:t("Spesmilo sign")},{character:"₸",title:t("Tenge sign")},{character:"₹",title:t("Indian rupee sign")},{character:"₺",title:t("Turkish lira sign")},{character:"₻",title:t("Nordic mark sign")},{character:"₼",title:t("Manat sign")},{character:"₽",title:t("Ruble sign")}],{label:t("Currency")})}}class gJ extends QH{static get pluginName(){return"SpecialCharactersEssentials"}static get isOfficialPlugin(){return!0}static get requires(){return[fJ,hJ,pJ,uJ,mJ]}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */function bJ(e){if(e.is("$text")||e.is("$textProxy"))return e.data;const t=e;let i="",n=null;for(const o of t.getChildren()){const e=bJ(o);n&&n.is("element")&&(i+="\n"),i+=e,n=o}return i}class vJ extends QH{constructor(e){super(e),s(this,"_config",void 0),s(this,"_outputView",void 0),s(this,"_wordsMatchRegExp",void 0),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=e.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=F$.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9À-ž]+\S?)+/gu}static get pluginName(){return"WordCount"}static get isOfficialPlugin(){return!0}init(){this.editor.model.document.on("change:data",L$(this._refreshStats.bind(this),250)),"function"==typeof this._config.onUpdate&&this.on("update",((e,t)=>{this._config.onUpdate(t)})),E$(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const e=this.editor,t=e.t,i=e.config.get("wordCount.displayWords"),n=e.config.get("wordCount.displayCharacters"),o=$q.bind(this,this),r=[];return this._outputView||(this._outputView=new oG,(i||void 0===i)&&(this.bind("_wordsLabel").to(this,"words",(e=>t("Words: %0",e))),r.push({tag:"div",children:[{text:[o.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(n||void 0===n)&&(this.bind("_charactersLabel").to(this,"characters",(e=>t("Characters: %0",e))),r.push({tag:"div",children:[{text:[o.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:r}),this._outputView.render()),this._outputView.element}_getText(){let e="";for(const t of this.editor.model.document.getRoots())""!==e&&(e+="\n"),e+=bJ(t);return e}_getCharacters(e){return e.replace(/\n/g,"").length}_getWords(e){return(e.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const e=this._getText(),t=this.words=this._getWords(e),i=this.characters=this._getCharacters(e);this.fire("update",{words:t,characters:i})}}const yJ=jn({__name:"MessageSkeleton",props:{isOwnMessage:{type:Boolean},isContinuous:{type:Boolean}},setup:e=>(e,t)=>($r(),Vr(Di(rw),null,{default:pn((()=>[Wr("div",{class:We(["flex items-center",e.isOwnMessage?"justify-end":"justify-start"])},[e.isOwnMessage?($r(),Vr(Di(bw),{key:0,class:We(["flex max-w-[80%] min-h-10 rounded-md",e.isContinuous?"mt-1":"mt-2"])},null,8,["class"])):($r(),Vr(Di(bw),{key:1,class:"flex max-w-[90%] items-start min-h-10 rounded-md"}))],2)])),_:1}))}),kJ={class:"px-4 text-center py-3"},wJ=["innerHTML"],xJ=jn({__name:"MessageTypeNotification",props:{message:{}},setup(e){const t=e;return(e,i)=>{return $r(),jr("div",kJ,[Wr("div",{class:"text-xs text-[#6B7280] font-normal [overflow-wrap:anywhere]",innerHTML:null===(n=t.message)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.replaceAll("&nbsp;","")},null,8,wJ)]);var n}}}),_J=["onClick"],EJ={class:""},CJ={class:"text-xs line-clamp-1 flex-1"},AJ=jn({__name:"ModalMessageAction",props:{message:{},isOwnMessage:{type:Boolean},isGroup:{type:Boolean},isButtonEdit:{type:Boolean},isButtonRecall:{type:Boolean},isButtonDelete:{type:Boolean}},setup(e){const t=e,i=FP(),n=()=>{i.sendMessageSocket("recallMessage",{message_id:t.message._id},(e=>{"success"==(null==e?void 0:e.status)&&ax.dismiss(null,"recall")}))},o=()=>{ax.dismiss(null,"edit")},r=[{label:"Sửa",src:"/icons/icEditChat.svg",action:o,active:t.isButtonEdit},{label:"Thu hồi",src:"/icons/icRecallChat.svg",action:n,active:t.isButtonRecall}],s=[{label:"Sửa",src:"/icons/icEditChat.svg",action:o,active:t.isButtonEdit},{label:"Thu hồi",src:"/icons/icRecallChat.svg",action:n,active:t.isButtonRecall},{label:"Xoá",icon:sS,action:()=>{i.sendMessageSocket("removeMessage",{message_id:t.message._id,conversation_id:t.message.conversation_id},(e=>{"success"==e.status&&ax.dismiss(null,"deleted")}))},active:t.isButtonDelete}];return(e,t)=>($r(),jr("div",null,[Wr("div",null,[Yr(HR,{message:e.message,"is-group":e.isGroup,"is-own-message":e.isOwnMessage},null,8,["message","is-group","is-own-message"])]),Wr("div",{class:We(["bg-white w-fit rounded-lg px-3 mt-2 flex",e.isOwnMessage?"ml-auto":"ml-10"])},[($r(!0),jr(Dr,null,vo(e.isGroup?s:r,((e,t)=>($r(),jr("div",{key:t},[e.active?($r(),jr("div",{key:0,onClick:null==e?void 0:e.action,class:"py-3.5 flex flex-col px-3 text-center"},[Wr("div",EJ,[null!=e&&e.icon?($r(),Vr(Di(ex),{key:0,icon:null==e?void 0:e.icon,class:"size-5 text-red-500"},null,8,["icon"])):($r(),Vr(Di(ex),{key:1,src:e.src,class:"size-5"},null,8,["src"]))]),Wr("div",CJ,Ze(e.label),1)],8,_J)):Jr("",!0)])))),128))],2)]))}});var TJ,SJ;!function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(TJ||(TJ={})),i("E",SJ),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(SJ||i("E",SJ={}));const IJ=Sx("Filesystem",{web:()=>Da((()=>a.import("./web-legacy-BV0afst3.js")),void 0).then((e=>new e.FilesystemWeb))}),PJ={categoriesLabel:"Danh mục",emojiUnsupportedMessage:"Trình duyệt của bạn không hỗ trợ emoji màu.",favoritesLabel:"Yêu thích",loadingMessage:"Đang tải…",networkErrorMessage:"Không thể tải emoji.",regionLabel:"Chọn emoji",searchDescription:"Khi có kết quả tìm kiếm, nhấn lên hoặc xuống để chọn và nhấn Enter để chọn.",searchLabel:"Tìm kiếm",searchResultsLabel:"Kết quả tìm kiếm",skinToneDescription:"Khi mở rộng, nhấn lên hoặc xuống để chọn và nhấn Enter để chọn.",skinToneLabel:"Chọn tông màu da (hiện tại {skinTone})",skinTonesLabel:"Tông màu da",skinTones:["Mặc định","Sáng","Sáng vừa","Trung bình","Tối vừa","Tối"],categories:{custom:"Tùy chỉnh","smileys-emotion":"Mặt cười và cảm xúc","people-body":"Người và cơ thể","animals-nature":"Động vật và thiên nhiên","food-drink":"Thức ăn và đồ uống","travel-places":"Du lịch và địa điểm",activities:"Hoạt động",objects:"Đồ vật",symbols:"Biểu tượng",flags:"Cờ"}},DJ=jn({__name:"PickerEmo",props:{onSelectEmoji:{type:Function,default:()=>{}}},setup:e=>(io((()=>{const e=document.querySelector("emoji-picker");e&&(e.i18n=PJ)})),(e,t)=>($r(),jr("div",{onClick:t[1]||(t[1]=Ta((()=>{}),["stop"])),class:"bg-red-500 flex items-center justify-center"},[Wr("emoji-picker",{onEmojiClick:t[0]||(t[0]=Ta(((...t)=>e.onSelectEmoji&&e.onSelectEmoji(...t)),["stop"])),class:"w-full","emoji-version":"16.0"},null,32)])))}),RJ={class:"flex items-center gap-1.5 max-w-[90%]"},LJ=["src","placeholder"],MJ={class:"font-light text-black"},OJ={class:"font-medium line-clamp-1 text-wrap"},NJ={key:0,class:"text-xs text-gray2"},$J={key:1,class:"scale-y-[-1] text-center text-gray2 mt-[70%]"},FJ={class:"flex overflow-x-scroll px-2"},BJ={class:"flex gap-2"},zJ=["src"],jJ={key:0,class:"flex items-center gap-2 mb-2"},VJ={class:"border-l-2 border-l-blue1 line-clamp-1 pl-2.5 w-full flex flex-col"},UJ=["innerHTML"],HJ={class:"flex place-items-end w-full items-center gap-2"},qJ={class:"w-full min-w-0 flex items-end bg-[#f0f2f5] px-2 pr-2.5 overflow-hidden rounded-[18px]"},GJ={class:"w-full min-w-0"},WJ={class:"flex gap-2 items-center h-10"},YJ=jn({__name:"ChatRoom",setup(e){var t;const{VITE_IMGUR_CLIENT_ID:i,VITE_API_SOCKET:n}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},o=[cQ,YQ,pQ,dJ,uJ,fJ,gJ,mJ,pJ,hJ,vJ],r=By(),s=EC(),{userInfo:a}=mC(s),l=OD(),{activeRoom:c,newMsg:d}=mC(l),u=Ti(!1),h=Ti(),p=null===(t=r.params)||void 0===t?void 0:t.id,m=Rw(),f=Ti([]),g=Ti(void 0),b=FP(),v=Ti(""),y=Ti(null),k=Ti(),w=Ti([]),x=Ti(!0),_=Ti(),E=Ti(!1),C=()=>{m.back()},A=ks((()=>{var e,t,i,o,r;if(null!==(e=c.value)&&void 0!==e&&e.is_group)return{avatar:n+"/"+(null===(t=c.value)||void 0===t?void 0:t.avatar),name:null===(i=c.value)||void 0===i?void 0:i.name,online:!1};if((null===(o=c.value)||void 0===o||null===(o=o.enemy)||void 0===o?void 0:o.user_id)===(null===(r=a.value)||void 0===r?void 0:r._id)){var s;const e=null===(s=c.value)||void 0===s||null===(s=s.me)||void 0===s?void 0:s.user;return{avatar:null==e?void 0:e.avatar,name:null==e?void 0:e.full_name,online:!bC.isEmpty(null==e?void 0:e.socket_client_ids)}}{var l;const e=null===(l=c.value)||void 0===l||null===(l=l.enemy)||void 0===l?void 0:l.user;return{avatar:null==e?void 0:e.avatar,name:null==e?void 0:e.full_name,online:!bC.isEmpty(null==e?void 0:e.socket_client_ids)}}})),T=async(e=!1)=>{try{var t;const{data:n}=await zP.get("/chat/room-messages",{params:{limit:35,"filter[conversation_id]":p,"filter[last_message_id]":(null===(t=g.value)||void 0===t?void 0:t._id)||void 0}});if(bC.isEmpty(n))x.value=!1;else if(bC.isEmpty(n.data))x.value=!1;else{var i;const t=null!==(i=null==n?void 0:n.data)&&void 0!==i?i:[];x.value=!0,g.value=t[t.length-1],f.value=e?[...f.value,...t]:t}}catch(n){console.log(n)}finally{u.value=!1}};io((()=>{u.value=!0,T(!1),x.value=!1,document.addEventListener("click",(()=>{E.value=!1}))})),ro((()=>{document.removeEventListener("click",(()=>{E.value=!1}))}));const S=async e=>{T(!0),setTimeout((()=>e.target.complete()),500)};br(d,(()=>{var e,t,i;(console.log("ChatRoom new Msg: ",d.value),(null===(e=d.value)||void 0===e?void 0:e._id)===p)&&(bC.isEmpty(null===(t=d.value)||void 0===t?void 0:t.last_message)||f.value.unshift(null===(i=d.value)||void 0===i?void 0:i.last_message))}));const I=()=>{bC.isEmpty(v.value)||b.sendMessageSocket("sendMessage",{content:v.value,conversation_id:p,type:gD.Default}),w.value.length>0&&b.sendMessageSocket("sendMessage",{attachments:w.value,conversation_id:p,type:gD.Default}),v.value="",w.value=[],k.value=[],E.value=!1,y.value.$el.scrollToTop()},P=e=>{var t;e.target.src=null!=c&&null!==(t=c.value)&&void 0!==t&&t.is_group?"/icGroup.png":"/upload-user.png"},D=()=>{h.value=void 0,v.value=""},R=async()=>{try{if(!bC.isEmpty(h.value)&&!bC.isEmpty(v.value)){var e,t;const i=null===(e=v.value)||void 0===e?void 0:e.replaceAll("&nbsp;",""),n=null===(t=h.value)||void 0===t?void 0:t._id;b.sendMessageSocket("updateMessage",{content:i,message_id:n},(e=>{if("success"===e.status){const e=f.value.findIndex((e=>e._id===n));-1!==e&&(f.value[e].content=i,f.value[e].status=TR,f.value[e].updated_at=aT().toISOString())}}))}}catch(i){console.log("accepupdate err",i)}finally{D()}},L=e=>{const t=e.detail.unicode;_.value&&_.value.model.change((e=>{const i=_.value.model.document.selection,n=null==i?void 0:i.getFirstPosition();e.insertText(t,n)}))},M=async()=>{try{var e,t,i;const n=await JS.pickImages({quality:20,limit:10});k.value=[...null!==(e=k.value)&&void 0!==e?e:[],...null!==(t=n.photos)&&void 0!==t?t:[]],await N(null!==(i=null==n?void 0:n.photos)&&void 0!==i?i:null)}catch(n){console.log(n)}},O=e=>{w.value.splice(e,1),k.value.splice(e,1)},N=async e=>{const t=[],n=e=>{if(!e)return"imgMsg_"+Date.now();const t=e.split("/");return t[t.length-1]};for(const c of e){var o,r,s;const e=await IJ.readFile({path:null!==(o=null==c?void 0:c.path)&&void 0!==o?o:""}),d=null==c||null===(r=c.path)||void 0===r||null===(r=r.split(".").pop())||void 0===r?void 0:r.toLowerCase(),u=`${n(null==e?void 0:e.data.toString())}_${Date.now()}.${d}`,h=(a=c.path,l=void 0,{jpg:"image/jpg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp"}[null==a||null===(l=a.split(".").pop())||void 0===l?void 0:l.toLowerCase()]||"image/png"),p=$(null!==(s=null==e?void 0:e.data.toString())&&void 0!==s?s:"",h),m=new File([p],u,{type:h}),f=new FormData;f.append("api_key",i),f.append("file",m);const g=await fetch("https://api.imghippo.com/v1/upload",{method:"POST",body:f}),b=await g.json(),v=null==b?void 0:b.data;b.success&&t.push({url:null==v?void 0:v.view_url,type:"image",size:Number(v.size),extension:v.extension})}var a,l;w.value=[...w.value,...t]},$=(e,t)=>{const i=atob(e),n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);const o=new Uint8Array(n);return new Blob([o],{type:t})},F=async()=>{m.push({name:"ChatDetail"},iT)};return(e,t)=>{const i=po("ckeditor");return $r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",translucent:""},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white",class:"py-1"},{default:pn((()=>{var e,t,i,n,o,r,s;return[Yr(Di(ex),{onClick:C,slot:"start",icon:Di(CT),class:"size-6 pl-2 pr-1 z-50"},null,8,["icon"]),Wr("div",RJ,[Wr("div",null,[($r(),jr("img",{src:null!==(e=A.value.avatar)&&void 0!==e?e:null!==(t=Di(c))&&void 0!==t&&t.is_group?"/icGroup.png":"/upload-user.png",key:A.value.avatar,onError:P,placeholder:null!==(i=Di(c))&&void 0!==i&&i.is_group?"/icGroup.png":"/upload-user.png",class:"size-9 rounded-full object-cover border-2 border-white3"},null,40,LJ))]),Wr("div",MJ,[Wr("div",OJ,Ze(null===(n=A.value)||void 0===n?void 0:n.name),1),null!==(o=Di(c))&&void 0!==o&&o.is_group?($r(),jr("div",NJ,Ze(`${null!==(r=Di(c).total_member)&&void 0!==r?r:0} thành viên`),1)):Jr("",!0)])]),null!==(s=Di(c))&&void 0!==s&&s.is_group?($r(),jr("div",{key:0,onClick:F,slot:"end",class:"pr-2 pl-1 z-50 flex items-center py-1"},[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' stroke-width='48' d='M88 152h336M88 256h336M88 360h336' class='ionicon-fill-none'/></svg>"),class:"size-6 text-black1"},null,8,["icon"])])):Jr("",!0)]})),_:1})])),_:1}),Yr(Di(Kk),{ref_key:"refContentScroll",ref:y,class:"scale-y-[-1]",fullscreen:"","scroll-events":""},{default:pn((()=>[u.value?($r(),Vr(Di(rw),{key:1,class:"px-2.5 pt-6"},{default:pn((()=>[($r(!0),jr(Dr,null,vo(Di(oR),((e,t)=>($r(),jr("div",{key:t},[Yr(yJ,{"is-own-message":2===e.senderId,"is-continuous":t>0&&e.senderId===Di(oR)[t-1].senderId},null,8,["is-own-message","is-continuous"])])))),128))])),_:1})):($r(),jr(Dr,{key:0},[Yr(Di(rw),{class:"px-2.5 pt-6"},{default:pn((()=>[Di(bC.isEmpty)(f.value)?($r(),jr("div",$J," Hãy nói gì đó để bắt đầu cuộc trò chuyện ")):($r(!0),jr(Dr,{key:0},vo(f.value,((e,t)=>{var i,n,o;return $r(),jr("div",{key:t,class:"scale-y-[-1]"},["message"===e.type?($r(),Vr(HR,{key:0,onLongPress:i=>(async(e,t=-1)=>{var i,n,o,r;const s=e.sender_id===(null===(i=a.value)||void 0===i?void 0:i._id),l=(null==e?void 0:e.status)===TR,d=aT().diff(aT(e.created_at),"hour")>24,u=!l&&s&&!e.deleted_at&&!d,p=s&&!e.deleted_at&&!d,m=(null===(n=c.value)||void 0===n?void 0:n.is_group)&&(null===(o=c.value)||void 0===o||null===(o=o.me)||void 0===o?void 0:o.is_admin)&&!e.deleted_at;if(null!=e&&e.deleted_at||!(m||p||u))return;const g=await ax.create({component:AJ,componentProps:{message:e,isOwnMessage:s,isGroup:null===(r=c.value)||void 0===r?void 0:r.is_group,isButtonDelete:m,isButtonRecall:p,isButtonEdit:u},showBackdrop:!0,backdropDismiss:!0,mode:"ios",cssClass:"centerModal msgback"});g.present();const{role:b}=await g.onDidDismiss();if("recall"===b){const t=f.value.findIndex((t=>t._id===e._id));-1!==t&&(f.value[t].deleted_at=aT().toISOString())}else if("deleted"===b)-1!=t&&f.value.splice(t,1);else if("edit"===b){var y;h.value=e,v.value=null!==(y=null==e?void 0:e.content)&&void 0!==y?y:""}})(e,t),"is-own-message":e.sender_id===(null===(i=Di(a))||void 0===i?void 0:i._id),"is-continuous":t<f.value.length-1&&e.sender_id===f.value[t+1].sender_id&&"message"==(null===(n=f.value[t+1])||void 0===n?void 0:n.type),"is-group":null===(o=Di(c))||void 0===o?void 0:o.is_group,message:e},null,8,["onLongPress","is-own-message","is-continuous","is-group","message"])):"notification"===e.type?($r(),Vr(xJ,{key:1,message:e},null,8,["message"])):Jr("",!0)])})),128))])),_:1}),x.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:S,threshold:"0"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)],64))])),_:1},512),Yr(Di(Xk),{mode:"ios"},{default:pn((()=>[E.value?($r(),Vr(DJ,{key:0,onSelectEmoji:L})):Jr("",!0),Wr("div",FJ,[Wr("div",BJ,[($r(!0),jr(Dr,null,vo(k.value,((e,t)=>($r(),jr("div",{key:t,class:"size-20 flex relative"},[Wr("img",{src:e.webPath,class:"size-20 flex rounded-md object-cover"},null,8,zJ),Yr(Di(ex),{onClick:O,icon:Di(LT),class:"size-5 absolute rounded-full top-1 text-black bg-white p-1 right-1"},null,8,["icon"])])))),128))])]),Yr(Di(_w),{class:"py-1 pb-1.5 px-2.5",color:"white"},{default:pn((()=>{var e;return[Di(bC.isEmpty)(h.value)?Jr("",!0):($r(),jr("div",jJ,[Wr("div",VJ,[t[4]||(t[4]=Wr("div",{class:"text-xs pb-0.5 w-full text-blue1"}," Chỉnh sửa tin nhắn ",-1)),Wr("div",{class:"text-xs",innerHTML:null===(e=h.value)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.replaceAll(" ","")},null,8,UJ)]),Wr("div",{onClick:D,class:"flex items-center justify-center"},[Yr(Di(ex),{icon:Di(PT),class:"size-6 text-blue1"},null,8,["icon"])])])),Wr("div",HJ,[Wr("div",qJ,[Wr("div",GJ,[Yr(i,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),editor:Di(WK),onFocus:t[1]||(t[1]=()=>E.value=!1),onReady:t[2]||(t[2]=e=>{_.value=e}),config:{plugins:o,removePlugins:["MediaEmbedToolbar"],placeholder:"Aa"}},null,8,["modelValue","editor","config"])]),Wr("div",WJ,[Yr(Di(ex),{onClick:t[3]||(t[3]=Ta((e=>E.value=!0),["stop"])),icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256.05 384c-45.42 0-83.62-29.53-95.71-69.83a8 8 0 017.82-10.17h175.69a8 8 0 017.82 10.17c-11.99 40.3-50.2 69.83-95.62 69.83z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-6 items-end text-blue1"},null,8,["icon"]),Yr(Di(ex),{onClick:M,icon:Di(jT),class:"size-6 items-end text-blue1"},null,8,["icon"])])]),!Di(bC.isEmpty)(v.value)&&Di(bC.isEmpty)(h.value)||!Di(bC.isEmpty)(w.value)?($r(),Vr(Di(ex),{key:0,onClick:I,icon:Di(oS),class:"w-7 h-10 text-blue1 flex flex-shrink-0"},null,8,["icon"])):Jr("",!0),Di(bC.isEmpty)(v.value)||Di(bC.isEmpty)(h.value)?Jr("",!0):($r(),Vr(Di(ex),{key:1,onClick:R,icon:Di(xT),class:"w-7 h-10 text-blue1 flex flex-shrink-0"},null,8,["icon"]))])]})),_:1})])),_:1})])),_:1})}}}),KJ={key:0,class:"pb-8"},QJ={key:0,class:"mt-4 min-h-24"},XJ={class:"flex overflow-x-auto gap-2.5 scrollbar-hidden"},JJ={class:"w-16 flex flex-col items-center text-center gap-1"},ZJ={class:"relative flex size-14"},eZ=["src"],tZ=["onClick"],iZ={class:"text-[10px] font-light"},nZ=["onClick"],oZ=["src"],rZ={class:"flex-1 font-medium [overflow-wrap:anywhere]"},sZ={key:1,class:"mt-[75%] font-medium text-gray2 text-center"},aZ=jn({__name:"ModalAddMemberToChat",props:{room:{}},setup(e){const t=e,i=FP(),n=Ti([]),o=Ti(""),r=Ti(1),s=Ti(!1),a=Ti([]),l=()=>{o.value="",c(1,!1,""),r.value=1,s.value=!1},c=async(e=1,i=!1,o="")=>{var a;const{data:l}=await zP.get("/chat/members",{params:{without_member_conversation_id:null===(a=t.room)||void 0===a?void 0:a._id,page:e,limit:25,keyword:o}});var c,d,u;bC.isEmpty(l)?s.value=!1:(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(r.value++,s.value=!0):s.value=!1,n.value=i?[...n.value,...null!==(d=null==l?void 0:l.data)&&void 0!==d?d:[]]:null!==(u=null==l?void 0:l.data)&&void 0!==u?u:[])},d=()=>{c(1,!1,o.value),r.value=1,s.value=!1};to((()=>{c()}));const u=e=>{c(r.value,!0),setTimeout((()=>e.target.complete()),500)},h=e=>{e.target.src="/upload-user.png"},p=async()=>{var e;await ax.dismiss(a.value,"addsuccess"),i.sendMessageSocket("countMemberGroupChatCommunity",{conversation_id:null===(e=t.room)||void 0===e?void 0:e._id},(e=>{var n,o;if((null===(n=t.room)||void 0===n||null===(n=n.community)||void 0===n?void 0:n.package_code)===nT.START.info.code&&e<nT.START.info.group_chat_member_limit||(null===(o=t.room)||void 0===o||null===(o=o.community)||void 0===o?void 0:o.package_code)!==nT.START.info.code&&e<nT.VIP.info.group_chat_member_limit){if(bC.isEmpty(t.room)||bC.isEmpty(a.value))return;const e=a.value.map((e=>e._id));i.sendMessageSocket("addMemberConversation",{conversation_id:t.room._id,user_ids:e})}}))},m=()=>ax.dismiss();return(e,t)=>($r(),jr(Dr,null,[Yr(Di(Jk),{class:"ion-no-border py-0.5"},{default:pn((()=>[Yr(Di(_w),{color:"white"},{default:pn((()=>[Wr("div",{slot:"start",onClick:m,class:"text-blue1 font-light"},"Hủy"),Yr(Di(xw),null,{default:pn((()=>t[1]||(t[1]=[Xr("Thêm thành viên")]))),_:1}),Di(bC.isEmpty)(a.value)?Jr("",!0):($r(),jr("div",{key:0,slot:"end",onClick:p,class:"text-blue1 font-medium"}," Thêm "))])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding-horizontal"},{default:pn((()=>[Di(bC.isEmpty)(n.value)?($r(),jr("div",sZ," Chưa có bạn bè nào để mời ")):($r(),jr("div",KJ,[Wr("form",{onSubmit:Ta(d,["prevent"]),class:"w-full bg-white3 flex items-center px-3 rounded-xl"},[Yr(Di(ex),{onClick:d,icon:Di(nS),class:"size-5 text-gray2"},null,8,["icon"]),mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),class:"w-full flex-1 py-1.5 pr-1 mx-2 bg-white3 outline-none",placeholder:"Tìm kiếm"},null,512),[[fa,o.value]]),Di(bC.isEmpty)(o.value)?Jr("",!0):($r(),Vr(Di(ex),{key:0,onClick:l,icon:Di(DT),class:"size-5 text-gray2"},null,8,["icon"]))],32),Di(bC.isEmpty)(a.value)?Jr("",!0):($r(),jr("section",QJ,[Wr("div",XJ,[($r(!0),jr(Dr,null,vo(a.value,((e,t)=>{var i;return $r(),jr("div",{key:t,class:"flex-shrink-0"},[Wr("div",JJ,[Wr("div",ZJ,[($r(),jr("img",{src:null!==(i=null==e?void 0:e.avatar)&&void 0!==i?i:"/upload-user.png",key:null==e?void 0:e.avatar,class:"w-full rounded-full",placeholder:"/upload-user.png",onError:h},null,40,eZ)),Wr("div",{onClick:e=>(e=>{a.value.splice(e,1),console.log(e)})(t),class:"bg-white4 absolute p-0.5 flex items-center rounded-full shadow-st right-0"},[Yr(Di(ex),{icon:Di(PT),class:"size-4"},null,8,["icon"])],8,tZ)]),Wr("div",iZ,Ze(e.full_name),1)])])})),128))])])),Wr("section",{class:We(Di(bC.isEmpty)(a.value)&&"mt-6")},[($r(!0),jr(Dr,null,vo(n.value,((e,t)=>{var i;return $r(),jr("div",{key:t},[Wr("div",{onClick:t=>(e=>{const t=a.value.find((t=>t._id===(null==e?void 0:e._id)));bC.isEmpty(t)?a.value.push(e):a.value=a.value.filter((t=>t._id!==(null==e?void 0:e._id)))})(e),class:"flex items-center gap-4"},[($r(),jr("img",{src:null!==(i=null==e?void 0:e.avatar)&&void 0!==i?i:"/upload-user.png",key:null==e?void 0:e.avatar,class:"size-11 rounded-full",placeholder:"/upload-user.png",onError:h},null,40,oZ)),Wr("div",{class:We(["flex items-center flex-1 py-4",t<n.value.length-1&&" border-b-[0.15px]"])},[Wr("div",rZ,Ze(e.full_name),1),a.value.includes(e)?($r(),Vr(Di(ex),{key:0,icon:Di(xT),class:"size-7 text-blue1"},null,8,["icon"])):($r(),Vr(Di(ex),{key:1,icon:Di(XT),class:"size-7 text-gray2"},null,8,["icon"]))],2)],8,nZ)])})),128))],2)])),s.value?($r(),Vr(Di(Zk),{key:2,onIonInfinite:u},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})],64))}}),lZ={class:"flex flex-col items-center px-6"},cZ={class:"relative"},dZ=["src"],uZ={class:"flex items-center gap-1 mt-2"},hZ={class:"text-center text-lg font-medium"},pZ={class:"mt-6 flex justify-center w-full gap-8"},mZ={class:"p-2 bg-white2 rounded-full flex"},fZ={class:"text-[10px] font-light text-center"},gZ={key:0},bZ={key:1},vZ={class:"p-2 bg-white2 rounded-full flex"},yZ={class:"text-[10px] font-light text-center"},kZ={key:0},wZ={key:1},xZ={class:"pl-6"},_Z={class:"flex py-4 flex-1 border-b-[0.5px] border-gray1 pr-6"},EZ=jn({__name:"ChatDetail",setup(e){const{VITE_API_SOCKET:t}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},{userInfo:i}=mC(EC()),n=Rw(),o=FP(),r=OD(),{activeRoom:s}=mC(r),a=ks((()=>{var e;return null===(e=s.value)||void 0===e||null===(e=e.me)||void 0===e?void 0:e.is_admin})),l=ks((()=>{var e,t,n,o;return(null===(e=s.value)||void 0===e||null===(e=e.enemy)||void 0===e?void 0:e.user_id)===(null===(t=i.value)||void 0===t?void 0:t._id)?null===(n=s.value)||void 0===n||null===(n=n.enemy)||void 0===n?void 0:n.notification:null===(o=s.value)||void 0===o||null===(o=o.me)||void 0===o?void 0:o.notification})),c=()=>n.back(),d=e=>{e.target.src="/icGroup.png"},u=async()=>{var e;o.sendMessageSocket("toggleNotificationConversation",{conversation_id:null===(e=s.value)||void 0===e?void 0:e._id},(async e=>{var t,n;if((null===(t=s.value)||void 0===t||null===(t=t.enemy)||void 0===t?void 0:t.user_id)===(null===(n=i.value)||void 0===n?void 0:n._id)){var o;const t={...null===(o=s.value)||void 0===o?void 0:o.enemy,notification:e.notification},i={...s.value,enemy:t};r.setActiveRoom(i)}else{var a;const t={...null===(a=s.value)||void 0===a?void 0:a.me,notification:e.notification},i={...s.value,me:t};r.setActiveRoom(i)}}))},h=async()=>{var e;o.sendMessageSocket("toggleTypeConversation",{conversation_id:null===(e=s.value)||void 0===e?void 0:e._id},(async e=>{console.log(e);const t={...s.value,type:null==e?void 0:e.type};r.setActiveRoom(t)}))},p=async()=>{const e=await ax.create({mode:"ios",component:aZ,componentProps:{room:s.value},initialBreakpoint:.95,breakpoints:[0,.95]});await e.present()},m=()=>{n.push({name:"ChatMembers"},iT)},f=async()=>{var e,t;null!==(e=s.value)&&void 0!==e&&e.is_group&&(o.sendMessageSocket("leaveGroup",{conversation_id:null===(t=s.value)||void 0===t?void 0:t._id}),n.replace({name:"ChatTab"},iT))};return(e,n)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Yr(Di(ex),{onClick:c,slot:"start",icon:Di(CT),class:"size-6 pl-2 pr-1 z-50"},null,8,["icon"])])),_:1})])),_:1}),Yr(Di(Kk),{"scroll-y":!1},{default:pn((()=>{var e,o,r,c,g,b,v,y,k,w;return[Wr("section",lZ,[Wr("div",cZ,[($r(),jr("img",{src:null!==(e=Di(s))&&void 0!==e&&e.avatar?`${Di(t)}/${null===(o=Di(s))||void 0===o?void 0:o.avatar}`:"/icGroup.png",key:null===(r=Di(s))||void 0===r?void 0:r.avatar,onError:d,placeholder:"/icGroup.png",class:"size-20 rounded-full object-cover border-2 border-white3"},null,40,dZ))]),Wr("div",uZ,[Wr("div",hZ,Ze(null===(c=Di(s))||void 0===c?void 0:c.name),1)]),Wr("section",pZ,[a.value||(null===(g=Di(i))||void 0===g?void 0:g._id)===(null===(b=Di(s))||void 0===b?void 0:b.created_by)?($r(),jr("div",{key:0,onClick:h,class:"flex flex-col items-center gap-1"},[Wr("div",mZ,[Yr(Di(ex),{icon:"public"===(null===(v=Di(s))||void 0===v?void 0:v.type)?Di(NT):Di(UT),class:"size-5 flex text-[#555]"},null,8,["icon"])]),Wr("div",fZ,["public"===(null===(y=Di(s))||void 0===y?void 0:y.type)?($r(),jr("span",gZ,n[0]||(n[0]=[Xr("Công "),Wr("br",null,null,-1),Xr("khai")]))):($r(),jr("span",bZ,n[1]||(n[1]=[Xr("Riêng "),Wr("br",null,null,-1),Xr("tư")])))])])):Jr("",!0),a.value||(null===(k=Di(i))||void 0===k?void 0:k._id)===(null===(w=Di(s))||void 0===w?void 0:w.created_by)?($r(),jr("div",{key:1,onClick:p,class:"flex flex-col items-center gap-1"},n[2]||(n[2]=[Wr("div",{class:"p-2 bg-white2 rounded-full flex"},[Wr("img",{src:"/icons/icPeoplePlus.png",class:"size-5 flex"})],-1),Wr("div",{class:"text-[10px] font-light text-center"},[Xr(" Thêm "),Wr("br"),Xr("thành viên ")],-1)]))):Jr("",!0),Wr("div",{onClick:u,class:"flex flex-col items-center gap-1"},[Wr("div",vZ,[Yr(Di(ex),{icon:l.value?Di(GT):Di(qT),class:"size-5 flex"},null,8,["icon"])]),Wr("div",yZ,[l.value?($r(),jr("div",kZ,n[3]||(n[3]=[Xr("Tắt "),Wr("br",null,null,-1),Xr("thông báo")]))):($r(),jr("div",wZ,n[4]||(n[4]=[Xr("Bật "),Wr("br",null,null,-1),Xr("thông báo")])))])])])]),n[7]||(n[7]=Wr("div",{class:"h-2.5 mt-6 mb-2 bg-white1 w-full"},null,-1)),Wr("section",xZ,[Wr("div",{onClick:m,class:"flex gap-4 items-center"},[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M336 304c-65.17 0-127.84 32.37-143.54 95.41-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M206 306c-18.05-8.27-37.93-11.45-59-11.45-52 0-102.1 25.85-114.65 76.2-1.65 6.66 2.53 13.25 9.37 13.25H154' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-6 text-gray2"},null,8,["icon"]),Wr("div",_Z,[n[5]||(n[5]=Wr("div",{class:"flex-1 text-sm font-light"},"Xem thành viên",-1)),Yr(Di(ex),{icon:Di(IT),class:"size-4 text-gray2"},null,8,["icon"])])]),a.value?Jr("",!0):($r(),jr("div",{key:0,onClick:f,class:"flex gap-4 items-center"},[Yr(Di(ex),{icon:Di(HT),class:"size-6 text-gray2 rotate-180"},null,8,["icon"]),n[6]||(n[6]=Wr("div",{class:"flex py-4 flex-1 pr-6"},[Wr("div",{class:"flex-1 text-sm font-light"},"Rời nhóm")],-1))]))])]})),_:1})])),_:1}))}}),CZ={class:"flex items-center gap-3.5 border-b-[0.2px] border-gray1 px-6 py-3.5"},AZ=["src"],TZ={class:"px-6 pt-2"},SZ={key:0},IZ=jn({__name:"ModalMemberAction",props:{member:{},isAdmin:{type:Boolean,default:!1},isOwner:{type:Boolean,default:!1},onToggleAdminRole:{type:Function,default:()=>{}},onRemoveMember:{type:Function,default:()=>{}}},setup(e){const t=e,i=async()=>{await ax.dismiss(),t.onToggleAdminRole()},n=async()=>{await ax.dismiss(),t.onRemoveMember()},o=Rw(),r=e=>{e.target.src="/upload-user.png"},s=FP(),a=OD();return(e,t)=>{var l,c,d,u,h;return $r(),jr("div",null,[Wr("div",CZ,[Wr("div",null,[($r(),jr("img",{src:null!==(l=null===(c=e.member)||void 0===c||null===(c=c.user)||void 0===c?void 0:c.avatar)&&void 0!==l?l:"/upload-user.png",key:null===(d=e.member)||void 0===d||null===(d=d.user)||void 0===d?void 0:d.avatar,placeholder:"/upload-user.png",onError:r,class:"size-12 rounded-full"},null,40,AZ))]),Xr(" "+Ze(null===(u=e.member)||void 0===u||null===(u=u.user)||void 0===u?void 0:u.full_name),1)]),Wr("section",TZ,[Wr("div",{onClick:t[0]||(t[0]=t=>{var i;return(async e=>{await ax.dismiss(),o.push({name:"DetectUserCommunityScreen",params:{userId:e}},iT)})(null===(i=e.member)||void 0===i?void 0:i.user_id)}),class:"flex py-2 gap-2"},[Wr("div",null,[Yr(Di(ex),{icon:Di(YT),class:"size-6 text-[#505050]"},null,8,["icon"])]),t[2]||(t[2]=Wr("div",null,"Xem trang cá nhân",-1))]),Wr("div",{onClick:t[1]||(t[1]=t=>{var i;return(e=>{s.sendMessageSocket("createSingleChatRoom",{user_id:e},(async e=>{null!=e&&e._id&&(await a.setActiveRoom(e),o.push({name:"ChatRoom",params:{id:null==e?void 0:e._id}},iT))}))})(null===(i=e.member)||void 0===i?void 0:i.user_id)}),class:"flex py-2 gap-2"},[Wr("div",null,[Yr(Di(ex),{icon:Di(wT),class:"size-6"},null,8,["icon"])]),t[3]||(t[3]=Wr("div",null,"Nhắn tin",-1))]),e.isOwner?($r(),jr("section",SZ,[null!==(h=e.member)&&void 0!==h&&h.is_admin?($r(),jr("div",{key:0,onClick:i,class:"flex py-2 gap-2"},[Wr("div",null,[Yr(Di(ex),{src:"/icons/icAdmin.svg",class:"size-6"})]),t[4]||(t[4]=Wr("div",null,"Gỡ quyền quản trị viên",-1))])):($r(),jr("div",{key:1,onClick:i,class:"flex py-2 gap-2"},[Wr("div",null,[Yr(Di(ex),{src:"/icons/icAdmin.svg",class:"size-6"})]),t[5]||(t[5]=Wr("div",null,"Chỉ định làm quản trị viên",-1))])),Wr("div",{onClick:n,class:"flex py-2 gap-2"},[Wr("div",null,[Yr(Di(ex),{icon:Di(sS),class:"size-6"},null,8,["icon"])]),t[6]||(t[6]=Wr("div",null,"Xoá khỏi nhóm",-1))])])):Jr("",!0)])])}}}),PZ=["onClick"],DZ={class:"size-11 flex"},RZ=["src"],LZ={class:"flex-1"},MZ={class:"font-medium"},OZ=["onClick"],NZ={class:"size-11 flex"},$Z=["src"],FZ={class:"flex-1"},BZ={class:"font-medium"},zZ=jn({__name:"ChatMembers",setup(e){const t=Rw(),i=()=>t.back(),{activeRoom:n}=mC(OD()),o=FP(),r=Ti(1),s=Ti(!1),a=Ti([]),{userInfo:l}=mC(EC()),c=Ti(1),d=Ti(!1),u=Ti([]),h=async(e=1,t=!1)=>{var i;const{data:o}=await zP.get("/chat/members-conversation",{params:{"filter[conversation_id]":null===(i=n.value)||void 0===i?void 0:i._id,page:e,limit:25}});var l,c,d;bC.isEmpty(o)?s.value=!1:(null!=o&&null!==(l=o.meta)&&void 0!==l&&l.hasNextPage?(r.value++,s.value=!0):s.value=!1,a.value=t?[...a.value,...null!==(c=null==o?void 0:o.data)&&void 0!==c?c:[]]:null!==(d=null==o?void 0:o.data)&&void 0!==d?d:[])},p=async(e=1,t=!1)=>{var i;const{data:o}=await zP.get("/chat/members-conversation",{params:{"filter[conversation_id]":null===(i=n.value)||void 0===i?void 0:i._id,"filter[is_admin]":!0,page:e,limit:25}});var r,s,a;bC.isEmpty(o)?d.value=!1:(null!=o&&null!==(r=o.meta)&&void 0!==r&&r.hasNextPage?(c.value++,d.value=!0):d.value=!1,u.value=t?[...u.value,...null!==(s=null==o?void 0:o.data)&&void 0!==s?s:[]]:null!==(a=null==o?void 0:o.data)&&void 0!==a?a:[])};io((()=>{h(),p()}));const m=e=>{h(r.value,!0),setTimeout((()=>e.target.complete()),500)},f=e=>{p(c.value,!0),setTimeout((()=>e.target.complete()),500)},g=e=>{e.target.src="/upload-user.png"},b=async e=>{var t,i,o,r;if(e.user_id===(null===(t=l.value)||void 0===t?void 0:t._id))return;const s=await ax.create({mode:"ios",component:IZ,componentProps:{member:e,isOwner:(null===(i=l.value)||void 0===i?void 0:i._id)===(null===(o=n.value)||void 0===o?void 0:o.created_by),isAdmin:null===(r=n.value)||void 0===r||null===(r=r.me)||void 0===r?void 0:r.is_admin,onToggleAdminRole:()=>v(e),onRemoveMember:()=>y(e)},initialBreakpoint:.35,breakpoints:[0,.35]});await s.present()},v=async e=>{var t;const i=null==e?void 0:e.user_id;o.sendMessageSocket("toggleRoleAdminConversation",{conversation_id:null===(t=n.value)||void 0===t?void 0:t._id,user_id:i},(async t=>{if(console.log(t),"success"===t.status){var n;const s=a.value.map((e=>{var n;return e.user_id===i?{...e,is_admin:null==t||null===(n=t.data)||void 0===n?void 0:n.is_admin}:e}));if(a.value=s,null!=t&&null!==(n=t.data)&&void 0!==n&&n.is_admin){var o;lS(`Đã chỉ định ${null==e||null===(o=e.user)||void 0===o?void 0:o.full_name} làm quản trị viên.`,"success");const t=u.value.find((e=>e.user_id===i));if(bC.isEmpty(t)){const e={...a.value.find((e=>e.user_id===i)),is_admin:!0};u.value=[...u.value,e]}}else{var r;lS(`Đã gỡ quyền quản trị viên của ${null==e||null===(r=e.user)||void 0===r?void 0:r.full_name}.`,"success"),u.value=u.value.filter((e=>e.user_id!==i))}}}))},y=async e=>{var t;const i=await cx.create({mode:"ios",header:`Bạn có chắc muốn xoá ${null==e||null===(t=e.user)||void 0===t?void 0:t.full_name} ra khỏi nhóm?`,buttons:[{text:"Xác nhận",handler:()=>(async e=>{var t;o.sendMessageSocket("removeMemberFromGroup",{conversation_id:null===(t=n.value)||void 0===t?void 0:t._id,user_id:null==e?void 0:e.user_id},(()=>{a.value=a.value.filter((t=>(null==t?void 0:t.user_id)!==(null==e?void 0:e.user_id))),u.value=u.value.filter((e=>(null==e?void 0:e.user_id)!=(null==e?void 0:e.user_id)))}))})(e),cssClass:"fcb"},{text:"Bỏ qua",role:"cancel",cssClass:"fcn"}]});await i.present()},k=async()=>{const e=await ax.create({mode:"ios",component:aZ,componentProps:{room:n.value},initialBreakpoint:.95,breakpoints:[0,.95]});await e.present();const{data:t,role:i}=await e.onWillDismiss();if("addsuccess"===i){const e=null==t?void 0:t.map((e=>{var t;return{conversation_id:null===(t=n.value)||void 0===t?void 0:t._id,id:Date.now(),is_admin:!1,notification:!0,user_id:null==e?void 0:e._id,user:{...e}}}));a.value=[...a.value,...e]}};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>{var e,o,r;return[Yr(Di(ex),{slot:"start",onClick:i,icon:Di(CT),class:"size-6 pl-2 pr-1 z-50"},null,8,["icon"]),Yr(Di(xw),null,{default:pn((()=>t[0]||(t[0]=[Xr("Thành viên")]))),_:1}),null!==(e=Di(n))&&void 0!==e&&null!==(e=e.me)&&void 0!==e&&e.is_admin||(null===(o=Di(l))||void 0===o?void 0:o._id)==(null===(r=Di(n))||void 0===r?void 0:r.created_by)?($r(),Vr(Di(ex),{key:0,slot:"end",onClick:k,icon:Di(pT),class:"size-6 pl-2 pr-1 z-50"},null,8,["icon"])):Jr("",!0)]})),_:1})])),_:1}),Yr(Di(pw),{mode:"ios",class:"w-[90%] mb-2 bg-white mx-auto",value:"all"},{default:pn((()=>[Yr(Di(mw),{mode:"ios",value:"all","content-id":"all"},{default:pn((()=>t[1]||(t[1]=[Wr("div",{class:"font-semibold"},"Tất cả",-1)]))),_:1}),Yr(Di(mw),{mode:"ios",value:"admin","content-id":"admin"},{default:pn((()=>t[2]||(t[2]=[Wr("div",{class:"font-semibold"},"Quản trị viên",-1)]))),_:1})])),_:1}),Yr(Di(gw),null,{default:pn((()=>[Yr(Di(fw),{id:"all"},{default:pn((()=>[Yr(Di(Kk),{color:"white",class:"ion-padding"},{default:pn((()=>[Wr("div",null,[($r(!0),jr(Dr,null,vo(a.value,((e,t)=>{var i,n,o,r;return $r(),jr("section",{key:t},[Wr("div",{onClick:t=>b(e),class:We(["flex items-center gap-2 py-2.5",t<a.value.length-1&&"border-b-[0.15px] border-gray1"])},[Wr("div",DZ,[($r(),jr("img",{src:null!==(i=null==e||null===(n=e.user)||void 0===n?void 0:n.avatar)&&void 0!==i?i:"/upload-user.png",key:null==e||null===(o=e.user)||void 0===o?void 0:o.avatar,class:"w-full rounded-full",placeholder:"/upload-user.png",onError:g},null,40,RZ))]),Wr("div",LZ,[Wr("div",MZ,Ze(null===(r=e.user)||void 0===r?void 0:r.full_name),1)])],10,PZ)])})),128))]),s.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:m},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})])),_:1}),Yr(Di(fw),{id:"admin"},{default:pn((()=>[Yr(Di(Kk),{color:"white",class:"ion-padding"},{default:pn((()=>[Wr("div",null,[($r(!0),jr(Dr,null,vo(u.value,((e,t)=>{var i,n,o,r;return $r(),jr("section",{key:t},[Wr("div",{onClick:t=>b(e),class:We(["flex items-center gap-2 py-2.5",t<u.value.length-1&&"border-b-[0.15px] border-gray1"])},[Wr("div",NZ,[($r(),jr("img",{src:null!==(i=null==e||null===(n=e.user)||void 0===n?void 0:n.avatar)&&void 0!==i?i:"/upload-user.png",key:null==e||null===(o=e.user)||void 0===o?void 0:o.avatar,class:"w-full rounded-full",placeholder:"/upload-user.png",onError:g},null,40,$Z))]),Wr("div",FZ,[Wr("div",BZ,Ze(null===(r=e.user)||void 0===r?void 0:r.full_name),1)])],10,OZ)])})),128))]),d.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:f},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})])),_:1})])),_:1})])),_:1}))}}),jZ="/icEmpty.svg",VZ="community_create_success",UZ="community_user_join_success",HZ="community_user_join_waiting",qZ="community_user_join_reject",GZ="community_member_payment",WZ="community_member_removed",YZ="community_member_suspended",KZ="community_admin_post_new",QZ="community_comment_new",XZ="community_mention",JZ="community_post_like",ZZ="community_comment_like",e0="community_post_pinned",t0="community_topic_add",i0="community_course_student_access",n0="community_course_new_public",o0="upcoming_event",r0="level_up",s0="leaderboard_top_10",a0="community_owner_community_package_about_expire",l0="send_email_new_post",c0="send_email_latest_community_post",d0={[l0]:"Bài đăng admin cộng đồng",[c0]:"Thảo luận trong bài đăng mới nhất"},u0={[UZ]:"Thành viên tham gia cộng đồng thành công",[HZ]:"Chờ duyệt tham gia cộng đồng",[GZ]:"Có thành viên mới thanh toán cộng đồng",[KZ]:"Có thảo luận mới từ admin trong cộng đồng",[e0]:"Bài viết được ghim",[t0]:"Chủ đề mới được tạo trong cộng đồng",[i0]:"Học viên mới truy cập khóa học"},h0={[KZ]:"Có thảo luận mới từ admin trong cộng đồng",[QZ]:"Có bình luận mới trên bài viết của bạn",[XZ]:"Được nhắc tới trong cộng đồng",[e0]:"Bài viết được ghim",[t0]:"Chủ đề mới được tạo trong cộng đồng",[n0]:"Khóa học mới được công khai",[r0]:"Đã lên level mới",[s0]:"Đã vào top 10 bảng xếp hạng"},p0={class:""},m0=["onClick"],f0={class:"flex size-14 relative"},g0=["src"],b0={key:0,alt:"Avatar",src:"/upload-user.png",class:"size-8 rounded-lg absolute -bottom-2 right-0"},v0={class:"flex-1"},y0=["innerHTML"],k0=jn({__name:"NotificationScreen",setup(e){const t=lT(),i=oT(),n=EC(),{isLoggedIn:o}=mC(n),r=Ti([]),s=Rw(),a=Ti(1),l=Ti(!1),c=async()=>{s.push({name:"LoginScreen"},iT)},d=async(e=1,t=!1)=>{const i={limit:25,page:e},{data:n}=await SC.get("/notification/user",{params:i});var o,s,c,d;bC.isEmpty(n)?l.value=!1:(null!=n&&null!==(o=n.meta)&&void 0!==o&&o.hasNextPage?(a.value++,l.value=!0):l.value=!1,r.value=t?[...null!==(s=r.value)&&void 0!==s?s:[],...null!==(c=null==n?void 0:n.data)&&void 0!==c?c:[]]:null!==(d=null==n?void 0:n.data)&&void 0!==d?d:[])},u=e=>{d(a.value,!0),setTimeout((()=>e.target.complete()),500)};io((async()=>{d(1,!1),a.value=1,l.value=!1}));const h=async e=>{d(1,!1),a.value=1,l.value=!1,setTimeout((()=>{e.target.complete()}),1500)},p=(e,t)=>{e&&(t?s.push({name:"CommunityScreen",params:{id:e,tab:t}}):s.push({name:"CommunityScreen",params:{id:e}}))},m=async(e,n)=>{const o=n.community_short_name||n.community_id;switch(e){case o0:case HZ:return p(o,"member");case VZ:case UZ:case qZ:case GZ:case WZ:case YZ:return p(o,"about");case t0:case KZ:case e0:return p(o);case JZ:case QZ:case XZ:case ZZ:return n.community_post_id?(await i.getCommunityInfo(o),await t.getUserCommunityInfo(n.community_id),void s.push({name:"PostDetailScreen",params:{postId:n.community_post_id}})):p(o);case n0:case i0:return p(o,"course");case r0:case s0:return p(o,"rank");case a0:return p(o);default:return}},f=async()=>{const{status:e}=await SC.patch("/notification/read-all");200===e&&(r.value=r.value.map((e=>(e.read_at=aT().toISOString(),e))))},g=e=>{e.target.src="/upload-user.png"};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Di(bC.isEmpty)(r.value)?($r(),jr(Dr,{key:1},[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white1 px-3"},{default:pn((()=>[t[2]||(t[2]=Wr("div",{class:"text-lg font-medium",slot:"start"},"Thông báo",-1)),Di(o)?Jr("",!0):($r(),jr("div",{key:0,onClick:c,slot:"end",class:"text-lg text-gray2 font-medium"}," Đăng nhập "))])),_:1})])),_:1}),Yr(Di(Kk),{color:"white1"},{default:pn((()=>t[3]||(t[3]=[Wr("div",{class:"flex flex-col h-full items-center justify-center"},[Wr("img",{src:jZ,class:"size-36 object-contain2"}),Wr("div",{class:"text-gray2 text-base"},"Chưa có thông báo")],-1)]))),_:1})],64)):($r(),jr(Dr,{key:0},[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white px-4"},{default:pn((()=>[t[1]||(t[1]=Wr("div",{class:"text-lg font-medium",slot:"start"},"Thông báo",-1)),Wr("div",{onClick:f,slot:"end",class:"flex items-center text-sm gap-2 text-blue1"},[Yr(Di(ex),{icon:Di(ET),class:"size-4"},null,8,["icon"]),t[0]||(t[0]=Xr(" Đánh dấu đọc tất cả "))])])),_:1})])),_:1}),Yr(Di(Kk),{color:"white",class:"ion-padding-bottom"},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:h},{default:pn((()=>[Yr(Di(dw))])),_:1}),Wr("div",p0,[($r(!0),jr(Dr,null,vo(r.value,(e=>{var t,i,n,o,s,a;return $r(),jr("div",{key:e._id},[Wr("div",{onClick:t=>(async e=>{if(console.log(e),!bC.isEmpty(e)){const t=e.notification;if(bC.isEmpty(e.read_at)){const{status:t}=await SC.get(`/notification/read/${e._id}`);if(200===t){const t=r.value.findIndex((t=>t._id===e._id));r.value[t].read_at=aT().toISOString()}}if(t)return m(t.type,t.metadata)}})(e),class:We(["flex py-2 items-center gap-2.5 ion-padding-horizontal",{"bg-blue1-tint3":Di(bC.isEmpty)(e.read_at)}])},[Wr("div",f0,[($r(),jr("img",{src:(null===(t=e.notification)||void 0===t?void 0:t.creator.avatar)||"/upload-user.png",key:(null===(i=e.notification)||void 0===i?void 0:i.creator.avatar)||"/upload-user.png",onError:g,class:"w-full rounded-full"},null,40,g0)),"community"==(null===(n=e.notification)||void 0===n?void 0:n.creator.type)&&null!==(o=e.notification)&&void 0!==o&&null!==(o=o.metadata)&&void 0!==o&&o.community_avatar?($r(),jr("img",b0)):Jr("",!0)]),Wr("div",v0,[Wr("div",{class:"text-wrap line-clamp-3 text-sm",innerHTML:null===(s=e.notification)||void 0===s?void 0:s.content},null,8,y0),Wr("div",{class:We(["capitalize-first-letter text-sm mt-0.5",{"text-blue-500":Di(bC.isEmpty)(e.read_at)}])},Ze(Di(aT)(null===(a=e.notification)||void 0===a?void 0:a.created_at).fromNow()),3)])],10,m0)])})),128))]),l.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:u,threshold:"0.9"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})],64))])),_:1}))}}),w0=fS(k0,[["__scopeId","data-v-4682fdd3"]]);const x0=fS({},[["render",function(e,t){return $r(),jr("div")}]]),_0={class:"ion-padding mt-1"},E0={class:"flex items-center p-2 bg-white4 rounded-full"},C0=jn({__name:"ModalFriendAction",setup(e){const t=async()=>{await ax.dismiss(null,"remove")};return(e,i)=>($r(),jr("div",_0,[Wr("section",{onClick:t,class:"flex items-center gap-3.5"},[Wr("div",E0,[Yr(Di(ex),{src:"/icons/icRemoveFriend.svg",class:"size-5"})]),i[0]||(i[0]=Wr("div",{class:"text-base font-medium"},"Hủy kết bạn",-1))])]))}});
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var A0,T0="undefined"!=typeof window?window:void 0,S0="undefined"!=typeof document?document:void 0,I0=function(e,t,i){var n=t.startsWith("animation")?function(e){if(void 0===A0){var t=void 0!==e.style.animationName,i=void 0!==e.style.webkitAnimationName;A0=!t&&i?"-webkit-":""}return A0}(e):"";e.style.setProperty(n+t,i)},P0=function(e,t){if(void 0===e&&(e=[]),void 0!==t){var i=Array.isArray(t)?t:[t];return OC(OC([],e,!0),i,!0)}return e},D0=function(e){var t,i,n,o,r,s,a,l,c,d,u,h=[],p=[],m=[],f=!1,g={},b=[],v=[],y={},k=0,w=!1,x=!1,_=!0,E=!1,C=!0,A=!1,T=e,S=[],I=[],P=[],D=[],R=[],L=[],M=[],O=[],N=[],$=[],F=[],B="function"==typeof AnimationEffect||void 0!==T0&&"function"==typeof T0.AnimationEffect,z="function"==typeof Element&&"function"==typeof Element.prototype.animate&&B,j=function(){return F},V=function(e){G(),e&&W()},U=function(e,t){var i=t.findIndex((function(t){return t.c===e}));i>-1&&t.splice(i,1)},H=function(e,t){return((null==t?void 0:t.oneTimeCallback)?I:S).push({c:e,o:t}),u},q=function(){return S.length=0,I.length=0,u},G=function(){z&&(F.forEach((function(e){e.cancel()})),F.length=0)},W=function(){L.forEach((function(e){(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),L.length=0},Y=function(){return void 0!==r?r:a?a.getFill():"both"},K=function(){return void 0!==l?l:void 0!==s?s:a?a.getDirection():"normal"},Q=function(){return w?"linear":void 0!==n?n:a?a.getEasing():"linear"},X=function(){return x?0:void 0!==c?c:void 0!==i?i:a?a.getDuration():0},J=function(){return void 0!==o?o:a?a.getIterations():1},Z=function(){return void 0!==d?d:void 0!==t?t:a?a.getDelay():0},ee=function(e){z&&j().forEach((function(t){var i=t.effect;if(i.setKeyframes)i.setKeyframes(e);else{var n=new KeyframeEffect(i.target,e,i.getTiming());t.effect=n}}))},te=function(){0!==k&&0===--k&&(!function(){N.forEach((function(e){return e()})),$.forEach((function(e){return e()}));var e=_?1:0,t=b,i=v,n=y;D.forEach((function(e){var o=e.classList;for(var r in t.forEach((function(e){return o.add(e)})),i.forEach((function(e){return o.remove(e)})),n)n.hasOwnProperty(r)&&I0(e,r,n[r])})),c=void 0,l=void 0,d=void 0,S.forEach((function(t){return t.c(e,u)})),I.forEach((function(t){return t.c(e,u)})),I.length=0,C=!0,_&&(E=!0),_=!0}(),a&&a.animationFinish())},ie=function(){!function(){M.forEach((function(e){return e()})),O.forEach((function(e){return e()}));var e=p,t=m,i=g;D.forEach((function(n){var o=n.classList;for(var r in e.forEach((function(e){return o.add(e)})),t.forEach((function(e){return o.remove(e)})),i)i.hasOwnProperty(r)&&I0(n,r,i[r])}))}(),h.length>0&&z&&(D.forEach((function(e){var t=e.animate(h,{id:T,delay:Z(),duration:X(),easing:Q(),iterations:J(),fill:Y(),direction:K()});t.pause(),F.push(t)})),F.length>0&&(F[0].onfinish=function(){te()})),f=!0},ne=function(e){e=Math.min(Math.max(e,0),.9999),z&&F.forEach((function(t){t.currentTime=t.effect.getComputedTiming().delay+X()*e,t.pause()}))},oe=function(e){F.forEach((function(e){e.effect.updateTiming({delay:Z(),duration:X(),easing:Q(),iterations:J(),fill:Y(),direction:K()})})),void 0!==e&&ne(e)},re=function(e,t,i){return void 0===e&&(e=!1),void 0===t&&(t=!0),e&&R.forEach((function(n){n.update(e,t,i)})),z&&oe(i),u},se=function(){f&&(z?F.forEach((function(e){e.pause()})):D.forEach((function(e){I0(e,"animation-play-state","paused")})),A=!0)},ae=function(e){return new Promise((function(t){(null==e?void 0:e.sync)&&(x=!0,H((function(){return x=!1}),{oneTimeCallback:!0})),f||ie(),E&&(z&&(ne(0),oe()),E=!1),C&&(k=R.length+1,C=!1);var i=function(){U(n,I),t()},n=function(){U(i,P),t()};H(n,{oneTimeCallback:!0}),function(e,t){P.push({c:e,o:t})}(i,{oneTimeCallback:!0}),R.forEach((function(e){e.play()})),z?(F.forEach((function(e){e.play()})),0!==h.length&&0!==D.length||te()):te(),A=!1}))},le=function(e,t){var i,n=h[0];return void 0===n||void 0!==n.offset&&0!==n.offset?h=OC([(i={offset:0},i[e]=t,i)],h,!0):n[e]=t,u};return u={parentAnimation:a,elements:D,childAnimations:R,id:T,animationFinish:te,from:le,to:function(e,t){var i,n=h[h.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?h=OC(OC([],h,!0),[(i={offset:1},i[e]=t,i)],!1):n[e]=t,u},fromTo:function(e,t,i){return le(e,t).to(e,i)},parent:function(e){return a=e,u},play:ae,pause:function(){return R.forEach((function(e){e.pause()})),se(),u},stop:function(){R.forEach((function(e){e.stop()})),f&&(G(),f=!1),w=!1,x=!1,C=!0,l=void 0,c=void 0,d=void 0,k=0,E=!1,_=!0,A=!1,P.forEach((function(e){return e.c(0,u)})),P.length=0},destroy:function(e){return R.forEach((function(t){t.destroy(e)})),V(e),D.length=0,R.length=0,h.length=0,q(),f=!1,C=!0,u},keyframes:function(e){var t=h!==e;return h=e,t&&ee(h),u},addAnimation:function(e){if(null!=e)if(Array.isArray(e))for(var t=0,i=e;t<i.length;t++){var n=i[t];n.parent(u),R.push(n)}else e.parent(u),R.push(e);return u},addElement:function(e){if(null!=e)if(1===e.nodeType)D.push(e);else if(e.length>=0)for(var t=0;t<e.length;t++)D.push(e[t]);else console.error("Invalid addElement value");return u},update:re,fill:function(e){return r=e,re(!0),u},direction:function(e){return s=e,re(!0),u},iterations:function(e){return o=e,re(!0),u},duration:function(e){return z||0!==e||(e=1),i=e,re(!0),u},easing:function(e){return n=e,re(!0),u},delay:function(e){return t=e,re(!0),u},getWebAnimations:j,getKeyframes:function(){return h},getFill:Y,getDirection:K,getDelay:Z,getIterations:J,getEasing:Q,getDuration:X,afterAddRead:function(e){return N.push(e),u},afterAddWrite:function(e){return $.push(e),u},afterClearStyles:function(e){void 0===e&&(e=[]);for(var t=0,i=e;t<i.length;t++){var n=i[t];y[n]=""}return u},afterStyles:function(e){return void 0===e&&(e={}),y=e,u},afterRemoveClass:function(e){return v=P0(v,e),u},afterAddClass:function(e){return b=P0(b,e),u},beforeAddRead:function(e){return M.push(e),u},beforeAddWrite:function(e){return O.push(e),u},beforeClearStyles:function(e){void 0===e&&(e=[]);for(var t=0,i=e;t<i.length;t++){var n=i[t];g[n]=""}return u},beforeStyles:function(e){return void 0===e&&(e={}),g=e,u},beforeRemoveClass:function(e){return m=P0(m,e),u},beforeAddClass:function(e){return p=P0(p,e),u},onFinish:H,isRunning:function(){return 0!==k&&!A},progressStart:function(e,t){return void 0===e&&(e=!1),R.forEach((function(i){i.progressStart(e,t)})),se(),w=e,f||ie(),re(!1,!0,t),u},progressStep:function(e){return R.forEach((function(t){t.progressStep(e)})),ne(e),u},progressEnd:function(e,t,i){return w=!1,R.forEach((function(n){n.progressEnd(e,t,i)})),void 0!==i&&(c=i),E=!1,_=!0,0===e?("reverse"===(l="reverse"===K()?"normal":"reverse")&&(_=!1),z?(re(),ne(1-t)):(d=(1-t)*X()*-1,re(!1,!1))):1===e&&(z?(re(),ne(t)):(d=t*X()*-1,re(!1,!1))),void 0===e||a||ae(),u}}},R0=Object.defineProperty,L0=new WeakMap,M0=("undefined"!=typeof window?window:{}).document||{head:{}};!function(){var e=!1;try{M0.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(e){}}(),function(){try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(f1){}}();!function(e,t){for(var i in t)R0(e,i,{get:t[i],enumerable:!0})}({},{err:function(){return N0},map:function(){return $0},ok:function(){return O0},unwrap:function(){return H0},unwrapErr:function(){return q0}});var O0=function(e){return{isOk:!0,isErr:!1,value:e}},N0=function(e){return{isOk:!1,isErr:!0,value:e}};function $0(e,t){if(e.isOk){var i=t(e.value);return i instanceof Promise?i.then((function(e){return O0(e)})):O0(i)}if(e.isErr){var n=e.value;return N0(n)}throw"should never get here"}var F0,B0,z0,j0,V0,U0,H0=function(e){if(e.isOk)return e.value;throw e.value},q0=function(e){if(e.isErr)return e.value;throw e.value},G0=function(e){return function(e){return L0.get(e)}(e).V},W0=function(){function e(){this.m=new Map}return e.prototype.reset=function(e){this.m=new Map(Object.entries(e))},e.prototype.get=function(e,t){var i=this.m.get(e);return void 0!==i?i:t},e.prototype.getBoolean=function(e,t){void 0===t&&(t=!1);var i=this.m.get(e);return void 0===i?t:"string"==typeof i?"true"===i:!!i},e.prototype.getNumber=function(e,t){var i=parseFloat(this.m.get(e));return isNaN(i)?void 0!==t?t:NaN:i},e.prototype.set=function(e,t){this.m.set(e,t)},e}(),Y0=new W0,K0=function(e,t){return"string"==typeof e&&(t=e,e=void 0),function(e){return Q0(e)}(e).includes(t)},Q0=function(e){if(void 0===e&&(e=window),void 0===e)return[];e.Ionic=e.Ionic||{};var t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=X0(e)).forEach((function(t){return e.document.documentElement.classList.add("plt-".concat(t))})),t},X0=function(e){var t=Y0.get("platform");return Object.keys(s1).filter((function(i){var n=null==t?void 0:t[i];return"function"==typeof n?n(e):s1[i](e)}))},J0=function(e){return!!o1(e,/iPad/i)||!(!o1(e,/Macintosh/i)||!e1(e))},Z0=function(e){return o1(e,/android|sink/i)},e1=function(e){return r1(e,"(any-pointer:coarse)")},t1=function(e){return i1(e)||n1(e)},i1=function(e){return!!(e.cordova||e.phonegap||e.PhoneGap)},n1=function(e){var t=e.Capacitor;return!!(null==t?void 0:t.isNative)},o1=function(e,t){return t.test(e.navigator.userAgent)},r1=function(e,t){var i;return null===(i=e.matchMedia)||void 0===i?void 0:i.call(e,t).matches},s1={ipad:J0,iphone:function(e){return o1(e,/iPhone/i)},ios:function(e){return o1(e,/iPhone|iPod/i)||J0(e)},android:Z0,phablet:function(e){var t=e.innerWidth,i=e.innerHeight,n=Math.min(t,i),o=Math.max(t,i);return n>390&&n<520&&o>620&&o<800},tablet:function(e){var t=e.innerWidth,i=e.innerHeight,n=Math.min(t,i),o=Math.max(t,i);return J0(e)||function(e){return Z0(e)&&!o1(e,/mobile/i)}(e)||n>460&&n<820&&o>780&&o<1400},cordova:i1,capacitor:n1,electron:function(e){return o1(e,/electron/i)},pwa:function(e){var t;return!(!(null===(t=e.matchMedia)||void 0===t?void 0:t.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:e1,mobileweb:function(e){return e1(e)&&!t1(e)},desktop:function(e){return!e1(e)},hybrid:t1},a1=function(e){return e&&G0(e)||undefined},l1=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return console.warn.apply(console,OC(["[Ionic Warning]: ".concat(e)],t,!1))},c1=function(e,t){e.componentOnReady?e.componentOnReady().then((function(e){return t(e)})):d1((function(){return t(e)}))},d1=function(e){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)},u1=function(e){return D0().duration(e?400:300)},h1=function(e){var t,i,n=e.width+8,o=D0(),r=D0();e.isEndSide?(t=n+"px",i="0px"):(t=-n+"px",i="0px"),o.addElement(e.menuInnerEl).fromTo("transform","translateX(".concat(t,")"),"translateX(".concat(i,")"));var s="ios"===a1(e),a=s?.2:.25;return r.addElement(e.backdropEl).fromTo("opacity",.01,a),u1(s).addAnimation([o,r])},p1=function(e){var t,i,n=a1(e),o=e.width;e.isEndSide?(t=-o+"px",i=o+"px"):(t=o+"px",i=-o+"px");var r=D0().addElement(e.menuInnerEl).fromTo("transform","translateX(".concat(i,")"),"translateX(0px)"),s=D0().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(t,")")),a=D0().addElement(e.backdropEl).fromTo("opacity",.01,.32);return u1("ios"===n).addAnimation([r,s,a])},m1=function(e){var t=a1(e),i=e.width*(e.isEndSide?-1:1)+"px",n=D0().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(i,")"));return u1("ios"===t).addAnimation(n)};F0=new Map,B0=[],z0=function(e,t){F0.set(e,t)},j0=function(){return V0((function(e){return e._isOpen}))},V0=function(e){var t=B0.find(e);if(void 0!==t)return t.el},U0=function(){return Promise.all(Array.from(document.querySelectorAll("ion-menu")).map((function(e){return new Promise((function(t){return c1(e,t)}))})))},z0("reveal",m1),z0("push",p1),z0("overlay",h1),null==S0||S0.addEventListener("ionBackButton",(function(e){var t=j0();t&&e.detail.register(99,(function(){return t.close()}))}));var f1,g1=(f1="ion-modal",{create:function(e){return b1(f1,e)},dismiss:function(e,t,i){return v1(document,e,t,f1,i)},getTop:function(){return DC(this,void 0,void 0,(function(){return RC(this,(function(e){return[2,k1(document,f1)]}))}))}}),b1=function(e,t){return"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(e).then((function(){var i=document.createElement(e);return i.classList.add("overlay-hidden"),Object.assign(i,Object.assign(Object.assign({},t),{hasController:!0})),w1(document).appendChild(i),new Promise((function(e){return c1(i,e)}))})):Promise.resolve()},v1=function(e,t,i,n,o){var r=k1(e,n,o);return r?r.dismiss(t,i):Promise.reject("overlay does not exist")},y1=function(e,t){return function(e,t){return void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter((function(e){return e.overlayIndex>0}))}(e,t).filter((function(e){return!function(e){return e.classList.contains("overlay-hidden")}(e)}))},k1=function(e,t,i){var n=y1(e,t);return void 0===i?n[n.length-1]:n.find((function(e){return e.id===i}))},w1=function(e){return e.querySelector("ion-app")||e.body};const x1={key:0,class:"space-y-5 p-4 rounded-lg border bg-white"},_1=["onClick"],E1=["src"],C1={class:"flex-col gap-2"},A1={class:"flex gap-2 w-64"},T1={class:"text-zinc-950 text-lg font-semibold cursor-pointer truncate"},S1={class:"flex items-center gap-2"},I1={class:"text-neutral-500 text-sm font-light"},P1={class:"text-neutral-500 text-sm font-light"},D1={class:"text-neutral-500 text-sm font-light"},R1={key:0},L1={key:1},M1=jn({__name:"ModalCommunityDropdown",setup(e){const t=By(),i=Ti(1),n=Ti([]),o=Ti(!1),r=async(e=1,r=!1)=>{const s={page:e,limit:20};try{const{data:e}=await SC.get(`/user-community/profile/${t.params.userId}`,{params:s});var a,l,c;if(bC.isEmpty(e))o.value=!1;else if(null!=e&&null!==(a=e.meta)&&void 0!==a&&a.hasNextPage?(i.value++,o.value=!0):o.value=!1,r)n.value=[...n.value,...null!==(l=null==e?void 0:e.data)&&void 0!==l?l:[]];else n.value=null!==(c=null==e?void 0:e.data)&&void 0!==c?c:[]}catch(d){console.error("❌ Error fetching data:",d)}};io((()=>{a()}));const s=async e=>{await r(i.value,!0),setTimeout((()=>e.target.complete()),500)},a=()=>{r(1,!1),i.value=1,o.value=!1};return(e,t)=>($r(),Vr(Di(Kk),null,{default:pn((()=>[n.value?($r(),jr("div",x1,[($r(!0),jr(Dr,null,vo(n.value,(e=>{var t,i,n,o,r,s,a,l;return $r(),jr("div",{key:e._id,class:"flex-col w-full"},[Wr("use",{onClick:t=>(async e=>{g1.dismiss(e,"confirm")})(e),class:"flex items-center gap-3 w-full"},[Wr("img",{src:null!==(t=null===(i=e.community)||void 0===i?void 0:i.icon)&&void 0!==t?t:"/favicon.ico",class:"w-12 h-12 rounded-lg shadow",fit:"cover",placeholder:"favicon.ico"},null,8,E1),Wr("div",C1,[Wr("div",A1,[Wr("span",T1,Ze(null===(n=e.community)||void 0===n?void 0:n.name),1)]),Wr("div",S1,[Wr("div",I1,Ze(0===(null===(o=e.community)||void 0===o?void 0:o.status)?"Riêng tư":"Công khai"),1),Yr(Di(ex),{class:"w-1 h-1 text-gray-500 bg-black rounded-full"}),Wr("div",P1,Ze(null!==(r=null===(s=e.community)||void 0===s?void 0:s.total_member)&&void 0!==r?r:0)+" thành viên ",1),Yr(Di(ex),{class:"w-1 h-1 text-gray-500 bg-black rounded-full"}),Wr("div",D1,[null==(null===(a=e.community)||void 0===a||null===(a=a.communityFee)||void 0===a?void 0:a.price)?($r(),jr("div",R1," Miễn phí ")):($r(),jr("div",L1," Giá "+Ze(null===(l=e.community)||void 0===l||null===(l=l.communityFee)||void 0===l||null===(l=l.price)||void 0===l?void 0:l.toLocaleString("vi-VN"))+"đ ",1))])])])],8,_1)])})),128))])):Jr("",!0),o.value?($r(),Vr(Di(Zk),{key:1,onIonInfinite:s,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1}))}}),O1={class:"ion-padding"},N1={class:"flex justify-between items-center pb-4"},$1={class:"grid grid-cols-2 flex-1 gap-2 justify-between pt-3"},F1=jn({__name:"ModalLevelNote",setup(e){const t=async()=>ax.dismiss(null,"cancel"),i=[[0,0],[1,1],[2,5],[3,20],[4,65],[5,155],[6,515],[7,"2.015"],[8,"8.015"],[9,"33.015"]];return(e,n)=>($r(),jr("section",O1,[Wr("div",N1,[n[0]||(n[0]=Wr("span",{class:"font-medium text-lg"},"Điểm trong cộng đồng",-1)),Yr(Di(ex),{onClick:t,icon:Di(LT),class:"size-7 text-gray2"},null,8,["icon"])]),Wr("div",null,[n[1]||(n[1]=Wr("div",{class:"font-medium text-lg"},"Điểm",-1)),n[2]||(n[2]=Wr("div",{class:"text-base font-light"}," Bạn được điểm khi thành viên khác thích bài viết của bạn (1 Like = 1 điểm) và khi bạn giới thiệu một thành viên mới vào cộng đồng (1 Ref = 2 điểm) ",-1)),n[3]||(n[3]=Wr("p",{class:"text-lg font-medium pt-3"},"Level",-1)),n[4]||(n[4]=Wr("div",{class:"text-base font-light"}," Khi bạn đạt được điểm, bạn sẽ lên cấp. Cấp độ của bạn được hiển thị ở dưới cùng bên phải hình đại diện của bạn. Số điểm cần thiết để lên cấp độ tiếp theo được hiển thị dưới hình đại diện trên trang hồ sơ của bạn. ",-1)),Wr("div",$1,[($r(),jr(Dr,null,vo(i,((e,t)=>Wr("div",{key:t,class:"text-base font-light"},Ze(`Level ${e[0]} - ${e[1]} điểm`),1))),64))])])]))}}),B1={class:"ion-padding"},z1={class:"mb-6"},j1={class:"uppercase font-medium"},V1={slot:"label"},U1={class:"flex justify-end gap-2"},H1=jn({__name:"ModalReportPost",props:{type:{},post:{}},setup(e){const t=e,i=Ti(""),n=ks((()=>bC.isEmpty(i.value))),o=async()=>{var e,n;const o={reason:i.value,post_id:null===(e=t.post)||void 0===e?void 0:e._id,community_id:null===(n=t.post)||void 0===n?void 0:n.community_id},{status:r}=await SC.post("/community-post-report",o);201===r&&(lS("Báo cáo thành công","success"),await ax.dismiss(null,"success"))},r=async()=>await ax.dismiss(null,"cancel");return(e,t)=>{var s;return $r(),jr("section",B1,[Wr("div",z1,[t[1]||(t[1]=Xr(" Báo cáo bài viết: ")),Wr("span",j1,Ze(Di(hD)(null===(s=e.post)||void 0===s?void 0:s.title)),1)]),Wr("form",{class:"w-full",onSubmit:Ta(o,["prevent"])},[Yr(Di(ww),{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),mode:"md",required:"","label-placement":"stacked",fill:"outline",placeholder:"Lý do báo cáo",class:"outline-none text-sm font-light mb-6 h-28",counter:!0,maxlength:255},{default:pn((()=>[Wr("div",V1,[t[3]||(t[3]=Xr("Lý do báo cáo")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[2]||(t[2]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Wr("div",U1,[Wr("div",{onClick:r,class:"bg-white border-[1px] border-gray2 rounded-lg text-black font-medium py-1.5 px-6 flex items-center"}," Huỷ "),Wr("div",{onClick:o,class:We(["rounded-lg py-1.5 px-5 text-white font-medium flex items-center",n.value?"bg-gray1":"bg-blue1"])}," Báo cáo ",2)])],32)])}}});function q1(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G1(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W1(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Y1(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function K1(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y1(Object(i),!0).forEach((function(t){W1(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y1(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Q1={addCSS:!0,thumbWidth:15,watch:!0};var X1=function(e){return null!=e?e.constructor:null},J1=function(e,t){return!!(e&&t&&e instanceof t)},Z1=function(e){return null==e},e2=function(e){return X1(e)===Object},t2=function(e){return X1(e)===String},i2=function(e){return Array.isArray(e)},n2=function(e){return J1(e,NodeList)},o2=t2,r2=i2,s2=n2,a2=function(e){return J1(e,Element)},l2=function(e){return J1(e,Event)},c2=function(e){return Z1(e)||(t2(e)||i2(e)||n2(e))&&!e.length||e2(e)&&!Object.keys(e).length};function d2(e,t){if(1>t){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}var u2=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),a2(t)?this.element=t:o2(t)&&(this.element=document.querySelector(t)),a2(this.element)&&c2(this.element.rangeTouch)&&(this.config=K1({},Q1,{},i),this.init())}return function(e,t,i){G1(e.prototype,t),G1(e,i)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[i](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!l2(t))return null;var i,n=t.target,o=t.changedTouches[0],r=parseFloat(n.getAttribute("min"))||0,s=parseFloat(n.getAttribute("max"))||100,a=parseFloat(n.getAttribute("step"))||1,l=n.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(i=100/l.width*(o.clientX-l.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*c:50<i&&(i+=2*(i-50)*c),r+d2(i/100*(s-r),a)}},{key:"set",value:function(t){e.enabled&&l2(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;if(c2(t)||o2(t)?n=Array.from(document.querySelectorAll(o2(t)?t:'input[type="range"]')):a2(t)?n=[t]:s2(t)?n=Array.from(t):r2(t)&&(n=t.filter(a2)),c2(n))return null;var o=K1({},Q1,{},i);if(o2(t)&&o.watch){var r=new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){a2(i)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(i,t)&&new e(i,o)}))}))}));r.observe(document.body,{childList:!0,subtree:!0})}return n.map((function(t){return new e(t,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const h2=e=>null!=e?e.constructor:null,p2=(e,t)=>Boolean(e&&t&&e instanceof t),m2=e=>null==e,f2=e=>h2(e)===Object,g2=e=>h2(e)===String,b2=e=>"function"==typeof e,v2=e=>Array.isArray(e),y2=e=>p2(e,NodeList),k2=e=>m2(e)||(g2(e)||v2(e)||y2(e))&&!e.length||f2(e)&&!Object.keys(e).length;var w2=m2,x2=f2,_2=e=>h2(e)===Number&&!Number.isNaN(e),E2=g2,C2=e=>h2(e)===Boolean,A2=b2,T2=v2,S2=y2,I2=e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,P2=e=>p2(e,Event),D2=e=>p2(e,KeyboardEvent),R2=e=>p2(e,TextTrack)||!m2(e)&&g2(e.kind),L2=e=>p2(e,Promise)&&b2(e.then),M2=e=>{if(p2(e,window.URL))return!0;if(!g2(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!k2(new URL(t).hostname)}catch(e){return!1}},O2=k2;const N2=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find((t=>void 0!==e.style[t]));return!!E2(i)&&t[i]})();function $2(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var F2={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function B2(e,t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}function z2(e={},...t){if(!t.length)return e;const i=t.shift();return x2(i)?(Object.keys(i).forEach((t=>{x2(i[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),z2(e[t],i[t])):Object.assign(e,{[t]:i[t]})})),z2(e,...t)):e}function j2(e,t){const i=e.length?e:[e];Array.from(i).reverse().forEach(((e,i)=>{const n=i>0?t.cloneNode(!0):t,o=e.parentNode,r=e.nextSibling;n.appendChild(e),r?o.insertBefore(n,r):o.appendChild(n)}))}function V2(e,t){I2(e)&&!O2(t)&&Object.entries(t).filter((([,e])=>!w2(e))).forEach((([t,i])=>e.setAttribute(t,i)))}function U2(e,t,i){const n=document.createElement(e);return x2(t)&&V2(n,t),E2(i)&&(n.innerText=i),n}function H2(e,t,i,n){I2(t)&&t.appendChild(U2(e,i,n))}function q2(e){S2(e)||T2(e)?Array.from(e).forEach(q2):I2(e)&&I2(e.parentNode)&&e.parentNode.removeChild(e)}function G2(e){if(!I2(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function W2(e,t){return I2(t)&&I2(t.parentNode)&&I2(e)?(t.parentNode.replaceChild(e,t),e):null}function Y2(e,t){if(!E2(e)||O2(e))return{};const i={},n=z2({},t);return e.split(",").forEach((e=>{const t=e.trim(),o=t.replace(".",""),r=t.replace(/[[\]]/g,"").split("="),[s]=r,a=r.length>1?r[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":E2(n.class)?i.class=`${n.class} ${o}`:i.class=o;break;case"#":i.id=t.replace("#","");break;case"[":i[s]=a}})),z2(n,i)}function K2(e,t){if(!I2(e))return;let i=t;C2(i)||(i=!e.hidden),e.hidden=i}function Q2(e,t,i){if(S2(e))return Array.from(e).map((e=>Q2(e,t,i)));if(I2(e)){let n="toggle";return void 0!==i&&(n=i?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function X2(e,t){return I2(e)&&e.classList.contains(t)}function J2(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function Z2(e){return this.elements.container.querySelectorAll(e)}function e5(e){return this.elements.container.querySelector(e)}function t5(e=null,t=!1){I2(e)&&e.focus({preventScroll:!0,focusVisible:t})}const i5={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},n5={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const i=n5[e]||"html5"!==t;return{api:i,ui:i&&n5.rangeInput}},pip:!(F2.isIPhone||!A2(U2("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||U2("video").disablePictureInPicture)),airplay:A2(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(O2(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(i5).includes(i)&&(i+=`; codecs="${i5[e]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==N2,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},o5=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function r5(e,t,i,n=!1,o=!0,r=!1){if(!e||!("addEventListener"in e)||O2(t)||!A2(i))return;const s=t.split(" ");let a=r;o5&&(a={passive:o,capture:r}),s.forEach((t=>{this&&this.eventListeners&&n&&this.eventListeners.push({element:e,type:t,callback:i,options:a}),e[n?"addEventListener":"removeEventListener"](t,i,a)}))}function s5(e,t="",i,n=!0,o=!1){r5.call(this,e,t,i,!0,n,o)}function a5(e,t="",i,n=!0,o=!1){r5.call(this,e,t,i,!1,n,o)}function l5(e,t="",i,n=!0,o=!1){const r=(...s)=>{a5(e,t,r,n,o),i.apply(this,s)};r5.call(this,e,t,r,!0,n,o)}function c5(e,t="",i=!1,n={}){if(!I2(e)||O2(t))return;const o=new CustomEvent(t,{bubbles:i,detail:{...n,plyr:this}});e.dispatchEvent(o)}function d5(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:i,callback:n,options:o}=e;t.removeEventListener(i,n,o)})),this.eventListeners=[])}function u5(){return new Promise((e=>this.ready?setTimeout(e,0):s5.call(this,this.elements.container,"ready",e))).then((()=>{}))}function h5(e){L2(e)&&e.then(null,(()=>{}))}function p5(e){return T2(e)?e.filter(((t,i)=>e.indexOf(t)===i)):e}function m5(e,t){return T2(e)&&e.length?e.reduce(((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e)):null}function f5(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const g5=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,i])=>({...e,[t/i]:[t,i]})),{});function b5(e){return!!(T2(e)||E2(e)&&e.includes(":"))&&(T2(e)?e:e.split(":")).map(Number).every(_2)}function v5(e){if(!T2(e)||!e.every(_2))return null;const[t,i]=e,n=(e,t)=>0===t?e:n(t,e%t),o=n(t,i);return[t/o,i/o]}function y5(e){const t=e=>b5(e)?e.split(":").map(Number):null;let i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!O2(this.embed)&&T2(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;i=[e,t]}return v5(i)}function k5(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=y5.call(this,e);if(!T2(i))return{};const[n,o]=v5(i),r=100/n*o;if(f5(`aspect-ratio: ${n}/${o}`)?t.style.aspectRatio=`${n}/${o}`:t.style.paddingBottom=`${r}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(e-r)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:r,ratio:i}}function w5(e,t,i=.05){const n=e/t,o=m5(Object.keys(g5),n);return Math.abs(o-n)<=i?g5[o]:[e,t]}const x5={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!O2(t)||n5.mime.call(this,t)})):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:x5.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,O2(this.config.ratio)||k5.call(e),Object.defineProperty(e.media,"quality",{get(){const t=x5.getSources.call(e).find((t=>t.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&A2(e.config.quality.onChange))e.config.quality.onChange(t);else{const i=x5.getSources.call(e).find((e=>Number(e.getAttribute("size"))===t));if(!i)return;const{currentTime:n,paused:o,preload:r,readyState:s,playbackRate:a}=e.media;e.media.src=i.getAttribute("src"),("none"!==r||s)&&(e.once("loadedmetadata",(()=>{e.speed=a,e.currentTime=n,o||h5(e.play())})),e.media.load())}c5.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(q2(x5.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function _5(e){return`${e}-${Math.floor(1e4*Math.random())}`}function E5(e,...t){return O2(e)?e:e.toString().replace(/{(\d+)}/g,((e,i)=>t[i].toString()))}const C5=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),A5=(e="")=>e.toString().replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()));function T5(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=C5(t,"-"," "),t=C5(t,"_"," "),t=A5(t),C5(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}function S5(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const I5={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},P5={get(e="",t={}){if(O2(e)||O2(t))return"";let i=B2(t.i18n,e);if(O2(i))return Object.keys(I5).includes(e)?I5[e]:"";const n={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(n).forEach((([e,t])=>{i=C5(i,e,t)})),i}};let D5=class e{constructor(t){q1(this,"get",(t=>{if(!e.supported||!this.enabled)return null;const i=window.localStorage.getItem(this.key);if(O2(i))return null;const n=JSON.parse(i);return E2(t)&&t.length?n[t]:n})),q1(this,"set",(t=>{if(!e.supported||!this.enabled)return;if(!x2(t))return;let i=this.get();O2(i)&&(i={}),z2(i,t);try{window.localStorage.setItem(this.key,JSON.stringify(i))}catch(t){}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(f1){return!1}}};function R5(e,t="text"){return new Promise(((i,n)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",(()=>{if("text"===t)try{i(JSON.parse(n.responseText))}catch(e){i(n.responseText)}else i(n.response)})),n.addEventListener("error",(()=>{throw new Error(n.status)})),n.open("GET",e,!0),n.responseType=t,n.send()}catch(e){n(e)}}))}function L5(e,t){if(!E2(e))return;const i="cache",n=E2(t);let o=!1;const r=()=>null!==document.getElementById(t),s=(e,t)=>{e.innerHTML=t,n&&r()||document.body.insertAdjacentElement("afterbegin",e)};if(!n||!r()){const r=D5.supported,a=document.createElement("div");if(a.setAttribute("hidden",""),n&&a.setAttribute("id",t),r){const e=window.localStorage.getItem(`${i}-${t}`);if(o=null!==e,o){const t=JSON.parse(e);s(a,t.content)}}R5(e).then((e=>{if(!O2(e)){if(r)try{window.localStorage.setItem(`${i}-${t}`,JSON.stringify({content:e}))}catch(e){}s(a,e)}})).catch((()=>{}))}}const M5=e=>Math.trunc(e/60/60%60,10);function O5(e=0,t=!1,i=!1){if(!_2(e))return O5(void 0,t,i);const n=e=>`0${e}`.slice(-2);let o=M5(e);const r=(e=>Math.trunc(e/60%60,10))(e),s=(e=>Math.trunc(e%60,10))(e);return o=t||o>0?`${o}:`:"",`${i&&e>0?"-":""}${o}${n(r)}:${n(s)}`}const N5={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,i=e.host!==t||F2.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=e5.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Z2.call(this,this.config.selectors.buttons.play),pause:e5.call(this,this.config.selectors.buttons.pause),restart:e5.call(this,this.config.selectors.buttons.restart),rewind:e5.call(this,this.config.selectors.buttons.rewind),fastForward:e5.call(this,this.config.selectors.buttons.fastForward),mute:e5.call(this,this.config.selectors.buttons.mute),pip:e5.call(this,this.config.selectors.buttons.pip),airplay:e5.call(this,this.config.selectors.buttons.airplay),settings:e5.call(this,this.config.selectors.buttons.settings),captions:e5.call(this,this.config.selectors.buttons.captions),fullscreen:e5.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=e5.call(this,this.config.selectors.progress),this.elements.inputs={seek:e5.call(this,this.config.selectors.inputs.seek),volume:e5.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:e5.call(this,this.config.selectors.display.buffer),currentTime:e5.call(this,this.config.selectors.display.currentTime),duration:e5.call(this,this.config.selectors.display.duration)},I2(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(f1){return this.debug.warn("It looks like there is a problem with your custom controls HTML",f1),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i="http://www.w3.org/2000/svg",n=N5.getIconUrl.call(this),o=`${n.cors?"":n.url}#${this.config.iconPrefix}`,r=document.createElementNS(i,"svg");V2(r,z2(t,{"aria-hidden":"true",focusable:"false"}));const s=document.createElementNS(i,"use"),a=`${o}-${e}`;return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",a),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),r.appendChild(s),r},createLabel(e,t={}){const i=P5.get(e,this.config);return U2("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(O2(e))return null;const t=U2("span",{class:this.config.classNames.menu.value});return t.appendChild(U2("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=z2({},t);let n=T5(e);const o={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((e=>{Object.keys(i).includes(e)&&(o[e]=i[e],delete i[e])})),"button"!==o.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((e=>e===this.config.classNames.control))||z2(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":o.toggle=!0,o.label="play",o.labelPressed="pause",o.icon="play",o.iconPressed="pause";break;case"mute":o.toggle=!0,o.label="mute",o.labelPressed="unmute",o.icon="volume",o.iconPressed="muted";break;case"captions":o.toggle=!0,o.label="enableCaptions",o.labelPressed="disableCaptions",o.icon="captions-off",o.iconPressed="captions-on";break;case"fullscreen":o.toggle=!0,o.label="enterFullscreen",o.labelPressed="exitFullscreen",o.icon="enter-fullscreen",o.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,n="play",o.label="play",o.icon="play";break;default:O2(o.label)&&(o.label=n),O2(o.icon)&&(o.icon=e)}const r=U2(o.element);return o.toggle?(r.appendChild(N5.createIcon.call(this,o.iconPressed,{class:"icon--pressed"})),r.appendChild(N5.createIcon.call(this,o.icon,{class:"icon--not-pressed"})),r.appendChild(N5.createLabel.call(this,o.labelPressed,{class:"label--pressed"})),r.appendChild(N5.createLabel.call(this,o.label,{class:"label--not-pressed"}))):(r.appendChild(N5.createIcon.call(this,o.icon)),r.appendChild(N5.createLabel.call(this,o.label))),z2(i,Y2(this.config.selectors.buttons[n],i)),V2(r,i),"play"===n?(T2(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(r)):this.elements.buttons[n]=r,r},createRange(e,t){const i=U2("input",z2(Y2(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":P5.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,N5.updateRangeFill.call(this,i),u2.setup(i),i},createProgress(e,t){const i=U2("progress",z2(Y2(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild(U2("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],n=t?P5.get(t,this.config):"";i.innerText=`% ${n.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=Y2(this.config.selectors.display[e],t),n=U2("div",z2(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":P5.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=n,n},bindMenuItemShortcuts(e,t){s5.call(this,e,"keydown keyup",(i=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(i.key))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const n=J2(e,'[role="menuitemradio"]');if(!n&&[" ","ArrowRight"].includes(i.key))N5.showMenuPanel.call(this,t,!0);else{let t;" "!==i.key&&("ArrowDown"===i.key||n&&"ArrowRight"===i.key?(t=e.nextElementSibling,I2(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,I2(t)||(t=e.parentNode.lastElementChild)),t5.call(this,t,!0))}}),!1),s5.call(this,e,"keyup",(e=>{"Return"===e.key&&N5.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:i,title:n,badge:o=null,checked:r=!1}){const s=Y2(this.config.selectors.inputs[i]),a=U2("button",z2(s,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${s.class?s.class:""}`.trim(),"aria-checked":r,value:e})),l=U2("span");l.innerHTML=n,I2(o)&&l.appendChild(o),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>"true"===a.getAttribute("aria-checked"),set(e){e&&Array.from(a.parentNode.children).filter((e=>J2(e,'[role="menuitemradio"]'))).forEach((e=>e.setAttribute("aria-checked","false"))),a.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(a,"click keyup",(t=>{if(!D2(t)||" "===t.key){switch(t.preventDefault(),t.stopPropagation(),a.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}N5.showMenuPanel.call(this,"home",D2(t))}}),i,!1),N5.bindMenuItemShortcuts.call(this,a,i),t.appendChild(a)},formatTime(e=0,t=!1){return _2(e)?O5(e,M5(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,i=!1){I2(e)&&_2(t)&&(e.innerText=N5.formatTime(t,i))},updateVolume(){this.supported.ui&&(I2(this.elements.inputs.volume)&&N5.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),I2(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){I2(e)&&(e.value=t,N5.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!P2(e))return;let t=0;const i=(e,t)=>{const i=_2(t)?t:0,n=I2(e)?e:this.elements.display.buffer;if(I2(n)){n.value=i;const e=n.getElementsByTagName("span")[0];I2(e)&&(e.childNodes[0].nodeValue=i)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=function(e,t){return 0===e||0===t||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}(this.currentTime,this.duration),"timeupdate"===e.type&&N5.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=P2(e)?e.target:e;if(I2(t)&&"range"===t.getAttribute("type")){if(J2(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=N5.formatTime(this.currentTime),i=N5.formatTime(this.duration),n=P5.get("seekLabel",this.config);t.setAttribute("aria-valuetext",n.replace("{currentTime}",e).replace("{duration}",i))}else if(J2(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(F2.isWebKit||F2.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,i;if(!this.config.tooltips.seek||!I2(this.elements.inputs.seek)||!I2(this.elements.display.seekTooltip)||0===this.duration)return;const n=this.elements.display.seekTooltip,o=`${this.config.classNames.tooltip}--visible`,r=e=>Q2(n,o,e);if(this.touch)return void r(!1);let s=0;const a=this.elements.progress.getBoundingClientRect();if(P2(e))s=100/a.width*(e.pageX-a.left);else{if(!X2(n,o))return;s=parseFloat(n.style.left,10)}s<0?s=0:s>100&&(s=100);const l=this.duration/100*s;n.innerText=N5.formatTime(l);const c=null===(t=this.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(l)));c&&n.insertAdjacentHTML("afterbegin",`${c.label}<br>`),n.style.left=`${s}%`,P2(e)&&["mouseenter","mouseleave"].includes(e.type)&&r("mouseenter"===e.type)},timeUpdate(e){const t=!I2(this.elements.display.duration)&&this.config.invertTime;N5.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||N5.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return K2(this.elements.display.currentTime,!0),void K2(this.elements.progress,!0);I2(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=I2(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&N5.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&N5.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&N5.setMarkers.call(this),N5.updateSeekTooltip.call(this)},toggleMenuButton(e,t){K2(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const n=this.elements.settings.panels[e];let o=null,r=t;if("captions"===e)o=this.currentTrack;else{if(o=O2(i)?this[e]:i,O2(o)&&(o=this.config[e].default),!O2(this.options[e])&&!this.options[e].includes(o))return void this.debug.warn(`Unsupported value of '${o}' for ${e}`);if(!this.config[e].options.includes(o))return void this.debug.warn(`Disabled value of '${o}' for ${e}`)}if(I2(r)||(r=n&&n.querySelector('[role="menu"]')),!I2(r))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=N5.getLabel.call(this,e,o);const s=r&&r.querySelector(`[value="${o}"]`);I2(s)&&(s.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?P5.get("normal",this.config):`${t}&times;`;case"quality":if(_2(t)){const e=P5.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return A5(t);case"captions":return B5.getLabel.call(this);default:return null}},setQualityMenu(e){if(!I2(this.elements.settings.panels.quality))return;const t="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');T2(e)&&(this.options.quality=p5(e).filter((e=>this.config.quality.options.includes(e))));const n=!O2(this.options.quality)&&this.options.quality.length>1;if(N5.toggleMenuButton.call(this,t,n),G2(i),N5.checkMenu.call(this),!n)return;const o=e=>{const t=P5.get(`qualityBadge.${e}`,this.config);return t.length?N5.createBadge.call(this,t):null};this.options.quality.sort(((e,t)=>{const i=this.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1})).forEach((e=>{N5.createMenuItem.call(this,{value:e,list:i,type:t,title:N5.getLabel.call(this,"quality",e),badge:o(e)})})),N5.updateSetting.call(this,t,i)},setCaptionsMenu(){if(!I2(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=B5.getTracks.call(this),n=Boolean(i.length);if(N5.toggleMenuButton.call(this,e,n),G2(t),N5.checkMenu.call(this),!n)return;const o=i.map(((e,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:B5.getLabel.call(this,e),badge:e.language&&N5.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"})));o.unshift({value:-1,checked:!this.captions.toggled,title:P5.get("disabled",this.config),list:t,type:"language"}),o.forEach(N5.createMenuItem.bind(this)),N5.updateSetting.call(this,e,t)},setSpeedMenu(){if(!I2(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((e=>e>=this.minimumSpeed&&e<=this.maximumSpeed));const i=!O2(this.options.speed)&&this.options.speed.length>1;N5.toggleMenuButton.call(this,e,i),G2(t),N5.checkMenu.call(this),i&&(this.options.speed.forEach((i=>{N5.createMenuItem.call(this,{value:i,list:t,type:e,title:N5.getLabel.call(this,"speed",i)})})),N5.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!O2(e)&&Object.values(e).some((e=>!e.hidden));K2(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;I2(i)||(i=Object.values(this.elements.settings.panels).find((e=>!e.hidden)));const n=i.querySelector('[role^="menuitem"]');t5.call(this,n,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings;if(!I2(t)||!I2(i))return;const{hidden:n}=t;let o=n;if(C2(e))o=e;else if(D2(e)&&"Escape"===e.key)o=!1;else if(P2(e)){const n=A2(e.composedPath)?e.composedPath()[0]:e.target,r=t.contains(n);if(r||!r&&e.target!==i&&o)return}i.setAttribute("aria-expanded",o),K2(t,!o),Q2(this.elements.container,this.config.classNames.menu.open,o),o&&D2(e)?N5.focusFirstMenuItem.call(this,null,!0):o||n||t5.call(this,i,D2(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,n=t.scrollHeight;return q2(t),{width:i,height:n}},showMenuPanel(e="",t=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!I2(i))return;const n=i.parentNode,o=Array.from(n.children).find((e=>!e.hidden));if(n5.transitions&&!n5.reducedMotion){n.style.width=`${o.scrollWidth}px`,n.style.height=`${o.scrollHeight}px`;const e=N5.getMenuSize.call(this,i),t=e=>{e.target===n&&["width","height"].includes(e.propertyName)&&(n.style.width="",n.style.height="",a5.call(this,n,N2,t))};s5.call(this,n,N2,t),n.style.width=`${e.width}px`,n.style.height=`${e.height}px`}K2(o,!0),K2(i,!1),N5.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;I2(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:i,createProgress:n,createRange:o,createTime:r,setQualityMenu:s,setSpeedMenu:a,showMenuPanel:l}=N5;this.elements.controls=null,T2(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=U2("div",Y2(this.config.selectors.controls.wrapper));this.elements.controls=c;const d={class:"plyr__controls__item"};return p5(T2(this.config.controls)?this.config.controls:[]).forEach((s=>{if("restart"===s&&c.appendChild(i.call(this,"restart",d)),"rewind"===s&&c.appendChild(i.call(this,"rewind",d)),"play"===s&&c.appendChild(i.call(this,"play",d)),"fast-forward"===s&&c.appendChild(i.call(this,"fast-forward",d)),"progress"===s){const t=U2("div",{class:`${d.class} plyr__progress__container`}),i=U2("div",Y2(this.config.selectors.progress));if(i.appendChild(o.call(this,"seek",{id:`plyr-seek-${e.id}`})),i.appendChild(n.call(this,"buffer")),this.config.tooltips.seek){const e=U2("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=i,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===s&&c.appendChild(r.call(this,"currentTime",d)),"duration"===s&&c.appendChild(r.call(this,"duration",d)),"mute"===s||"volume"===s){let{volume:t}=this.elements;if(I2(t)&&c.contains(t)||(t=U2("div",z2({},d,{class:`${d.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===s&&t.appendChild(i.call(this,"mute")),"volume"===s&&!F2.isIos&&!F2.isIPadOS){const i={max:1,step:.05,value:this.config.volume};t.appendChild(o.call(this,"volume",z2(i,{id:`plyr-volume-${e.id}`})))}}if("captions"===s&&c.appendChild(i.call(this,"captions",d)),"settings"===s&&!O2(this.config.settings)){const n=U2("div",z2({},d,{class:`${d.class} plyr__menu`.trim(),hidden:""}));n.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const o=U2("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),r=U2("div"),s=U2("div",{id:`plyr-settings-${e.id}-home`}),a=U2("div",{role:"menu"});s.appendChild(a),r.appendChild(s),this.elements.settings.panels.home=s,this.config.settings.forEach((i=>{const n=U2("button",z2(Y2(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,n,i),s5.call(this,n,"click",(()=>{l.call(this,i,!1)}));const o=U2("span",null,P5.get(i,this.config)),s=U2("span",{class:this.config.classNames.menu.value});s.innerHTML=e[i],o.appendChild(s),n.appendChild(o),a.appendChild(n);const c=U2("div",{id:`plyr-settings-${e.id}-${i}`,hidden:""}),d=U2("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});d.appendChild(U2("span",{"aria-hidden":!0},P5.get(i,this.config))),d.appendChild(U2("span",{class:this.config.classNames.hidden},P5.get("menuBack",this.config))),s5.call(this,c,"keydown",(e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),l.call(this,"home",!0))}),!1),s5.call(this,d,"click",(()=>{l.call(this,"home",!1)})),c.appendChild(d),c.appendChild(U2("div",{role:"menu"})),r.appendChild(c),this.elements.settings.buttons[i]=n,this.elements.settings.panels[i]=c})),o.appendChild(r),n.appendChild(o),c.appendChild(n),this.elements.settings.popup=o,this.elements.settings.menu=n}if("pip"===s&&n5.pip&&c.appendChild(i.call(this,"pip",d)),"airplay"===s&&n5.airplay&&c.appendChild(i.call(this,"airplay",d)),"download"===s){const e=z2({},d,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!M2(t)&&this.isEmbed&&z2(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(i.call(this,"download",e))}"fullscreen"===s&&c.appendChild(i.call(this,"fullscreen",d))})),this.isHTML5&&s.call(this,x5.getQualityOptions.call(this)),a.call(this),c},inject(){if(this.config.loadSprite){const e=N5.getIconUrl.call(this);e.cors&&L5(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i,n=!0;if(A2(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),I2(this.config.controls)||E2(this.config.controls)?e=this.config.controls:(e=N5.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:B5.getLabel.call(this)}),n=!1),n&&E2(this.config.controls)&&(e=(e=>{let i=e;return Object.entries(t).forEach((([e,t])=>{i=C5(i,`{${e}}`,t)})),i})(e)),E2(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),I2(i)||(i=this.elements.container),i[I2(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),I2(this.elements.controls)||N5.findElements.call(this),!O2(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;e.setAttribute("aria-pressed","false"),Object.defineProperty(e,"pressed",{configurable:!0,enumerable:!0,get:()=>X2(e,t),set(i=!1){Q2(e,t,i),e.setAttribute("aria-pressed",i?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((t=>{T2(t)||S2(t)?Array.from(t).filter(Boolean).forEach(e):e(t)}))}if(F2.isEdge&&$2(i),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,i=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,n=Z2.call(this,i);Array.from(n).forEach((e=>{Q2(e,this.config.classNames.hidden,!1),Q2(e,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(f1){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const i=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter((({time:e})=>e>0&&e<this.duration));if(null==i||!i.length)return;const n=document.createDocumentFragment(),o=document.createDocumentFragment();let r=null;const s=`${this.config.classNames.tooltip}--visible`,a=e=>Q2(r,s,e);i.forEach((e=>{const t=U2("span",{class:this.config.classNames.marker},""),i=e.time/this.duration*100+"%";r&&(t.addEventListener("mouseenter",(()=>{e.label||(r.style.left=i,r.innerHTML=e.label,a(!0))})),t.addEventListener("mouseleave",(()=>{a(!1)}))),t.addEventListener("click",(()=>{this.currentTime=e.time})),t.style.left=i,o.appendChild(t)})),n.appendChild(o),this.config.tooltips.seek||(r=U2("span",{class:this.config.classNames.tooltip},""),n.appendChild(r)),this.elements.markers={points:o,tip:r},this.elements.progress.appendChild(n)}};function $5(e,t=!0){let i=e;if(t){const e=document.createElement("a");e.href=i,i=e.href}try{return new URL(i)}catch(e){return null}}function F5(e){const t=new URLSearchParams;return x2(e)&&Object.entries(e).forEach((([e,i])=>{t.set(e,i)})),t}const B5={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!n5.textTracks)return void(T2(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&N5.setCaptionsMenu.call(this));if(I2(this.elements.captions)||(this.elements.captions=U2("div",Y2(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),function(e,t){I2(e)&&I2(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),F2.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach((e=>{const t=e.getAttribute("src"),i=$5(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&R5(t,"blob").then((t=>{e.setAttribute("src",window.URL.createObjectURL(t))})).catch((()=>{q2(e)}))}))}const e=p5((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((e=>e.split("-")[0])));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===t&&([t]=e);let i=this.storage.get("captions");if(C2(i)||({active:i}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:i,language:t,languages:e}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";s5.call(this,this.media.textTracks,e,B5.update.bind(this))}setTimeout(B5.update.bind(this),0)},update(){const e=B5.getTracks.call(this,!0),{active:t,language:i,meta:n,currentTrackNode:o}=this.captions,r=Boolean(e.find((e=>e.language===i)));this.isHTML5&&this.isVideo&&e.filter((e=>!n.get(e))).forEach((e=>{this.debug.log("Track added",e),n.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),s5.call(this,e,"cuechange",(()=>B5.updateCues.call(this)))})),(r&&this.language!==i||!e.includes(o))&&(B5.setLanguage.call(this,i),B5.toggle.call(this,t&&r)),this.elements&&Q2(this.elements.container,this.config.classNames.captions.enabled,!O2(e)),T2(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&N5.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,n=this.config.classNames.captions.active,o=w2(e)?!i:e;if(o!==i){if(t||(this.captions.active=o,this.storage.set({captions:o})),!this.language&&o&&!t){const e=B5.getTracks.call(this),t=B5.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void B5.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=o),Q2(this.elements.container,n,o),this.captions.toggled=o,N5.updateSetting.call(this,"captions"),c5.call(this,this.media,o?"captionsenabled":"captionsdisabled")}setTimeout((()=>{o&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const i=B5.getTracks.call(this);if(-1!==e)if(_2(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const n=i[e],{language:o}=n||{};this.captions.currentTrackNode=n,N5.updateSetting.call(this,"captions"),t||(this.captions.language=o,this.storage.set({language:o})),this.isVimeo&&this.embed.enableTextTrack(o),c5.call(this,this.media,"languagechange")}B5.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&B5.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else B5.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!E2(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const n=B5.getTracks.call(this),o=B5.findTrack.call(this,[i]);B5.set.call(this,n.indexOf(o),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((e=>["captions","subtitles"].includes(e.kind)))},findTrack(e,t=!1){const i=B5.getTracks.call(this),n=e=>Number((this.captions.meta.get(e)||{}).default),o=Array.from(i).sort(((e,t)=>n(t)-n(e)));let r;return e.every((e=>(r=o.find((t=>t.language===e)),!r))),r||(t?o[0]:void 0)},getCurrentTrack(){return B5.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!R2(t)&&n5.textTracks&&this.captions.toggled&&(t=B5.getCurrentTrack.call(this)),R2(t)?O2(t.label)?O2(t.language)?P5.get("enabled",this.config):e.language.toUpperCase():t.label:P5.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!I2(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!w2(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=B5.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map((e=>e.getCueAsHTML())).map(S5)}const i=t.map((e=>e.trim())).join("\n");if(i!==this.elements.captions.innerHTML){G2(this.elements.captions);const e=U2("span",Y2(this.config.selectors.caption));e.innerHTML=i,this.elements.captions.appendChild(e),c5.call(this,this.media,"cuechange")}}},z5={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},j5="picture-in-picture",V5="inline",U5={html5:"html5",youtube:"youtube",vimeo:"vimeo"},H5="audio",q5="video";const G5=()=>{};class W5{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):G5}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):G5}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):G5}}class Y5{constructor(e){q1(this,"onChange",(()=>{if(!this.supported)return;const e=this.player.elements.buttons.fullscreen;I2(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;c5.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)})),q1(this,"toggleFallback",((e=!1)=>{var t,i;if(e?this.scrollPosition={x:null!==(t=window.scrollX)&&void 0!==t?t:0,y:null!==(i=window.scrollY)&&void 0!==i?i:0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",Q2(this.target,this.player.config.classNames.fullscreen.fallback,e),F2.isIos){let t=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const n=E2(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!n,n||(t.content+=`,${i}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter((e=>e.trim()!==i)).join(","))}this.onChange()})),q1(this,"trapFocus",(e=>{if(F2.isIos||F2.isIPadOS||!this.active||"Tab"!==e.key)return;const t=document.activeElement,i=Z2.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[n]=i,o=i[i.length-1];t!==o||e.shiftKey?t===n&&e.shiftKey&&(o.focus(),e.preventDefault()):(n.focus(),e.preventDefault())})),q1(this,"update",(()=>{if(this.supported){let e;e=this.forceFallback?"Fallback (forced)":Y5.nativeSupported?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");Q2(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),q1(this,"enter",(()=>{this.supported&&(F2.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Y5.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?O2(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),q1(this,"exit",(()=>{if(this.supported)if(F2.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),h5(this.player.play());else if(!Y5.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!O2(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),q1(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=e,this.prefix=Y5.prefix,this.property=Y5.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(e,t){const{prototype:i}=Element;return(i.closest||function(){let e=this;do{if(J2.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,e.config.fullscreen.container),s5.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),s5.call(this.player,this.player.elements.container,"dblclick",(e=>{I2(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")})),s5.call(this,this.player.elements.container,"keydown",(e=>this.trapFocus(e))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Y5.nativeSupported&&!this.forceFallback}static get prefix(){if(A2(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some((t=>!(!A2(document[`${t}ExitFullscreen`])&&!A2(document[`${t}CancelFullScreen`])||(e=t,0)))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Y5.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Y5.nativeSupported||!F2.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Y5.nativeSupported||this.forceFallback)return X2(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){var e;return F2.isIos&&this.player.config.fullscreen.iosNative?this.player.media:null!==(e=this.player.elements.fullscreen)&&void 0!==e?e:this.player.elements.container}}function K5(e,t=1){return new Promise(((i,n)=>{const o=new Image,r=()=>{delete o.onload,delete o.onerror,(o.naturalWidth>=t?i:n)(o)};Object.assign(o,{onload:r,onerror:r,src:e})}))}const Q5={addStyleHook(){Q2(this.elements.container,this.config.selectors.container.replace(".",""),!0),Q2(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Q5.toggleNativeControls.call(this,!0);I2(this.elements.controls)||(N5.inject.call(this),this.listeners.controls()),Q5.toggleNativeControls.call(this),this.isHTML5&&B5.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,N5.updateVolume.call(this),N5.timeUpdate.call(this),N5.durationUpdate.call(this),Q5.checkPlaying.call(this),Q2(this.elements.container,this.config.classNames.pip.supported,n5.pip&&this.isHTML5&&this.isVideo),Q2(this.elements.container,this.config.classNames.airplay.supported,n5.airplay&&this.isHTML5),Q2(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{c5.call(this,this.media,"ready")}),0),Q5.setTitle.call(this),this.poster&&Q5.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&N5.durationUpdate.call(this),this.config.mediaMetadata&&N5.setMediaMetadata.call(this)},setTitle(){let e=P5.get("play",this.config);if(E2(this.config.title)&&!O2(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const e=e5.call(this,"iframe");if(!I2(e))return;const t=O2(this.config.title)?"video":this.config.title,i=P5.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(e){Q2(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),u5.call(this).then((()=>K5(e))).catch((t=>{throw e===this.poster&&Q5.togglePoster.call(this,!1),t})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Q5.togglePoster.call(this,!0),e))))},checkPlaying(e){Q2(this.elements.container,this.config.classNames.playing,this.playing),Q2(this.elements.container,this.config.classNames.paused,this.paused),Q2(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",P5.get(this.playing?"pause":"play",this.config))})),P2(e)&&"timeupdate"===e.type||Q5.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{Q2(this.elements.container,this.config.classNames.loading,this.loading),Q5.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!O2(e)&&E2(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),O2(this.media.style)&&this.media.removeAttribute("style")}};class X5{constructor(e){q1(this,"firstTouch",(()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,Q2(t.container,e.config.classNames.isTouch,!0)})),q1(this,"global",((e=!0)=>{const{player:t}=this;t.config.keyboard.global&&r5.call(t,window,"keydown keyup",this.handleKey,e,!1),r5.call(t,document.body,"click",this.toggleMenu,e),l5.call(t,document.body,"touchstart",this.firstTouch)})),q1(this,"container",(()=>{const{player:e}=this,{config:t,elements:i,timers:n}=e;!t.keyboard.global&&t.keyboard.focused&&s5.call(e,i.container,"keydown keyup",this.handleKey,!1),s5.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(t=>{const{controls:o}=i;o&&"enterfullscreen"===t.type&&(o.pressed=!1,o.hover=!1);let r=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Q5.toggleControls.call(e,!0),r=e.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout((()=>Q5.toggleControls.call(e,!1)),r)}));const o=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=i.wrapper,{active:n}=e.fullscreen,[o,r]=y5.call(e),s=f5(`aspect-ratio: ${o} / ${r}`);if(!n)return void(s?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[a,l]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=a/l>o/r;s?(t.style.width=c?"auto":"100%",t.style.height=c?"100%":"auto"):(t.style.maxWidth=c?l/r*o+"px":null,t.style.margin=c?"0 auto":null)},r=()=>{clearTimeout(n.resized),n.resized=setTimeout(o,50)};s5.call(e,i.container,"enterfullscreen exitfullscreen",(t=>{const{target:n}=e.fullscreen;n===i.container&&(!e.isEmbed&&O2(e.config.ratio)||(o(),("enterfullscreen"===t.type?s5:a5).call(e,window,"resize",r)))}))})),q1(this,"media",(()=>{const{player:e}=this,{elements:t}=e;if(s5.call(e,e.media,"timeupdate seeking seeked",(t=>N5.timeUpdate.call(e,t))),s5.call(e,e.media,"durationchange loadeddata loadedmetadata",(t=>N5.durationUpdate.call(e,t))),s5.call(e,e.media,"ended",(()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),s5.call(e,e.media,"progress playing seeking seeked",(t=>N5.updateProgress.call(e,t))),s5.call(e,e.media,"volumechange",(t=>N5.updateVolume.call(e,t))),s5.call(e,e.media,"playing play pause ended emptied timeupdate",(t=>Q5.checkPlaying.call(e,t))),s5.call(e,e.media,"waiting canplay seeked playing",(t=>Q5.checkLoading.call(e,t))),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const i=e5.call(e,`.${e.config.classNames.video}`);if(!I2(i))return;s5.call(e,t.container,"click",(n=>{([t.container,i].includes(n.target)||i.contains(n.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(n,e.restart,"restart"),this.proxy(n,(()=>{h5(e.play())}),"play")):this.proxy(n,(()=>{h5(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&s5.call(e,t.wrapper,"contextmenu",(e=>{e.preventDefault()}),!1),s5.call(e,e.media,"volumechange",(()=>{e.storage.set({volume:e.volume,muted:e.muted})})),s5.call(e,e.media,"ratechange",(()=>{N5.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),s5.call(e,e.media,"qualitychange",(t=>{N5.updateSetting.call(e,"quality",null,t.detail.quality)})),s5.call(e,e.media,"ready qualitychange",(()=>{N5.setDownloadUrl.call(e)}));const i=e.config.events.concat(["keyup","keydown"]).join(" ");s5.call(e,e.media,i,(i=>{let{detail:n={}}=i;"error"===i.type&&(n=e.media.error),c5.call(e,t.container,i.type,!0,n)}))})),q1(this,"proxy",((e,t,i)=>{const{player:n}=this,o=n.config.listeners[i];let r=!0;A2(o)&&(r=o.call(n,e)),!1!==r&&A2(t)&&t.call(n,e)})),q1(this,"bind",((e,t,i,n,o=!0)=>{const{player:r}=this,s=r.config.listeners[n],a=A2(s);s5.call(r,e,t,(e=>this.proxy(e,i,n)),o&&!a)})),q1(this,"controls",(()=>{const{player:e}=this,{elements:t}=e,i=F2.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((t=>{this.bind(t,"click",(()=>{h5(e.togglePlay())}),"play")})),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",(()=>{e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),this.bind(t.buttons.fastForward,"click",(()=>{e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),this.bind(t.buttons.mute,"click",(()=>{e.muted=!e.muted}),"mute"),this.bind(t.buttons.captions,"click",(()=>e.toggleCaptions())),this.bind(t.buttons.download,"click",(()=>{c5.call(e,e.media,"download")}),"download"),this.bind(t.buttons.fullscreen,"click",(()=>{e.fullscreen.toggle()}),"fullscreen"),this.bind(t.buttons.pip,"click",(()=>{e.pip="toggle"}),"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",(t=>{t.stopPropagation(),t.preventDefault(),N5.toggleMenu.call(e,t)}),null,!1),this.bind(t.buttons.settings,"keyup",(t=>{[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),N5.toggleMenu.call(e,t)):N5.focusFirstMenuItem.call(e,null,!0))}),null,!1),this.bind(t.settings.menu,"keydown",(t=>{"Escape"===t.key&&N5.toggleMenu.call(e,t)})),this.bind(t.inputs.seek,"mousedown mousemove",(e=>{const i=t.progress.getBoundingClientRect(),n=100/i.width*(e.pageX-i.left);e.currentTarget.setAttribute("seek-value",n)})),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(t=>{const i=t.currentTarget,n="play-on-seeked";if(D2(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const o=i.hasAttribute(n),r=["mouseup","touchend","keyup"].includes(t.type);o&&r?(i.removeAttribute(n),h5(e.play())):!r&&e.playing&&(i.setAttribute(n,""),e.pause())})),F2.isIos){const t=Z2.call(e,'input[type="range"]');Array.from(t).forEach((e=>this.bind(e,i,(e=>$2(e.target)))))}this.bind(t.inputs.seek,i,(t=>{const i=t.currentTarget;let n=i.getAttribute("seek-value");O2(n)&&(n=i.value),i.removeAttribute("seek-value"),e.currentTime=n/i.max*e.duration}),"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",(t=>N5.updateSeekTooltip.call(e,t))),this.bind(t.progress,"mousemove touchmove",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startMove(t)})),this.bind(t.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)})),this.bind(t.progress,"mousedown touchstart",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startScrubbing(t)})),this.bind(t.progress,"mouseup touchend",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.endScrubbing(t)})),F2.isWebKit&&Array.from(Z2.call(e,'input[type="range"]')).forEach((t=>{this.bind(t,"input",(t=>N5.updateRangeFill.call(e,t.target)))})),e.config.toggleInvert&&!I2(t.display.duration)&&this.bind(t.display.currentTime,"click",(()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,N5.timeUpdate.call(e))})),this.bind(t.inputs.volume,i,(t=>{e.volume=t.target.value}),"volume"),this.bind(t.controls,"mouseenter mouseleave",(i=>{t.controls.hover=!e.touch&&"mouseenter"===i.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((e=>!e.contains(t.container))).forEach((i=>{this.bind(i,"mouseenter mouseleave",(i=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===i.type)}))})),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(t.controls,"focusin",(()=>{const{config:i,timers:n}=e;Q2(t.controls,i.classNames.noTransition,!0),Q5.toggleControls.call(e,!0),setTimeout((()=>{Q2(t.controls,i.classNames.noTransition,!1)}),0);const o=this.touch?3e3:4e3;clearTimeout(n.controls),n.controls=setTimeout((()=>Q5.toggleControls.call(e,!1)),o)})),this.bind(t.inputs.volume,"wheel",(t=>{const i=t.webkitDirectionInvertedFromDevice,[n,o]=[t.deltaX,-t.deltaY].map((e=>i?-e:e)),r=Math.sign(Math.abs(n)>Math.abs(o)?n:o);e.increaseVolume(r/50);const{volume:s}=e.media;(1===r&&s<1||-1===r&&s>0)&&t.preventDefault()}),"volume",!1)})),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:n,type:o,altKey:r,ctrlKey:s,metaKey:a,shiftKey:l}=e,c="keydown"===o,d=c&&n===this.lastKey;var u;if(!(r||s||a||l)&&n)if(c){const o=document.activeElement;if(I2(o)){const{editable:n}=t.config.selectors,{seek:r}=i.inputs;if(o!==r&&J2(o,n))return;if(" "===e.key&&J2(o,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(u=parseInt(n,10),t.currentTime=t.duration/10*u);break;case" ":case"k":d||h5(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":d||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":d||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===n&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}toggleMenu(e){N5.toggleMenu.call(this.player,e)}}var J5=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},i={},n={};function o(e,t){if(e){var o=n[e];if(i[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function r(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function s(t,i,n,o){var r,a,l=document,c=n.async,d=(n.numRetries||0)+1,u=n.before||e,h=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(h)?((a=l.createElement("link")).rel="stylesheet",a.href=p,(r="hideFocus"in a)&&a.relList&&(r=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(a=l.createElement("img")).src=p:((a=l.createElement("script")).src=t,a.async=void 0===c||c),a.onload=a.onerror=a.onbeforeload=function(e){var l=e.type[0];if(r)try{a.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((o+=1)<d)return s(t,i,n,o)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";i(t,l,e.defaultPrevented)},!1!==u(t,a)&&l.head.appendChild(a)}function a(e,t,i){var n,o,r=(e=e.push?e:[e]).length,a=r,l=[];for(n=function(e,i,n){if("e"==i&&l.push(e),"b"==i){if(!n)return;l.push(e)}--r||t(l)},o=0;o<a;o++)s(e[o],n,i)}function l(e,i,n){var s,l;if(i&&i.trim&&(s=i),l=(s?n:i)||{},s){if(s in t)throw"LoadJS";t[s]=!0}function c(t,i){a(e,(function(e){r(l,e),t&&r({success:t,error:i},e),o(s,e)}),l)}if(l.returnPromise)return new Promise(c);c()}return l.ready=function(e,t){return function(e,t){e=e.push?e:[e];var o,r,s,a=[],l=e.length,c=l;for(o=function(e,i){i.length&&a.push(e),--c||t(a)};l--;)r=e[l],(s=i[r])?o(r,s):(n[r]=n[r]||[]).push(o)}(e,(function(e){r(t,e)})),l},l.done=function(e){o(e,[])},l.reset=function(){t={},i={},n={}},l.isDefined=function(e){return e in t},l}()}));function Z5(e){return new Promise(((t,i)=>{J5(e,{success:t,error:i})}))}function e3(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,c5.call(this,this.media,e?"play":"pause"))}const t3={setup(){const e=this;Q2(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,k5.call(e),x2(window.Vimeo)?t3.ready.call(e):Z5(e.config.urls.vimeo.sdk).then((()=>{t3.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:i,referrerPolicy:n,...o}=t;let r=e.media.getAttribute("src"),s="";O2(r)?(r=e.media.getAttribute(e.config.attributes.embed.id),s=e.media.getAttribute(e.config.attributes.embed.hash)):s=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(r);const a=s?{h:s}:{};i&&Object.assign(o,{controls:!1,sidedock:!1});const l=F5({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...o}),c=function(e){return O2(e)?null:_2(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}(r),d=U2("iframe"),u=E5(e.config.urls.vimeo.iframe,c,l);if(d.setAttribute("src",u),d.setAttribute("allowfullscreen",""),d.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),O2(n)||d.setAttribute("referrerPolicy",n),i||!t.customControls)d.setAttribute("data-poster",e.poster),e.media=W2(d,e.media);else{const t=U2("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(d),e.media=W2(t,e.media)}t.customControls||R5(E5(e.config.urls.vimeo.api,u)).then((t=>{!O2(t)&&t.thumbnail_url&&Q5.setPoster.call(e,t.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(d,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(e3.call(e,!0),e.embed.play()),e.media.pause=()=>(e3.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:h}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>h,set(t){const{embed:i,media:n,paused:o,volume:r}=e,s=o&&!i.hasPlayed;n.seeking=!0,c5.call(e,n,"seeking"),Promise.resolve(s&&i.setVolume(0)).then((()=>i.setCurrentTime(t))).then((()=>s&&i.pause())).then((()=>s&&i.setVolume(r))).catch((()=>{}))}});let p=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>p,set(t){e.embed.setPlaybackRate(t).then((()=>{p=t,c5.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:m}=e.config;Object.defineProperty(e.media,"volume",{get:()=>m,set(t){e.embed.setVolume(t).then((()=>{m=t,c5.call(e,e.media,"volumechange")}))}});let{muted:f}=e.config;Object.defineProperty(e.media,"muted",{get:()=>f,set(t){const i=!!C2(t)&&t;e.embed.setMuted(!!i||e.config.muted).then((()=>{f=i,c5.call(e,e.media,"volumechange")}))}});let g,{loop:b}=e.config;Object.defineProperty(e.media,"loop",{get:()=>b,set(t){const i=C2(t)?t:e.config.loop.active;e.embed.setLoop(i).then((()=>{b=i}))}}),e.embed.getVideoUrl().then((t=>{g=t,N5.setDownloadUrl.call(e)})).catch((e=>{this.debug.warn(e)})),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((t=>{const[i,n]=t;e.embed.ratio=w5(i,n),k5.call(this)})),e.embed.setAutopause(e.config.autopause).then((t=>{e.config.autopause=t})),e.embed.getVideoTitle().then((t=>{e.config.title=t,Q5.setTitle.call(this)})),e.embed.getCurrentTime().then((t=>{h=t,c5.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((t=>{e.media.duration=t,c5.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((t=>{e.media.textTracks=t,B5.setup.call(e)})),e.embed.on("cuechange",(({cues:t=[]})=>{const i=t.map((e=>function(e){const t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText}(e.text)));B5.updateCues.call(e,i)})),e.embed.on("loaded",(()=>{e.embed.getPaused().then((t=>{e3.call(e,!t),t||c5.call(e,e.media,"playing")})),I2(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(()=>{c5.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{c5.call(e,e.media,"playing")})),e.embed.on("play",(()=>{e3.call(e,!0),c5.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{e3.call(e,!1)})),e.embed.on("timeupdate",(t=>{e.media.seeking=!1,h=t.seconds,c5.call(e,e.media,"timeupdate")})),e.embed.on("progress",(t=>{e.media.buffered=t.percent,c5.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&c5.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((t=>{t!==e.media.duration&&(e.media.duration=t,c5.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,c5.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,c5.call(e,e.media,"ended")})),e.embed.on("error",(t=>{e.media.error=t,c5.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>Q5.build.call(e)),0)}};function i3(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,c5.call(this,this.media,e?"play":"pause"))}function n3(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const o3={setup(){if(Q2(this.elements.wrapper,this.config.classNames.embed,!0),x2(window.YT)&&A2(window.YT.Player))o3.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{A2(e)&&e(),o3.ready.call(this)},Z5(this.config.urls.youtube.sdk).catch((e=>{this.debug.warn("YouTube API failed to load",e)}))}},getTitle(e){R5(E5(this.config.urls.youtube.api,e)).then((e=>{if(x2(e)){const{title:t,height:i,width:n}=e;this.config.title=t,Q5.setTitle.call(this),this.embed.ratio=w5(n,i)}k5.call(this)})).catch((()=>{k5.call(this)}))},ready(){const e=this,t=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!O2(i)&&i.startsWith("youtube-"))return;let n=e.media.getAttribute("src");O2(n)&&(n=e.media.getAttribute(this.config.attributes.embed.id));const o=function(e){return O2(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}(n),r=U2("div",{id:_5(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=W2(r,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${o}/${e}default.jpg`;K5(t("maxres"),121).catch((()=>K5(t("sd"),121))).catch((()=>K5(t("hq")))).then((t=>Q5.setPoster.call(e,t.src))).then((t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:o,host:n3(t),playerVars:z2({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const i=t.data,n={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occurred";e.media.error={code:i,message:n},c5.call(e,e.media,"error")}},onPlaybackRateChange(t){const i=t.target;e.media.playbackRate=i.getPlaybackRate(),c5.call(e,e.media,"ratechange")},onReady(i){if(A2(e.media.play))return;const n=i.target;o3.getTitle.call(e,o),e.media.play=()=>{i3.call(e,!0),n.playVideo()},e.media.pause=()=>{i3.call(e,!1),n.pauseVideo()},e.media.stop=()=>{n.stopVideo()},e.media.duration=n.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(n.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,c5.call(e,e.media,"seeking"),n.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>n.getPlaybackRate(),set(e){n.setPlaybackRate(e)}});let{volume:r}=e.config;Object.defineProperty(e.media,"volume",{get:()=>r,set(t){r=t,n.setVolume(100*r),c5.call(e,e.media,"volumechange")}});let{muted:s}=e.config;Object.defineProperty(e.media,"muted",{get:()=>s,set(t){const i=C2(t)?t:s;s=i,n[i?"mute":"unMute"](),n.setVolume(100*r),c5.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>n.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const a=n.getAvailablePlaybackRates();e.options.speed=a.filter((t=>e.config.speed.options.includes(t))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),c5.call(e,e.media,"timeupdate"),c5.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=n.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&c5.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),c5.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>Q5.build.call(e)),50)},onStateChange(i){const n=i.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(i.data)&&(e.media.seeking=!1,c5.call(e,e.media,"seeked")),i.data){case-1:c5.call(e,e.media,"timeupdate"),e.media.buffered=n.getVideoLoadedFraction(),c5.call(e,e.media,"progress");break;case 0:i3.call(e,!1),e.media.loop?(n.stopVideo(),n.playVideo()):c5.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(i3.call(e,!0),c5.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{c5.call(e,e.media,"timeupdate")}),50),e.media.duration!==n.getDuration()&&(e.media.duration=n.getDuration(),c5.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),i3.call(e,!1);break;case 3:c5.call(e,e.media,"waiting")}c5.call(e,e.elements.container,"statechange",!1,{code:i.data})}}})}},r3={setup(){this.media?(Q2(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),Q2(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&Q2(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=U2("div",{class:this.config.classNames.video}),j2(this.media,this.elements.wrapper),this.elements.poster=U2("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?x5.setup.call(this):this.isYouTube?o3.setup.call(this):this.isVimeo&&t3.setup.call(this)):this.debug.warn("No media element found!")}};class s3{constructor(e){q1(this,"load",(()=>{this.enabled&&(x2(window.google)&&x2(window.google.ima)?this.ready():Z5(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),q1(this,"ready",(()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),q1(this,"setupIMA",(()=>{this.elements.container=U2("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(e=>this.onAdsManagerLoaded(e)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e)),!1),this.requestAds()})),q1(this,"requestAds",(()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}})),q1(this,"pollCountdown",((e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const e=O5(Math.max(this.manager.getRemainingTime(),0)),t=`${P5.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)}),100)})),q1(this,"onAdsManagerLoaded",(e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e))),Object.keys(google.ima.AdEvent.Type).forEach((e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],(e=>this.onAdEvent(e)))})),this.trigger("loaded")})),q1(this,"addCuePoints",(()=>{O2(this.cuePoints)||this.cuePoints.forEach((e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if(I2(t)){const i=100/this.player.duration*e,n=U2("span",{class:this.player.config.classNames.cues});n.style.left=`${i.toString()}%`,t.appendChild(n)}}}))})),q1(this,"onAdEvent",(e=>{const{container:t}=this.player.elements,i=e.getAd(),n=e.getAdData();switch((e=>{c5.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=t.offsetWidth,i.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:n.adError&&this.player.debug.warn(`Non-fatal ad error: ${n.adError.getMessage()}`)}})),q1(this,"onAdError",(e=>{this.cancel(),this.player.debug.warn("Ads error",e)})),q1(this,"listeners",(()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{t=this.player.currentTime})),this.player.on("seeked",(()=>{const e=this.player.currentTime;O2(this.cuePoints)||this.cuePoints.forEach(((i,n)=>{t<i&&i<e&&(this.manager.discardAdBreak(),this.cuePoints.splice(n,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)}))})),q1(this,"play",(()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}})).catch((()=>{}))})),q1(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,h5(this.player.media.play())})),q1(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),q1(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),q1(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((e=>{this.on("loaded",e),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),q1(this,"trigger",((e,...t)=>{const i=this.events[e];T2(i)&&i.forEach((e=>{A2(e)&&e.apply(this,t)}))})),q1(this,"on",((e,t)=>(T2(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this))),q1(this,"startSafetyTimer",((e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),e)})),q1(this,"clearSafetyTimer",(e=>{w2(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((e,t)=>{this.on("loaded",e),this.on("error",t)})),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!O2(e.publisherId)||M2(e.tagUrl))}get tagUrl(){const{config:e}=this;return M2(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${F5({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function a3(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}const l3=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((e=>{const i={};e.split(/\r\n|\n|\r/).forEach((e=>{if(_2(i.startTime)){if(!O2(e.trim())&&O2(i.text)){const t=e.trim().split("#xywh=");[i.text]=t,t[1]&&([i.x,i.y,i.w,i.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(i.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),i.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}})),i.text&&t.push(i)})),t},c3=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class d3{constructor(e){q1(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),q1(this,"getThumbnails",(()=>new Promise((e=>{const{src:t}=this.player.config.previewThumbnails;if(O2(t))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((e,t)=>e.height-t.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(A2(t))t((e=>{this.thumbnails=e,i()}));else{const e=(E2(t)?[t]:t).map((e=>this.getThumbnail(e)));Promise.all(e).then(i)}})))),q1(this,"getThumbnail",(e=>new Promise((t=>{R5(e).then((i=>{const n={frames:l3(i),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const o=new Image;o.onload=()=>{n.height=o.naturalHeight,n.width=o.naturalWidth,this.thumbnails.push(n),t()},o.src=n.urlPrefix+n.frames[0].text}))})))),q1(this,"startMove",(e=>{if(this.loaded&&P2(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,i;const n=this.player.elements.progress.getBoundingClientRect(),o=100/n.width*(e.pageX-n.left);this.seekTime=this.player.media.duration*(o/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=O5(this.seekTime);const r=null===(t=this.player.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(this.seekTime)));r&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${r.label}<br>`)}this.showImageAtCurrentTime()}})),q1(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),q1(this,"startScrubbing",(e=>{(w2(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),q1(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):l5.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),q1(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),q1(this,"render",(()=>{this.elements.thumb.container=U2("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=U2("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=U2("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=U2("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),I2(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=U2("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),q1(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),q1(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex((e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime)),t=e>=0;let i=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach(((t,n)=>{this.loadedImages.includes(t.frames[e].text)&&(i=n)})),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))})),q1(this,"loadImage",((e=0)=>{const t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:n}=i,o=i.frames[t],r=i.frames[t].text,s=n+r;if(this.currentImageElement&&this.currentImageElement.dataset.filename===r)this.showImage(this.currentImageElement,o,e,t,r,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=s,i.dataset.index=t,i.dataset.filename=r,this.showingThumbFilename=r,this.player.debug.log(`Loading image: ${s}`),i.onload=()=>this.showImage(i,o,e,t,r,!0),this.loadingImage=i,this.removeOldImages(i)}})),q1(this,"showImage",((e,t,i,n,o,r=!0)=>{this.player.debug.log(`Showing thumb: ${o}. num: ${n}. qual: ${i}. newimg: ${r}`),this.setImageSizeAndOffset(e,t),r&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(o)||this.loadedImages.push(o)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(i,e,t,o))})),q1(this,"removeOldImages",(e=>{Array.from(this.currentImageContainer.children).forEach((t=>{if("img"!==t.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout((()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)}),i)}}))})),q1(this,"preloadNearby",((e,t=!0)=>new Promise((i=>{setTimeout((()=>{const n=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===n){let o;o=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let r=!1;o.forEach((e=>{const t=e.text;if(t!==n&&!this.loadedImages.includes(t)){r=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],n=e+t,o=new Image;o.src=n,o.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),i()}}})),r||i()}}),300)})))),q1(this,"getHigherQuality",((e,t,i,n)=>{if(e<this.thumbnails.length-1){let o=t.naturalHeight;this.usingSprites&&(o=i.h),o<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===n&&(this.player.debug.log(`Showing higher quality thumb for: ${n}`),this.loadImage(e+1))}),300)}})),q1(this,"toggleThumbContainer",((e=!1,t=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)})),q1(this,"toggleScrubbingContainer",((e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)})),q1(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),q1(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()})),q1(this,"setThumbContainerPos",(()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,n=t.left-e.left+10,o=t.right-e.left-i.clientWidth-10,r=this.mousePosX-e.left-i.clientWidth/2,s=a3(r,n,o);i.style.left=`${s}px`,i.style.setProperty("--preview-arrow-offset",r-s+"px")})),q1(this,"setScrubbingContainerSize",(()=>{const{width:e,height:t}=c3(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`})),q1(this,"setImageSizeAndOffset",((e,t)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*i+"px",e.style.width=e.naturalWidth*i+"px",e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`})),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=c3(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const u3={insertElements(e,t){E2(t)?H2(e,this.media,{src:t}):T2(t)&&t.forEach((t=>{H2(e,this.media,t)}))},change(e){B2(e,"sources.length")?(x5.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],q2(this.media),this.media=null,I2(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:i}=e,[{provider:n=U5.html5,src:o}]=t,r="html5"===n?i:"div",s="html5"===n?{}:{src:o};Object.assign(this,{provider:n,type:i,supported:n5.check(i,n,this.config.playsinline),media:U2(r,s)}),this.elements.container.appendChild(this.media),C2(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),O2(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Q5.addStyleHook.call(this),this.isHTML5&&u3.insertElements.call(this,"source",t),this.config.title=e.title,r3.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&u3.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Q5.build.call(this),this.isHTML5&&this.media.load(),O2(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new d3(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};class h3{constructor(e,t){if(q1(this,"play",(()=>A2(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>h5(this.media.play()))),this.media.play()):null)),q1(this,"pause",(()=>this.playing&&A2(this.media.pause)?this.media.pause():null)),q1(this,"togglePlay",(e=>(C2(e)?e:!this.playing)?this.play():this.pause())),q1(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):A2(this.media.stop)&&this.media.stop()})),q1(this,"restart",(()=>{this.currentTime=0})),q1(this,"rewind",(e=>{this.currentTime-=_2(e)?e:this.config.seekTime})),q1(this,"forward",(e=>{this.currentTime+=_2(e)?e:this.config.seekTime})),q1(this,"increaseVolume",(e=>{const t=this.media.muted?0:this.volume;this.volume=t+(_2(e)?e:0)})),q1(this,"decreaseVolume",(e=>{this.increaseVolume(-e)})),q1(this,"airplay",(()=>{n5.airplay&&this.media.webkitShowPlaybackTargetPicker()})),q1(this,"toggleControls",(e=>{if(this.supported.ui&&!this.isAudio){const t=X2(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,n=Q2(this.elements.container,this.config.classNames.hideControls,i);if(n&&T2(this.config.controls)&&this.config.controls.includes("settings")&&!O2(this.config.settings)&&N5.toggleMenu.call(this,!1),n!==t){const e=n?"controlshidden":"controlsshown";c5.call(this,this.media,e)}return!n}return!1})),q1(this,"on",((e,t)=>{s5.call(this,this.elements.container,e,t)})),q1(this,"once",((e,t)=>{l5.call(this,this.elements.container,e,t)})),q1(this,"off",((e,t)=>{a5(this.elements.container,e,t)})),q1(this,"destroy",((e,t=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(q2(this.elements.buttons.play),q2(this.elements.captions),q2(this.elements.controls),q2(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),A2(e)&&e()):(d5.call(this),x5.cancelRequests.call(this),W2(this.elements.original,this.elements.container),c5.call(this,this.elements.original,"destroyed",!0),A2(e)&&e.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Q5.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&A2(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))})),q1(this,"supports",(e=>n5.mime.call(this,e))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=n5.touch,this.media=e,E2(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||S2(this.media)||T2(this.media))&&(this.media=this.media[0]),this.config=z2({},z5,h3.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new W5(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",n5),w2(this.media)||!I2(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!n5.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const n=this.media.tagName.toLowerCase();let o=null,r=null;switch(n){case"div":if(o=this.media.querySelector("iframe"),I2(o)){if(r=$5(o.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?U5.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?U5.vimeo:null}(r.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",r.search.length){const e=["1","true"];e.includes(r.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(r.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(r.searchParams.get("playsinline")),this.config.youtube.hl=r.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(O2(this.provider)||!Object.values(U5).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=q5;break;case"video":case"audio":this.type=n,this.provider=U5.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=n5.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new X5(this),this.storage=new D5(this),this.media.plyr=this,I2(this.elements.container)||(this.elements.container=U2("div"),j2(this.media,this.elements.container)),Q5.migrateStyles.call(this),Q5.addStyleHook.call(this),r3.setup.call(this),this.config.debug&&s5.call(this,this.elements.container,this.config.events.join(" "),(e=>{this.debug.log(`event: ${e.type}`)})),this.fullscreen=new Y5(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Q5.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new s3(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>h5(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new d3(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===U5.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===U5.youtube}get isVimeo(){return this.provider===U5.vimeo}get isVideo(){return this.type===q5}get isAudio(){return this.type===H5}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=_2(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return _2(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=_2(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;E2(t)&&(t=Number(t)),_2(t)||(t=this.storage.get("volume")),_2(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!O2(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;C2(t)||(t=this.storage.get("muted")),C2(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;_2(e)&&(t=e),_2(t)||(t=this.storage.get("speed")),_2(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:n}=this;t=a3(t,i,n),this.config.speed.selected=t,setTimeout((()=>{this.media&&(this.media.playbackRate=t)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let n=[!O2(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(_2),o=!0;if(!i.includes(n)){const e=m5(i,n);this.debug.warn(`Unsupported quality option: ${n}, using ${e} instead`),n=e,o=!1}t.selected=n,this.media.quality=n,o&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(e){const t=C2(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){u3.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return M2(e)?e:this.source}set download(e){M2(e)&&(this.config.urls.download=e,N5.setDownloadUrl.call(this))}set poster(e){this.isVideo?Q5.setPoster.call(this,e,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=v5(y5.call(this));return T2(e)?e.join(":"):e}set ratio(e){this.isVideo?E2(e)&&b5(e)?(this.config.ratio=v5(e),k5.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=C2(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){B5.toggle.call(this,e,!1)}set currentTrack(e){B5.set.call(this,e,!1),B5.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){B5.setLanguage.call(this,e,!1)}get language(){return(B5.getCurrentTrack.call(this)||{}).language}set pip(e){if(!n5.pip)return;const t=C2(e)?e:!this.pip;A2(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?j5:V5),A2(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return n5.pip?O2(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===j5:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new d3(this))}static supported(e,t){return n5.check(e,t)}static loadSprite(e,t){return L5(e,t)}static setup(e,t={}){let i=null;return E2(e)?i=Array.from(document.querySelectorAll(e)):S2(e)?i=Array.from(e):T2(e)&&(i=e.filter(I2)),O2(i)?null:i.map((e=>new h3(e,t)))}}h3.defaults=function(e){return JSON.parse(JSON.stringify(e))}(z5);const p3=jn({__name:"VideoPlayer",props:{course:{},user:{},lesson:{},src:{},provider:{},controls:{default:()=>["play-large","play","progress","current-time","mute","volume","settings","pip","airplay","fullscreen"]},canRotate:{type:Boolean,default:!0}},setup(e){const t=Ti(),i=e;let n;return io((()=>{n=new h3(t.value,{youtube:{noCookie:!1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1},controls:i.controls,fullscreen:{enabled:!0,iosNative:!i.canRotate}}),n.source={type:"video",sources:[{src:i.src,provider:i.provider}]},n.on("enterfullscreen",(async()=>{i.canRotate&&await Ox.lock({orientation:"landscape"})})),n.on("exitfullscreen",(async()=>{await Ox.lock({orientation:"portrait"})}))})),ro((()=>{n&&n.destroy()})),(e,i)=>($r(),jr("video",{ref_key:"refPlayer",ref:t},null,512))}}),m3={class:"overflow-y-scroll pb-6 mt-2 h-[50%]"},f3=["onClick"],g3=jn({__name:"ModalTopicCommunityPostDropdown",props:{topics:{},selectedTopic:{}},setup(e){var t;const i=e,n=oT(),{community:o}=mC(n),r=Ti(),s=Ti(null!==(t=i.topics)&&void 0!==t?t:[]),a=Ti(null==i?void 0:i.selectedTopic),l=async()=>{var e;const t={"filter[community_id]":null===(e=o.value)||void 0===e?void 0:e._id,"filter[keyword]":r.value,"sort[order]":1},{data:i}=await SC.get("/community-topic",{params:t});var n;bC.isEmpty(i)||(s.value=null!==(n=null==i?void 0:i.data)&&void 0!==n?n:[])};return(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding-vertical shadow-st",color:"white1"},{default:pn((()=>[Wr("form",{onSubmit:Ta(l,["prevent"]),class:"flex items-center gap-2 rounded-lg shadow-st bg-white px-4 ion-margin-horizontal"},[Yr(Di(ex),{icon:Di(nS),class:"text-gray2 size-6"},null,8,["icon"]),mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),class:"bg-white text-black text-base py-2 flex flex-1 mx-auto outline-none",placeholder:"Tìm kiếm"},null,512),[[fa,r.value]])],32),Wr("section",m3,[($r(!0),jr(Dr,null,vo(s.value,((t,i)=>{var n;return $r(),jr("div",{key:i},[Wr("div",{onClick:e=>(async e=>{a.value=e,ax.dismiss(e,"confirm")})(t),class:We(["flex flex-1 py-2.5 rounded-md px-8",{"bg-blue1-tint1":(null==t?void 0:t._id)===(null===(n=e.selectedTopic)||void 0===n?void 0:n._id)}])},Ze(null==t?void 0:t.title),11,f3)])})),128))])])),_:1}))}}),b3={class:"flex justify-end gap-2 mt-3"},v3=jn({__name:"ModalAddLinktoPost",props:{onAddLink:{type:Function,default:()=>{}}},setup(e){const t=e,i=Ti(""),n=()=>{bC.isEmpty(i.value)||(t.onAddLink(i.value),ax.dismiss(null,"cancel"))};return(e,t)=>($r(),Vr(Di(Kk),{color:"gray4",class:"ion-padding"},{default:pn((()=>[Wr("form",{class:"w-full",onSubmit:Ta(n,["prevent"])},[t[2]||(t[2]=Wr("div",{class:"text-black size-base font-medium mb-2"},[Wr("span",{class:"text-red-500"},"*"),Xr(" Thêm liên kết từ Youtube hoặc Vimeo ")],-1)),mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),placeholder:"Nhập link",class:"bg-white shadow-st rounded-lg w-full text-base text-black py-2 px-2.5"},null,512),[[fa,i.value]]),Wr("section",b3,[t[1]||(t[1]=Wr("div",{class:"px-6 py-1.5 bg-white rounded-lg text-gray2 shadow-st"}," Huỷ ",-1)),Wr("div",{class:We(["px-6 py-1.5 rounded-lg",Di(bC.isEmpty)(i.value)?"bg-gray3 text-gray2":" bg-blue1 text-white  shadow-st"]),onClick:n}," Thêm ",2)])],32)])),_:1}))}}),y3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function k3(e){if(!function(e){return"string"==typeof e&&y3.test(e)}(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}const w3=[];for(let e=0;e<256;++e)w3.push((e+256).toString(16).slice(1));function x3(e,t=0){return(w3[e[t+0]]+w3[e[t+1]]+w3[e[t+2]]+w3[e[t+3]]+"-"+w3[e[t+4]]+w3[e[t+5]]+"-"+w3[e[t+6]]+w3[e[t+7]]+"-"+w3[e[t+8]]+w3[e[t+9]]+"-"+w3[e[t+10]]+w3[e[t+11]]+w3[e[t+12]]+w3[e[t+13]]+w3[e[t+14]]+w3[e[t+15]]).toLowerCase()}let _3;const E3=new Uint8Array(16);function C3(){if(!_3){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_3=crypto.getRandomValues.bind(crypto)}return _3(E3)}const A3={};function T3(e,t,i){var n,o;let r;const s=null!==(n=null===(o=e)||void 0===o?void 0:o._v6)&&void 0!==n&&n;if(e){const t=Object.keys(e);1===t.length&&"_v6"===t[0]&&(e=void 0)}if(e){var a,l,c,d;r=S3(null!==(a=null!==(l=e.random)&&void 0!==l?l:null===(c=(d=e).rng)||void 0===c?void 0:c.call(d))&&void 0!==a?a:C3(),e.msecs,e.nsecs,e.clockseq,e.node,t,i)}else{const e=Date.now(),n=C3();!function(e,t,i){var n,o;null!==(n=e.msecs)&&void 0!==n||(e.msecs=-1/0),null!==(o=e.nsecs)&&void 0!==o||(e.nsecs=0),t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0);e.node||(e.node=i.slice(10,16),e.node[0]|=1,e.clockseq=16383&(i[8]<<8|i[9]));e.msecs=t}(A3,e,n),r=S3(n,A3.msecs,A3.nsecs,s?void 0:A3.clockseq,s?void 0:A3.node,t,i)}return t?r:x3(r)}function S3(e,t,i,n,o,r,s=0){var a,l,c,d;if(e.length<16)throw new Error("Random bytes length must be >= 16");if(r){if(s<0||s+16>r.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`)}else r=new Uint8Array(16),s=0;null!==(a=t)&&void 0!==a||(t=Date.now()),null!==(l=i)&&void 0!==l||(i=0),null!==(c=n)&&void 0!==c||(n=16383&(e[8]<<8|e[9])),null!==(d=o)&&void 0!==d||(o=e.slice(10,16));const u=(1e4*(268435455&(t+=122192928e5))+i)%4294967296;r[s++]=u>>>24&255,r[s++]=u>>>16&255,r[s++]=u>>>8&255,r[s++]=255&u;const h=t/4294967296*1e4&268435455;r[s++]=h>>>8&255,r[s++]=255&h,r[s++]=h>>>24&15|16,r[s++]=h>>>16&255,r[s++]=n>>>8|128,r[s++]=255&n;for(let p=0;p<6;++p)r[s++]=o[p];return r}function I3(e){const t=function(e){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?k3(e):e);return"string"==typeof e?x3(t):t}function P3(e,t,i){var n;null!==(n=e)&&void 0!==n||(e={});let o=T3({...e,_v6:!0},new Uint8Array(16));return o=I3(o),x3(o)}const D3={class:"p-4 border-[1px] border-gray3 rounded-lg mb-4"},R3={class:"flex justify-between mb-2 items-center"},L3={class:"flex items-center gap-2 mb-2.5"},M3=["onUpdate:modelValue","placeholder"],O3={class:"flex items-center justify-between pt-2"},N3={class:"flex gap-4"},$3={class:"flex items-center gap-1"},F3={class:"flex items-center gap-1"},B3=jn({__name:"CreatePoll",props:So({onClose:{type:Function,default:()=>{}}},{type:{},typeModifiers:{},content:{default:[]},contentModifiers:{}}),emits:["update:type","update:content"],setup(e){const t=wr(e,"type"),i=wr(e,"content"),n=()=>{i.value.length>=10?lS("Chỉ được phép tối đa 10 lựa chọn","warning"):i.value.push({content:"",id:P3()})};return(o,r)=>($r(),jr("section",D3,[Wr("div",R3,[r[1]||(r[1]=Wr("div",{class:"text-black font-medium"},"Bình chọn",-1)),Yr(Di(ex),{onClick:o.onClose,icon:Di(PT),class:"size-7 text-red-500"},null,8,["onClick","icon"])]),($r(!0),jr(Dr,null,vo(e.content,((e,t)=>($r(),jr("div",{key:e.id},[Wr("div",L3,[mn(Wr("input",{"onUpdate:modelValue":t=>e.content=t,class:"bg-white1 w-full py-1.5 px-3 rounded-lg",placeholder:`Lựa chọn ${t+1}`},null,8,M3),[[fa,e.content]]),i.value.length>2?($r(),Vr(Di(ex),{key:0,onClick:e=>{return n=t,void(null===(o=i.value)||void 0===o||o.splice(n,1));var n,o},icon:Di(ZT),class:"size-6 text-gray2"},null,8,["onClick","icon"])):Jr("",!0)])])))),128)),Wr("div",O3,[Wr("div",{onClick:n,class:"px-2.5 flex bg-blue1 rounded-full items-center"},[Yr(Di(ex),{icon:Di(pT),class:"size-6 text-white"},null,8,["icon"])]),Wr("div",null,[Yr(Di(lw),{value:1,modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e)},{default:pn((()=>[Wr("div",N3,[Wr("div",$3,[Yr(Di(aw),{value:1,mode:"md","label-placement":"end",color:"blue1",justify:"start",alignment:"start"}),r[2]||(r[2]=Wr("div",{class:"text-sm"},"Một lựa chọn",-1))]),Wr("div",F3,[Yr(Di(aw),{value:2,mode:"md","label-placement":"end",color:"blue1",justify:"start",alignment:"start"}),r[3]||(r[3]=Wr("div",{class:"text-sm"},"Nhiều lựa chọn",-1))])])])),_:1},8,["modelValue"])])])]))}}),z3={User:1,Community:2},j3={class:"text-black font-medium text-lg text-center"},V3={class:"ion-padding bg-white"},U3={class:"bg-white flex gap-2.5 mt-2 mb-4 items-center"},H3={class:"size-10 rounded-full flex"},q3=["src"],G3={class:"flex-1 text-base text-gray2 font-normal"},W3={class:"text-base text-black2 font-medium"},Y3={class:"text-base text-black2 font-medium pl-1"},K3={class:"border-b"},Q3={class:"pb-4 flex flex-row overflow-x-scroll gap-2.5 items-center"},X3={class:"flex gap-2.5"},J3=["src"],Z3={class:"my-2 py-2"},e4={class:"gap-1 flex items-center"},t4={key:0,class:"flex items-center mt-4 gap-2"},i4=jn({__name:"ModalNewPost",props:{topics:{},post:{},type:{default:"create"},isPersonal:{type:Boolean,default:!1}},setup(e){var t,i,n,o,r,s,a,l,c,d,u,h,p,m,f,g,b,v,y,k,w;const{DEV:x,VITE_API_URL_DEV:_,VITE_API_URL:E}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},C=x?_:E,A=e,T=["progress","volume","current-time","play-large","settings"],S=oT(),I=EC(),{userInfo:P,accessToken:D}=mC(I),{community:R}=mC(S),L=Ti(),M=Ti(null!==(t=null===(i=A.post)||void 0===i||null===(i=i.attachments)||void 0===i?void 0:i.filter((e=>!bC.isEmpty(e.url)&&!bC.isEmpty(e.ext))).map((e=>e.url)))&&void 0!==t?t:[]),O=Ti(null!==(n=null===(o=A.post)||void 0===o||null===(o=o.attachments)||void 0===o?void 0:o.filter((e=>!bC.isEmpty(e.embed_url))).map((e=>e.embed_url)))&&void 0!==n?n:[]),N=Ti(!bC.isEmpty(null===(r=A.post)||void 0===r?void 0:r.poll)),$=Ti(null!==(s=null===(a=A.post)||void 0===a||null===(a=a.poll)||void 0===a?void 0:a.type)&&void 0!==s?s:1),F=Ti(null!==(l=null===(c=A.post)||void 0===c||null===(c=c.poll)||void 0===c?void 0:c.options.map((e=>({...e,content:e.option}))))&&void 0!==l?l:[{content:"",id:P3()},{content:"",id:P3()}]),B=()=>{var e,t,i;z.title="",z.description="",z.send_email=!1,z.topic_id=null===(e=L.value)||void 0===e?void 0:e._id,z.community_id=null===(t=R.value)||void 0===t?void 0:t.id,z.creator_id=null===(i=P.value)||void 0===i?void 0:i._id,z.files=[],z.links=[],M.value=[],L.value=null},z=mi({title:null!==(d=null===(u=A.post)||void 0===u?void 0:u.title)&&void 0!==d?d:"",description:null!==(h=null===(p=A.post)||void 0===p?void 0:p.description)&&void 0!==h?h:"",send_email:null!==(m=null===(f=A.post)||void 0===f?void 0:f.send_email)&&void 0!==m&&m,community_id:null===(g=R.value)||void 0===g?void 0:g._id,creator_id:null==P||null===(b=P.value)||void 0===b?void 0:b._id,links:null!==(v=null===(y=A.post)||void 0===y||null===(y=y.attachments)||void 0===y?void 0:y.filter((e=>!bC.isEmpty(e.embed_url))).map((e=>e.embed_url)))&&void 0!==v?v:[],files:null!==(k=null===(w=A.post)||void 0===w||null===(w=w.attachments)||void 0===w?void 0:w.filter((e=>!bC.isEmpty(e.url)&&!bC.isEmpty(e.ext))).map((e=>e.url)))&&void 0!==k?k:[]}),j=()=>{N.value=!0},V=()=>{F.value=[{content:"",id:P3()},{content:"",id:P3()}],z.poll=void 0,$.value=1,N.value=!1},U=()=>{ax.dismiss(null,"cancel")},H=async()=>{if(O.value.length>=2)lS("Mã nhúng có thể thêm vào tối đa là: 2","warning");else{const e=await ax.create({component:v3,componentProps:{onAddLink:J},initialBreakpoint:.25,mode:"ios"});await e.present()}},q=async()=>{var e;const t=await ax.create({component:g3,componentProps:{topics:null!==(e=A.topics)&&void 0!==e?e:[],selectedTopic:L.value},initialBreakpoint:.55,mode:"ios"});await t.present();const{data:i,role:n}=await t.onWillDismiss();"confirm"===n&&(L.value=i,z.topic_id=null==i?void 0:i._id)},G=async()=>{if(Y.value){if(N.value){if(F.value.filter((e=>e.content)).length<2)return lS("Vui lòng nhập 2 lựa chọn trở lên","warning"),void(z.poll=void 0);z.poll={type:$.value,options:F.value.map((e=>e.content))}}try{const e=new FormData,t=(i,n="")=>{i&&("object"!=typeof i||i instanceof File?e.append(n,i):Object.keys(i).forEach((e=>{t(i[e],n?`${n}[${e}]`:e)})))};if(A.isPersonal&&(delete z.community_id,delete z.send_email),t(z),"edit"===A.type)W(e);else if(A.isPersonal){e.append("type",z3.User+"");const t=await fetch(`${C}/community-post/personalPage`,{method:"POST",headers:{Authorization:`Bearer ${D.value}`},body:e});if(201===t.status)B(),ax.dismiss(null,"posted");else if(403===t.status){const e=await t.json();bC.isEmpty(null==e?void 0:e.message)?lS("Đã có lỗi xảy ra, vui lòng thử lại sau","warning"):lS(null==e?void 0:e.message,"warning")}else lS("Đã có lỗi xảy ra, vui lòng thử lại sau","warning")}else{const t=await fetch(`${C}/community-post`,{method:"POST",headers:{Authorization:`Bearer ${D.value}`},body:e});if(201===t.status)B(),ax.dismiss(null,"posted");else if(403===t.status){const e=await t.json();bC.isEmpty(null==e?void 0:e.message)?lS("Đã có lỗi xảy ra, vui lòng thử lại sau","warning"):lS(null==e?void 0:e.message,"warning")}else lS("Đã có lỗi xảy ra, vui lòng thử lại sau","warning")}}catch(e){lS("Đã có lỗi xảy ra, vui lòng thử lại sau","warning")}}},W=async e=>{var t;const i=await fetch(`${C}/community-post/${null===(t=A.post)||void 0===t?void 0:t._id}`,{method:"PATCH",headers:{Authorization:`Bearer ${D.value}`},body:e});if(201===i.status||200===i.status)B(),ax.dismiss(null,"updated"),lS("Cập nhật bài viết thành công!","success");else if(403===i.status){const e=await i.json();bC.isEmpty(null==e?void 0:e.message)?lS("Đã có lỗi xảy ra, vui lòng thử lại sau","warning"):lS(null==e?void 0:e.message,"warning")}else lS("Đã có lỗi xảy ra, vui lòng thử lại sau","warning")},Y=ks((()=>!bC.isEmpty(z.title)&&!bC.isEmpty(z.description))),K=async()=>{try{var e,t;if(!bC.isEmpty(z.files)&&Number(null!==(e=null===(t=z.files)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>=10)lS("Hình ảnh có thể thêm vào tối đa là: 10","warning");else{var i,n,o,r,s;const e=await JS.pickImages({quality:80,limit:bC.isEmpty(z.files)?10:10-Number(null!==(i=null===(n=z.files)||void 0===n?void 0:n.length)&&void 0!==i?i:0)});console.log("🌸 images 👉",e),M.value=[...null!==(o=M.value)&&void 0!==o?o:[],...null!==(r=e.photos)&&void 0!==r?r:[]],await Q(null!==(s=e.photos)&&void 0!==s?s:null)}}catch(a){}},Q=async e=>{var t,i;const n=[];if(!e)return[];const o=e=>{if(!e)return"imgpost_"+Date.now();const t=e.split("/");return t[t.length-1]};for(const d of e){var r,s,a;const e=await IJ.readFile({path:null!==(r=null==d?void 0:d.path)&&void 0!==r?r:""}),t=null==d||null===(s=d.path)||void 0===s||null===(s=s.split(".").pop())||void 0===s?void 0:s.toLowerCase(),i=`${o(null==e?void 0:e.data.toString())}_${Date.now()}.${t}`,u=(l=d.path,c=void 0,{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp"}[null==l||null===(c=l.split(".").pop())||void 0===c?void 0:c.toLowerCase()]||"image/jpeg"),h=X(null!==(a=null==e?void 0:e.data.toString())&&void 0!==a?a:"",u),p=new File([h],i,{type:u});n.push(p)}var l,c;console.log([...null!==(t=z.files)&&void 0!==t?t:[],...n]),z.files=[...null!==(i=z.files)&&void 0!==i?i:[],...n]},X=(e,t)=>{const i=atob(e),n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);const o=new Uint8Array(n);return new Blob([o],{type:t})},J=e=>{var t,i;O.value.length>=2?lS("Mã nhúng có thể thêm vào tối đa là: 2","warning"):bC.isEmpty(e)||(O.value=[...null!==(t=O.value)&&void 0!==t?t:[],e],z.links=[...null!==(i=z.links)&&void 0!==i?i:[],null!=e?e:""])},Z=e=>e?e.match(/^http/)?e:`https://unica.expert/storage/${e}`:"";return(e,t)=>($r(),jr(Dr,null,[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{color:"white",mode:"ios"},{default:pn((()=>[Yr(Di(ex),{slot:"start",onClick:U,icon:Di(LT),class:"size-7 text-gray2 mr-4"},null,8,["icon"]),Wr("div",j3,Ze("create"===e.type?"Tạo bài viết":"Sửa bài viết"),1),Wr("div",{onClick:G,slot:"end",class:We(["text-gray2 uppercase text-sm font-medium px-4 py-1 rounded-lg",Y.value?"bg-blue1 text-white":"bg-gray1"])},Ze("create"===e.type?"Đăng":"Sửa"),3)])),_:1})])),_:1}),Yr(Di(Kk),{color:"white"},{default:pn((()=>{var i,n,o,r,s,a,l;return[Wr("div",V3,[Wr("div",U3,[Wr("div",H3,[Wr("img",{src:null!==(i=null===(n=Di(P))||void 0===n?void 0:n.avatar)&&void 0!==i?i:"/icUser.png",class:"w-full rounded-full",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,q3)]),Wr("div",G3,[Wr("span",W3,Ze(null!==(o=null===(r=Di(P))||void 0===r?void 0:r.full_name)&&void 0!==o?o:"-"),1),e.isPersonal?Jr("",!0):($r(),jr(Dr,{key:0},[t[5]||(t[5]=Wr("span",{class:"pl-1"},Ze("đăng tại"),-1)),Wr("span",Y3,Ze(null!==(s=null===(a=Di(R))||void 0===a?void 0:a.name)&&void 0!==s?s:"-"),1)],64))])]),Wr("div",K3,[mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>z.title=e),class:"flex-1 w-full px-2 outline-none text-lg font-medium bg-white1 py-1",placeholder:"Tiêu đề"},null,512),[[fa,z.title]]),mn(Wr("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>z.description=e),class:"flex-1 w-full p-2 text-base min-h-28 outline-none rounded-lg my-2 bg-white1",placeholder:"Nhập nội dung"},null,512),[[fa,z.description]]),N.value&&!e.isPersonal?($r(),Vr(B3,{key:0,type:$.value,"onUpdate:type":t[2]||(t[2]=e=>$.value=e),content:F.value,"onUpdate:content":t[3]||(t[3]=e=>F.value=e),onClose:V},null,8,["type","content"])):Jr("",!0),Wr("div",Q3,[Wr("div",X3,[($r(!0),jr(Dr,null,vo(M.value,((e,t)=>{var i;return $r(),jr("div",{key:t,class:"size-40 rounded-lg overflow-hidden relative flex"},[Wr("img",{src:null!==(i=e.webPath)&&void 0!==i?i:Z(e),class:"size-40 w-full flex object-cover"},null,8,J3),Yr(Di(ex),{onClick:e=>(e=>{var t;null===(t=z.files)||void 0===t||t.splice(e,1),M.value.splice(e,1)})(t),icon:Di(LT),class:"size-5 absolute rounded-full top-2 text-black bg-white p-1 right-2"},null,8,["onClick","icon"])])})),128))]),($r(!0),jr(Dr,null,vo(O.value,((e,t)=>($r(),jr("div",{key:t},[($r(),jr("div",{class:"aspect-video rounded-lg overflow-hidden h-40 relative",key:t},[Yr(p3,{src:"youtube"===Di(uD)(e)?Di(dD)(e):e,"can-rotate":!1,controls:T,provider:Di(uD)(e)},null,8,["src","provider"]),Yr(Di(ex),{onClick:e=>(e=>{var t;null===(t=z.links)||void 0===t||t.splice(e,1),O.value.splice(e,1)})(t),icon:Di(LT),class:"size-5 absolute rounded-full top-2 text-black bg-white p-1 right-2"},null,8,["onClick","icon"])]))])))),128))])]),Wr("div",Z3,[Wr("div",e4,[Yr(Di(ex),{onClick:K,icon:Di(jT),class:"size-6 text-gray2 p-1"},null,8,["icon"]),Yr(Di(ex),{onClick:H,src:"/icons/icWatch.svg",class:"size-6 p-1"}),e.isPersonal?Jr("",!0):($r(),Vr(Di(ex),{key:0,onClick:j,icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M32 160v296a8 8 0 008 8h136V160a16 16 0 00-16-16H48a16 16 0 00-16 16zM320 48H192a16 16 0 00-16 16v400h160V64a16 16 0 00-16-16zM464 208H352a16 16 0 00-16 16v240h136a8 8 0 008-8V224a16 16 0 00-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-6 p-1 text-gray2"},null,8,["icon"])),e.isPersonal?Jr("",!0):($r(),jr("div",{key:1,onClick:Ta(q,["stop"]),class:"flex items-center ml-2 gap-1 text-sm text-gray2 font-medium"},[Xr(Ze((null===(l=L.value)||void 0===l?void 0:l.title)||"Chọn mục đăng")+" ",1),Yr(Di(ex),{icon:Di(TT),class:"size-4"},null,8,["icon"])]))]),e.isPersonal?Jr("",!0):($r(),jr("div",t4,[Yr(Di(Wk),{mode:"md",modelValue:z.send_email,"onUpdate:modelValue":t[4]||(t[4]=e=>z.send_email=e),alignment:"start",justify:"start","label-placement":"end",color:"blue1"},null,8,["modelValue"]),t[6]||(t[6]=Wr("div",{class:"flex items-center gap-2.5 text-sm text-gray2 font-medium"}," Gửi email đến toàn bộ thành viên ",-1))]))])])]})),_:1})],64))}}),n4=fS(i4,[["__scopeId","data-v-ba7a4267"]]),o4={class:"p-4 text-base font-normal"},r4={class:"mt-2 mb-1 text-sm font-light"},s4={class:"font-medium"},a4=jn({__name:"ModalConfirmBlockUser",props:{creator:{}},setup(e){const t=e,{community:i}=mC(oT()),n=async()=>ax.dismiss(null),o=async()=>{var e,n;const o=await SC.patch("user-community/black-list-user",{community_id:null===(e=i.value)||void 0===e?void 0:e._id,blacklist:null===(n=t.creator)||void 0===n?void 0:n._id});200!==o.status||bC.isEmpty(null==o?void 0:o.data)||await ax.dismiss("blocked")};return(e,t)=>{var i,r;return $r(),jr("div",o4,[t[3]||(t[3]=Wr("h3",null,"Xác nhận chặn người dùng",-1)),Wr("h4",r4,[t[0]||(t[0]=Xr(" Bạn có chắc chắn muốn chặn ")),Wr("span",s4,Ze(null===(i=e.creator)||void 0===i?void 0:i.full_name),1),t[1]||(t[1]=Xr(" không? ")),t[2]||(t[2]=Wr("div",null,"Sau khi chặn:",-1)),Wr("li",null,Ze(null===(r=e.creator)||void 0===r?void 0:r._id),1)]),t[4]||(t[4]=Wr("div",{class:"px-4 font-light text-sm"},[Wr("ul",{class:"list-disc"},[Wr("li",null,"Bạn sẽ không thấy bài viết của người này nữa."),Wr("li",null,"Người này cũng sẽ không thể xem bài viết và tương tác với bạn."),Wr("li",null,"Bạn có thể bỏ chặn bất cứ lúc nào trong cài đặt.")])],-1)),Wr("div",{class:"text-sm font-medium flex justify-end items-center gap-2 mt-2"},[Wr("div",{onClick:o,class:"bg-red-500 px-4 py-1 text-white rounded-lg"}," Chặn "),Wr("div",{onClick:n,class:"bg-gray1 px-4 py-1 rounded-lg"},"Huỷ")])])}}}),l4={class:"ion-padding h-[50%] bg-white1"},c4={class:"overflow-auto h-[95%] ion-padding-horizontal py-2.5 pb-8 bg-white mt-2 rounded-md"},d4={class:"font-nr"},u4={class:"font-medium"},h4=jn({__name:"ModalPostAction",props:{post:{},onCallback:{type:Function,default:()=>{}},onGetReportNumber:{type:Function,default:()=>{}},onCallbackBlockUserPost:{type:Function,default:()=>{}},isPage:{type:Boolean,default:!1}},setup(e){const t=Rw(),i=e,{userCommunity:n,usersLimitedByPackage:o}=mC(lT()),{topics:r}=mC(oT()),{userInfo:s}=mC(EC()),a=ks((()=>{const e=i.post;return!(null==e||!e.pin||null!=e&&e.pin_in)})),l=ks((()=>{const e=i.post;return!(null==e||!e.pin||!e.pin_in)})),c=ks((()=>{var e;return(null===(e=n.value)||void 0===e?void 0:e.role)===rT.Admin})),d=async e=>{try{var t;if("topic"===e&&(null===(t=i.post)||void 0===t||!t.topic_id))return void lS("Có lỗi xảy ra khi ghim danh mục. Vui lòng thử lại.","warning");if(!bC.isEmpty(null==i?void 0:i.post)){var n;const t={community_id:i.post.community_id};var o;if("topic"===e&&null!==(n=i.post)&&void 0!==n&&n.topic_id)t["filter[topic_id]"]=null===(o=i.post)||void 0===o?void 0:o.topic_id;const{status:r}=await SC.get(`/community-post/pin/${i.post._id}`,{params:t});200===r&&(i.onCallback(),lS("Ghim bài viết thành công","success"))}}catch(r){lS("Có lỗi xảy ra. Vui lòng thử lại.","warning")}finally{await ax.dismiss(null,"cancel")}},u=async()=>{try{if(!bC.isEmpty(i.post)){const{status:e}=await SC.get(`/community-post/unpin/${i.post._id}`,{params:{community_id:i.post.community_id}});200===e&&(lS("Đã bỏ ghim bài viết","success"),i.onCallback())}}catch(e){lS("Có lỗi xảy ra. Vui lòng thử lại.","warning")}finally{await ax.dismiss(null,"cancel")}},h=async()=>{await ax.dismiss(null,"cancel")},p=async()=>{if(await h(),o.value)return void lS("Tài khoản bị giới hạn!","warning");const e=await ax.create({component:H1,componentProps:{type:"post",post:null==i?void 0:i.post},cssClass:"reportpost"});await e.present();const{role:t}=await e.onWillDismiss();"success"===t&&(i.onGetReportNumber(),console.log("report succeeees"))},m=async e=>{try{var t;const n={disabled_comment:e},{status:o}=await SC.patch(`/community-post/${null===(t=i.post)||void 0===t?void 0:t._id}`,n);200===o||201===o?(i.onCallback(),lS(`Đã ${e?"tắt":"bật"} bình luận thành công!`,"success")):lS("Đã có lỗi xảy ra. Vui lòng thử lại!","error")}catch(n){lS("Đã có lỗi xảy ra. Vui lòng thử lại!","error")}finally{h()}},f=async()=>{try{var e,n;const o={post_id:null===(e=i.post)||void 0===e?void 0:e._id,community_id:null===(n=i.post)||void 0===n?void 0:n.community_id,is_hidden:0},{status:r}=await SC.post("/user-post",o);201===r?(i.isPage?t.back():i.onCallback(),lS("Ẩn bài viết thành công!","success")):lS("Đã có lỗi xảy ra. Vui lòng thử lại!","error")}catch(o){lS("Đã có lỗi xảy ra. Vui lòng thử lại!","error")}finally{h()}},g=async()=>{try{var e;const{status:n}=await SC.delete(`/community-post/${null===(e=i.post)||void 0===e?void 0:e._id}`);200===n?(i.isPage?t.back():i.onCallback(),lS("Gỡ bài viết thành công!","success")):lS("Đã có lỗi xảy ra. Vui lòng thử lại!","error")}catch(n){lS("Đã có lỗi xảy ra. Vui lòng thử lại!","error")}finally{h()}},b=async()=>{var e;await h();const t=await ax.create({component:n4,componentProps:{type:"edit",topics:null!==(e=r.value)&&void 0!==e?e:[],post:i.post},mode:"ios"});await t.present();const{role:n}=await t.onWillDismiss();"updated"===n&&i.onCallback()};console.log(i.post);return(e,t)=>{var n,o,r,v,y,k,w,x,_,E,C,A,T,S,I,P,D;return $r(),jr("div",l4,[Wr("section",c4,[c.value&&(null===(n=e.post)||void 0===n?void 0:n.type)===Di(z3).Community||(null===(o=Di(s))||void 0===o?void 0:o._id)===(null===(r=e.post)||void 0===r?void 0:r.creator_id)?($r(),jr("div",{key:0,onClick:b}," Chỉnh sửa ")):Jr("",!0),c.value&&(null===(v=e.post)||void 0===v?void 0:v.type)===Di(z3).Community?($r(),jr(Dr,{key:1},[a.value?($r(),jr("div",{key:1,onClick:u},"Bỏ ghim tất cả")):($r(),jr("div",{key:0,onClick:d},"Ghim tất cả")),null!==(y=e.post)&&void 0!==y&&y.topic_id?($r(),jr(Dr,{key:2},[l.value?($r(),jr("div",{key:1,onClick:u},"Bỏ ghim danh mục")):($r(),jr("div",{key:0,onClick:t[0]||(t[0]=e=>d("topic"))}," Ghim danh mục "))],64)):Jr("",!0),c.value||(null===(k=Di(s))||void 0===k?void 0:k._id)===(null===(w=e.post)||void 0===w?void 0:w.creator_id)?($r(),jr(Dr,{key:3},[null!==(x=e.post)&&void 0!==x&&x.disabled_comment?($r(),jr("div",{key:0,onClick:t[1]||(t[1]=e=>m(!1))}," Mở bình luận ")):null!==(_=e.post)&&void 0!==_&&_.disabled_comment?Jr("",!0):($r(),jr("div",{key:1,onClick:t[2]||(t[2]=e=>m(!0))}," Tắt bình luận "))],64)):Jr("",!0)],64)):Jr("",!0),Wr("div",{onClick:f},"Ẩn bài viết"),(null===(E=Di(s))||void 0===E?void 0:E._id)!==(null===(C=e.post)||void 0===C?void 0:C.creator_id)?($r(),jr("div",{key:2,onClick:p}," Báo cáo bài viết ")):Jr("",!0),(null===(A=Di(s))||void 0===A?void 0:A._id)!==(null===(T=e.post)||void 0===T?void 0:T.creator_id)?($r(),jr("div",{key:3,onClick:t[3]||(t[3]=t=>{var n;return(async e=>{await h();const t=await ax.create({component:a4,componentProps:{creator:e},mode:"ios",cssClass:"reportpost"});await t.present();const{data:n}=await t.onWillDismiss();"blocked"===n&&e&&i.onCallbackBlockUserPost(null==e?void 0:e._id)})(null===(n=e.post)||void 0===n?void 0:n.creator)})},[Wr("div",null,[Wr("p",d4,[t[4]||(t[4]=Xr(" Chặn ")),Wr("span",u4,Ze(null===(S=e.post)||void 0===S||null===(S=S.creator)||void 0===S?void 0:S.full_name),1)])])])):Jr("",!0),c.value&&(null===(I=e.post)||void 0===I?void 0:I.type)===Di(z3).Community||(null===(P=e.post)||void 0===P?void 0:P.creator_id)===(null===(D=Di(s))||void 0===D?void 0:D._id)?($r(),jr("div",{key:4,onClick:g,class:"text-red-500"},"Xóa bài viết")):Jr("",!0)])])}}}),p4=fS(h4,[["__scopeId","data-v-9aa85156"]]),m4={Waiting:1,Joined:2,Refuse:3,Leaved:4,WaitPay:5},f4={class:"flex-1 flex-col h-[75%] overflow-y-scroll pb-10 ion-padding"},g4={class:"flex items-center gap-4"},b4=["src"],v4={class:"font-normal text-lg"},y4=jn({__name:"ModalShowUserLiked",props:{post:{}},setup(e){const t=e,i=Ti([]),n=Ti(1),o=Ti(!1),r=async(e=1,r=!1)=>{var s;const a={"w[]":["responder"],"filter[post_id]":null===(s=t.post)||void 0===s?void 0:s._id,limit:15,page:e},{data:l}=await SC.get("/community-reaction",{params:a});var c,d;bC.isEmpty(l)?o.value=!1:(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(n.value++,o.value=!0):o.value=!1,i.value=r?[...i.value,...null!==(d=null==l?void 0:l.data)&&void 0!==d?d:[]]:null==l?void 0:l.data)};io((()=>{r(1,!1),n.value=1,o.value=!1}));const s=e=>{r(n.value,!0),setTimeout((()=>e.target.complete()),500)};return(e,t)=>($r(),jr(Dr,null,[t[0]||(t[0]=Wr("div",{class:"flex justify-between ion-padding items-center"},[Wr("div",{class:"text-lg font-medium"},"Người tương tác")],-1)),Yr(Di(Kk),{class:"flex-1 flex-col","scroll-y":!0},{default:pn((()=>[Wr("section",f4,[($r(!0),jr(Dr,null,vo(i.value,(e=>{var t,i;return $r(),jr("div",{key:null==e?void 0:e._id,class:"my-2 py-1.5"},[Wr("div",g4,[Wr("img",{src:null==e||null===(t=e.responder)||void 0===t?void 0:t.avatar,class:"size-11 rounded-full"},null,8,b4),Wr("div",v4,Ze(null==e||null===(i=e.responder)||void 0===i?void 0:i.full_name),1)])])})),128)),o.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:s,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])])),_:1})],64))}}),k4={class:"flex gap-2 px-2 overflow-x-scroll pb-4 scrollbar-hidden"},w4=["onClick"],x4=["src"],_4={key:1,class:"h-48 bg-[#ddd] aspect-video rounded-lg overflow-hidden"},E4=jn({__name:"PostAttachments",props:{attachments:{}},setup(e){const t=e=>e.url?e.url.match(/^http/)?e.url:`https://unica.expert/storage/${e.url}`:"";return(e,i)=>($r(),jr("div",k4,[($r(!0),jr(Dr,null,vo(e.attachments,((e,i)=>($r(),jr("div",{key:i},[e.url?($r(),jr("div",{key:0,class:"size-48 overflow-hidden flex",onClick:i=>(async e=>{const t=await ax.create({component:aR,componentProps:{imgSrc:e},cssClass:"img-viewer"});await t.present()})(t(e))},[Wr("img",{src:t(e),class:"size-48 rounded-lg aspect-square"},null,8,x4)],8,w4)):Jr("",!0),e.embed_url?($r(),jr("div",_4,[Yr(p3,{"can-rotate":!1,src:"youtube"===Di(uD)(e.embed_url)?Di(dD)(e.embed_url):e.embed_url,controls:["progress","volume","fullscreen","current-time","play-large","play","settings"],provider:Di(uD)(e.embed_url)},null,8,["src","provider"])])):Jr("",!0)])))),128))]))}}),C4={OneChoice:1,MultipleChoice:2},A4={class:"h-[60%] overflow-y-scroll flex-1 flex-col ion-padding"},T4={class:"text-black font-medium text-lg mb-2"},S4={key:0},I4={class:"flex items-center gap-2 py-2"},P4=["src"],D4={class:"text-base font-medium text-black"},R4={class:"text-sm font-light text-black"},L4={key:1,class:"flex flex-col mt-[15%] items-center"},M4=jn({__name:"ModalVotedUser",props:{data:{},pollId:{}},setup(e){const t=e,i=Ti([]),n=Ti(1),o=Ti(!1),r=async(e=1,r=!1)=>{var s;const{data:a}=await SC.get(`/community-post-poll/${t.pollId}/${null===(s=t.data)||void 0===s?void 0:s._id}/voters`,{params:{page:e,limit:20}});var l,c,d;bC.isEmpty(a)?o.value=!1:(null!=a&&null!==(l=a.meta)&&void 0!==l&&l.hasNextPage?(n.value++,o.value=!0):o.value=!1,i.value=r?[...i.value,...null!==(c=null==a?void 0:a.data)&&void 0!==c?c:[]]:null!==(d=null==a?void 0:a.data)&&void 0!==d?d:[])};io((()=>{r(1,!1)}));const s=e=>{r(n.value,!0),setTimeout((()=>e.target.complete()),500)};return(e,t)=>($r(),Vr(Di(Kk),{class:"flex-1 flex-col","scroll-y":!0},{default:pn((()=>{var n,r;return[Wr("section",A4,[Wr("div",T4,Ze(null!==(n=Number(null===(r=e.data)||void 0===r?void 0:r.total))&&void 0!==n?n:0)+" bình chọn ",1),Di(bC.isEmpty)(i.value)?($r(),jr("div",L4,t[0]||(t[0]=[Wr("img",{src:jZ,class:"size-32"},null,-1),Wr("div",{class:"text-gray2 font-normal"},"Chưa có bình chọn",-1)]))):($r(),jr("div",S4,[($r(!0),jr(Dr,null,vo(i.value,(e=>{var t;return $r(),jr("div",{key:e._id},[Wr("div",I4,[Wr("img",{src:null!==(t=e.voter.avatar)&&void 0!==t?t:"/icUser.png",class:"size-11 rounded-full flex"},null,8,P4),Wr("div",null,[Wr("div",D4,Ze(e.voter.full_name),1),Wr("div",R4,Ze(e.voter.bio),1)])])])})),128))]))]),o.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:s},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)]})),_:1}))}}),O4={key:0},N4=["src"],$4={key:0,class:"text-xs font-medium ml-0.5 text-black"},F4=jn({__name:"PollVotedUser",props:{data:{},pollId:{}},setup(e){const t=e,i=async()=>{const e=await ax.create({component:M4,componentProps:{data:t.data,pollId:t.pollId},initialBreakpoint:.6,mode:"ios"});await e.present()};return(e,t)=>{var n,o,r,s;return Di(bC.isEmpty)(null===(n=e.data)||void 0===n?void 0:n.votes)?Jr("",!0):($r(),jr("section",O4,[Wr("div",{class:"flex items-center",onClick:i},[($r(!0),jr(Dr,null,vo(null===(o=e.data)||void 0===o?void 0:o.votes.slice(0,2),((t,i)=>{var n;return $r(),jr("div",{key:t._id,class:"relative flex size-7 items-center"},[Wr("img",{src:t.voter.avatar,class:We(["size-7 rounded-full absolute",1!==i&&Number(null===(n=e.data)||void 0===n?void 0:n.votes.length)>1&&"left-2.5"])},null,10,N4)])})),128)),Number(null===(r=e.data)||void 0===r?void 0:r.total)>2?($r(),jr("span",$4,Ze(Number(null===(s=e.data)||void 0===s?void 0:s.total)-2)+"+",1)):Jr("",!0)])]))}}}),B4={class:"px-1 w-full"},z4={key:0,class:"text-sm flex items-center mt-4 gap-1.5 font-medium text-green-600"},j4={key:0},V4={class:"flex text-wrap bg-[#f1f1f1] px-2.5 py-1.5 rounded-lg w-full gap-1 items-center"},U4={class:"flex-1"},H4={key:1},q4={class:"bg-[#f1f1f1] w-full px-2.5 py-1.5 rounded-lg flex items-center gap-1"},G4={class:"flex-1"},W4=jn({__name:"PollVote",props:{poll:{},disabled:{type:Boolean,default:!1},isAPage:{type:Boolean,default:!1}},setup(e){const t=e,{userInfo:i}=mC(EC()),n=Ti([]),o=Ti(),r=Ti(),s=Ti(!1),a=Ti([]),l=ks((()=>{var e;return null===(e=t.poll)||void 0===e?void 0:e.type})),c=async(e=!1)=>{var s,l;const{data:c}=await SC.get(`/community-post-poll/${null==t||null===(s=t.poll)||void 0===s?void 0:s._id}/latest-vote`),d=null===(l=t.poll)||void 0===l?void 0:l.options,u=null==d?void 0:d.map((e=>{var t,i;const n=null!==(t=null==c||null===(i=c.data)||void 0===i?void 0:i.find((t=>t._id===e._id)))&&void 0!==t?t:void 0;return{...e,vote:null!=n?n:void 0}}));if(a.value=null!=u?u:[],bC.isEmpty(c))return;r.value=c;const h=c.data.map((e=>e.votes));if(!bC.isEmpty(h))for(const t of h)if(!bC.isEmpty(t)){const r=t.find((e=>{var t;return e.voter_id===(null===(t=i.value)||void 0===t?void 0:t._id)}));!bC.isEmpty(r)&&e&&(n.value.push(r.option_id),o.value=r.option_id)}};io((()=>{c(!0)}));const d=async e=>{s.value=!0;try{var i,n;if(null===(i=t.poll)||void 0===i||!i._id)return void(s.value=!1);const{status:o}=await SC.post(`/community-post-poll/${null==t||null===(n=t.poll)||void 0===n?void 0:n._id}/vote`,{option_ids:e});201===o&&(lS("Bạn đã bỏ phiếu thành công","success"),await c())}catch(o){lS("Có lỗi xảy ra. Vui lòng thử lại.","warning")}finally{s.value=!1}},u=async e=>{if(e.detail.value){const t=[e.detail.value];bC.isEmpty(t)||await d(t)}};return(e,t)=>{var i,c,h,p;return $r(),jr(Dr,null,[Wr("section",B4,[e.isAPage?($r(),jr(Dr,{key:1},[l.value===Di(C4).OneChoice?($r(),jr("div",j4,[Yr(Di(lw),{value:o.value,modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),onIonChange:u},{default:pn((()=>{var t,i,n;return[($r(!0),jr(Dr,null,vo(null!==(t=null!==(i=a.value)&&void 0!==i?i:null===(n=e.poll)||void 0===n?void 0:n.options)&&void 0!==t?t:[],((t,i)=>{var n;return $r(),jr("div",{key:i,class:"py-1.5 flex items-center gap-2 w-full"},[Yr(Di(aw),{disabled:e.disabled,alignment:"center","label-placement":"end",mode:"md",value:t._id,color:"blue1",justify:"start"},null,8,["disabled","value"]),Wr("div",V4,[Wr("div",U4,Ze(t.option),1),Yr(F4,{data:t.vote,"poll-id":null===(n=e.poll)||void 0===n?void 0:n._id},null,8,["data","poll-id"])])])})),128))]})),_:1},8,["value","modelValue"])])):l.value===Di(C4).MultipleChoice?($r(),jr("div",H4,[($r(!0),jr(Dr,null,vo(null!==(c=null!==(h=a.value)&&void 0!==h?h:null===(p=e.poll)||void 0===p?void 0:p.options)&&void 0!==c?c:[],(t=>{var i;return $r(),jr("div",{key:t._id,class:"py-1.5 flex items-center gap-2 w-full"},[Yr(Di(Wk),{disabled:e.disabled,mode:"md",checked:n.value.includes(t._id),onIonChange:e=>(async(e,t)=>{let i=null;const o=n.value;i=e.detail.checked?[...null!=o?o:[],t]:o.filter((e=>e!==t)),n.value=i,null!==i&&await d(i)})(e,t._id)},null,8,["disabled","checked","onIonChange"]),Wr("div",q4,[Wr("div",G4,Ze(t.option),1),Yr(F4,{data:t.vote,"poll-id":null===(i=e.poll)||void 0===i?void 0:i._id},null,8,["data","poll-id"])])])})),128))])):Jr("",!0)],64)):($r(),jr("div",z4,[t[1]||(t[1]=Wr("div",{class:"px-3 border-green-600 border-[1px] rounded-lg py-0.5"}," Bình chọn ",-1)),Wr("div",null,Ze(null===(i=r.value)||void 0===i?void 0:i.uniqueVotes)+" thành viên đã bỏ phiếu",1)]))]),Yr(dS,{"is-open":s.value},null,8,["is-open"])],64)}}}),Y4={class:"rounded-lg overflow-hidden"},K4={key:0,class:"bg-orange-200/70 font-medium text-sm ion-padding-horizontal py-2 flex items-center gap-2"},Q4={class:"bg-white ion-padding"},X4={class:"flex items-center"},J4={class:"size-12 rounded-full flex relative"},Z4=["src"],e6={class:"flex flex-1 items-center"},t6={class:"line-clamp-1"},i6={class:"text-sm font-medium text-gray2 flex items-center gap-2 text-nowrap"},n6={class:"text-black2 text-wrap line-clamp-1"},o6={class:"flex items-center gap-2 overflow-x-hidden"},r6={class:"flex-1"},s6=["innerHTML"],a6={key:0},l6=["src"],c6={key:1,class:"relative flex justify-center size-20 items-center"},d6=["src"],u6={class:"bg-red-500 size-5 rounded-full items-center justify-center flex absolute"},h6={key:0,class:"mt-4 overflow-x-scroll w-full"},p6={key:1},m6={class:"mt-4 flex items-center gap-5"},f6={class:"flex items-center text-sm font-medium text-gray2"},g6={class:"flex items-center text-sm font-medium text-gray2"},b6={class:"flex items-center"},v6={key:0},y6={key:1},k6=jn({__name:"DiscussPost",props:{onOptionPress:{type:Function,default:()=>{}},onPostPress:{type:Function,default:()=>{}},onCallbackLike:{type:Function,default:()=>{}},onCallbackShowLikes:{type:Function,default:()=>{}},isAPage:{type:Boolean,default:!1},showOption:{type:Boolean,default:!0},post:{},commentCount:{}},setup(e){var t,i,n,o;const r=EC(),s=lT(),a=oT(),{isLoggedIn:l,userInfo:c}=mC(r),{community:d}=mC(a),{userCommunity:u}=mC(s),h=e,p=Ti((null===(t=h.post)||void 0===t||null===(t=t.user_reaction)||void 0===t?void 0:t.responder_id)==(null===(i=c.value)||void 0===i?void 0:i._id)&&l.value),m=Ti(null!==(n=null===(o=h.post)||void 0===o?void 0:o.total_reactions)&&void 0!==n?n:0),f=Ti(0),g=ks((()=>{var e,t,i;return!(!u.value||u.value.role!==rT.Member||null===(e=d.value)||void 0===e||!e.member_last_limit_package)&&aT(null===(t=d.value)||void 0===t?void 0:t.member_last_limit_package).isBefore(null===(i=u.value)||void 0===i?void 0:i.created_at)})),b=e=>e.url?e.url.match(/^http/)?e.url:`https://unica.expert/storage/${e.url}`:"",v=async()=>{if(5==f.value)return void lS("Bạn đã đạt giới hạn like bài viết này vui lòng load lại trang để tiếp tục","warning");if((u.value&&u.value.status===m4.Joined?!g.value||(lS("Tài khoản bị giới hạn!","warning"),!1):(lS("Bạn phải là thành viên của cộng đồng trước. Hãy đăng ký làm thành viên.","warning"),!1))&&l.value&&f.value<5){var e,t,i,n;const o={post_id:null===(e=h.post)||void 0===e?void 0:e._id,responder_id:null===(t=c.value)||void 0===t?void 0:t._id,community_id:null===(i=d.value)||void 0===i?void 0:i._id},{data:r}=await SC.post("/community-reaction",o);(null==r?void 0:r.responder_id)===(null===(n=c.value)||void 0===n?void 0:n._id)?(m.value++,p.value=!0):(m.value>0&&m.value--,p.value=!1),f.value++}},y=async()=>{const e=await ax.create({component:y4,componentProps:{post:null==h?void 0:h.post},mode:"ios",initialBreakpoint:.75,cssClass:"userLike"});await e.present()};return(e,t)=>{var i,n,o,r,s,a,l,c,d,u,h,f,g,k,w,x,_,E,C,A,T,S,I,P,D,R,L,M;return $r(),jr("div",Y4,[e.isAPage||Di(bC.isEmpty)(null===(i=e.post)||void 0===i?void 0:i.pin)?Jr("",!0):($r(),jr("div",K4,[Yr(Di(ex),{src:"/icons/icPin.svg",class:"size-[18px]"}),t[2]||(t[2]=Xr(" Đã ghim "))])),Wr("div",Q4,[Wr("section",X4,[Wr("div",J4,[Wr("img",{src:null!==(n=null===(o=e.post)||void 0===o||null===(o=o.creator)||void 0===o?void 0:o.avatar)&&void 0!==n?n:"/upload-user.png",class:"w-full rounded-full",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,Z4)]),Wr("div",{class:"text-sm font-medium flex-1 mx-3",onClick:t[0]||(t[0]=Ta((t=>{var i,n;return n=null===(i=e.post)||void 0===i||null===(i=i.creator)||void 0===i?void 0:i._id,void SAe.push({name:"DetectUserCommunityScreen",params:{userId:n}})}),["stop"]))},[Wr("div",e6,[Wr("div",t6,Ze(null===(r=e.post)||void 0===r||null===(r=r.creator)||void 0===r?void 0:r.full_name),1)]),Wr("div",i6,[Xr(Ze(Di(aT)(null===(s=e.post)||void 0===s?void 0:s.created_at).from(Di(aT)()))+" ",1),Wr("span",n6,Ze(null===(a=e.post)||void 0===a||null===(a=a.topic)||void 0===a?void 0:a.title),1)])]),e.showOption&&(null===(l=e.post)||void 0===l?void 0:l.type)!==Di(z3).User?($r(),Vr(Di(ex),{key:0,onClick:e.onOptionPress,icon:Di($T),class:"size-6 text-gray2"},null,8,["onClick","icon"])):Jr("",!0)]),Wr("div",{onClick:t[1]||(t[1]=(...t)=>e.onPostPress&&e.onPostPress(...t))},[Wr("div",o6,[Wr("div",r6,[Wr("div",{class:We(["my-3 text-base font-medium uppercase text-black2 text-wrap truncate",!e.isAPage&&"line-clamp-1"])},Ze(null===(c=e.post)||void 0===c?void 0:c.title),3),Wr("div",{class:We(["text-base font-light text-black2 flex-1",!e.isAPage&&"line-clamp-3"])},[Wr("div",{innerHTML:null===(d=e.post)||void 0===d||null===(d=d.description)||void 0===d?void 0:d.trim(),class:"w-full"},null,8,s6)],2)]),e.isAPage?Jr("",!0):($r(),jr("div",a6,[null!==(u=e.post)&&void 0!==u&&u.attachments&&Di(bC.isEmpty)(null===(h=e.post)||void 0===h||null===(h=h.attachments[0])||void 0===h?void 0:h.embed_url)&&null!==(f=e.post)&&void 0!==f&&null!==(f=f.attachments[0])&&void 0!==f&&f.url&&b(null===(g=e.post)||void 0===g?void 0:g.attachments[0])?($r(),jr("img",{key:0,src:null!==(k=b(e.post.attachments[0]))&&void 0!==k?k:"https://placehold.co/100/ddd/ddd",class:"size-20 rounded-md my-1 object-cover",placeholder:"https://placehold.co/100/ddd/ddd"},null,8,l6)):null!==(w=e.post)&&void 0!==w&&w.attachments&&!Di(bC.isEmpty)(null===(x=e.post)||void 0===x||null===(x=x.attachments[0])||void 0===x?void 0:x.embed_url)?($r(),jr("div",c6,[Wr("img",{src:null!==(_=Di(cD)(null!==(E=null===(C=e.post)||void 0===C||null===(C=C.attachments[0])||void 0===C?void 0:C.embed_url)&&void 0!==E?E:""))&&void 0!==_?_:"https://placehold.co/100/ddd/ddd",class:"size-20 rounded-md my-1 object-cover",placeholder:"https://placehold.co/100/ddd/ddd"},null,8,d6),Wr("div",u6,[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z'/></svg>"),class:"text-white size-3"},null,8,["icon"])])])):Jr("",!0)]))]),e.isAPage?($r(),jr("div",h6,[Di(bC.isEmpty)(null===(A=e.post)||void 0===A?void 0:A.attachments)?Jr("",!0):($r(),Vr(E4,{key:0,attachments:null===(T=e.post)||void 0===T?void 0:T.attachments},null,8,["attachments"]))])):Jr("",!0),Di(bC.isEmpty)(null===(S=e.post)||void 0===S?void 0:S.poll)?Jr("",!0):($r(),jr("div",p6,[Wr("div",null,[Di(bC.isEmpty)(null===(I=e.post)||void 0===I?void 0:I.poll)?Jr("",!0):($r(),Vr(W4,{key:0,disabled:!e.isAPage,poll:null===(P=e.post)||void 0===P?void 0:P.poll,"is-a-page":e.isAPage},null,8,["disabled","poll","is-a-page"]))])])),Wr("div",m6,[Wr("div",f6,[Wr("div",{onClick:Ta(v,["stop"]),class:"flex items-center p-1"},[Yr(Di(ex),{src:p.value?"/icons/icThumbupsFill.svg":"/icons/icThumbups.svg",class:"size-5"},null,8,["src"])]),e.isAPage?($r(),jr("span",{key:0,onClick:Ta(y,["stop"])}," Thích "+Ze("(")+Ze(m.value)+Ze(")"),1)):($r(),jr("span",{key:1,onClick:Ta(y,["stop"])},Ze(null!==(D=m.value)&&void 0!==D?D:0),1))]),Wr("div",g6,[Wr("div",b6,[Yr(Di(ex),{src:"/icons/icChatBubble.svg",class:"size-5 mr-2"})]),e.isAPage?($r(),jr("span",v6,"Bình luận "+Ze("("))):Jr("",!0),Xr(Ze(null!==(R=null!==(L=e.commentCount)&&void 0!==L?L:null===(M=e.post)||void 0===M?void 0:M.total_comments)&&void 0!==R?R:0),1),e.isAPage?($r(),jr("span",y6,Ze(")"))):Jr("",!0)])])])])])}}}),w6={class:"ion-padding mt-1"},x6=jn({__name:"ModalDissFollow",setup(e){const t=async e=>{ax.dismiss(e,"confirm")};return(e,i)=>($r(),jr("section",w6,[Wr("div",{onClick:t,class:"flex items-center pb-4 gap-3"},i[0]||(i[0]=[Wr("img",{src:"/icons/icUnfollow.png",class:"size-6"},null,-1),Wr("span",{class:"font-medium text-base"},"Bỏ theo dõi",-1)]))]))}}),_6={class:"space-y-5 p-4 my-2 rounded-lg border bg-white"},E6={class:"font-medium text-lg"},C6={key:0},A6=["onClick"],T6=["src"],S6={class:"flex-col gap-2"},I6={class:"flex gap-2 w-64"},P6={class:"text-zinc-950 text-lg font-semibold cursor-pointer truncate"},D6={class:"flex items-center gap-2"},R6={class:"text-neutral-500 text-sm font-light"},L6={class:"text-neutral-500 text-sm font-light"},M6={class:"text-neutral-500 text-sm font-light"},O6={key:0},N6={key:1},$6=jn({__name:"UserWallCommunities",props:{label:{},data:{},onCardClick:{type:Function,default:()=>{}},onChangeTabListCommunityUser:{type:Function,default:()=>{}}},setup:e=>(e,t)=>($r(),jr("div",_6,[Wr("h1",E6,Ze(e.label),1),e.data?($r(),jr("div",C6,[($r(!0),jr(Dr,null,vo(e.data.data,(i=>{var n,o,r,s,a,l,c,d;return $r(),jr("div",{key:i._id,class:"flex-col w-full"},[Wr("use",{onClick:t=>e.onCardClick(i.community),class:"flex items-center gap-3 w-full pb-4"},[Wr("img",{src:null!==(n=null===(o=i.community)||void 0===o?void 0:o.icon)&&void 0!==n?n:"/favicon.ico",class:"w-12 h-12 rounded-lg shadow",fit:"cover",placeholder:"favicon.ico"},null,8,T6),Wr("div",S6,[Wr("div",I6,[Wr("span",P6,Ze(null===(r=i.community)||void 0===r?void 0:r.name),1)]),Wr("div",D6,[Wr("div",R6,Ze(0===(null===(s=i.community)||void 0===s?void 0:s.status)?"Riêng tư":"Công khai"),1),t[1]||(t[1]=Wr("div",{class:"w-1 h-1 text-gray-500 bg-black rounded-full"},null,-1)),Wr("div",L6,Ze(null!==(a=null===(l=i.community)||void 0===l?void 0:l.total_member)&&void 0!==a?a:0)+" thành viên ",1),t[2]||(t[2]=Wr("div",{class:"w-1 h-1 text-gray-500 bg-black rounded-full"},null,-1)),Wr("div",M6,[null==(null===(c=i.community)||void 0===c||null===(c=c.communityFee)||void 0===c?void 0:c.price)?($r(),jr("div",O6," Miễn phí ")):($r(),jr("div",N6," Giá "+Ze(null===(d=i.community)||void 0===d||null===(d=d.communityFee)||void 0===d||null===(d=d.price)||void 0===d?void 0:d.toLocaleString("vi-VN"))+"đ ",1))])])])],8,A6)])})),128))])):Jr("",!0),e.data&&e.data.meta.itemCount>1?($r(),jr("div",{key:1,onClick:t[0]||(t[0]=(...t)=>e.onChangeTabListCommunityUser&&e.onChangeTabListCommunityUser(...t)),class:"flex font-medium items-center justify-center w-full bg-gray-100 rounded-lg p-2 text-center"}," Xem tất cả cộng đồng ")):Jr("",!0)]))});var F6=(e=>(e.Pending="pending",e.Accepted="accepted",e))(F6||{});const B6={slot:"start",class:"flex items-center p-3"},z6={class:"ion-padding pb-10"},j6={key:0,class:"flex-col items-start gap-3 inline-flex w-full border p-4 rounded-lg bg-white"},V6={class:"bg-white rounded-lg items-center w-full"},U6={class:"size-36 mx-auto relative"},H6=["src"],q6={class:"text-center mt-3 mx-auto"},G6={class:"text-[#050505] text-[20px] font-medium"},W6={key:0,class:"text-sm font-light text-[#929292] flex justify-center items-center gap-x-1"},Y6={class:"text-[#003555] text-sm font-medium py-2"},K6={class:"text-zinc-950 text-base font-light"},Q6={class:"flex items-center space-x-2"},X6=["onClick"],J6={class:"flex items-center space-x-2"},Z6={class:"text-xs text-gray-500"},e8={class:"font-medium"},t8={class:"justify-start items-center gap-2 inline-flex"},i8={class:"text-gray-500 text-base font-light"},n8={class:"grid grid-cols-3 w-full"},o8={key:0,class:"border-t border-b text-center py-4"},r8={class:"flex-col justify-start items-center gap-2 inline-flex"},s8={class:"text-zinc-950 text-base font-semibold"},a8={class:"border-l border-t border-b text-center py-4"},l8={class:"flex-col justify-start items-center gap-2 inline-flex"},c8={class:"text-zinc-950 text-base font-semibold"},d8={class:"border-l border-t border-b text-center py-4"},u8={class:"flex-col justify-start items-center gap-2 inline-flex"},h8={class:"text-zinc-950 text-base font-semibold"},p8={class:"flex gap-2.5 flex-1 w-full"},m8={class:"bg-white px-4 rounded-lg shadow-sm py-2"},f8={key:0,class:"flex items-center justify-between py-1"},g8={class:"flex-[0.65] text-sm text-gray-500"},b8={class:"truncate"},v8={class:"size-9"},y8=["src"],k8={class:"mt-1.5"},w8={key:0},x8={key:0,class:"text-base text-gray2 text-center py-2"},_8={key:1},E8={key:0,class:"text-center mt-1.5 bg-white p-2 rounded-lg"},C8=jn({__name:"DetectUserCommunityScreen",setup(e){const t=By(),i=Rw(),n=EC(),o=FP(),r=OD(),{userInfo:s}=mC(n),a=oT(),{community:l,communityLevel:c}=mC(a),d=Ti(),u=Ti(),h=Ti(),p=Ti([]),m=Ti(),f=Ti(),g=Ti(l.value),b=Ti(),v=Ti(),y=Ti(0),k=Ti([]),w=Ti(1),x=Ti(!1),_=Ti(),E=()=>{i.push({name:"ListCommunityUserScreen",params:{userId:t.params.userId}},iT)},C=()=>{var e,n;i.push({name:"ListCommunityUserScreen",params:{userId:t.params.userId,username:null!==(e=null===(n=m.value)||void 0===n?void 0:n.full_name)&&void 0!==e?e:""}},iT)},A=async()=>{const e=await ax.create({component:F1,mode:"ios",cssClass:"noteLevel"});await e.present()},T=async()=>{const{data:e}=await SC.get(`/users/${t.params.userId}`);m.value=null!=e?e:[]},S=async e=>{const i={community_id:e},{data:n}=await SC.get(`/users/${t.params.userId}/contribute`,{params:i});b.value=n},I=async()=>{var e;const i={"filter[user_id]":null===(e=s.value)||void 0===e?void 0:e._id,"filter[follower_id]":t.params.userId},{data:n}=await SC.get("/user-followers",{params:i});v.value=null==n?void 0:n.data},P=async()=>{if(bC.isEmpty(v.value)){var e;await SC.post("/user-followers",{user_id:null===(e=s.value)||void 0===e?void 0:e._id,follower_id:t.params.userId})&&(await I(),await T())}else{const e=await ax.create({component:x6,componentProps:{dataFollow:m.value},initialBreakpoint:.15,breakpoints:[0,.15],mode:"ios"});await e.present();const{role:n}=await e.onWillDismiss();if("confirm"===n){var i;await SC.delete(`/user-followers/${v.value[0]._id}`,{data:{user_id:null===(i=s.value)||void 0===i?void 0:i._id,follower_id:t.params.userId}})&&(await I(),await T())}}},D=async()=>{const e=await ax.create({component:M1,initialBreakpoint:.75,mode:"ios"});await e.present();const{data:t,role:i}=await e.onWillDismiss();"confirm"===i&&(h.value=t,R(null==t?void 0:t.community_id),S(null==t?void 0:t.community_id))},R=async e=>{const i={"w[]":["creator","topic","total_comments","total_reactions","user_reaction","poll"],"wo[]":["user_posts"],limit:1,page:1,"filter[community_id]":e,"filter[creator_id]":t.params.userId},{data:n}=await SC.get("/community-post/profile",{params:i});var o;bC.isEmpty(n)||(p.value=null!==(o=null==n?void 0:n.data)&&void 0!==o?o:[])},L=async e=>{const t=await ax.create({component:p4,componentProps:{post:e},initialBreakpoint:.5,mode:"ios"});await t.present()},M=e=>{e&&i.push({name:"PostDetailScreen",params:{postId:e._id}})},O=async()=>{const e=await ax.create({component:n4,componentProps:{type:"create",isPersonal:!0}});await e.present();const{role:t}=await e.onWillDismiss();"posted"===t&&(F(),w.value=1,x.value=!1)},N=async e=>{a.setCommunity(e),i.push({name:"CommunityScreen",params:{id:e.short_name||e._id}},iT)},$=()=>{var e,n,o,r,s,a;(null!==(e=h.value)&&void 0!==e&&e.community_id||null!==(n=g.value)&&void 0!==n&&n._id)&&i.push({name:"UserCommunityContributeScreen",params:{communityId:(null===(o=h.value)||void 0===o?void 0:o.community_id)||(null===(r=g.value)||void 0===r?void 0:r._id),userId:t.params.userId,name:(null===(s=h.value)||void 0===s||null===(s=s.community)||void 0===s?void 0:s.name)||(null===(a=g.value)||void 0===a?void 0:a.name)}},iT)},F=async(e=1,i=!1)=>{var n;const{data:o}=await SC.get("/community-post/profile",{params:{"w[]":["creator","total_comments","total_reactions","user_reaction"],"wo[]":["user_posts"],"filter[creator_id]":null===(n=t.params)||void 0===n?void 0:n.userId,"filter[community_id]":"null",page:e,limit:15}});var r,s,a;bC.isEmpty(o)?x.value=!1:(null!=o&&null!==(r=o.meta)&&void 0!==r&&r.hasNextPage?(w.value++,x.value=!0):x.value=!1,k.value=i?[...k.value,...null!==(s=null==o?void 0:o.data)&&void 0!==s?s:[]]:null!==(a=null==o?void 0:o.data)&&void 0!==a?a:[])},B=e=>{F(w.value,!0),setTimeout((()=>e.target.complete()),500)};io((()=>{(async()=>{const e=await SC.get(`/user-community/profile/${t.params.userId}`,{params:{page:1,limit:1}});var i,n,o,r,s,a,c;f.value=e.data,bC.isEmpty(e.data)||(g.value=null==e||null===(i=e.data)||void 0===i||null===(i=i.data[0])||void 0===i?void 0:i.community,R(null!==(n=null==e||null===(o=e.data)||void 0===o||null===(o=o.data[0])||void 0===o||null===(o=o.community)||void 0===o?void 0:o._id)&&void 0!==n?n:null===(r=l.value)||void 0===r?void 0:r._id),S(null!==(s=null==e||null===(a=e.data)||void 0===a||null===(a=a.data[0])||void 0===a||null===(a=a.community)||void 0===a?void 0:a._id)&&void 0!==s?s:null===(c=l.value)||void 0===c?void 0:c._id))})(),(async()=>{var e;const{data:i}=await SC.get("/friend-ship/check-friendship",{params:{senderId:null===(e=s.value)||void 0===e?void 0:e._id,receiverId:t.params.userId}});console.log("checkFriend",i),_.value=i})(),(async()=>{const{data:e}=await SC.get(`/user-community/profile/${t.params.userId}`,{params:{page:1,limit:1,"filter[role]":2}});u.value=null!=e?e:void 0})(),T(),(async()=>{try{var e,i,n,o;const r={"w[]":["level"],"filter[community_id]":null===(e=l.value)||void 0===e?void 0:e._id,"filter[user_id]":t.params.userId},{data:s}=await SC.get("/user-community",{params:r}),a=null===(i=c.value)||void 0===i||null===(i=i.find((e=>e.level_id===(null==s?void 0:s.data[0].level_id))))||void 0===i?void 0:i.name;if(bC.isEmpty(a)||null==s||null===(n=s.data[0])||void 0===n||!n.level)return"";d.value=(null==s||null===(o=s.data[0])||void 0===o||null===(o=o.level)||void 0===o?void 0:o.name)+" - "+a}catch(r){console.error("❌ Error fetching user communities:",r)}})(),I(),(async()=>{const e={community_id:void 0},{data:i}=await SC.get(`/users/${t.params.userId}/contribute`,{params:e}),n=(null==i?void 0:i.totalPosts)+(null==i?void 0:i.totalComments)+(null==i?void 0:i.totalReactions);y.value=n})(),F(),w.value=1,x.value=!1}));const z=()=>i.back(),j=()=>{return bC.isEmpty(_.value)?{action:V,label:"Kết bạn"}:_.value.status===F6.Accepted?{label:"Bạn bè",action:G}:_.value.status===F6.Pending?_.value.sender_id===(null===(e=s.value)||void 0===e?void 0:e._id)?{label:"Hủy lời mời",action:H}:{label:"Phản hồi",action:q}:void 0;var e},V=async()=>{var e;const{status:i,data:n}=await SC.post("/friend-ship",{senderId:null===(e=s.value)||void 0===e?void 0:e._id,receiverId:t.params.userId,status:F6.Pending});201===i&&(_.value=n)},U=async()=>{const{status:e}=await SC.delete("/friend-ship",{data:{receiverId:t.params.userId}});200===e&&(_.value=void 0)},H=async()=>{const e=await cx.create({mode:"ios",backdropDismiss:!1,header:"Huỷ lời mời kết bạn?",buttons:[{text:"Xác nhận",cssClass:"fcb",handler:U},{text:"Bỏ qua",role:"cancel",cssClass:"fcn"}]});await e.present()},q=async()=>{const e=await ax.create({mode:"ios",component:x0,initialBreakpoint:.35,breakpoints:[0,.35]});await e.present()},G=async()=>{const e=await ax.create({mode:"ios",component:C0,initialBreakpoint:.15,breakpoints:[0,.15]});await e.present();const{role:t}=await e.onWillDismiss();"remove"===t&&H()};return(e,n)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",B6,[Yr(Di(ex),{onClick:z,icon:Di(AT),class:"size-6 mr-4"},null,8,["icon"]),n[3]||(n[3]=Wr("img",{src:QE,class:"w-auto size-7"},null,-1))])])),_:1})])),_:1}),Yr(Di(Kk),{color:"white1"},{default:pn((()=>{var e,a,c,w,_,T,S,I,R,F,z,V,U,H,q,G,W,Y,K,Q,X,J,Z,ee,te,ie,ne,oe,re,se,ae,le;return[Wr("div",z6,[m.value?($r(),jr("div",j6,[Wr("div",V6,[Wr("div",U6,[Wr("img",{src:null!==(e=null===(a=m.value)||void 0===a?void 0:a.avatar)&&void 0!==e?e:"/upload-user.png",class:"size-36 rounded-full",placeholder:"/upload-user.png"},null,8,H6)]),Wr("div",q6,[Wr("div",G6,Ze(null!==(c=null===(w=m.value)||void 0===w?void 0:w.full_name)&&void 0!==c?c:"-"),1),null!=Di(l)&&"own"!==(null===(_=Di(t).params)||void 0===_?void 0:_.t)?($r(),jr("div",W6,[Wr("p",Y6,Ze(null!==(T=d.value)&&void 0!==T?T:"level 0"),1),Yr(Di(ex),{onClick:A,icon:Di(BT),class:"size-5"},null,8,["icon"])])):Jr("",!0)])]),Wr("div",K6,Ze(null===(S=m.value)||void 0===S?void 0:S.bio),1),($r(!0),jr(Dr,null,vo(m.value.socials,(e=>($r(),jr("div",{key:null==e?void 0:e.id,class:"flex-col items-start gap-2 flex"},[Wr("div",Q6,[Yr(Di(ex),{icon:Di(VT),class:"w-5 h-5 text-gray-500"},null,8,["icon"]),Wr("div",{onClick:t=>(async e=>{await bS.open({url:e})})(null==e?void 0:e.url),class:"text-gray-500"},Ze(null==e?void 0:e.title),9,X6)])])))),128)),Wr("div",J6,[n[5]||(n[5]=Wr("div",{class:"w-2.5 h-2.5 rounded-full bg-green-500 mx-1"},null,-1)),Wr("div",Z6,[n[4]||(n[4]=Xr(" Hoạt động ")),Wr("span",e8,Ze(Di(aT)(null!==(I=null===(R=m.value)||void 0===R?void 0:R.last_deactivated_at)&&void 0!==I?I:new Date).fromNow().toString()),1)])]),Wr("div",t8,[Yr(Di(ex),{icon:Di(yT),class:"w-5 h-5 text-gray-500"},null,8,["icon"]),Wr("div",i8,Ze(Di(aT)(null===(F=m.value)||void 0===F?void 0:F.created_at).format("DD/MM/YYYY")),1)]),Wr("div",n8,[b.value?($r(),jr("div",o8,[Wr("div",r8,[Wr("div",s8,Ze(y.value),1),n[6]||(n[6]=Wr("p",{class:"text-zinc-950 text-sm font-light"},"Đóng góp",-1))])])):Jr("",!0),Wr("div",a8,[Wr("div",l8,[Wr("div",c8,Ze(null!==(z=null===(V=m.value)||void 0===V?void 0:V.total_follower)&&void 0!==z?z:0),1),n[7]||(n[7]=Wr("p",{class:"text-zinc-950 text-sm font-light"},"Người theo dõi",-1))])]),Wr("div",d8,[Wr("div",u8,[Wr("div",h8,Ze(null!==(U=null===(H=m.value)||void 0===H?void 0:H.total_following)&&void 0!==U?U:0),1),n[8]||(n[8]=Wr("p",{class:"text-zinc-950 text-sm font-light"},"Đang theo dõi",-1))])])]),Wr("div",p8,[(null===(q=Di(t).params)||void 0===q?void 0:q.userId)!=(null===(G=Di(s))||void 0===G?void 0:G._id)?($r(),jr("div",{key:0,onClick:n[0]||(n[0]=(...e)=>{var t,i;return(null===(t=j())||void 0===t?void 0:t.action)&&(null===(i=j())||void 0===i?void 0:i.action(...e))}),class:"flex justify-center gap-2 font-medium items-center py-2 w-full flex-1 text-base uppercase rounded-lg bg-blue1 text-white shadow-sm"},Ze(null===(W=j())||void 0===W?void 0:W.label),1)):Jr("",!0),(null===(Y=Di(t).params)||void 0===Y?void 0:Y.userId)!=(null===(K=Di(s))||void 0===K?void 0:K._id)?($r(),jr("div",{key:1,onClick:P,class:We(["text-center font-medium items-center py-2 w-full flex-1 text-base uppercase rounded-lg shadow-sm",Di(bC.isEmpty)(v.value)?"bg-blue1 text-white":"bg-white3 text-[#777777]"])},Ze(v.value&&(null===(Q=v.value)||void 0===Q?void 0:Q.length)>0?"Đang theo dõi":"Theo Dõi"),3)):Jr("",!0)]),m.value.id!=(null===(X=Di(s))||void 0===X?void 0:X._id)?($r(),jr("div",{key:0,onClick:n[1]||(n[1]=e=>(e=>{o.sendMessageSocket("createSingleChatRoom",{user_id:e},(async e=>{null!=e&&e._id&&(await r.setActiveRoom(e),i.push({name:"ChatRoom",params:{id:null==e?void 0:e._id}},iT))}))})(m.value.id)),class:"flex justify-center items-center py-2 w-full font-medium text-base uppercase rounded-lg text-[#555555] bg-white4 shadow-sm"}," Nhắn Tin ")):($r(),jr("div",{key:1,onClick:n[2]||(n[2]=e=>Di(i).push({name:"ChatTab"})),class:"text-center items-center py-2 w-full text-base uppercase rounded-lg text-blue-500 border border-blue-500 bg-white shadow-sm"}," Tin Nhắn "))])):Jr("",!0),Yr($6,{label:`Được tạo bởi ${null===(J=m.value)||void 0===J?void 0:J.full_name}`,data:u.value,onCardClick:N,onChangeTabListCommunityUser:C},null,8,["label","data"]),Yr($6,{label:"Thành viên của cộng đồng",data:f.value,onCardClick:N,onChangeTabListCommunityUser:E},null,8,["data"]),Wr("section",m8,[b.value?($r(),jr("div",f8,[Wr("span",g8,Ze(null===(Z=b.value)||void 0===Z?void 0:Z.totalPosts)+" đóng góp",1),Wr("div",{onClick:Ta(D,["stop"]),class:"flex-1 flex items-center justify-between text-base rounded-lg border-gray1 border-[1px] p-1.5 overflow-hidden"},[Wr("span",b8,Ze(null!==(ee=null===(te=h.value)||void 0===te||null===(te=te.community)||void 0===te?void 0:te.name)&&void 0!==ee?ee:null===(ie=g.value)||void 0===ie?void 0:ie.name),1),Yr(Di(ex),{icon:Di(TT),class:"ml-2"},null,8,["icon"])])])):Jr("",!0),Wr("section",null,[($r(!0),jr(Dr,null,vo(p.value,((e,t)=>($r(),jr("div",{key:t},[Yr(k6,{"show-option":!1,post:e,onOptionPress:t=>L(e),onPostPress:t=>M(e)},null,8,["post","onOptionPress","onPostPress"])])))),128))]),Wr("div",{class:"text-base text-center bg-white1 py-1.5 rounded-lg mt-2 font-medium",onClick:$}," Xem tất cả đóng góp ")]),"own"===(null===(ne=Di(t).params)||void 0===ne?void 0:ne.t)||Di(t).params.userId===(null===(oe=Di(s))||void 0===oe?void 0:oe._id)?($r(),jr("div",{key:1,onClick:O,class:"bg-white flex items-center mt-4 mb-1.5 gap-4 text-gray2 text-base font-normal p-2 rounded-lg shadow-st"},[Wr("div",v8,[Wr("img",{src:null!==(re=null===(se=Di(s))||void 0===se?void 0:se.avatar)&&void 0!==re?re:"/icUser.png",class:"w-full rounded-full"},null,8,y8)]),n[9]||(n[9]=Xr(" Tạo bài viết "))])):Jr("",!0),Wr("section",k8,[($r(!0),jr(Dr,null,vo(k.value,((e,t)=>($r(),jr("div",{key:t,class:"py-1.5"},[Yr(k6,{"show-option":!1,post:e,onOptionPress:t=>L(e),onPostPress:t=>M(e)},null,8,["post","onOptionPress","onPostPress"])])))),128)),Di(bC.isEmpty)(k.value)?($r(),jr("div",w8,["own"===(null===(ae=Di(t).params)||void 0===ae?void 0:ae.t)?($r(),jr("div",x8,Ze("Chưa có nội dung nào"))):Jr("",!0)])):($r(),jr("div",_8,["own"!==(null===(le=Di(t).params)||void 0===le?void 0:le.t)?($r(),jr("div",E8,n[10]||(n[10]=[Wr("div",{class:"text-lg font-semibold text-gray2"}," Bạn đã xem hết rồi ",-1),Wr("div",{class:"font-300 text-sm text-gray2"}," Hãy quay lại sau để xem thêm thông tin mớis ",-1)]))):Jr("",!0)]))])]),x.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:B},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)]})),_:1})])),_:1}))}}),A8={key:0,class:"flex flex-1 flex-col h-full"},T8={class:"w-full mt-20"},S8={key:1,class:"flex flex-1 flex-col h-full"},I8={class:"items-center justify-center flex flex-col gap-1 pb-5"},P8={class:"bg-gray-100 rounded-full relative mb-2"},D8=["src"],R8={class:"text-xl font-semibold"},L8={key:0,class:"text-gray2 font-medium"},M8={class:"text-black2 font-normal line-clamp-3 px-3"},O8={class:"w-full"},N8=["onClick"],$8=["href"],F8={class:"flex items-center"},B8={key:1,class:"w-full font-medium text-black2 flex items-center gap-4"},z8={class:"flex items-center"},j8={key:1,class:"bg-gray-300 w-[95%] h-[1px] mx-auto my-1"},V8={class:"text-xs text-center mt-2"},U8=jn({__name:"AccountScreen",setup(e){const{VITE_IOS_VERSION:t,VITE_ANDROID_VERSION:i,VITE_IOS_SCHEME:n,VITE_ANDROID_SCHEME:o,VITE_MAIL:r,VITE_HOTLINE:s}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},a=EC(),l=oT(),c=lT(),d=vC(),u=OA(),{userInfo:h,isLoggedIn:p}=mC(a),m=Rw(),f=FP(),g=()=>{m.push({name:"AppAboutScreen"},iT)},b=[{label:"Nhà tôi",action:()=>{var e;m.push({name:"DetectUserCommunityScreen",params:{userId:null===(e=h.value)||void 0===e?void 0:e._id,t:"own"}})},icon:"/account/icMyHome.svg"},{label:"Hồ sơ",action:()=>m.push({name:"UserProfileScreen"},iT),icon:"/account/icProfile.svg"},{label:"Bạn bè",action:()=>m.push({name:"FriendScreen"},iT),icon:"/account/icFriend.svg"},{label:"Affiliate",action:()=>m.push({name:"UserAffiliateScreen"},iT),icon:"/account/icAff.svg"},{label:"Cộng đồng",action:()=>m.push({name:"UserCommunityScreen"},iT),icon:"/account/icCommunity.svg"},{label:"Sự kiện",action:()=>m.push({name:"UserEventScreen"},iT),icon:"/account/icEvent.svg"},{label:"Vé của tôi",action:()=>m.push({name:"UserTicketScreen"},iT),icon:"/account/icTicket.svg"},{label:"Giới thiệu về Unica Expert",action:g,icon:"/account/icAbout.svg"},{label:"Hỗ trợ khách hàng",action:async()=>{const e=await dx.create({mode:"ios",header:"Liên hệ",buttons:[{text:`Hotline: ${s}`,handler:()=>{document.location.href=`tel:${s.trim()}`}},{text:r,handler:()=>{document.location.href=`mailto:${r}`}}]});await e.present()},icon:"/account/icCskh.svg"},{key:"scheme",label:"Đánh giá ứng dụng",scheme:Hc("ios")?n:o,icon:"/account/icRate.svg"},{isHide:!0,label:"Đổi mật khẩu",action:()=>m.push({name:"ChangePassword"},iT),icon:"/account/icChangePassword.svg.svg"},{key:"removeAccount",label:"Đóng tài khoản",action:()=>m.push({name:"AccountDetailScreen"},iT),icon:"/account/icRemoveAccount.svg"},{key:"logout",label:"Đăng xuất",action:async()=>{var e,t;if(await a.logOut(),l.clear(),c.clear(),d.clear(),u.clear(),bC.isEmpty(null===(e=h.value)||void 0===e?void 0:e.ggId)||await hT.logout({provider:"google"}),Hc("ios")&&"apple"===(null==h||null===(t=h.value)||void 0===t?void 0:t.ggId))try{await hT.logout({provider:"apple"})}catch(i){console.log(i)}f.disconnect(),m.replace({name:"SplashScreen"})},icon:"/account/icLogout.svg"}],v=()=>{m.push({name:"LoginScreen"},iT)};return(e,n)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"})])),_:1}),Yr(Di(Kk),{class:"ion-padding",color:"white"},{default:pn((()=>{var e,o,r,s,a,l;return[!Di(p)&&Di(bC.isEmpty)(Di(h))?($r(),jr("div",A8,[n[1]||(n[1]=Wr("div",{class:"items-center justify-center flex"},[Wr("img",{src:"/upload-user.png",class:"size-28 rounded-full",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"})],-1)),Wr("div",T8,[Wr("div",{onClick:g,class:"flex items-center ion-padding-horizontal py-2.5 rounded-md"},[n[0]||(n[0]=Wr("div",{class:"w-full text-black2 font-medium"},Ze("Giới thiệu về Unica Expert"),-1)),Yr(Di(ex),{icon:Di(IT)},null,8,["icon"])])]),Wr("div",{onClick:v,class:"w-full bg-gray1 text-red-500 shadow-st rounded-md mt-10 p-3 text-center font-medium"}," ĐĂNG NHẬP ")])):($r(),jr("div",S8,[Wr("div",I8,[Wr("div",P8,[Wr("img",{src:(null===(e=Di(h))||void 0===e?void 0:e.avatar)||(null===(o=Di(h))||void 0===o?void 0:o.ggAvatar)||"/upload-user.png",class:"size-28 rounded-full",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,D8)]),Wr("div",R8,Ze(null===(r=Di(h))||void 0===r?void 0:r.full_name),1),null!==(s=Di(h))&&void 0!==s&&s.username?($r(),jr("div",L8," @"+Ze(null===(a=Di(h))||void 0===a?void 0:a.username),1)):Jr("",!0),Wr("div",M8,Ze(null===(l=Di(h))||void 0===l?void 0:l.bio),1),Wr("section",O8,[($r(),jr(Dr,null,vo(b,((e,t)=>Wr("div",{key:t,class:"w-full"},[null!=e&&e.isHide?Jr("",!0):($r(),jr("div",{key:0,onClick:e.action,class:"flex items-center ion-padding-horizontal py-2.5 my-.5 rounded-md"},["scheme"===e.key?($r(),jr("a",{key:0,href:e.scheme,class:"no-underline w-full font-medium text-black2 flex items-center gap-4"},[Wr("div",F8,[Yr(Di(ex),{src:e.icon,class:"size-6"},null,8,["src"])]),Xr(" "+Ze(e.label),1)],8,$8)):($r(),jr("div",B8,[Wr("div",z8,[Yr(Di(ex),{src:e.icon,class:"size-6"},null,8,["src"])]),Wr("div",null,Ze(e.label),1)])),Yr(Di(ex),{icon:Di(IT)},null,8,["icon"])],8,N8)),t<b.length-1&&!e.isHide?($r(),jr("div",j8)):Jr("",!0)]))),64)),Wr("div",V8," Phiên bản v"+Ze(Di(Hc)("ios")?Di(t):Di(i)),1)])])]))]})),_:1})])),_:1}))}}),H8=fS(U8,[["__scopeId","data-v-6c4d215b"]]),q8={class:"pb-8"},G8=["onClick"],W8={class:"flex-1"},Y8={class:"pt-1 text-xs text-gray2"},K8={class:"flex-1"},Q8={class:"pt-1 text-xs text-gray2"},X8={class:"h-full flex flex-1 flex-col justify-center items-center"},J8=jn({__name:"SegmentMyCommunity",setup(e){const t=Rw(),i=oT(),n=Ti([]),o=Ti(1),r=Ti(!1),s=async(e=1,t=!1)=>{const i={"filter[role]":rT.Admin,page:e,limit:15},{data:s}=await SC.get("/user-community/me",{params:i});var a,l,c;bC.isEmpty(s)?r.value=!1:(null!=s&&null!==(a=s.meta)&&void 0!==a&&a.hasNextPage?(o.value++,r.value=!0):r.value=!1,n.value=t?[...n.value,...null!==(l=null==s?void 0:s.data)&&void 0!==l?l:[]]:null!==(c=null==s?void 0:s.data)&&void 0!==c?c:[])};io((()=>{s(),o.value=1,r.value=!1}));const a=e=>{s(o.value,!0),setTimeout((()=>e.target.complete()),500)};return(e,o)=>Di(bC.isEmpty)(n.value)?($r(),Vr(Di(Kk),{key:1,class:"ion-padding",color:"white1"},{default:pn((()=>[Wr("div",X8,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-28"}),o[1]||(o[1]=Xr(" Bạn chưa có cộng đồng nào "))])])),_:1})):($r(),Vr(Di(Kk),{key:0,class:"ion-padding",color:"white1"},{default:pn((()=>[Wr("div",q8,[o[0]||(o[0]=Wr("section",{class:"flex justify-between gap-2 bg-gray1 py-1.5 rounded-lg"},[Wr("div",{class:"flex-1 text-center"},"Cộng đồng"),Wr("div",{class:"text-center flex-1"},"Gói")],-1)),Wr("section",null,[($r(!0),jr(Dr,null,vo(n.value,(e=>{var n,o,r;return $r(),jr("div",{class:"flex-1",key:e._id},[Wr("div",{onClick:n=>{return o=e.community,i.setCommunity(o),void t.push({name:"CommunityScreen",params:{id:o.short_name||o._id}},iT);var o},class:"flex flex-1 gap-1 border-b-[1px] border-gray1 my-2 px-2 pb-2"},[Wr("div",W8,[Xr(Ze(null===(n=e.community)||void 0===n?void 0:n.name)+" ",1),Wr("div",Y8,Ze(Di(sT)[e.role]),1)]),Wr("div",K8,[Xr(Ze(null===(o=e.community)||void 0===o?void 0:o.package_code)+" ",1),Wr("div",Q8,Ze(null!==(r=e.community)&&void 0!==r&&r.package_expires?`Thời hạn: ${Di(aT)(e.community.package_expires).format("DD/MM/YYYY")}`:"Không thời hạn"),1)])],8,G8)])})),128))])]),r.value?($r(),Vr(Di(Zk),{key:0,threshold:"0.9%",onIonInfinite:a},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1}))}}),Z8={class:"pb-8"},e9=["onClick"],t9={class:"flex-1"},i9={class:"pt-1 text-sm text-gray2"},n9={class:"text-xs pt-1 text-gray2"},o9={class:"flex-[0.5] text-center"},r9={class:"pt-1"},s9={class:"pt-1"},a9={class:"h-full flex flex-1 flex-col justify-center items-center"},l9=jn({__name:"SegmentParticipateCommunity",setup(e){const t=Rw(),i=Ti([]),n=Ti(1),o=Ti(!1),r=oT(),s=async(e=1,t=!1)=>{const r={"filter[ignore_role]":rT.Admin,page:e,limit:15},{data:s}=await SC.get("/user-community/me",{params:r});var a,l,c;bC.isEmpty(s)||(bC.isEmpty(s)?o.value=!1:(null!=s&&null!==(a=s.meta)&&void 0!==a&&a.hasNextPage?(n.value++,o.value=!0):o.value=!1,i.value=t?[...i.value,...null!==(l=null==s?void 0:s.data)&&void 0!==l?l:[]]:null!==(c=null==s?void 0:s.data)&&void 0!==c?c:[]))};io((()=>{s(),n.value=1,o.value=!1}));const a=e=>{s(n.value,!0),setTimeout((()=>e.target.complete()),500)};return(e,n)=>Di(bC.isEmpty)(i.value)?($r(),Vr(Di(Kk),{key:1,class:"ion-padding",color:"white1"},{default:pn((()=>[Wr("div",a9,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-28"}),n[1]||(n[1]=Xr(" Bạn chưa tham gia cộng đồng nào "))]),o.value?($r(),Vr(Di(Zk),{key:0,threshold:"0.9%",onIonInfinite:a},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})):($r(),Vr(Di(Kk),{key:0,class:"ion-padding",color:"white1"},{default:pn((()=>[Wr("div",Z8,[n[0]||(n[0]=Wr("section",{class:"flex justify-between gap-2 bg-gray1 py-1.5 rounded-lg"},[Wr("div",{class:"flex-1 text-center"},"Cộng đồng"),Wr("div",{class:"text-center flex-[0.5]"},"Cấp độ")],-1)),Wr("section",null,[($r(!0),jr(Dr,null,vo(i.value,(e=>{var i,n;return $r(),jr("div",{class:"flex-1",key:e._id},[Wr("div",{onClick:i=>{return n=e.community,r.setCommunity(n),void t.push({name:"CommunityScreen",params:{id:n.short_name||n._id}},iT);var n},class:"flex flex-1 gap-1 border-b-[1px] border-gray1 my-2 px-2 pb-2 items-baseline"},[Wr("div",t9,[Xr(Ze(null===(i=e.community)||void 0===i?void 0:i.name)+" ",1),Wr("div",i9,Ze(Di(sT)[e.role]),1),Wr("div",n9,Ze(null!=e&&e.created_at?`Ngày tham gia: ${Di(aT)(e.created_at).format("DD/MM/YYYY")}`:"-"),1)]),Wr("div",o9,[Wr("div",r9,Ze(`Cấp độ: ${null!==(n=e.level)&&void 0!==n?n:0}`),1),Wr("div",s9,Ze(`Điểm: ${e.point}`),1)])],8,e9)])})),128))])])])),_:1}))}}),c9={slot:"start",class:"flex items-center p-3"},d9={class:"flex justify-around bg-white1 ion-padding-horizontal py-1 gap-2"},u9=jn({__name:"UserCommunityScreen",setup(e){const t=Rw(),i=Ti("owner"),n=()=>{t.back(iT)},o=e=>{i.value=e};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white1"},{default:pn((()=>[Wr("div",c9,[Yr(Di(ex),{onClick:n,icon:Di(AT),class:"size-6 mr-4"},null,8,["icon"]),t[2]||(t[2]=Xr(" Cộng đồng của tôi "))])])),_:1})])),_:1}),Wr("section",d9,[Wr("div",{onClick:t[0]||(t[0]=e=>o("owner")),class:We(["py-2 px-1 rounded-lg text-base flex-1 text-center","owner"==i.value?"bg-blue1-tint1":"bg-white shadow-st"])}," Cộng đồng của tôi ",2),Wr("div",{onClick:t[1]||(t[1]=e=>o("participate")),class:We(["py-2 px-1 rounded-lg flex-1 text-center","participate"==i.value?"bg-blue1-tint1":"bg-white shadow-st"])}," Đã tham gia ",2)]),"owner"===i.value?($r(),Vr(J8,{key:0})):"participate"===i.value?($r(),Vr(l9,{key:1})):Jr("",!0)])),_:1}))}}),h9=new Map([[0,"Nữ"],[1,"Nam"],[2,"Khác"]]),p9={class:"flex justify-between items-center w-full p-4 bg-white1"},m9={class:"flex items-center"},f9={class:"bg-red-200 flex justify-center items-center"},g9=jn({__name:"ModalBirthdayPicker",props:{selectedDate:{},maxDate:{default:void 0},minDate:{default:void 0},value:{default:void 0}},setup(e){var t;const i=Ti(null!==(t=e.selectedDate)&&void 0!==t?t:void 0),n=()=>ax.dismiss(),o=async()=>ax.dismiss(i.value,"confirm"),r=e=>{i.value=e.detail.value};return(e,t)=>($r(),Vr(Di(Kk),null,{default:pn((()=>[Wr("div",p9,[Wr("div",m9,[Yr(Di(ex),{onClick:n,icon:Di(LT),class:"size-7 text-gray2"},null,8,["icon"])]),Wr("div",{onClick:o,class:"text-blue1 font-medium text-base"}," Xong ")]),Wr("div",f9,[Yr(Di(Qk),{value:e.value,onIonChange:r,placeholder:"Select Date",max:e.maxDate,min:e.minDate,presentation:"date",class:"w-full bg-white",mode:"ios",locale:"vi-VN",size:"cover"},null,8,["value","max","min"])])])),_:1}))}}),b9=fS(g9,[["__scopeId","data-v-f6e40f08"]]),v9={class:"flex-col h-[75%] bg-white1"},y9={class:"h-[10%] flex items-center ion-padding-horizontal"},k9={class:"flex shadow-st rounded-lg bg-white items-center px-2 gap-2"},w9={class:"overflow-y-scroll h-[90%] bg-white1 pb-8"},x9=["onClick"],_9=jn({__name:"ModalCountriesPicker",props:{data:{},selectedCountry:{}},setup(e){var t;const i=e,n=Ti(null!==(t=i.data)&&void 0!==t?t:[]),o=()=>{if(r.value){const e=r.value.toLowerCase();n.value=i.data.filter((t=>t.name.toLowerCase().includes(e)))}else n.value=i.data},r=Ti(""),s=()=>{r.value="",n.value=i.data};return(e,t)=>($r(),jr("div",v9,[Wr("div",y9,[Wr("form",{class:"w-full",onSubmit:Ta(o,["prevent"])},[Wr("div",k9,[Yr(Di(ex),{onClick:o,icon:Di(nS),class:"text-gray2 size-6"},null,8,["icon"]),mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),placeholder:"Tìm kiếm",class:"w-full py-1.5 outline-none"},null,512),[[fa,r.value]]),Di(bC.isEmpty)(r.value)?Jr("",!0):($r(),Vr(Di(ex),{key:0,icon:Di(DT),onClick:s,class:"text-gray2 size-6"},null,8,["icon"]))])],32)]),Wr("div",w9,[($r(!0),jr(Dr,null,vo(n.value,(t=>{var i;return $r(),jr("div",{key:t.id,class:We(["flex justify-between items-center w-full ion-padding-horizontal py-2",(null===(i=e.selectedCountry)||void 0===i?void 0:i.id)===t.id?"bg-blue1-tint1":"white"])},[Wr("div",{onClick:e=>(async e=>{await ax.dismiss(e,"confirm")})(t)},Ze(t.name),9,x9)],2)})),128))])]))}}),E9="full_profile",C9="ref",A9="coupon",T9={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|7(?:[013-57-9]\\d|2[0-8]))\\d|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90)))\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|3\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-4])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-5])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-4])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|91"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-4])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-5])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[259]\\d{6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[0135-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[245]\\d|33|77|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-4]|5[01]|8[0-3]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-5])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","38\\d{6}|[78]\\d{9,13}|(?:20|9\\d)\\d{8}",[8,10,11,12,13,14],[["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["3"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[16]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-5]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|77|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[468]))\\d{4}|(?:305[3-9]|472[24]|505[2-57-9]|983[2-47-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function S9(e,t){var i=Array.prototype.slice.call(t);return i.push(T9),e.apply(this,i)}function I9(e){return I9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I9(e)}function P9(e){var t=M9();return function(){var i,n=N9(e);if(t){var o=N9(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return function(e,t){if(t&&("object"===I9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D9(e)}(this,i)}}function D9(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R9(e){var t="function"==typeof Map?new Map:void 0;return R9=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return L9(e,arguments,N9(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),O9(n,e)},R9(e)}function L9(e,t,i){return L9=M9()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return i&&O9(o,i.prototype),o},L9.apply(null,arguments)}function M9(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(f1){return!1}}function O9(e,t){return O9=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O9(e,t)}function N9(e){return N9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N9(e)}var $9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O9(e,t)}(n,e);var t,i=P9(n);function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=i.call(this,e),Object.setPrototypeOf(D9(t),n.prototype),t.name=t.constructor.name,t}return t=n,Object.defineProperty(t,"prototype",{writable:!1}),t}(R9(Error)),F9="0-9０-９٠-٩۰-۹",B9="".concat("-‐-―−ー－").concat("／/").concat("．.").concat("  ­​⁠　").concat("()（）［］\\[\\]").concat("~⁓∼～");function z9(e,t){e=e.split("-"),t=t.split("-");for(var i=e[0].split("."),n=t[0].split("."),o=0;o<3;o++){var r=Number(i[o]),s=Number(n[o]);if(r>s)return 1;if(s>r)return-1;if(!isNaN(r)&&isNaN(s))return 1;if(isNaN(r)&&!isNaN(s))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var j9={}.constructor;function V9(e){return null!=e&&e.constructor===j9}function U9(e){return U9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U9(e)}function H9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q9(e,t,i){return t&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var G9=" ext. ",W9=/^\d+$/,Y9=function(){function e(t){H9(this,e),function(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!V9(e)||!V9(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(V9(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+e7(e)+": "+e,"."))}(t),this.metadata=t,n7.call(this,t)}return q9(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter((function(e){return"001"!==e}))}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&W9.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new K9(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw new Error("Unknown calling code: ".concat(t));this.numberingPlan=new K9(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var i=this.nonGeographic()[e];if(i)return i}else{var n=this.countryCallingCodes()[e];if(n&&1===n.length&&"001"===n[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}(),K9=function(){function e(t,i){H9(this,e),this.globalMetadataObject=i,this.metadata=t,n7.call(this,i.metadata)}return q9(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this,t=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return t.map((function(t){return new Q9(t,e)}))}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&Z9(this.types(),e))return new J9(Z9(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?G9:this.metadata[13]||G9}}]),e}(),Q9=function(){function e(t,i){H9(this,e),this._format=t,this.metadata=i}return q9(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||X9.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),X9=/^\(?\$1\)?$/,J9=function(){function e(t,i){H9(this,e),this.type=t,this.metadata=i}return q9(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function Z9(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}var e7=function(e){return U9(e)};function t7(e,t){if((t=new Y9(t)).hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function i7(e,t){return t.countries.hasOwnProperty(e)}function n7(e){var t=e.version;"number"==typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===z9(t,"1.2.0")?this.v2=!0:-1===z9(t,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}var o7=function(e){return"([".concat(F9,"]{1,").concat(e,"})")};function r7(e){var t="[  \\t,]*",i="[:\\.．]?[  \\t,-]*",n="#?",o="[  \\t]*";return";ext="+o7("20")+"|"+(t+"(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)"+i+o7("20")+n)+"|"+(t+"(?:[xｘ#＃~～]|int|ｉｎｔ)"+i+o7("9")+n)+"|"+("[- ]+"+o7("6")+"#")+"|"+(o+"(?:,{2}|;)"+i+o7("15")+n)+"|"+(o+"(?:,)+"+i+o7("9")+n)}var s7="["+F9+"]{2}",a7="[+＋]{0,1}(?:["+B9+"]*["+F9+"]){3,}["+B9+F9+"]*",l7=new RegExp("^[+＋]{0,1}(?:["+B9+"]*["+F9+"]){1,2}$","i"),c7=a7+"(?:"+r7()+")?",d7=new RegExp("^"+s7+"$|^"+c7+"$","i");var u7=new RegExp("(?:"+r7()+")$","i");function h7(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return p7(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p7(e,t)}(e))||t){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p7(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var m7={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function f7(e){return m7[e]}function g7(e){for(var t,i="",n=h7(e.split(""));!(t=n()).done;){var o=f7(t.value);o&&(i+=o)}return i}function b7(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return v7(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v7(e,t)}(e))||t){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v7(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function y7(e){for(var t,i="",n=b7(e.split(""));!(t=n()).done;){i+=k7(t.value,i)||""}return i}function k7(e,t,i){if("+"===e){if(t)return;return"+"}return f7(e)}function w7(e,t){return function(e,t,i){var n=i.type(t),o=n&&n.possibleLengths()||i.possibleLengths();if(!o)return"IS_POSSIBLE";var r=e.length,s=o[0];if(s===r)return"IS_POSSIBLE";if(s>r)return"TOO_SHORT";if(o[o.length-1]<r)return"TOO_LONG";return o.indexOf(r,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}(e,void 0,t)}function x7(e,t){return"IS_POSSIBLE"===w7(e,t)}function _7(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function E7(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return C7(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return C7(e,t)}(e))||t){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C7(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var A7=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function T7(e,t,i){if(t=t||{},e.country||e.countryCallingCode){(i=new Y9(i)).selectNumberingPlan(e.country,e.countryCallingCode);var n=t.v2?e.nationalNumber:e.phone;if(_7(n,i.nationalNumberPattern())){if(S7(n,"FIXED_LINE",i))return i.type("MOBILE")&&""===i.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":i.type("MOBILE")?S7(n,"MOBILE",i)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var o,r=E7(A7);!(o=r()).done;){var s=o.value;if(S7(n,s,i))return s}}}}function S7(e,t,i){return!(!(t=i.type(t))||!t.pattern())&&(!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&_7(e,t.pattern()))}function I7(e,t,i){var n=new Y9(i).getCountryCodesForCallingCode(e);return n?n.filter((function(e){return function(e,t,i){var n=new Y9(i);if(n.selectNumberingPlan(t),n.numberingPlan.possibleLengths().indexOf(e.length)>=0)return!0;return!1}(t,e,i)})):[]}function P7(e){return e.replace(new RegExp("[".concat(B9,"]+"),"g")," ").trim()}var D7=/(\$\d)/;function R7(e,t,i){var n=i.useInternationalFormat,o=i.withNationalPrefix;i.carrierCode,i.metadata;var r=e.replace(new RegExp(t.pattern()),n?t.internationalFormat():o&&t.nationalPrefixFormattingRule()?t.format().replace(D7,t.nationalPrefixFormattingRule()):t.format());return n?P7(r):r}var L7=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function M7(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return O7(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return O7(e,t)}(e))||t){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O7(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function N7(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function $7(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?N7(Object(i),!0).forEach((function(t){F7(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N7(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function F7(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var B7={formatExtension:function(e,t,i){return"".concat(e).concat(i.ext()).concat(t)}};function z7(e,t,i,n){if(i=i?$7($7({},B7),i):B7,n=new Y9(n),e.country&&"001"!==e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";n.selectNumberingPlan(e.countryCallingCode)}var o,r=n.countryCallingCode(),s=i.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":return s?V7(o=j7(s,e.carrierCode,"NATIONAL",n,i),e.ext,n,i.formatExtension):"";case"INTERNATIONAL":return s?(o=j7(s,null,"INTERNATIONAL",n,i),V7(o="+".concat(r," ").concat(o),e.ext,n,i.formatExtension)):"+".concat(r);case"E.164":return"+".concat(r).concat(s);case"RFC3966":return function(e){var t=e.number,i=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(i?";ext="+i:"")}({number:"+".concat(r).concat(s),ext:e.ext});case"IDD":if(!i.fromCountry)return;var a=function(e,t,i,n,o){var r=t7(n,o.metadata);if(r===i){var s=j7(e,t,"NATIONAL",o);return"1"===i?i+" "+s:s}var a=function(e,t,i){var n=new Y9(i);return n.selectNumberingPlan(e,t),n.defaultIDDPrefix()?n.defaultIDDPrefix():L7.test(n.IDDPrefix())?n.IDDPrefix():void 0}(n,void 0,o.metadata);if(a)return"".concat(a," ").concat(i," ").concat(j7(e,null,"INTERNATIONAL",o))}(s,e.carrierCode,r,i.fromCountry,n);return V7(a,e.ext,n,i.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function j7(e,t,i,n,o){var r=function(e,t){for(var i,n=M7(e);!(i=n()).done;){var o=i.value;if(o.leadingDigitsPatterns().length>0){var r=o.leadingDigitsPatterns()[o.leadingDigitsPatterns().length-1];if(0!==t.search(r))continue}if(_7(t,o.pattern()))return o}}(n.formats(),e);return r?R7(e,r,{useInternationalFormat:"INTERNATIONAL"===i,withNationalPrefix:!r.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!o||!1!==o.nationalPrefix,carrierCode:t,metadata:n}):e}function V7(e,t,i,n){return t?n(e,t,i):e}function U7(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function H7(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?U7(Object(i),!0).forEach((function(t){q7(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U7(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function q7(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G7(e,t,i){return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var W7=function(){function e(t,i,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new TypeError("`country` or `countryCallingCode` not passed");if(!i)throw new TypeError("`nationalNumber` not passed");if(!n)throw new TypeError("`metadata` not passed");var o=function(e,t){var i,n,o=new Y9(t);Y7(e)?(i=e,o.selectNumberingPlan(i),n=o.countryCallingCode()):n=e;return{country:i,countryCallingCode:n}}(t,n),r=o.country,s=o.countryCallingCode;this.country=r,this.countryCallingCode=s,this.nationalNumber=i,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return G7(e,[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:I7(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return function(e,t,i){if(void 0===t&&(t={}),i=new Y9(i),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");i.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!i.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));i.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");i.selectNumberingPlan(e.countryCallingCode)}}if(i.possibleLengths())return x7(e.phone||e.nationalNumber,i);if(e.countryCallingCode&&i.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return function(e,t,i){return t=t||{},(i=new Y9(i)).selectNumberingPlan(e.country,e.countryCallingCode),i.hasTypes()?void 0!==T7(e,t,i.metadata):_7(t.v2?e.nationalNumber:e.phone,i.nationalNumberPattern())}(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){return new Y9(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return T7(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return z7(this,e,t?H7(H7({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}]),e}(),Y7=function(e){return/^[A-Z]{2}$/.test(e)};var K7=new RegExp("(["+F9+"])");function Q7(e,t,i,n){if(t){var o=new Y9(n);o.selectNumberingPlan(t,i);var r=new RegExp(o.IDDPrefix());if(0===e.search(r)){var s=(e=e.slice(e.match(r)[0].length)).match(K7);if(!(s&&null!=s[1]&&s[1].length>0&&"0"===s[1]))return e}}}function X7(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var i=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),n=i.exec(e);if(n){var o,r,s,a=n.length-1,l=a>0&&n[a];if(t.nationalPrefixTransformRule()&&l)o=e.replace(i,t.nationalPrefixTransformRule()),a>1&&(r=n[1]);else{var c=n[0];o=e.slice(c.length),l&&(r=n[1])}if(l){var d=e.indexOf(n[1]);e.slice(0,d)===t.numberingPlan.nationalPrefix()&&(s=t.numberingPlan.nationalPrefix())}else s=n[0];return{nationalNumber:o,nationalPrefix:s,carrierCode:r}}}return{nationalNumber:e}}function J7(e,t){var i=X7(e,t),n=i.carrierCode,o=i.nationalNumber;if(o!==e){if(!function(e,t,i){if(_7(e,i.nationalNumberPattern())&&!_7(t,i.nationalNumberPattern()))return!1;return!0}(e,o,t))return{nationalNumber:e};if(t.possibleLengths()&&!function(e,t){switch(w7(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(o,t))return{nationalNumber:e}}return{nationalNumber:o,carrierCode:n}}function Z7(e,t,i,n){var o=t?t7(t,n):i;if(0===e.indexOf(o)){(n=new Y9(n)).selectNumberingPlan(t,i);var r=e.slice(o.length),s=J7(r,n).nationalNumber,a=J7(e,n).nationalNumber;if(!_7(a,n.nationalNumberPattern())&&_7(s,n.nationalNumberPattern())||"TOO_LONG"===w7(a,n))return{countryCallingCode:o,number:r}}return{number:e}}function eee(e,t,i,n){if(!e)return{};var o;if("+"!==e[0]){var r=Q7(e,t,i,n);if(!r||r===e){if(t||i){var s=Z7(e,t,i,n),a=s.countryCallingCode,l=s.number;if(a)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:a,number:l}}return{number:e}}o=!0,e="+"+r}if("0"===e[1])return{};n=new Y9(n);for(var c=2;c-1<=3&&c<=e.length;){var d=e.slice(1,c);if(n.hasCallingCode(d))return n.selectNumberingPlan(d),{countryCallingCodeSource:o?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:d,number:e.slice(c)};c++}return{}}function tee(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return iee(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return iee(e,t)}(e))||t){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iee(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function nee(e,t){var i=t.countries;t.defaultCountry;var n=t.metadata;n=new Y9(n);for(var o,r=tee(i);!(o=r()).done;){var s=o.value;if(n.country(s),n.leadingDigits()){if(e&&0===e.search(n.leadingDigits()))return s}else if(T7({phone:e,country:s},void 0,n.metadata))return s}}function oee(e,t){var i=t.nationalNumber,n=t.defaultCountry,o=t.metadata,r=o.getCountryCodesForCallingCode(e);if(r)return 1===r.length?r[0]:nee(i,{countries:r,defaultCountry:n,metadata:o.metadata})}var ree="(["+F9+"]|[\\-\\.\\(\\)]?)",see=new RegExp("^\\+"+ree+"*["+F9+"]"+ree+"*$","g"),aee=new RegExp("^("+("["+F9+"]+((\\-)*["+F9+"])*")+"\\.)*"+("[a-zA-Z]+((\\-)*["+F9+"])*")+"\\.?$","g"),lee="tel:",cee=";phone-context=";function dee(e,t){var i,n=t.extractFormattedPhoneNumber,o=function(e){var t=e.indexOf(cee);if(t<0)return null;var i=t+15;if(i>=e.length)return"";var n=e.indexOf(";",i);return n>=0?e.substring(i,n):e.substring(i)}(e);if(!function(e){return null===e||0!==e.length&&(see.test(e)||aee.test(e))}(o))throw new $9("NOT_A_NUMBER");if(null===o)i=n(e)||"";else{i="","+"===o.charAt(0)&&(i+=o);var r,s=e.indexOf(lee);r=s>=0?s+4:0;var a=e.indexOf(cee);i+=e.substring(r,a)}var l=i.indexOf(";isub=");if(l>0&&(i=i.substring(0,l)),""!==i)return i}var uee=new RegExp("[+＋"+F9+"]"),hee=new RegExp("[^"+F9+"#]+$");function pee(e,t,i){if(t=t||{},i=new Y9(i),t.defaultCountry&&!i.hasCountry(t.defaultCountry)){if(t.v2)throw new $9("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(t.defaultCountry))}var n=function(e,t,i){var n=dee(e,{extractFormattedPhoneNumber:function(e){return function(e,t,i){if(!e)return;if(e.length>250){if(i)throw new $9("TOO_LONG");return}if(!1===t)return e;var n=e.search(uee);if(n<0)return;return e.slice(n).replace(hee,"")}(e,i,t)}});if(!n)return{};if(!function(e){return e.length>=2&&d7.test(e)}(n))return function(e){return l7.test(e)}(n)?{error:"TOO_SHORT"}:{};var o=function(e){var t=e.search(u7);if(t<0)return{};for(var i=e.slice(0,t),n=e.match(u7),o=1;o<n.length;){if(n[o])return{number:i,ext:n[o]};o++}}(n);if(o.ext)return o;return{number:n}}(e,t.v2,t.extract),o=n.number,r=n.ext,s=n.error;if(!o){if(t.v2){if("TOO_SHORT"===s)throw new $9("TOO_SHORT");throw new $9("NOT_A_NUMBER")}return{}}var a=function(e,t,i,n){var o,r=eee(y7(e),t,i,n.metadata),s=r.countryCallingCodeSource,a=r.countryCallingCode,l=r.number;if(a)n.selectNumberingPlan(a);else{if(!l||!t&&!i)return{};n.selectNumberingPlan(t,i),t&&(o=t),a=i||t7(t,n.metadata)}if(!l)return{countryCallingCodeSource:s,countryCallingCode:a};var c=J7(y7(l),n),d=c.nationalNumber,u=c.carrierCode,h=oee(a,{nationalNumber:d,defaultCountry:t,metadata:n});h&&(o=h,"001"===h||n.country(o));return{country:o,countryCallingCode:a,countryCallingCodeSource:s,nationalNumber:d,carrierCode:u}}(o,t.defaultCountry,t.defaultCallingCode,i),l=a.country,c=a.nationalNumber,d=a.countryCallingCode,u=a.countryCallingCodeSource,h=a.carrierCode;if(!i.hasSelectedNumberingPlan()){if(t.v2)throw new $9("INVALID_COUNTRY");return{}}if(!c||c.length<2){if(t.v2)throw new $9("TOO_SHORT");return{}}if(c.length>17){if(t.v2)throw new $9("TOO_LONG");return{}}if(t.v2){var p=new W7(d,c,i.metadata);return l&&(p.country=l),h&&(p.carrierCode=h),r&&(p.ext=r),p.__countryCallingCodeSource=u,p}var m=!!(t.extended?i.hasSelectedNumberingPlan():l)&&_7(c,i.nationalNumberPattern());return t.extended?{country:l,countryCallingCode:d,carrierCode:h,valid:m,possible:!!m||!(!0!==t.extended||!i.possibleLengths()||!x7(c,i)),phone:c,ext:r}:m?function(e,t,i){var n={country:e,phone:t};i&&(n.ext=i);return n}(l,c,r):{}}function mee(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function fee(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?mee(Object(i),!0).forEach((function(t){gee(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mee(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function gee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function bee(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function yee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,o,r=[],s=!0,a=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(N0){a=!0,o=N0}finally{try{s||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kee(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return kee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kee(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function wee(e){var t,i,n,o=yee(Array.prototype.slice.call(e),4),r=o[0],s=o[1],a=o[2],l=o[3];if("string"!=typeof r)throw new TypeError("A text for parsing must be a string.");if(t=r,s&&"string"!=typeof s){if(!V9(s))throw new Error("Invalid second argument: ".concat(s));a?(i=s,n=a):n=s}else l?(i=a,n=l):(i=void 0,n=a),s&&(i=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?bee(Object(i),!0).forEach((function(t){vee(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bee(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({defaultCountry:s},i));return{text:t,options:i,metadata:n}}function xee(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function _ee(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xee(Object(i),!0).forEach((function(t){Eee(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xee(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Eee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Cee(e,t,i){t&&t.defaultCountry&&!i7(t.defaultCountry,i)&&(t=_ee(_ee({},t),{},{defaultCountry:void 0}));try{return function(e,t,i){return pee(e,fee(fee({},t),{},{v2:!0}),i)}(e,t,i)}catch(n){if(!(n instanceof $9))throw n}}function Aee(){var e=wee(arguments);return Cee(e.text,e.options,e.metadata)}function Tee(e,t,i){return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var See=function(){function e(t){var i=t.onCountryChange,n=t.onCallingCodeChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onCountryChange=i,this.onCallingCodeChange=n}return Tee(e,[{key:"reset",value:function(e){var t=e.country,i=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var n=i[t];this[n]=e[n]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}]),e}();function Iee(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return Pee(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Pee(e,t)}(e))||t){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pee(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Dee="x",Ree=new RegExp(Dee);function Lee(e,t){if(t<1)return"";for(var i="";t>1;)1&t&&(i+=e),t>>=1,e+=e;return i+e}function Mee(e,t){return")"===e[t]&&t++,function(e){var t=[],i=0;for(;i<e.length;)"("===e[i]?t.push(i):")"===e[i]&&t.pop(),i++;var n=0,o="";t.push(e.length);for(var r=0,s=t;r<s.length;r++){var a=s[r];o+=e.slice(n,a),n=a+1}return o}(e.slice(0,t))}function Oee(e,t,i){var n=i.metadata,o=i.shouldTryNationalPrefixFormattingRule,r=i.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber))return function(e,t,i){var n=i.metadata,o=i.shouldTryNationalPrefixFormattingRule,r=i.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,o(t)){var s=Nee(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:r,metadata:n});if(s)return s}return Nee(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:r,metadata:n})}(e,t,{metadata:n,shouldTryNationalPrefixFormattingRule:o,getSeparatorAfterNationalPrefix:r})}function Nee(e,t,i){var n=i.metadata,o=i.useNationalPrefixFormattingRule,r=i.getSeparatorAfterNationalPrefix,s=R7(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:o,metadata:n});if(o||(e.nationalPrefix?s=e.nationalPrefix+r(t)+s:e.complexPrefixBeforeNationalSignificantNumber&&(s=e.complexPrefixBeforeNationalSignificantNumber+" "+s)),function(e,t){return g7(e)===t.getNationalDigits()}(s,e))return s}function $ee(e,t,i){return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Fee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return $ee(e,[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw new Error("Non-finalized contexts left when pattern parse ended");var t=this.context[0],i=t.branches,n=t.instructions;if(i)return{op:"|",args:i.concat([Vee(n)])};if(0===n.length)throw new Error("Pattern is required");return 1===n.length?n[0]:n}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw new Error("Pattern is required");var t=e.match(jee);if(t){var i=t[1],n=e.slice(0,t.index),o=e.slice(t.index+i.length);switch(i){case"(?:":n&&this.parsePattern(n),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(n&&this.parsePattern(n),0===this.getContext().instructions.length)throw new Error('No instructions found after "|" operator in an "or" group');var r=this.getContext().branches;r.push(Vee(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:r});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(n&&this.parsePattern(n),!this.getContext().branches){if(1!==this.context.length)throw new Error('"branches" not found in an "or" group context');this.getContext().branches=[]}this.getContext().branches.push(Vee(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":n&&this.parsePattern(n),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:Bee(n)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}else{if(zee.test(e))throw new Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""))}}}]),e}();function Bee(e){for(var t=[],i=0;i<e.length;){if("-"===e[i]){if(0===i||i===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var n=e[i-1].charCodeAt(0)+1,o=e[i+1].charCodeAt(0)-1,r=n;r<=o;)t.push(String.fromCharCode(r)),r++}else t.push(e[i]);i++}return t}var zee=/[\(\)\[\]\?\:\|]/,jee=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Vee(e){return 1===e.length?e[0]:e}function Uee(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return Hee(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hee(e,t)}(e))||t){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Hee(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function qee(e,t,i){return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Gee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.matchTree=(new Fee).parse(t)}return qee(e,[{key:"match",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowOverflow;if(!e)throw new Error("String is required");var i=Wee(e.split(""),this.matchTree,!0);if(i&&i.match&&delete i.matchedChars,!i||!i.overflow||t)return i}}]),e}();function Wee(e,t,i){if("string"==typeof t){var n=e.join("");return 0===t.indexOf(n)?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:0===n.indexOf(t)?i&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var o=e.slice(),r=0;r<t.length;){var s=Wee(o,t[r],i&&r===t.length-1);if(!s)return;if(s.overflow)return s;if(!s.match){if(s.partialMatch)return{partialMatch:!0};throw new Error("Unsupported match result:\n".concat(JSON.stringify(s,null,2)))}if(0===(o=o.slice(s.matchedChars.length)).length)return r===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0};r++}return i?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-o.length)}}switch(t.op){case"|":for(var a,l,c=Uee(t.args);!(l=c()).done;){var d=Wee(e,l.value,i);if(d){if(d.overflow)return d;if(d.match)return{match:!0,matchedChars:d.matchedChars};if(!d.partialMatch)throw new Error("Unsupported match result:\n".concat(JSON.stringify(d,null,2)));a=!0}}return a?{partialMatch:!0}:void 0;case"[]":for(var u,h=Uee(t.args);!(u=h()).done;){var p=u.value;if(e[0]===p)return 1===e.length?{match:!0,matchedChars:e}:i?{overflow:!0}:{match:!0,matchedChars:[p]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function Yee(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return Kee(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kee(e,t)}(e))||t){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kee(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Qee(e,t,i){return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Xee=Lee("9",15),Jee=/[- ]/,Zee=new RegExp("["+B9+"]*\\$1["+B9+"]*(\\$\\d["+B9+"]*)*$"),ete=function(){function e(t){t.state;var i=t.metadata;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=i,this.resetFormat()}return Qee(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var i=this;if(function(e,t){return"IS_POSSIBLE"===w7(e,t)}(t.nationalSignificantNumber,this.metadata))for(var n,o=Yee(this.matchingFormats);!(n=o()).done;){var r=n.value,s=Oee(t,r,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return i.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return i.getSeparatorAfterNationalPrefix(e)}});if(s)return this.resetFormat(),this.chosenFormat=r,this.setNationalNumberTemplate(s.replace(/\d/g,Dee),t),this.populatedNationalNumberTemplate=s,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Dee),s}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var i=this.chosenFormat,n=this.chooseFormat(t);if(n)return n===i?this.formatNextNationalNumberDigits(e):this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,i=e.nationalSignificantNumber,n=e.nationalPrefix,o=e.international,r=i,s=r.length-3;s<0&&(s=0),this.matchingFormats=this.matchingFormats.filter((function(e){return t.formatSuits(e,o,n)&&t.formatMatches(e,r,s)})),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,i){return!(i&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat())&&!(!t&&!i&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,i){var n=e.leadingDigitsPatterns().length;if(0===n)return!0;i=Math.min(i,n-1);var o=e.leadingDigitsPatterns()[i];if(t.length<3)try{return void 0!==new Gee(o).match(t,{allowOverflow:!0})}catch(r){return console.error(r),!0}return new RegExp("^(".concat(o,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var t,i=this,n=function(){var n=t.value;return i.chosenFormat===n?"break":Zee.test(i.getFormatFormat(n,e.international))?i.createTemplateForFormat(n,e)?(i.chosenFormat=n,"break"):(i.matchingFormats=i.matchingFormats.filter((function(e){return e!==n})),"continue"):"continue"},o=Yee(this.matchingFormats.slice());!(t=o()).done;){var r=n();if("break"===r)break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){if(!(e.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(e,t);return i?(this.setNationalNumberTemplate(i,t),!0):void 0}}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&Jee.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var i=e.IDDPrefix,n=e.missingPlus;return i?t&&!1===t.spacing?i:i+" ":n?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,i=0,n=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";i<n.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf(Dee,t+1),i++;return Mee(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,Dee)+Lee(Dee,t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var i=t.nationalSignificantNumber,n=t.international,o=t.nationalPrefix,r=t.complexPrefixBeforeNationalSignificantNumber,s=e.pattern();s=s.replace(/\[([^\[\]])*\]/g,"\\d").replace(/\d(?=[^,}][^,}])/g,"\\d");var a=Xee.match(s)[0];if(!(i.length>a.length)){var l=new RegExp("^"+s+"$"),c=i.replace(/\d/g,"9");l.test(c)&&(a=c);var d,u=this.getFormatFormat(e,n);if(this.shouldTryNationalPrefixFormattingRule(e,{international:n,nationalPrefix:o})){var h=u.replace(D7,e.nationalPrefixFormattingRule());if(g7(e.nationalPrefixFormattingRule())===(o||"")+g7("$1")&&(u=h,d=!0,o))for(var p=o.length;p>0;)u=u.replace(/\d/,Dee),p--}var m=a.replace(new RegExp(s),u).replace(new RegExp("9","g"),Dee);return d||(r?m=Lee(Dee,r.length)+" "+m:o&&(m=Lee(Dee,o.length)+this.getSeparatorAfterNationalPrefix(e)+m)),n&&(m=P7(m)),m}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=function(e,t,i){for(var n,o=Iee(i.split(""));!(n=o()).done;){var r=n.value;if(e.slice(t+1).search(Ree)<0)return;t=e.search(Ree),e=e.replace(Ree,r)}return[e,t]}(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);if(t)return this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],Mee(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1);this.resetFormat()}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var i=t.international,n=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var o=e.usesNationalPrefix();if(o&&n||!o&&!i)return!0}}}]),e}();function tte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,o,r=[],s=!0,a=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(N0){a=!0,o=N0}finally{try{s||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ite(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ite(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ite(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function nte(e,t,i){return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var ote=new RegExp("^"+("["+B9+F9+"]+")+"$","i"),rte="(?:[+＋]["+B9+F9+"]*|["+B9+F9+"]+)",ste=new RegExp("[^"+B9+F9+"]+.*$"),ate=/[^\d\[\]]/,lte=function(){function e(t){var i=t.defaultCountry,n=t.defaultCallingCode,o=t.metadata,r=t.onNationalSignificantNumberChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultCountry=i,this.defaultCallingCode=n,this.metadata=o,this.onNationalSignificantNumberChange=r}return nte(e,[{key:"input",value:function(e,t){var i,n=function(e){var t=function(e){var t=function(e){var t,i=e.search(rte);if(i<0)return;e=e.slice(i),"+"===e[0]&&(t=!0,e=e.slice(1));e=e.replace(ste,""),t&&(e="+"+e);return e}(e)||"";if("+"===t[0])return[t.slice(1),!0];return[t]}(e),i=tte(t,2),n=i[0],o=i[1];ote.test(n)||(n="");return[n,o]}(e),o=tte(n,2),r=o[0],s=o[1],a=g7(r);return s&&(t.digits||(t.startInternationalNumber(),a||(i=!0))),a&&this.inputDigits(a,t),{digits:a,justLeadingPlus:i}}},{key:"inputDigits",value:function(e,t){var i=t.digits,n=i.length<3&&i.length+e.length>=3;if(t.appendDigits(e),n&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),(function(e){return t.update(e)}))}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,i=e.callingCode;return t&&!i}},{key:"extractCountryCallingCode",value:function(e){var t=eee("+"+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=t.countryCallingCode,n=t.number;if(i)return e.setCallingCode(i),e.update({nationalSignificantNumber:n}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&ate.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var i=X7(e,this.metadata),n=i.nationalPrefix,o=i.nationalNumber,r=i.carrierCode;if(o!==e)return this.onExtractedNationalNumber(n,r,o,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var n=X7(e,this.metadata),o=n.nationalPrefix,r=n.nationalNumber,s=n.carrierCode;if(r!==t)return this.onExtractedNationalNumber(o,s,r,e,i),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,i,n,o){var r,s,a=n.lastIndexOf(i);if(a>=0&&a===n.length-i.length){s=!0;var l=n.slice(0,a);l!==e&&(r=l)}o({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:i,nationalSignificantNumberMatchesInput:s,complexPrefixBeforeNationalSignificantNumber:r}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){return!!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,(function(t){return e.update(t)}))||(this.extractIddPrefix(e)||this.fixMissingPlus(e)?(this.extractCallingCodeAndNationalSignificantNumber(e),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,i=e.IDDPrefix,n=e.digits;if(e.nationalSignificantNumber,!t&&!i){var o=Q7(n,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);return void 0!==o&&o!==n?(e.update({IDDPrefix:n.slice(0,n.length-o.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0):void 0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=Z7(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=t.countryCallingCode;if(t.number,i)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(e,t){var i=t.country,n=t.callingCode;e.startInternationalNumber(i,n),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),(function(t){return e.update(t)}))}}]),e}();function cte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,o,r=[],s=!0,a=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(N0){a=!0,o=N0}finally{try{s||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dte(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dte(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dte(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ute(e,t,i){return function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var hte=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=new Y9(i);var n=cte(this.getCountryAndCallingCode(t),2),o=n[0],r=n[1];this.defaultCountry=o,this.defaultCallingCode=r,this.reset()}return ute(e,[{key:"getCountryAndCallingCode",value:function(e){var t,i;return e&&(V9(e)?(t=e.defaultCountry,i=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),[t,i]}},{key:"input",value:function(e){var t=this.parser.input(e,this.state),i=t.digits;if(t.justLeadingPlus)this.formattedOutput="+";else if(i){var n;if(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),this.metadata.hasSelectedNumberingPlan()&&(n=this.formatter.format(i,this.state)),void 0===n&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var o=this.state.getNationalDigits();o&&(n=this.formatter.format(o,this.state))}this.formattedOutput=n?this.getFullNumber(n):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new See({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,i){e.metadata.selectNumberingPlan(i,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new ete({state:this.state,metadata:this.metadata}),this.parser=new lte({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){return this.state.country}},{key:"determineTheCountryIfNeeded",value:function(){this.state.country&&!this.isCountryCallingCodeAmbiguous()||this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t=this;if(this.isInternational()){var i=function(e){return t.formatter.getInternationalPrefixBeforeCountryCallingCode(t.state,{spacing:!!e})+e},n=this.state.callingCode;return i(n?e?"".concat(n," ").concat(e):n:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,i=e.complexPrefixBeforeNationalSignificantNumber,n=e.nationalPrefix,o=t,r=i||n;return r&&(o=r+o),o}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,Dee)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(oee(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,i=e.callingCode,n=e.country,o=e.nationalSignificantNumber;if(t)return this.isInternational()?i?"+"+i+o:"+"+t:n||i?"+"+(n?this.metadata.countryCallingCode():i)+o:void 0}},{key:"getNumber",value:function(){var e=this.state,t=e.nationalSignificantNumber,i=e.carrierCode,n=e.callingCode,o=this._getCountry();if(t&&(o||n)){if(o&&o===this.defaultCountry){var r=new Y9(this.metadata.metadata);r.selectNumberingPlan(o);var s=r.numberingPlan.callingCode(),a=this.metadata.getCountryCodesForCallingCode(s);if(a.length>1){var l=nee(t,{countries:a,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});l&&(o=l)}}var c=new W7(o||n,t,this.metadata.metadata);return i&&(c.carrierCode=i),c}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}]),e}();function pte(e){return new Y9(e).getCountries()}function mte(e,t,i){if(t[e])return new W7(e,t[e],i)}function fte(e){return hte.call(this,e,T9)}function gte(){return S9(pte,arguments)}function bte(){return S9(t7,arguments)}fte.prototype=Object.create(hte.prototype,{}),fte.prototype.constructor=fte;var vte=Object.defineProperty,yte=(e,t,i)=>((e,t,i)=>t in e?vte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i);function kte({componentName:e,providedId:t}){return ks((()=>null!=t?t:`${e}-${function(){const e=as();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}().replace(/:/g,"")}`))}function wte(e,t="20x15"){return`https://flagcdn.com/${t}/${e.toLowerCase()}.png`}function xte(e,t){const i=Go(e,t);if(!i)throw new TypeError(`[maz-ui](injectStrict) Could not resolve ${e.toString()}`);return i}function _te(e){return!!e}const Ete={baseClass:"m-lazy-img",loadedClass:"m-lazy-loaded",loadingClass:"m-lazy-loading",errorClass:"m-lazy-error",noPhotoClass:"m-lazy-no-photo",noPhoto:!1,observerOnce:!0,loadOnce:!1,noUseErrorPhoto:!1,observerOptions:{threshold:.1}};class Cte{constructor(e={}){yte(this,"observers",[]),yte(this,"defaultOptions",Ete),yte(this,"options"),yte(this,"onImgLoadedCallback"),yte(this,"onImgErrorCallback"),yte(this,"hasImgLoaded",!1),this.options=this.buildOptions(e),this.onImgLoadedCallback=this.imageIsLoaded.bind(this),this.onImgErrorCallback=this.imageHasError.bind(this)}async loadErrorPhoto(){const{default:e}=await Da((()=>a.import("./no-photography.BJX8HSus-legacy-BjJRPqbh.js")),void 0);return e}buildOptions(e){return{...this.defaultOptions,...e,observerOptions:{...this.defaultOptions.observerOptions,...e.observerOptions}}}removeClass(e,t){e.classList.remove(t)}addClass(e,t){e.classList.add(t)}removeAllStateClasses(e){this.removeClass(e,this.options.loadedClass),this.removeClass(e,this.options.loadingClass),this.removeClass(e,this.options.errorClass),this.removeClass(e,this.options.noPhotoClass)}setBaseClass(e){this.addClass(e,this.options.baseClass)}imageIsLoading(e){var t,i;this.addClass(e,this.options.loadingClass),null==(i=(t=this.options).onLoading)||i.call(t,e)}imageHasNoPhoto(e){this.removeClass(e,this.options.loadingClass),this.addClass(e,this.options.noPhotoClass),this.setDefaultPhoto(e)}imageIsLoaded(e){var t,i;this.hasImgLoaded=!0,this.removeClass(e,this.options.loadingClass),this.addClass(e,this.options.loadedClass),null==(i=(t=this.options).onLoaded)||i.call(t,e)}imageHasError(e){var t,i;this.removeClass(e,this.options.loadingClass),this.addClass(e,this.options.errorClass),null==(i=(t=this.options).onError)||i.call(t,e),this.setDefaultPhoto(e)}getSrc(e){return"object"==typeof e.value?e.value.src:e.value}getImageUrl(e,t){return this.getImgElement(e).getAttribute("data-lazy-src")||this.getSrc(t)}async setPictureSourceUrls(e){const t=e.querySelectorAll("source");if(t.length>0)for await(const i of t){const t=i.getAttribute("data-lazy-srcset");if(!t)return this.imageHasError(e);i.srcset=t}else this.imageHasError(e)}hasBgImgMode(e){return"bg-image"===e.arg}isPictureElement(e){return e instanceof HTMLPictureElement}getImgElement(e){return this.isPictureElement(e)?e.querySelector("img"):e}async setDefaultPhoto(e){var t;if(this.options.noUseErrorPhoto)return;const i=null!==(t=this.options.fallbackSrc)&&void 0!==t?t:this.options.errorPhoto;"string"==typeof i&&this.addClass(e,this.options.noPhotoClass);const n=null!=i?i:await this.loadErrorPhoto(),o=e.querySelectorAll("source");if(o.length>0)for await(const r of o)r.srcset=n;else this.setImgSrc(e,n)}addEventListenerToImg(e){const t=this.getImgElement(e);t.addEventListener("load",(()=>this.onImgLoadedCallback(e)),{once:!0}),t.addEventListener("error",(t=>this.onImgErrorCallback(e,t)),{once:!0})}async loadImage(e,t){if(this.imageIsLoading(e),this.isPictureElement(e))this.addEventListenerToImg(e),await this.setPictureSourceUrls(e);else{const i=this.getImageUrl(e,t);if(!i)return this.imageHasError(e);this.hasBgImgMode(t)?(e.style.backgroundImage=`url('${i}')`,this.imageIsLoaded(e)):(this.addEventListenerToImg(e),this.setImgSrc(e,i))}}setImgSrc(e,t){this.getImgElement(e).src=t}handleIntersectionObserver(e,t,i,n){var o,r;this.observers.push(n);for(const s of i)if(s.isIntersecting){if(null==(r=(o=this.options).onIntersecting)||r.call(o,s.target),this.options.observerOnce&&n.unobserve(e),this.options.loadOnce&&this.hasImgLoaded)return;this.loadImage(e,t)}}createObserver(e,t){const i=this.options.observerOptions;new IntersectionObserver(((i,n)=>{this.handleIntersectionObserver(e,t,i,n)}),i).observe(e)}async imageHandler(e,t,i){if("update"===i)for await(const n of this.observers)n.unobserve(e);window.IntersectionObserver?this.createObserver(e,t):this.loadImage(e,t)}async bindUpdateHandler(e,t,i){if(this.options.noPhoto)return this.imageHasNoPhoto(e);await this.imageHandler(e,t,i)}async add(e,t){if(this.hasBgImgMode(t)&&this.isPictureElement(e))throw new Error('[MazLazyImg] You can\'t use the "bg-image" mode with "<picture />" element');setTimeout((()=>this.setBaseClass(e)),0),e.getAttribute("src")||this.setImgSrc(e,"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),await this.bindUpdateHandler(e,t,"bind")}async update(e,t){t.value!==t.oldValue&&(this.hasImgLoaded=!1,this.removeAllStateClasses(e),await this.bindUpdateHandler(e,t,"update"))}remove(e,t){this.hasImgLoaded=!1,this.hasBgImgMode(t)&&(e.style.backgroundImage=""),this.removeAllStateClasses(e);for(const i of this.observers)i.unobserve(e);this.observers=[]}}let Ate;const Tte={created(e,t){const i="object"==typeof t.value?t.value:{};Ate=new Cte(i),Ate.add(e,t)},updated(e,t){Ate.update(e,t)},unmounted(e,t){Ate.remove(e,t)}},Ste=["data-lazy-srcset","media"],Ite=["alt"],Pte={key:0,class:"m-lazy-img-component-loader"},Dte=jn({inheritAttrs:!1,__name:"MazLazyImg",props:{style:{default:void 0},class:{default:void 0},image:{default:void 0},src:{default:void 0},alt:{default:void 0},noPhoto:{type:Boolean},noLoader:{type:Boolean},noObserverOnce:{type:Boolean},loadOnce:{type:Boolean},imageHeightFull:{type:Boolean},observerOptions:{default:void 0},fallbackSrc:{default:void 0},imgClass:{},block:{type:Boolean}},emits:["intersecting","loading","loaded","error"],setup(e){const t=e,i=Gn((()=>Da((()=>a.import("./MazSpinner.DZT5jj-c-legacy-6gw0BgdM.js")),void 0))),n=ks((()=>t.image||t.src)),o=ks((()=>{var e;return"string"==typeof n.value?[{srcset:n.value}]:null==(e=n.value)?void 0:e.sources}));return(e,n)=>mn(($r(),jr("picture",{class:We(["m-lazy-img-component m-reset-css",[{"--use-loader":!e.noLoader,"--height-full":e.imageHeightFull,"--block":e.block},t.class]]),style:Ve(e.style)},[($r(!0),jr(Dr,null,vo(o.value,(({srcset:e,media:t},i)=>($r(),jr("source",{key:i,"data-lazy-srcset":e,media:t},null,8,Ste)))),128)),Wr("img",is(e.$attrs,{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",loading:"lazy",alt:e.alt,class:e.imgClass}),null,16,Ite),e.noLoader?Jr("v-if",!0):($r(),jr("div",Pte,[Yr(Di(i),{size:"2em"})])),yo(e.$slots,"default",{},void 0)],6)),[[Di(Tte),{noPhoto:e.noPhoto,loadOnce:e.loadOnce,observerOptions:e.observerOptions,fallbackSrc:e.fallbackSrc,observerOnce:!e.noObserverOnce,onIntersecting:t=>e.$emit("intersecting",t),onLoading:t=>e.$emit("loading",t),onLoaded:t=>e.$emit("loaded",t),onError:t=>e.$emit("error",t)}]])}}),Rte=i("t",((e,t)=>{const i=e.__vccOpts||e;for(const[n,o]of t)i[n]=o;return i})),Lte=Rte(Dte,[["__scopeId","data-v-16d47574"]]),Mte={removeAccents:!0,caseSensitive:!1,replaceSpaces:!0,removeSpecialCharacters:!1,trim:!0,normalizeSpaces:!0,removeNumbers:!1,customNormalizationForms:["NFC","NFKD"]};function Ote(e,t){const i={...Mte,...t},n={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Î":"I","Ï":"I","í":"I","î":"i","ï":"i","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ç":"C","ç":"c","ÿ":"y","Ñ":"N","ñ":"n","ó":"o"};let o=e.toString();if(i.trim&&(o=o.trim()),i.normalizeSpaces&&(o=o.replaceAll(/\s+/g," ")),i.replaceSpaces&&(o=o.replaceAll(" ","-")),i.removeNumbers&&(o=o.replaceAll(/\d/g,"")),i.removeAccents&&(o=o.replaceAll(/[ÀÁÂÃÄÅÇÈÉÊËÎÏÑÔÕÖØÙÚÛÜàáâãäåçèéêëíîïñóôõöøùúûüÿ]/g,(e=>n[e]||e)),o=o.replaceAll(/[\u0300-\u036F]/g,"")),!1===i.caseSensitive&&(o=o.toLowerCase()),i.removeSpecialCharacters&&(o=o.replaceAll(/[^\dA-Z-]/gi,"")),i.trim&&(o=o.trim()),i.customNormalizationForms)for(const r of i.customNormalizationForms)o=o.normalize(r);return o}function Nte(e,t){const i=function(e,t){const i=e.length,n=t.length,o=[];for(let r=0;r<=i;r++)o[r]=[r];for(let r=0;r<=n;r++)o[0][r]=r;for(let r=1;r<=i;r++)for(let i=1;i<=n;i++){const n=e[r-1]===t[i-1]?0:1;o[r][i]=Math.min(o[r-1][i]+1,o[r][i-1]+1,o[r-1][i-1]+n)}return o[i][n]}(e,t);return 1-i/Math.max(e.length,t.length)}function $te(e,t,i=.75){const n=ks((()=>Ote("string"==typeof e?e:e.value))),o=ks((()=>Ote("string"==typeof t?t:t.value))),r=ks((()=>"number"==typeof i?i:i.value)),s=ks((()=>Nte(n.value,o.value)));return{isMatching:ks((()=>function(e,t,i=.75){return Nte(e,t)>=i}(n.value,o.value,r.value))),score:s}}function Fte(e,t,i){var n,o;e.stopPropagation();const r="function"==typeof i.value?i.value:i.value.handler,s="object"==typeof i.value?i.value.exclude:void 0;let a=!1;if(s&&s.length>0)for(const c of s)if(!a&&e.target instanceof HTMLElement){var l;const t=null==(n=document.querySelector(c))?void 0:n.getAttribute("id");a=null!==(l=e.target.getAttribute("id")===t||(null==(o=document.querySelector(c))?void 0:o.contains(e.target)))&&void 0!==l&&l}!t.contains(e.target)&&!a&&(null==r||r(e))}function Bte(){return null===document.ontouchstart?"touchstart":"click"}const zte={mounted:function(e,t){if("function"!=typeof t.value&&"object"==typeof t.value&&"function"!=typeof t.value.handler)return void console.error("[maz-ui](vClosable) v-closable directive requires a handler function");const i=Bte();document.addEventListener(i,(i=>Fte(i,e,t)))},unmounted:function(e,t){const i=Bte();document.removeEventListener(i,(i=>Fte(i,e,t)))}};let jte=null;const Vte=["for"],Ute={key:0,class:"m-input-wrapper-left"},Hte=["id","name","placeholder","aria-label","type","inputmode","disabled","readonly","autocomplete","required"],qte={key:1,class:"m-input-wrapper-right"},Gte=jn({inheritAttrs:!1,__name:"MazInput",props:{style:{default:void 0},class:{default:void 0},modelValue:{default:void 0},placeholder:{default:void 0},label:{default:void 0},topLabel:{},assistiveText:{},name:{default:void 0},color:{default:"primary"},type:{default:"text"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},id:{default:void 0},error:{type:Boolean,default:!1},success:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},hint:{default:void 0},inputClasses:{default:void 0},noBorder:{type:Boolean,default:!1},noRadius:{type:Boolean,default:!1},inputmode:{default:"text"},size:{default:"md"},debounce:{type:[Boolean,Number],default:!1},debounceDelay:{default:500},validButton:{type:Boolean,default:!1},validButtonLoading:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!1},borderActive:{type:Boolean,default:!1},leftIcon:{type:[String,Function,Object],default:void 0},rightIcon:{type:[String,Function,Object],default:void 0},roundedSize:{default:void 0},block:{type:Boolean},autocomplete:{}},emits:["update:model-value","focus","blur","click","change","input"],setup(e,{emit:t}){var i;const n=e,o=t,r=Gn((()=>Da((()=>a.import("./MazBtn.1qp5aQ4N-legacy-DPkSfj_R.js")),void 0))),s=Gn((()=>Da((()=>a.import("./MazIcon.B5hPzeLk-legacy-DqYkIhxZ.js")),void 0))),l=Gn((()=>Da((()=>a.import("./eye-slash.BoO00xzs-legacy-DIir82Ul.js")),void 0))),c=Gn((()=>Da((()=>a.import("./eye.f8zAUc30-legacy-Dr0y3YHk.js")),void 0))),d=Gn((()=>Da((()=>a.import("./check.C9Q_W85g-legacy-B2kq732H.js")),void 0))),u=Ti(!1),h=Ti(!1),p=Ti(),m=kte({componentName:"MazInput",providedId:n.id});io((()=>{var e;n.autoFocus&&(null==(e=p.value)||e.focus())}));const f=ks((()=>"password"===n.type)),g=ks((()=>u.value?"text":n.type)),b=ks((()=>{if(!n.noBorder){if(n.error)return"maz-border-danger";if(n.success)return"maz-border-success";if(n.warning)return"maz-border-warning";if(h.value||n.borderActive){if("black"===n.color)return"maz-border-black";if("danger"===n.color)return"maz-border-danger";if("info"===n.color)return"maz-border-info";if("primary"===n.color)return"maz-border-primary";if("secondary"===n.color)return"maz-border-secondary";if("success"===n.color)return"maz-border-success";if("warning"===n.color)return"maz-border-warning";if("white"===n.color)return"maz-border-white"}return"--default-border"}})),v=Ao().slots,y=ks((()=>void 0!==w.value&&""!==w.value)),k=function(e,t){let i;return function(...n){clearTimeout(i),i=setTimeout((()=>{e.apply(this,n)}),t)}}((e=>{o("update:model-value",e)}),"number"==typeof n.debounce?n.debounce:null!==(i=n.debounceDelay)&&void 0!==i?i:500);const w=ks({get:()=>n.modelValue,set:e=>function(e){if(n.debounce)return k(e);o("update:model-value",e)}(e)}),x=ks((()=>(!!n.label||!!n.hint)&&(h.value||!!y.value||!!n.placeholder||["date","month","week"].includes(n.type)))),_=ks((()=>!!n.label||!!n.hint));function E(e){o("focus",e),h.value=!0}function C(e){o("blur",e),h.value=!1}function A(e){return o("change",e)}function T(e){return o("input",e)}return(e,t)=>($r(),jr("div",{class:We(["m-input",[{"--is-focused":h.value||e.borderActive,"--should-up":x.value,"--has-label":_.value,"--is-disabled":e.disabled,"--is-readonly":e.readonly,"--has-z-2":e.error||e.warning||e.success,"--has-state":e.error||e.warning||e.success,"--block":e.block},n.class,`--${e.color}`]]),style:Ve(e.style)},[e.topLabel?($r(),jr("label",{key:0,for:Di(m),class:"m-input-top-label"},Ze(e.topLabel),9,Vte)):Jr("v-if",!0),Wr("div",{class:We(["m-input-wrapper m-reset-css",[e.inputClasses,b.value,e.roundedSize?`--rounded-${e.roundedSize}`:{"maz-rounded":!e.noRadius},{"--block":e.block}]])},[v["left-icon"]||n.leftIcon?($r(),jr("div",Ute,[e.$slots["left-icon"]||e.leftIcon?yo(e.$slots,"left-icon",{key:0},(()=>["string"==typeof e.leftIcon?($r(),Vr(Di(s),{key:0,name:e.leftIcon,class:"maz-text-xl maz-text-muted"},null,8,["name"])):e.leftIcon?($r(),Vr(fo(e.leftIcon),{key:1,class:"maz-text-xl maz-text-muted"})):Jr("v-if",!0)])):Jr("v-if",!0)])):Jr("v-if",!0),Wr("div",{class:We(["m-input-wrapper-input",[`--${e.size}`,{"--top-label":!!e.topLabel}]])},[mn(Wr("input",is({id:Di(m)},e.$attrs,{ref_key:"input",ref:p,"onUpdate:modelValue":t[0]||(t[0]=e=>w.value=e),name:e.name,placeholder:e.placeholder,"aria-label":e.label||e.placeholder,type:g.value,inputmode:e.inputmode,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,required:e.required,class:"m-input-input"},wo({blur:C,focus:E,change:A,input:T}),{onClick:t[1]||(t[1]=t=>e.$emit("click",t))}),null,16,Hte),[[_a,w.value]]),e.label||e.hint?($r(),jr("span",{key:0,class:We(["m-input-label",[{"maz-text-danger-600":e.error,"maz-text-success-600":e.success,"maz-text-warning-600":e.warning}]])},Ze(e.hint||e.label),3)):Jr("v-if",!0)],2),v["right-icon"]||f.value||v["valid-button"]||n.validButton||n.rightIcon?($r(),jr("div",qte,[e.$slots["right-icon"]||e.rightIcon?yo(e.$slots,"right-icon",{key:0},(()=>["string"==typeof e.rightIcon?($r(),Vr(Di(s),{key:0,name:e.rightIcon,class:"maz-text-xl maz-text-muted"},null,8,["name"])):e.rightIcon?($r(),Vr(fo(e.rightIcon),{key:1,class:"maz-text-xl maz-text-muted"})):Jr("v-if",!0)])):Jr("v-if",!0),f.value?($r(),Vr(Di(r),{key:1,color:"transparent",tabindex:"-1",size:"mini",onClick:t[2]||(t[2]=Ta((e=>u.value=!u.value),["stop"]))},{default:pn((()=>[u.value?($r(),Vr(Di(l),{key:0,class:"maz-text-xl maz-text-muted"})):($r(),Vr(Di(c),{key:1,class:"maz-text-xl maz-text-muted"}))])),_:1})):Jr("v-if",!0),e.$slots["valid-button"]||e.validButton?yo(e.$slots,"valid-button",{key:2},(()=>[Yr(Di(r),{color:"transparent",disabled:e.disabled,tabindex:"-1",loading:e.validButtonLoading,class:"m-input-valid-button",size:"mini",type:"submit"},{default:pn((()=>[Yr(Di(d),{class:"maz-text-2xl maz-text-normal"})])),_:1},8,["disabled","loading"])])):Jr("v-if",!0)])):Jr("v-if",!0)],2),e.assistiveText?($r(),jr("div",{key:1,class:We(["m-input-bottom-text",[{"maz-text-danger-600":e.error,"maz-text-success-600":e.success,"maz-text-warning-600":e.warning,"maz-text-muted":!e.error&&!e.success&&!e.warning}]])},Ze(e.assistiveText),3)):Jr("v-if",!0)],6))}}),Wte=Rte(Gte,[["__scopeId","data-v-8def99c5"]]),Yte=["aria-label"],Kte={class:"m-select-list__no-results"},Qte={key:2,class:"m-select-list__scroll-wrapper",tabindex:"-1"},Xte={class:"m-select-list-optgroup"},Jte=["onClick"],Zte=jn({inheritAttrs:!1,__name:"MazSelect",props:{style:{default:void 0},class:{default:void 0},id:{default:void 0},modelValue:{default:void 0},options:{default:void 0},optionValueKey:{default:"value"},optionLabelKey:{default:"label"},optionInputValueKey:{default:"label"},listPosition:{default:"bottom left"},itemHeight:{default:void 0},maxListHeight:{default:240},maxListWidth:{default:void 0},minListHeight:{default:void 0},minListWidth:{default:void 0},size:{default:"md"},color:{default:"primary"},search:{type:Boolean},searchPlaceholder:{default:"Search in options"},searchFunction:{},searchThreshold:{default:.75},open:{type:Boolean},multiple:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},block:{type:Boolean},excludeSelectors:{default:void 0},autocomplete:{default:"off"}},emits:["close","open","blur","focus","change","input","update:model-value","selected-option"],setup(e,{expose:t,emit:i}){const n=e,o=i,r=Gn((()=>Da((()=>a.import("./MazCheckbox.UAnkvAoS-legacy-T0bczKlS.js")),void 0))),s=Gn((()=>Da((()=>a.import("./magnifying-glass.-nBiyXot-legacy--j3u3v3U.js")),void 0))),l=Gn((()=>Da((()=>a.import("./chevron-down.BkvtON3b-legacy-B5tYA3eF.js")),void 0))),c=Gn((()=>Da((()=>a.import("./no-symbol.CIgKzsrB-legacy-n_w1DCti.js")),void 0)));t({openList:$,closeList:N});const d=Ti(!1),u=Ti(),h=ks((()=>["black","transparent","white"].includes(n.color))),p=ks((()=>h.value?"var(--maz-color-black)":`var(--maz-color-${n.color}-800)`)),m=ks((()=>h.value?"var(--maz-color-muted)":`var(--maz-color-${n.color}-100)`)),f=ks((()=>h.value?"var(--maz-color-muted)":`var(--maz-color-${n.color}-200)`)),g=ks((()=>d.value||n.open)),b=kte({componentName:"MazSelect",providedId:n.id});function v(e){return{[n.optionValueKey]:e,[n.optionLabelKey]:e,[n.optionInputValueKey]:e}}function y(e){return{...e,[n.optionValueKey]:e[n.optionValueKey],[n.optionLabelKey]:e[n.optionLabelKey],[n.optionInputValueKey]:e[n.optionInputValueKey]}}function k(e){const t=[];if(null==e||!e.length)return[];for(const i of e)"string"==typeof i||"number"==typeof i||"boolean"==typeof i?t.push(v(i)):"object"==typeof i&&"options"in i&&Array.isArray(i.options)?t.push({label:i.label,isOptGroup:!0},...i.options.map((e=>"string"==typeof e||"number"==typeof e||"boolean"==typeof e?v(e):y(e)))):t.push(y(i));return t}const w=ks((()=>{var e;return k(null!==(e=n.options)&&void 0!==e?e:[])})),x=ks((()=>{var e,t;return null!==(e=null==(t=w.value)?void 0:t.filter((e=>n.multiple?!!Array.isArray(n.modelValue)&&(n.modelValue.includes(e[n.optionValueKey])&&!T(e[n.optionValueKey])):n.modelValue===e[n.optionValueKey]&&!T(e[n.optionValueKey]))))&&void 0!==e?e:[]}));to((()=>{var e;null!=(e=n.options)&&e.length||console.warn("[maz-ui](MazSelect) you must provide options"),H()}));const _=Ti(),E=Ti(),C=Ti(),A=Ti();function T(e){return null==e}function S(e){var t,i;return null!==(t=null==(i=x.value)?void 0:i.some((t=>t[n.optionValueKey]===e[n.optionValueKey])))&&void 0!==t&&t&&!T(e[n.optionValueKey])}const I=ks((()=>{var e;if(n.multiple&&n.modelValue&&Array.isArray(n.modelValue))return n.modelValue.map((e=>{var t,i;return null==(i=null==(t=w.value)?void 0:t.find((t=>t[n.optionValueKey]===e)))?void 0:i[n.optionInputValueKey]})).join(", ");const t=null==(e=w.value)?void 0:e.find((e=>e[n.optionValueKey]===n.modelValue));return T(n.modelValue)||null==t?void 0:t[n.optionInputValueKey]})),P=ks((()=>n.listPosition.includes("bottom")?"maz-slide":"maz-slideinvert")),D=Ti(""),R=Ti("");function L(e,t){return t&&e&&Ote(e).includes(Ote(t))}function M(e){var t;return e?null==(t=w.value)?void 0:t.filter((t=>{const i=t[n.optionLabelKey],o=t[n.optionValueKey],r=t[n.optionInputValueKey],s=n.searchThreshold;return L(i,e)||L(r,e)||L(o,e)||"string"==typeof i&&$te(i,e,s).isMatching.value||"string"==typeof r&&$te(r,e,s).isMatching.value||"string"==typeof o&&$te(o,e,s).isMatching.value})):w.value}const O=ks((()=>{var e,t;return n.searchFunction&&n.search&&D.value?k(null!==(e=n.searchFunction(D.value,null!==(t=n.options)&&void 0!==t?t:[]))&&void 0!==e?e:[]):M(D.value)}));async function N(e){var t,i;if(!g.value)return;if(e&&("relatedTarget"in e&&null!=(t=_.value)&&t.contains(e.relatedTarget)||"keydown"===e.type))return e.preventDefault();const r=e&&"relatedTarget"in e&&e.relatedTarget instanceof HTMLElement&&e.relatedTarget.getAttribute("id");if(null!=(i=n.excludeSelectors)&&i.includes(`#${r}`))return null==e?void 0:e.preventDefault();await nn(),d.value=!1,u.value=0,o("close",e)}async function $(e){n.disabled||g.value||(null==e||e.preventDefault(),d.value=!0,await U(),o("focus",e),o("open",d.value))}function F(){var e,t;null==(t=(null==(e=E.value)?void 0:e.$el).querySelector("input"))||t.focus()}function B(e){d.value?N(e):F()}function z(e){var t;"Backspace"===e&&R.value.length>0?R.value=R.value.slice(0,-1):R.value+=e;const i=M(R.value);null!=i&&i.length&&(u.value=null==(t=O.value)?void 0:t.findIndex((e=>e[n.optionValueKey]===i[0][n.optionValueKey])),"number"==typeof u.value&&u.value>=0&&U(u.value)),function(e,t){jte&&clearTimeout(jte),jte=setTimeout(e,t)}((()=>{R.value=""}),1e3)}function j(e){const t=e.key;/^[\dA-Za-z\u0400-\u04FF]$/.test(t)?(e.preventDefault(),$(e),n.search?function(e){var t,i;D.value=e,null==(i=(null==(t=C.value)?void 0:t.$el).querySelector("input"))||i.focus()}(t):z(t)):V(e)}function V(e,t=!0){const i=e.code,n=["ArrowUp","ArrowDown"].includes(i),o=(t?["Enter","Space"]:["Enter"]).includes(i),r="Escape"===i&&g.value;n?function(e,t){var i;e.preventDefault();const n=e.code;g.value||$(e);const o=null==(i=O.value)?void 0:i.length;o&&(u.value="number"==typeof t?t===o-1&&"ArrowDown"===n?0:0===t&&"ArrowUp"===n?o-1:"ArrowDown"===n?t+1:t-1:"ArrowDown"===n?0:o-1,U(u.value))}(e,u.value):o?function(e,t){var i,n,o,r;if(!g.value)return;e.preventDefault();const s=t?null!==(i=null==(n=O.value)?void 0:n[t])&&void 0!==i?i:null==(o=O.value)?void 0:o[0]:null==(r=O.value)?void 0:r[0];T(s)||q(s)}(e,u.value):r&&N(e)}async function U(e){var t,i;await nn(),"number"!=typeof e&&H();const n=null!=e?e:u.value;if("number"==typeof n&&n>=0){const e=null==(t=A.value)?void 0:t.querySelectorAll(".m-select-list-item");null==(i=null==e?void 0:e[n])||i.scrollIntoView({behavior:"auto",block:"nearest",inline:"start"})}}function H(e){var t;const i=null==(t=O.value)?void 0:t.findIndex((t=>{var i,o;return n.multiple&&Array.isArray(n.modelValue)?e?e[n.optionValueKey]===t[n.optionValueKey]:[...n.modelValue].reverse()[0]===t[n.optionValueKey]:(null==(o=null==(i=x.value)?void 0:i[0])?void 0:o[n.optionValueKey])===t[n.optionValueKey]}));u.value=i&&i>=0?i:0}function q(e,t=!0){var i;t&&!n.multiple&&nn((()=>N())),D.value="";const r=null==(i=x.value)?void 0:i.some((t=>t[n.optionValueKey]===e[n.optionValueKey]));let s=x.value;r&&n.multiple?s=null==s?void 0:s.filter((t=>t[n.optionValueKey]!==e[n.optionValueKey])):n.multiple?s.push(e):s=[e];const a=s.map((e=>e[n.optionValueKey]));o("update:model-value",n.multiple?a:a[0]),o("selected-option",e),function(){var e,t;null==(t=(null==(e=E.value)?void 0:e.$el).querySelector("input"))||t.dispatchEvent(new Event("input"))}(),H(e),F()}return(e,t)=>mn(($r(),jr("div",{ref_key:"mazSelectElement",ref:_,class:We(["m-select m-reset-css",[{"--is-open":g.value,"--disabled":e.disabled,"--block":e.block},n.class,`--${e.size}`]]),style:Ve([e.style,{"--keyboard-selected-bg-color":f.value,"--selected-bg-color":m.value,"--selected-text-color":p.value}])},[Yr(Wte,is({id:Di(b),ref_key:"mazInputComponent",ref:E,class:"m-select-input"},e.$attrs,{required:e.required,"border-active":d.value,color:e.color,"model-value":I.value,size:e.size,block:"",autocomplete:e.autocomplete,disabled:e.disabled,onFocus:Ta($,["prevent","stop"]),onBlur:Ta(N,["prevent","stop"]),onClick:Ta($,["prevent","stop"]),onChange:t[0]||(t[0]=e=>o("change",e)),onInput:t[1]||(t[1]=e=>o("input",e)),onKeydown:j}),{"right-icon":pn((()=>[Wr("button",{tabindex:"-1",type:"button",class:"m-select-input__toggle-button maz-custom","aria-label":(g.value?"collapse":"expand")+" list of options",onClick:Ta(B,["stop"])},[Yr(Di(l),{class:"m-select-chevron maz-text-xl"})],8,Yte)])),_:1},16,["id","required","border-active","color","model-value","size","autocomplete","disabled"]),Yr(Ms,{name:P.value},{default:pn((()=>[g.value?($r(),jr("div",{key:0,ref_key:"optionListElement",ref:A,class:We(["m-select-list",{"--top":e.listPosition.includes("top"),"--left":e.listPosition.includes("left"),"--right":e.listPosition.includes("right"),"--bottom":e.listPosition.includes("bottom")}]),style:Ve({maxHeight:`${e.maxListHeight}px`,maxWidth:`${e.maxListWidth}px`,minHeight:`${e.minListHeight}px`,minWidth:`${e.minListWidth}px`})},[e.search?($r(),Vr(Wte,{key:0,ref_key:"searchInputComponent",ref:C,modelValue:D.value,"onUpdate:modelValue":[t[2]||(t[2]=e=>D.value=e),t[4]||(t[4]=e=>u.value=0)],size:"sm",color:e.color,placeholder:e.searchPlaceholder,name:"search",inputmode:"search",block:"",autocomplete:"off",tabindex:"-1",class:"m-select-list__search-input maz-flex-none","left-icon":Di(s),onKeydown:t[3]||(t[3]=e=>V(e,!1))},null,8,["modelValue","color","placeholder","left-icon"])):Jr("v-if",!0),!O.value||O.value.length<=0?yo(e.$slots,"no-results",{key:1},(()=>[Wr("span",Kte,[Yr(Di(c),{class:"maz-h-6 maz-w-6 maz-text-normal"})])])):($r(),jr("div",Qte,[($r(!0),jr(Dr,null,vo(O.value,((t,i)=>($r(),jr(Dr,{key:i},[t.label&&t.isOptGroup?yo(e.$slots,"optgroup",{key:0,label:t.label},(()=>[Wr("span",Xte,Ze(t.label),1)])):($r(),jr("button",{key:1,tabindex:"-1",type:"button",class:We(["m-select-list-item maz-custom maz-flex-none",[{"--is-keyboard-selected":u.value===i,"--is-selected":S(t),"--is-none-value":T(t[e.optionValueKey])}]]),style:Ve(e.itemHeight?{height:`${e.itemHeight}px`}:void 0),onClick:Ta((e=>q(t)),["prevent","stop"])},[e.multiple?($r(),Vr(Di(r),{key:0,tabindex:"-1","model-value":S(t),size:"sm",color:e.color},null,8,["model-value","color"])):Jr("v-if",!0),yo(e.$slots,"default",{option:t,isSelected:S(t)},(()=>[Wr("span",null,Ze(t[e.optionLabelKey]),1)]))],14,Jte))],64)))),128))]))],6)):Jr("v-if",!0)])),_:3},8,["name"])],6)),[[Di(zte),{exclude:e.excludeSelectors,handler:N}]])}}),eie=Rte(Zte,[["__scopeId","data-v-98157b75"]]);function tie(){if(typeof window>"u")return;const e=window.navigator.language;if(!e)return;let t=e.slice(3,7).toUpperCase();return""===t&&(t=e.slice(0,2).toUpperCase()),"EN"===t&&(t="US"),"JA"===t&&(t="JP"),{locale:t,browserLocale:e}}let iie,nie;function oie(e,t,i){return null!=i&&i[t]?i[t]:((nie!==e||!iie)&&(nie=e,iie=new Intl.DisplayNames([e],{type:"region"})),iie.of(t))}function rie(e,t){var i,n,o;const r=[],s=gte();e=null!==(i=null!==(n=e)&&void 0!==n?n:null==(o=tie())?void 0:o.browserLocale)&&void 0!==i?i:"en-US";for(const l of s){const i=oie(e,l,t);if(i)try{const e=bte(l);r.push({iso2:l,dialCode:e,name:i})}catch(a){console.error(`[MazPhoneNumberInput](getCountryCallingCode) ${a}`)}}return r}async function sie(){try{const e=await fetch("https://ipwho.is"),{country_code:t}=await e.json();return t}catch(e){throw new Error(`[MazPhoneNumberInput](fetchCountryCode) ${e}`)}}function aie(e){if(!e)return"";const t=new RegExp(/[^\d ()+-]/g);return e.replaceAll(t,"").trim()}function lie(){return{sanitizePhoneNumber:aie,fetchCountryCode:sie,getBrowserLocale:tie,getCountriesList:rie}}const cie=["id"],die={key:0,class:"m-country-selector__select__item__flag-container"},uie=jn({__name:"CountrySelector",props:{style:{default:void 0},class:{default:void 0},modelValue:{default:void 0},id:{},color:{},size:{},preferredCountries:{default:void 0},ignoredCountries:{default:void 0},onlyCountries:{default:void 0},customCountriesList:{default:void 0},locales:{},listPosition:{default:"bottom left"},noFlags:{type:Boolean},noSearch:{type:Boolean},disabled:{type:Boolean},showCodeOnList:{type:Boolean},countryLocale:{default:void 0},success:{type:Boolean},error:{type:Boolean},countrySelectorDisplayName:{type:Boolean},searchThreshold:{},width:{default:"9rem"},excludeSelectors:{default:void 0}},emits:["update:model-value"],setup(e){const t=e,{phoneNumber:i}=xte("data"),n=Ti(),{getCountriesList:o}=lie(),r=ks((()=>o(t.countryLocale,t.customCountriesList))),s=ks((()=>{var e;return null==(e=r.value)?void 0:e.filter((e=>{var i;return!(null!=(i=t.ignoredCountries)&&i.includes(e.iso2))}))})),a=ks((()=>{const e=t.onlyCountries||t.preferredCountries;return null==e?void 0:e.map((e=>{var t;return null==(t=s.value)?void 0:t.find((t=>t.iso2.includes(e)))}))})),l=ks((()=>{var e;return null==(e=s.value)?void 0:e.filter((e=>{var i;return!(null!=(i=t.preferredCountries)&&i.includes(e.iso2))}))})),c=ks((()=>{var e,i;return t.preferredCountries?[...null!==(e=a.value)&&void 0!==e?e:[],...null!==(i=l.value)&&void 0!==i?i:[]]:t.onlyCountries?a.value:s.value})),d=ks((()=>{var e;return null==(e=c.value)?void 0:e.map((e=>e?{...e,dialCode:`+${e.dialCode}`}:void 0)).filter(_te)}));function u(){var e;null==(e=n.value)||e.openList()}return(e,o)=>{var r;return $r(),jr("div",{class:We(["m-country-selector",[t.class,{"--no-flags":e.noFlags}]]),style:Ve(e.style)},[e.modelValue&&!e.noFlags?($r(),jr("button",{key:0,id:`country-selector-flag-button-${e.id}`,class:We(["m-country-selector__country-flag",{"--should-have-bottom-flag":e.locales.countrySelector.placeholder.length>0}]),tabindex:"-1",type:"button",onClick:u},[yo(e.$slots,"selector-flag",{countryCode:e.modelValue},(()=>[Yr(Lte,{src:Di(wte)(e.modelValue,"h20"),alt:e.modelValue,width:"20",height:"20","img-class":"maz-w-5 maz-h-4 maz-rounded-sm"},null,8,["src","alt"])]))],10,cie)):Jr("v-if",!0),Yr(eie,is({id:`country-selector-${e.id}`,ref_key:"CountrySelectorRef",ref:n,"model-value":e.modelValue},{...e.$attrs},{class:"m-country-selector__select","option-value-key":"iso2","option-label-key":"name","option-input-value-key":e.countrySelectorDisplayName?"name":"dialCode",name:"country","max-list-width":250,"min-list-width":200,disabled:e.disabled,color:e.color,size:e.size,error:e.error,"list-position":e.listPosition,"item-height":38,success:e.success,search:!e.noSearch,"search-placeholder":e.locales.countrySelector.searchPlaceholder,"search-threshold":e.searchThreshold,options:d.value,hint:Di(i)&&!e.modelValue?e.locales.countrySelector.error:void 0,label:e.locales.countrySelector.placeholder,style:{width:e.width},"exclude-selectors":[`#country-selector-flag-button-${e.id}`,...null!==(r=e.excludeSelectors)&&void 0!==r?r:[]],"onUpdate:modelValue":o[0]||(o[0]=t=>e.$emit("update:model-value",t))}),{"no-results":pn((()=>[yo(e.$slots,"no-results",{},void 0)])),default:pn((({option:t,isSelected:i})=>[Wr("div",{class:We(["m-country-selector__select__item",{"m-country-selector__select__item--selected":i}])},[e.noFlags||"string"!=typeof t.iso2?Jr("v-if",!0):($r(),jr("span",die,[yo(e.$slots,"country-list-flag",{countryCode:t.iso2,option:t,isSelected:i},(()=>[Yr(Lte,{src:Di(wte)(t.iso2,"h20"),alt:`${t.name} flag`,width:"20",height:"20","img-class":"maz-rounded-full maz-w-5 maz-h-5"},null,8,["src","alt"])]))])),e.showCodeOnList?($r(),jr("span",{key:1,class:We(["maz-w-9 maz-flex-none",{"maz-text-muted":!i}])},Ze(t.dialCode),3)):Jr("v-if",!0),Wr("span",{class:We(["maz-flex-1 maz-truncate",{"maz-font-semibold":i}])},Ze(t.name),3)],2)])),_:3},16,["id","model-value","option-input-value-key","disabled","color","size","error","list-position","success","search","search-placeholder","search-threshold","options","hint","label","style","exclude-selectors"])],6)}}}),hie=Rte(uie,[["__scopeId","data-v-e2fee821"]]),pie={countrySelector:{placeholder:"Country code",error:"Choose country",searchPlaceholder:"Search the country"},phoneInput:{placeholder:"Phone number",example:"Example:"}},mie=Ti();function fie(e){try{const t=function(){return S9(i7,arguments)}(e);return t||(console.error(`[maz-ui](MazPhoneNumberInput) The code country "${e}" is not available`),!1)}catch(f1){return console.error(`[maz-ui](MazPhoneNumberInput) ${f1}`),!1}}function gie({phoneNumber:e,countryCode:t,checkCountryCode:i=!1}){try{var n;if(!e)return{isValid:!1,countryCode:t};const o=function(){return S9(Aee,arguments)}(e,null!=t?t:void 0),r=null!==(n=null==o?void 0:o.isValid())&&void 0!==n&&n,s=!t||!i||(null==o?void 0:o.country)&&t===o.country;return{isValid:r&&!!s,countryCode:t,parsedCountryCode:null==o?void 0:o.country,isPossible:null==o?void 0:o.isPossible(),countryCallingCode:null==o?void 0:o.countryCallingCode,nationalNumber:null==o?void 0:o.nationalNumber,type:null==o?void 0:o.getType(),formatInternational:null==o?void 0:o.formatInternational(),formatNational:null==o?void 0:o.formatNational(),uri:null==o?void 0:o.getURI(),e164:null==o?void 0:o.format("E.164"),rfc3966:null==o?void 0:o.format("RFC3966"),possibleCountries:null==o?void 0:o.getPossibleCountries(),phoneNumber:e}}catch(o){throw new Error(`[MazPhoneNumberInput](getResultsFromPhoneNumber) ${o}`)}}async function bie(){const{default:e}=await Da((()=>a.import("./examples.mobile.json.tW3aL0qI-legacy-DgzQYX2D.js")),void 0);return e}function vie(e){var t;try{return mie.value&&e?null==(t=function(){return S9(mte,arguments)}(e,mie.value))?void 0:t.formatNational():void 0}catch(i){console.error(`[maz-ui](MazPhoneNumberInput) ${i}`)}}function yie(e,t){try{return t&&e?new fte(e).input(t):void 0}catch(i){throw new Error(`[MazPhoneNumberInput](getAsYouTypeFormat) ${i}`)}}function kie(e,t){return bte(e)===bte(t)}async function wie(){try{if(mie.value)return;mie.value=await bie()}catch(e){console.error("[maz-ui](MazPhoneNumberInput) while loading phone number examples file",e)}}function xie(){return{examples:mie,getAsYouTypeFormat:yie,getPhoneNumberResults:gie,getPhoneNumberExamplesFile:bie,getPhoneNumberExample:vie,isSameCountryCallingCode:kie,isCountryAvailable:fie,getCountries:gte,getCountryCallingCode:bte,loadExamples:wie}}const _ie=jn({__name:"PhoneInput",props:So({style:{},class:{},placeholder:{},label:{},topLabel:{},assistiveText:{},name:{},color:{},type:{},required:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},id:{},error:{type:Boolean},success:{type:Boolean},warning:{type:Boolean},hint:{},inputClasses:{},noBorder:{type:Boolean},noRadius:{type:Boolean},inputmode:{},size:{},debounce:{type:[Boolean,Number]},debounceDelay:{},validButton:{type:Boolean},validButtonLoading:{type:Boolean},autoFocus:{type:Boolean},borderActive:{type:Boolean},leftIcon:{type:[String,Function,Object]},rightIcon:{type:[String,Function,Object]},roundedSize:{},block:{type:Boolean},autocomplete:{},locales:{},noExample:{type:Boolean},hasRadius:{type:Boolean},autoFormat:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{getPhoneNumberExample:t,getAsYouTypeFormat:i,loadExamples:n}=xie(),{sanitizePhoneNumber:o}=lie(),{results:r,selectedCountry:s}=xte("data"),a=wr(e,"modelValue"),l=ks((()=>{const e=r.value.isValid?r.value.formatNational:a.value;return i(s.value,e)||e})),c=Ti(!1),d=ks({get:()=>!c.value&&e.autoFormat?l.value:a.value,set:e=>{a.value=o(e)}});const u=ks((()=>{var i;if(e.label||e.placeholder)return e.label||e.placeholder;const n=e.locales.phoneInput.placeholder;if(e.noExample||!c.value)return n;{const o=function(i){const n=t(i);return n?`${e.locales.phoneInput.example} ${n}`:void 0}(s.value);return null!=(i=r.value)&&i.isValid||!o?n:o}})),h=ks((()=>e.placeholder?{placeholder:u.value}:{label:u.value}));return io((()=>{e.noExample||n()})),(e,t)=>($r(),Vr(Wte,is({id:e.id,modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e)},{...e.$attrs,...h.value},{disabled:e.disabled,color:e.color,error:e.error,size:e.size,success:e.success,name:e.name,inputmode:e.inputmode,autocomplete:e.autocomplete,class:["m-phone-input",[{"--border-radius":e.hasRadius,"--error":e.error||!Di(r).isValid,"--focused":c.value}]],onFocus:t[1]||(t[1]=e=>c.value=!0),onBlur:t[2]||(t[2]=e=>c.value=!1)}),null,16,["id","modelValue","disabled","color","error","size","success","name","inputmode","autocomplete","class"]))}}),Eie=Rte(_ie,[["__scopeId","data-v-3619d84c"]]),Cie=jn({name:"MazPhoneNumberInput",inheritAttrs:!1,__name:"MazPhoneNumberInput",props:{style:{default:void 0},class:{default:void 0},modelValue:{default:void 0},defaultPhoneNumber:{default:void 0},countryCode:{default:void 0},defaultCountryCode:{default:void 0},id:{default:void 0},placeholder:{default:void 0},label:{default:void 0},preferredCountries:{default:void 0},ignoredCountries:{default:void 0},onlyCountries:{default:void 0},translations:{default:void 0},listPosition:{default:"bottom left"},color:{default:"primary"},size:{default:"md"},noFlags:{type:Boolean},disabled:{type:Boolean},noExample:{type:Boolean,default:!1},noSearch:{type:Boolean},searchThreshold:{default:.75},noUseBrowserLocale:{type:Boolean},fetchCountry:{type:Boolean},noCountrySelector:{type:Boolean},showCodeOnList:{type:Boolean},customCountriesList:{default:void 0},autoFormat:{type:Boolean,default:!0},noFormattingAsYouType:{type:Boolean,default:!1},countryLocale:{default:void 0},noValidationError:{type:Boolean},noValidationSuccess:{type:Boolean},success:{type:Boolean},error:{type:Boolean},countrySelectorDisplayName:{type:Boolean},countrySelectorWidth:{default:"9rem"},block:{type:Boolean},excludeSelectors:{default:void 0},orientation:{default:"responsive"},countrySelectAttributes:{default:()=>({name:"country",autocomplete:"off"})},phoneInputAttributes:{default:()=>({name:"phone",autocomplete:"tel",inputmode:"tel"})}},emits:["update:model-value","country-code","update:country-code","update","data"],setup(e,{emit:t}){var i;const n=e,o=t,{fetchCountryCode:r,getBrowserLocale:s}=lie(),{isCountryAvailable:a,getPhoneNumberResults:l}=xie(),c=kte({componentName:"MazPhoneNumberInput",providedId:n.id}),d=Ti(),u=Ti(),h=Ti(!1),p=Ti(!1),m=ks((()=>({...pie,...n.translations}))),f=ks((()=>n.autoFormat&&!n.noFormattingAsYouType)),g=Ti({isValid:!1,countryCode:null!==(i=n.countryCode)&&void 0!==i?i:n.defaultCountryCode,phoneNumber:n.modelValue}),b=Ti();function v({phone:e=d.value||n.modelValue,countryCode:t=u.value,checkCountryCode:i=!1}){g.value=l({phoneNumber:e,countryCode:t,checkCountryCode:i})}async function y(){var e;await nn(),null==(e=function(){var e;return null==(e=b.value)?void 0:e.$el.querySelector("input")}())||e.select()}function k({newPhoneNumber:e}){var t;v({phone:e}),g.value.parsedCountryCode&&g.value.parsedCountryCode!==u.value&&w({countryCode:g.value.parsedCountryCode,updateResults:!1}),g.value.isValid&&f.value?d.value=null==(t=g.value.formatNational)?void 0:t.trim().replaceAll(new RegExp(/\D/g),""):d.value=e,h.value=!0,g.value.e164?o("update:model-value",g.value.e164):o("update:model-value",g.value.phoneNumber),setTimeout((()=>{h.value=!1}),0)}function w({countryCode:e,updateResults:t=!0,selectPhoneNumber:i=!1}){if(!e)return void(u.value=void 0);p.value=!0,e!==u.value&&function(e){if(e){if(!a(e))return console.warn(`[MazPhoneNumberInput] Country code not available: "${e}"`),void(u.value=void 0);u.value=e}}(e),t&&v({countryCode:u.value,checkCountryCode:!0});const n=g.value.countryCode||g.value.parsedCountryCode;o("country-code",n),o("update:country-code",n),i&&!g.value.isValid&&y(),setTimeout((()=>{p.value=!1}),0)}return to((async()=>{var e;if((n.countryCode||n.defaultCountryCode)&&!u.value&&w({countryCode:null!==(e=n.countryCode)&&void 0!==e?e:n.defaultCountryCode}),n.fetchCountry&&!u.value){w({countryCode:await r()})}})),io((()=>{var e;if(!u.value&&!n.noUseBrowserLocale){w({countryCode:null==(e=s())?void 0:e.locale})}})),br((()=>{var e;return null!==(e=n.modelValue)&&void 0!==e?e:n.defaultPhoneNumber}),((e,t)=>{!h.value&&e!==t&&e!==d.value&&k({newPhoneNumber:e})}),{immediate:!0}),br((()=>{var e;return null!==(e=n.countryCode)&&void 0!==e?e:n.defaultCountryCode}),((e,t)=>{!p.value&&e&&e!==t&&e!==u.value&&w({countryCode:e})}),{immediate:!0}),br(g,(e=>{o("update",e),o("data",e)}),{immediate:!0}),qo("data",{selectedCountry:u,phoneNumber:d,results:g}),(e,t)=>{var i;return $r(),jr("div",{class:We(["m-phone-number-input m-reset-css",[n.class,{"--block":e.block},e.orientation?`--${e.orientation}`:void 0]]),style:Ve(e.style)},[e.noCountrySelector?Jr("v-if",!0):($r(),Vr(hie,is({key:0,id:Di(c)},e.countrySelectAttributes,{"model-value":u.value,color:e.color,size:e.size,"country-locale":e.countryLocale,"country-selector-display-name":e.countrySelectorDisplayName,"custom-countries-list":e.customCountriesList,"ignored-countries":e.ignoredCountries,"list-position":e.listPosition,"no-flags":e.noFlags,"no-search":e.noSearch,"exclude-selectors":e.excludeSelectors,error:e.error||!e.noValidationError&&(!!d.value&&!u.value),success:e.success||!e.noValidationSuccess&&(null==(i=g.value)?void 0:i.isValid),locales:m.value,disabled:e.disabled,"search-threshold":e.searchThreshold,"show-code-on-list":e.showCodeOnList,"only-countries":e.onlyCountries,"preferred-countries":e.preferredCountries,width:e.countrySelectorWidth,"onUpdate:modelValue":t[0]||(t[0]=e=>w({countryCode:e,selectPhoneNumber:!0}))}),{"no-results":pn((()=>[yo(e.$slots,"no-results",{},void 0)])),"selector-flag":pn((({countryCode:t})=>[yo(e.$slots,"selector-flag",{countryCode:t},void 0)])),"country-list-flag":pn((({isSelected:t,option:i})=>[yo(e.$slots,"country-list-flag",{countryCode:i.iso2,option:i,isSelected:t},void 0)])),_:3},16,["id","model-value","color","size","country-locale","country-selector-display-name","custom-countries-list","ignored-countries","list-position","no-flags","no-search","exclude-selectors","error","success","locales","disabled","search-threshold","show-code-on-list","only-countries","preferred-countries","width"])),Yr(Eie,is({id:Di(c),ref_key:"PhoneInputRef",ref:b,"model-value":d.value},{...e.$attrs,...e.phoneInputAttributes},{color:e.color,size:e.size,"auto-format":f.value,"no-example":e.noExample,block:"",disabled:e.disabled,"has-radius":!e.noCountrySelector,success:e.success||!e.noValidationSuccess&&g.value.isValid,error:e.error||!e.noValidationError&&(!!d.value&&!g.value.isValid),locales:m.value,label:e.label,placeholder:e.placeholder,"onUpdate:modelValue":t[1]||(t[1]=e=>k({newPhoneNumber:e}))}),null,16,["id","model-value","color","size","auto-format","no-example","disabled","has-radius","success","error","locales","label","placeholder"])],6)}}}),Aie=Rte(Cie,[["__scopeId","data-v-fb5085d5"]]),Tie={class:"h-[20%] ion-padding-vertical bg-white1"},Sie=["onClick"],Iie=jn({__name:"ModalGenderPicker",setup(e){const t=[{id:0,name:"Nữ"},{id:1,name:"Nam"},{id:2,name:"Khác"}];return(e,i)=>($r(),jr("div",Tie,[($r(),jr(Dr,null,vo(t,((e,t)=>Wr("div",{key:t,class:"ion-padding-horizontal"},[Wr("div",{class:"py-2",onClick:t=>(async e=>ax.dismiss(e,"confirm"))(e.id)},Ze(e.name),9,Sie)]))),64))]))}}),Pie={slot:"start",class:"flex items-center p-3"},Die={class:"flex items-center gap-4"},Rie=["src"],Lie={slot:"label"},Mie={slot:"label"},Oie={class:"text-sm font-light"},Nie={slot:"label"},$ie={class:"relative"},Fie={class:"absolute top-1 flex items-center w-full z-10"},Bie={slot:"label"},zie={slot:"end",class:"flex items-center"},jie={slot:"label"},Vie={slot:"label"},Uie={class:"pt-4"},Hie={class:"text-base font-medium flex items-center gap-2"},qie={class:"border-b-[1px] border-gray1 pb-4"},Gie={slot:"label"},Wie={class:"flex items-center gap-2"},Yie={slot:"label"},Kie=["onClick"],Qie=jn({__name:"UserProfileScreen",setup(e){var t,i,n,o,r,s,a,l,c,d,u,h,p,m,f,g,b,v;const{DEV:y,VITE_API_URL_DEV:k,VITE_API_URL:w}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},x=y?k:w,_=Ti(!1),E=Rw(),C=EC(),A=vC(),{listCountries:T}=mC(A),{userInfo:S,accessToken:I}=mC(C),P=()=>E.back(),D=Ti(T.value.find((e=>{var t;return(null==e?void 0:e.id)===(null===(t=S.value)||void 0===t?void 0:t.country_id)}))),R=mi({full_name:null!==(t=null===(i=S.value)||void 0===i?void 0:i.full_name)&&void 0!==t?t:"",username:null!==(n=null===(o=S.value)||void 0===o?void 0:o.username)&&void 0!==n?n:"",email:null!==(r=null===(s=S.value)||void 0===s?void 0:s.email)&&void 0!==r?r:"",phone:null!==(a=null===(l=S.value)||void 0===l?void 0:l.phone)&&void 0!==a?a:"",birthday:null!==(c=S.value)&&void 0!==c&&c.birthday?aT(null===(d=S.value)||void 0===d?void 0:d.birthday).format("DD/MM/YYYY"):void 0,gender:null!==(u=null===(h=S.value)||void 0===h?void 0:h.gender)&&void 0!==u?u:1,country_id:void 0,province_id:void 0,bio:null!==(p=null===(m=S.value)||void 0===m?void 0:m.bio)&&void 0!==p?p:"",socials:null!==(f=null===(g=S.value)||void 0===g?void 0:g.socials)&&void 0!==f?f:[{title:"",url:"",id:P3()}]}),L=ks((()=>{var e;return!(null!==(e=S.value)&&void 0!==e&&e.rename_at)})),M=Ti(!0),O=()=>{L.value&&(M.value=!1)},N=Ti(null!==(b=null===(v=S.value)||void 0===v?void 0:v.birthday)&&void 0!==b?b:void 0),$=()=>{R.socials=[{title:"",url:"",id:P3()},...R.socials]},F=async()=>{const e=await ax.create({component:b9,componentProps:{selectedDate:N.value,maxDate:aT(new Date).toISOString()},initialBreakpoint:.5});await e.present();const{data:t,role:i}=await e.onDidDismiss();"confirm"===i&&(R.birthday=t)},B=async()=>{const e=await ax.create({component:_9,componentProps:{data:T.value,selectedCountry:D.value},initialBreakpoint:.75});await e.present();const{data:t,role:i}=await e.onDidDismiss();"confirm"===i&&(R.country_id=t.id,D.value=t)},z=async()=>{const e=await ax.create({component:Iie,initialBreakpoint:.2});await e.present();const{data:t,role:i}=await e.onDidDismiss();"confirm"===i&&(R.gender=t)},j=ks((()=>R.full_name&&R.username&&R.email&&R.phone&&R.birthday&&R.gender&&R.bio)),V=async e=>{var t;await C.getUserInfo(),R.birthday=null===(t=S.value)||void 0===t?void 0:t.birthday,setTimeout((()=>{e.target.complete()}),1500)};io((async()=>{await C.getUserInfo()}));const U=async()=>{try{const i=await SC.patch("/users/me",{...R,birthday:aT(R.birthday).isValid()?aT(R.birthday).format("DD/MM/YYYY"):"",form:E9});var e;if(400===(null==i?void 0:i.status)){if(!bC.isEmpty(null==i||null===(e=i.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.message)){var t;const e=null==i||null===(t=i.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message[0].constraints,n=Object.values(e)[0];n&&lS(n,"warning")}}else 200===i.status&&(await C.setUserInfo(i.data),lS("Cập nhật thông tin thành công","success"))}catch(i){console.log(i)}},H=async()=>{if(!_.value)try{const e=await JS.getPhoto({quality:100,allowEditing:!0,resultType:QS.DataUrl});if(null!=e&&e.dataUrl){const t=e.dataUrl.split(",")[0].split(":")[1].split(";")[0],i=((e,t)=>{const i=atob(e.split(",")[1]),n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);const o=new Uint8Array(n);return new Blob([o],{type:t})})(e.dataUrl,t),n=`avatar_${Date.now()}.png`,o=new File([i],n,{type:null!=t?t:"image/jpeg"});console.log("file",o);const r=new FormData;r.append("avatar",o),_.value=!0;const s=await fetch(`${x}/users/me/avatar`,{method:"PATCH",body:r,headers:{Authorization:`Bearer ${I.value}`}});if(200===s.status){const e=await s.json();await C.setUserInfo(e),lS("Cập nhật thông tin thành công","success")}else lS("Có lỗi xảy ra. Vui lòng thử lại.","error")}}catch(e){console.log(e)}finally{_.value=!1}};return ro((()=>{_.value=!1})),(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",Pie,[Yr(Di(ex),{onClick:P,icon:Di(AT),class:"size-6 mr-4"},null,8,["icon"]),t[5]||(t[5]=Wr("div",{class:"text-lg font-medium"},"Hồ sơ",-1))])])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding flex-col"},{default:pn((()=>{var e,i,n,o;return[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:V},{default:pn((()=>[Yr(Di(dw))])),_:1}),Wr("div",Die,[Wr("img",{src:null!==(e=null===(i=Di(S))||void 0===i?void 0:i.avatar)&&void 0!==e?e:"/upload-user.png",class:"size-16 rounded-full border-[1px] border-gray1",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,Rie),Wr("div",{onClick:H,class:"text-blue1 text-sm font-medium"}," Thay đổi ảnh đại diện ")]),Wr("form",{class:"w-full pb-6",onSubmit:Ta(U,["prevent"])},[Wr("section",null,[Yr(Di(tw),{mode:"md",modelValue:R.full_name,"onUpdate:modelValue":t[0]||(t[0]=e=>R.full_name=e),required:"",disabled:"",readonly:"",fill:"outline",placeholder:"Họ và tên",class:"outline-none text-sm font-light my-4 disabled",type:"text","label-placement":"stacked",color:"blue1"},{default:pn((()=>[Wr("div",Lie,[t[7]||(t[7]=Xr("Họ và tên")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[6]||(t[6]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Yr(Di(tw),{mode:"md",modelValue:R.username,"onUpdate:modelValue":t[1]||(t[1]=e=>R.username=e),required:"",fill:"outline",disabled:M.value,placeholder:"Username",class:We(["outline-none text-sm font-light mt-4",M.value&&"disabled"]),type:"text","label-placement":"stacked",color:"blue1",counter:!0,maxlength:50},{default:pn((()=>[Wr("div",Mie,[t[9]||(t[9]=Xr("Username")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[8]||(t[8]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue","disabled","class"]),Wr("div",Oie,[t[10]||(t[10]=Xr(" Bạn chỉ có thể đổi tên 1 lần duy nhất, bạn phải sử dụng tên thật. ")),L.value?($r(),jr("span",{key:0,onClick:O,class:"text-blue1 font-normal"},"Sửa tên")):Jr("",!0)]),Yr(Di(tw),{mode:"md",modelValue:R.email,"onUpdate:modelValue":t[2]||(t[2]=e=>R.email=e),fill:"outline",placeholder:"Email",disabled:"",class:"outline-none text-sm font-light my-4 disabled",required:"",type:"text","label-placement":"stacked",color:"blue1"},{default:pn((()=>[Wr("div",Nie,[t[12]||(t[12]=Xr("Email")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[11]||(t[11]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Wr("div",$ie,[Yr(Di(tw),{mode:"md",fill:"outline",class:"outline-none text-sm font-light my-4 maz",type:"text",disabled:"","label-placement":"stacked",color:"blue1",required:"",readonly:""}),Wr("div",Fie,[Yr(Di(Aie),{modelValue:R.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>R.phone=e),"no-country-selector":"","no-example":"",mode:"ios",class:"maz text-sm","country-code":"VN",placeholder:"Số điện thoại",translations:{countrySelector:{placeholder:"",error:"Chọn mã quốc tế",searchPlaceholder:"Tìm mã quốc tế"},phoneInput:{placeholder:"",example:""}}},null,8,["modelValue"])])]),Yr(Di(tw),{value:Di(bC.isEmpty)(R.birthday)?"Chọn ngày sinh":Di(aT)(R.birthday).isValid()?Di(aT)(R.birthday).format("DD/MM/YYYY"):"Chọn ngày sinh",mode:"md",fill:"outline",placeholder:"Ngày sinh",class:"outline-none text-sm font-light my-4","label-placement":"stacked",color:"blue1",required:"",readonly:"",onClick:Ta(F,["stop"])},{default:pn((()=>[Wr("div",Bie,[t[14]||(t[14]=Xr("Ngày sinh")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[13]||(t[13]=[Xr("*")]))),_:1})]),Wr("div",zie,[Yr(Di(ex),{onClick:Ta((()=>{}),["stop"]),icon:Di(vT),slot:"icon-only",class:"text-gray2 size-5","aria-hidden":"true"},null,8,["icon"])])])),_:1},8,["value"]),Yr(Di(tw),{value:Di(h9).get(R.gender),mode:"md",fill:"outline",placeholder:"Giới tính",class:"outline-none text-sm font-light my-4",type:"text","label-placement":"stacked",color:"blue1",readonly:"",required:"",onClick:z},{default:pn((()=>[Wr("div",jie,[t[16]||(t[16]=Xr("Giới tính")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[15]||(t[15]=[Xr("*")]))),_:1})]),Yr(Di(ex),{slot:"end",icon:Di(TT),class:"size-6 text-gray2"},null,8,["icon"])])),_:1},8,["value"]),Yr(Di(tw),{mode:"md",fill:"outline",placeholder:"Quốc gia",class:"outline-none text-sm font-light my-4",type:"text",label:"Quốc gia","label-placement":"stacked",color:"blue1",readonly:"",value:null!==(n=null===(o=D.value)||void 0===o?void 0:o.name)&&void 0!==n?n:"",onClick:B},{default:pn((()=>[Yr(Di(ex),{slot:"end",icon:Di(TT),class:"size-6 text-gray2"},null,8,["icon"])])),_:1},8,["value"]),Yr(Di(ww),{modelValue:R.bio,"onUpdate:modelValue":t[4]||(t[4]=e=>R.bio=e),mode:"md",required:"","label-placement":"stacked",fill:"outline",rows:10,placeholder:"Nhập Bio của bạn",class:"outline-none text-sm font-light mb-6",counter:!0,maxlength:500},{default:pn((()=>[Wr("div",Vie,[t[18]||(t[18]=Xr(" Giới thiệu")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[17]||(t[17]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"])]),Wr("section",Uie,[Wr("div",Hie,[t[19]||(t[19]=Wr("div",null,"Link Social",-1)),Wr("div",{class:"flex",onClick:$},[Yr(Di(ex),{icon:Di(mT),class:"size-6 text-blue1"},null,8,["icon"])])]),($r(!0),jr(Dr,null,vo(R.socials,((e,i)=>($r(),jr("div",{key:i},[Wr("div",qie,[Yr(Di(tw),{modelValue:e.title,"onUpdate:modelValue":t=>e.title=t,mode:"md",fill:"outline",placeholder:"Tiêu đề",class:"outline-none text-sm font-light my-4",type:"text","label-placement":"stacked",color:"blue1",required:""},{default:pn((()=>[Wr("div",Gie,[t[21]||(t[21]=Xr(" Tiêu đề")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[20]||(t[20]=[Xr("*")]))),_:1})])])),_:2},1032,["modelValue","onUpdate:modelValue"]),Wr("div",Wie,[Yr(Di(tw),{modelValue:e.url,"onUpdate:modelValue":t=>e.url=t,mode:"md",fill:"outline",placeholder:"URL",class:"outline-none text-sm font-light",type:"text","label-placement":"stacked",color:"blue1",required:""},{default:pn((()=>[Wr("div",Yie,[t[23]||(t[23]=Xr("URL")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[22]||(t[22]=[Xr("*")]))),_:1})])])),_:2},1032,["modelValue","onUpdate:modelValue"]),Wr("div",{onClick:e=>(e=>{var t;null===(t=R.socials)||void 0===t||t.splice(e,1)})(i),class:"flex items-center"},[Yr(Di(ex),{icon:Di(ZT),class:"size-6 text-gray3"},null,8,["icon"])],8,Kie)])])])))),128))]),Yr(Di(qk),{disabled:!j.value,type:"submit",color:j.value?"blue1":"gray3",class:"mt-4 h-12 w-full text-base uppercase text-center shadow-st rounded-xl"},{default:pn((()=>t[24]||(t[24]=[Xr(" Lưu Lại ")]))),_:1},8,["disabled","color"])],32)]})),_:1}),Yr(dS,{"is-open":_.value},null,8,["is-open"])])),_:1}))}}),Xie=fS(Qie,[["__scopeId","data-v-bb22d72b"]]),Jie={key:0},Zie={class:"flex-col flex-1"},ene=jn({__name:"TabViewComp",props:{routes:{default:()=>[]},tabKey:{},onChangeTab:{type:Function,default:()=>{}},slot:{default:void 0},normalText:{type:Boolean,default:!1},backgroundColor:{default:"#fff"}},setup:e=>(e,t)=>{var i;return $r(),jr(Dr,null,[e.routes.length>1?($r(),Vr(Di(pw),{key:0,value:null!==(i=e.tabKey)&&void 0!==i?i:e.routes[0].key,mode:"md",style:Ve({backgroundColor:e.backgroundColor}),class:We("start"==e.slot&&"flex"),"swipe-gesture":"",scrollable:"",color:"blue1",onIonChange:t[0]||(t[0]=t=>e.onChangeTab(t.detail.value))},{default:pn((()=>[($r(!0),jr(Dr,null,vo(e.routes,(t=>($r(),Vr(Di(mw),{key:t.key,class:We(["text-gray2",("start"==e.slot||e.normalText)&&"normal-case"]),value:t.key},{default:pn((()=>[Xr(Ze(t.title),1)])),_:2},1032,["class","value"])))),128)),"start"==e.slot?($r(),jr("div",Jie)):Jr("",!0)])),_:1},8,["value","style","class"])):Jr("",!0),Wr("div",Zie,[yo(e.$slots,"scene",{},void 0)])],64)}}),tne=fS(ene,[["__scopeId","data-v-8bec1e59"]]);
/*!
             * qrcode.vue v3.6.0
             * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
             * © 2017-PRESENT @scopewu(https://github.com/scopewu)
             * MIT License.
             */var ine,nne=function(){return nne=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nne.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,function(e){var t=function(){function t(e,i,n,r){if(this.version=e,this.errorCorrectionLevel=i,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=4*e+17;for(var s=[],a=0;a<this.size;a++)s.push(!1);for(a=0;a<this.size;a++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();var l=this.addEccAndInterleave(n);if(this.drawCodewords(l),-1==r){var c=1e9;for(a=0;a<8;a++){this.applyMask(a),this.drawFormatBits(a);var d=this.getPenaltyScore();d<c&&(r=a,c=d),this.applyMask(a)}}o(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}return t.encodeText=function(i,n){var o=e.QrSegment.makeSegments(i);return t.encodeSegments(o,n)},t.encodeBinary=function(i,n){var o=e.QrSegment.makeBytes(i);return t.encodeSegments([o],n)},t.encodeSegments=function(e,n,s,a,l,c){if(void 0===s&&(s=1),void 0===a&&(a=40),void 0===l&&(l=-1),void 0===c&&(c=!0),!(t.MIN_VERSION<=s&&s<=a&&a<=t.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");var d,u;for(d=s;;d++){var h=8*t.getNumDataCodewords(d,n),p=r.getTotalBits(e,d);if(p<=h){u=p;break}if(d>=a)throw new RangeError("Data too long")}for(var m=0,f=[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH];m<f.length;m++){var g=f[m];c&&u<=8*t.getNumDataCodewords(d,g)&&(n=g)}for(var b=[],v=0,y=e;v<y.length;v++){var k=y[v];i(k.mode.modeBits,4,b),i(k.numChars,k.mode.numCharCountBits(d),b);for(var w=0,x=k.getData();w<x.length;w++){var _=x[w];b.push(_)}}o(b.length==u);var E=8*t.getNumDataCodewords(d,n);o(b.length<=E),i(0,Math.min(4,E-b.length),b),i(0,(8-b.length%8)%8,b),o(b.length%8==0);for(var C=236;b.length<E;C^=253)i(C,8,b);for(var A=[];8*A.length<b.length;)A.push(0);return b.forEach((function(e,t){return A[t>>>3]|=e<<7-(7&t)})),new t(d,n,A,l)},t.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},t.prototype.getModules=function(){return this.modules},t.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);var t=this.getAlignmentPatternPositions(),i=t.length;for(e=0;e<i;e++)for(var n=0;n<i;n++)0==e&&0==n||0==e&&n==i-1||e==i-1&&0==n||this.drawAlignmentPattern(t[e],t[n]);this.drawFormatBits(0),this.drawVersion()},t.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,i=t,r=0;r<10;r++)i=i<<1^1335*(i>>>9);var s=21522^(t<<10|i);o(s>>>15==0);for(r=0;r<=5;r++)this.setFunctionModule(8,r,n(s,r));this.setFunctionModule(8,7,n(s,6)),this.setFunctionModule(8,8,n(s,7)),this.setFunctionModule(7,8,n(s,8));for(r=9;r<15;r++)this.setFunctionModule(14-r,8,n(s,r));for(r=0;r<8;r++)this.setFunctionModule(this.size-1-r,8,n(s,r));for(r=8;r<15;r++)this.setFunctionModule(8,this.size-15+r,n(s,r));this.setFunctionModule(8,this.size-8,!0)},t.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var i=this.version<<12|e;o(i>>>18==0);for(t=0;t<18;t++){var r=n(i,t),s=this.size-11+t%3,a=Math.floor(t/3);this.setFunctionModule(s,a,r),this.setFunctionModule(a,s,r)}}},t.prototype.drawFinderPattern=function(e,t){for(var i=-4;i<=4;i++)for(var n=-4;n<=4;n++){var o=Math.max(Math.abs(n),Math.abs(i)),r=e+n,s=t+i;0<=r&&r<this.size&&0<=s&&s<this.size&&this.setFunctionModule(r,s,2!=o&&4!=o)}},t.prototype.drawAlignmentPattern=function(e,t){for(var i=-2;i<=2;i++)for(var n=-2;n<=2;n++)this.setFunctionModule(e+n,t+i,1!=Math.max(Math.abs(n),Math.abs(i)))},t.prototype.setFunctionModule=function(e,t,i){this.modules[t][e]=i,this.isFunction[t][e]=!0},t.prototype.addEccAndInterleave=function(e){var i=this.version,n=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(i,n))throw new RangeError("Invalid argument");for(var r=t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][i],s=t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][i],a=Math.floor(t.getNumRawDataModules(i)/8),l=r-a%r,c=Math.floor(a/r),d=[],u=t.reedSolomonComputeDivisor(s),h=0,p=0;h<r;h++){var m=e.slice(p,p+c-s+(h<l?0:1));p+=m.length;var f=t.reedSolomonComputeRemainder(m,u);h<l&&m.push(0),d.push(m.concat(f))}var g=[],b=function(e){d.forEach((function(t,i){(e!=c-s||i>=l)&&g.push(t[e])}))};for(h=0;h<d[0].length;h++)b(h);return o(g.length==a),g},t.prototype.drawCodewords=function(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var i=0,r=this.size-1;r>=1;r-=2){6==r&&(r=5);for(var s=0;s<this.size;s++)for(var a=0;a<2;a++){var l=r-a,c=!(r+1&2)?this.size-1-s:s;!this.isFunction[c][l]&&i<8*e.length&&(this.modules[c][l]=n(e[i>>>3],7-(7&i)),i++)}}o(i==8*e.length)},t.prototype.applyMask=function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var i=0;i<this.size;i++){var n=void 0;switch(e){case 0:n=(i+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=i%3==0;break;case 3:n=(i+t)%3==0;break;case 4:n=(Math.floor(i/3)+Math.floor(t/2))%2==0;break;case 5:n=i*t%2+i*t%3==0;break;case 6:n=(i*t%2+i*t%3)%2==0;break;case 7:n=((i+t)%2+i*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][i]&&n&&(this.modules[t][i]=!this.modules[t][i])}},t.prototype.getPenaltyScore=function(){for(var e=0,i=0;i<this.size;i++){for(var n=!1,r=0,s=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[i][a]==n?5==++r?e+=t.PENALTY_N1:r>5&&e++:(this.finderPenaltyAddHistory(r,s),n||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),n=this.modules[i][a],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,s)*t.PENALTY_N3}for(a=0;a<this.size;a++){n=!1;var l=0;for(s=[0,0,0,0,0,0,0],i=0;i<this.size;i++)this.modules[i][a]==n?5==++l?e+=t.PENALTY_N1:l>5&&e++:(this.finderPenaltyAddHistory(l,s),n||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),n=this.modules[i][a],l=1);e+=this.finderPenaltyTerminateAndCount(n,l,s)*t.PENALTY_N3}for(i=0;i<this.size-1;i++)for(a=0;a<this.size-1;a++){var c=this.modules[i][a];c==this.modules[i][a+1]&&c==this.modules[i+1][a]&&c==this.modules[i+1][a+1]&&(e+=t.PENALTY_N2)}for(var d=0,u=0,h=this.modules;u<h.length;u++){d=h[u].reduce((function(e,t){return e+(t?1:0)}),d)}var p=this.size*this.size,m=Math.ceil(Math.abs(20*d-10*p)/p)-1;return o(0<=m&&m<=9),o(0<=(e+=m*t.PENALTY_N4)&&e<=2568888),e},t.prototype.getAlignmentPatternPositions=function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=2*Math.floor((8*this.version+3*e+5)/(4*e-4)),i=[6],n=this.size-7;i.length<e;n-=t)i.splice(1,0,n);return i},t.getNumRawDataModules=function(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");var i=(16*e+128)*e+64;if(e>=2){var n=Math.floor(e/7)+2;i-=(25*n-10)*n-55,e>=7&&(i-=36)}return o(208<=i&&i<=29648),i},t.getNumDataCodewords=function(e,i){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[i.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][e]},t.reedSolomonComputeDivisor=function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var i=[],n=0;n<e-1;n++)i.push(0);i.push(1);var o=1;for(n=0;n<e;n++){for(var r=0;r<i.length;r++)i[r]=t.reedSolomonMultiply(i[r],o),r+1<i.length&&(i[r]^=i[r+1]);o=t.reedSolomonMultiply(o,2)}return i},t.reedSolomonComputeRemainder=function(e,i){for(var n=i.map((function(e){return 0})),o=function(e){var o=e^n.shift();n.push(0),i.forEach((function(e,i){return n[i]^=t.reedSolomonMultiply(e,o)}))},r=0,s=e;r<s.length;r++){o(s[r])}return n},t.reedSolomonMultiply=function(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");for(var i=0,n=7;n>=0;n--)i=i<<1^285*(i>>>7),i^=(t>>>n&1)*e;return o(i>>>8==0),i},t.prototype.finderPenaltyCountPatterns=function(e){var t=e[1];o(t<=3*this.size);var i=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(i&&e[0]>=4*t&&e[6]>=t?1:0)+(i&&e[6]>=4*t&&e[0]>=t?1:0)},t.prototype.finderPenaltyTerminateAndCount=function(e,t,i){return e&&(this.finderPenaltyAddHistory(t,i),t=0),t+=this.size,this.finderPenaltyAddHistory(t,i),this.finderPenaltyCountPatterns(i)},t.prototype.finderPenaltyAddHistory=function(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)},t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t}();function i(e,t,i){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(var n=t-1;n>=0;n--)i.push(e>>>n&1)}function n(e,t){return!!(e>>>t&1)}function o(e){if(!e)throw new Error("Assertion error")}e.QrCode=t;var r=function(){function e(e,t,i){if(this.mode=e,this.numChars=t,this.bitData=i,t<0)throw new RangeError("Invalid argument");this.bitData=i.slice()}return e.makeBytes=function(t){for(var n=[],o=0,r=t;o<r.length;o++){i(r[o],8,n)}return new e(e.Mode.BYTE,t.length,n)},e.makeNumeric=function(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");for(var n=[],o=0;o<t.length;){var r=Math.min(t.length-o,3);i(parseInt(t.substring(o,o+r),10),3*r+1,n),o+=r}return new e(e.Mode.NUMERIC,t.length,n)},e.makeAlphanumeric=function(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");var n,o=[];for(n=0;n+2<=t.length;n+=2){var r=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));i(r+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),11,o)}return n<t.length&&i(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6,o),new e(e.Mode.ALPHANUMERIC,t.length,o)},e.makeSegments=function(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]},e.makeEci=function(t){var n=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)i(t,8,n);else if(t<16384)i(2,2,n),i(t,14,n);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");i(6,3,n),i(t,21,n)}return new e(e.Mode.ECI,0,n)},e.isNumeric=function(t){return e.NUMERIC_REGEX.test(t)},e.isAlphanumeric=function(t){return e.ALPHANUMERIC_REGEX.test(t)},e.prototype.getData=function(){return this.bitData.slice()},e.getTotalBits=function(e,t){for(var i=0,n=0,o=e;n<o.length;n++){var r=o[n],s=r.mode.numCharCountBits(t);if(r.numChars>=1<<s)return 1/0;i+=4+s+r.bitData.length}return i},e.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],i=0;i<e.length;i++)"%"!=e.charAt(i)?t.push(e.charCodeAt(i)):(t.push(parseInt(e.substring(i+1,i+3),16)),i+=2);return t},e.NUMERIC_REGEX=/^[0-9]*$/,e.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,e.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e}();e.QrSegment=r}(ine||(ine={})),function(e){var t,i;t=e.QrCode||(e.QrCode={}),i=function(){function e(e,t){this.ordinal=e,this.formatBits=t}return e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),e}(),t.Ecc=i}(ine||(ine={})),function(e){var t,i;t=e.QrSegment||(e.QrSegment={}),i=function(){function e(e,t){this.modeBits=e,this.numBitsCharCount=t}return e.prototype.numCharCountBits=function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]},e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),e}(),t.Mode=i}(ine||(ine={}));var one=ine,rne={L:one.QrCode.Ecc.LOW,M:one.QrCode.Ecc.MEDIUM,Q:one.QrCode.Ecc.QUARTILE,H:one.QrCode.Ecc.HIGH},sne=function(){try{(new Path2D).addPath(new Path2D)}catch(f1){return!1}return!0}();function ane(e){return e in rne}function lne(e,t){void 0===t&&(t=0);var i=[];return e.forEach((function(e,n){var o=null;e.forEach((function(r,s){if(!r&&null!==o)return i.push("M".concat(o+t," ").concat(n+t,"h").concat(s-o,"v1H").concat(o+t,"z")),void(o=null);if(s!==e.length-1)r&&null===o&&(o=s);else{if(!r)return;null===o?i.push("M".concat(s+t,",").concat(n+t," h1v1H").concat(s+t,"z")):i.push("M".concat(o+t,",").concat(n+t," h").concat(s+1-o,"v1H").concat(o+t,"z"))}}))})),i.join("")}function cne(e,t,i,n){var o=n.width,r=n.height,s=n.x,a=n.y,l=e.length+2*i,c=Math.floor(.1*t),d=l/t,u=(o||c)*d,h=(r||c)*d,p=null==s?e.length/2-u/2:s*d,m=null==a?e.length/2-h/2:a*d,f=null;if(n.excavate){var g=Math.floor(p),b=Math.floor(m);f={x:g,y:b,w:Math.ceil(u+p-g),h:Math.ceil(h+m-b)}}return{x:p,y:m,h:h,w:u,excavation:f}}function dne(e,t){return e.slice().map((function(e,i){return i<t.y||i>=t.y+t.h?e:e.map((function(e,i){return(i<t.x||i>=t.x+t.w)&&e}))}))}var une={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:"L",validator:function(e){return ane(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},hne=nne(nne({},une),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),pne=jn({name:"QRCodeSvg",props:une,setup:function(e){var t,i=Ti(0),n=Ti(""),o=function(){var o=e.value,r=e.level,s=e.margin>>>0,a=ane(r)?r:"L",l=one.QrCode.encodeText(o,rne[a]).getModules();if(i.value=l.length+2*s,e.imageSettings.src){var c=cne(l,e.size,s,e.imageSettings);t={x:c.x+s,y:c.y+s,width:c.w,height:c.h},c.excavation&&(l=dne(l,c.excavation))}n.value=lne(l,s)},r=function(){if(!e.gradient)return null;var t="linear"===e.gradientType?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return ws("linear"===e.gradientType?"linearGradient":"radialGradient",nne({id:"qr-gradient"},t),[ws("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),ws("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return o(),oo(o),function(){return ws("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(i.value," ").concat(i.value)},[ws("defs",{},[r()]),ws("rect",{width:"100%",height:"100%",fill:e.background}),ws("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&ws("image",nne({href:e.imageSettings.src},t))])}}}),mne=jn({name:"QRCodeCanvas",props:une,setup:function(e,t){var i=Ti(null),n=Ti(null),o=function(){var t=e.value,o=e.level,r=e.size,s=e.margin,a=e.background,l=e.foreground,c=e.gradient,d=e.gradientType,u=e.gradientStartColor,h=e.gradientEndColor,p=s>>>0,m=ane(o)?o:"L",f=i.value;if(f){var g=f.getContext("2d");if(g){var b=one.QrCode.encodeText(t,rne[m]).getModules(),v=b.length+2*p,y=n.value,k={x:0,y:0,width:0,height:0},w=e.imageSettings.src&&null!=y&&0!==y.naturalWidth&&0!==y.naturalHeight;if(w){var x=cne(b,e.size,p,e.imageSettings);k={x:x.x+p,y:x.y+p,width:x.w,height:x.h},x.excavation&&(b=dne(b,x.excavation))}var _=window.devicePixelRatio||1,E=r/v*_;if(f.height=f.width=r*_,g.scale(E,E),g.fillStyle=a,g.fillRect(0,0,v,v),c){var C=void 0;(C="linear"===d?g.createLinearGradient(0,0,v,v):g.createRadialGradient(v/2,v/2,0,v/2,v/2,v/2)).addColorStop(0,u),C.addColorStop(1,h),g.fillStyle=C}else g.fillStyle=l;sne?g.fill(new Path2D(lne(b,p))):b.forEach((function(e,t){e.forEach((function(e,i){e&&g.fillRect(i+p,t+p,1,1)}))})),w&&g.drawImage(y,k.x,k.y,k.width,k.height)}}};io(o),oo(o);var r=t.attrs.style;return function(){return ws(Dr,[ws("canvas",nne(nne({},t.attrs),{ref:i,style:nne(nne({},r),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&ws("img",{ref:n,src:e.imageSettings.src,style:{display:"none"},onLoad:o})])}}}),fne=jn({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,i=e.value,n=e.size,o=e.margin,r=e.level,s=e.background,a=e.foreground,l=e.imageSettings,c=e.gradient,d=e.gradientType,u=e.gradientStartColor,h=e.gradientEndColor;return ws("svg"===t?pne:mne,{value:i,size:n,margin:o,level:r,background:s,foreground:a,imageSettings:l,gradient:c,gradientType:d,gradientStartColor:u,gradientEndColor:h})},props:hne});const gne={class:"items-center flex gap-2 text-base font-medium py-1"},bne={class:"border border-gray1 rounded-md !mb-3 bg-white"},vne={class:"flex justify-between flex-wrap sm:flex-nowrap max-sm:gap-3 w-full p-2 pr-1"},yne={class:"w-full"},kne={class:"md:pl-3 py-2 text-gray-700 whitespace-pre-wrap"},wne=["textContent"],xne={class:"flex gap-2 items-center"},_ne={key:0,class:"mx-1 flex items-center"},Ene={class:"my-3.5 flex flex-col items-center"},Cne=jn({__name:"TabGetLinkAff",setup(e){var t,i;const n=EC(),{userInfo:o}=mC(n),r=ks((()=>"https://unica.expert/app?ref=")),s=mi({username:Ti((null===(t=o.value)||void 0===t?void 0:t.username)||(null===(i=o.value)||void 0===i?void 0:i._id)).value}),a=`${r.value}${s.username}`,l=Ti(!1),c=async()=>{await bS.open({url:"https://unica.expert/policy/affiliate.html"})},d=async()=>{try{const{data:e,status:t}=await SC.patch("/users/me",{...s,form:C9});200==t?(await n.setUserInfo(e),await lS("Cập nhật mã giới thiệu thành công!","success")):await lS("Cập nhật mã giới thiệu thất bại!","warning")}catch(f1){await lS("Cập nhật mã giới thiệu thất bại!","warning"),console.error(f1)}finally{l.value=!1}l.value=!1},u=async()=>{const e=`${r.value}${s.username}`;await $D.write({string:e}),await lS("Sao chép mã giới thiệu thành công!","success")};return(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white"},{default:pn((()=>[Wr("div",null,[Wr("div",gne,[Yr(Di(ex),{icon:Di(VT),class:"size-6"},null,8,["icon"]),t[2]||(t[2]=Wr("span",null,"Link giới thiệu của bạn:",-1))]),Wr("div",bne,[Wr("div",vne,[Wr("div",yne,[Wr("span",kne,Ze(r.value),1),l.value?mn(($r(),jr("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),class:"border-2 border-dashed p-1 rounded-lg mx-1 outline-0 w-auto"},null,512)),[[fa,s.username]]):($r(),jr("span",{key:1,textContent:Ze(s.username),class:"text-base font-medium"},null,8,wne))]),Wr("div",xne,[l.value?($r(),jr("button",{key:1,onClick:d,class:"px-2 flex items-center",type:"button"},[Yr(Di(ex),{icon:Di(tS),class:"size-6 text-gray2"},null,8,["icon"])])):($r(),jr("div",_ne,[Yr(Di(ex),{onClick:t[1]||(t[1]=e=>l.value=!0),icon:Di(OT),class:"size-6 text-blue1"},null,8,["icon"])])),Wr("button",{onClick:u,class:"px-2 flex items-center text-gray2",type:"button"},[Yr(Di(ex),{icon:Di(MT),class:"size-6"},null,8,["icon"])])])])]),Wr("div",{class:"pb-2 mt-5 font-light"},[t[3]||(t[3]=Xr(" Giới thiệu người dùng vào Unica.expert bạn sẽ nhận 2 loại hoa hồng. ")),Wr("span",{onClick:c,class:"text-blue1"}," Tìm hiểu thêm")]),t[5]||(t[5]=Wr("ul",{class:"font-light"},[Wr("li",{class:"pb-2.5"},[Xr(" Người bạn giới thiệu tạo cộng đồng và nâng cấp gói trả phí, hoa hồng cố định: "),Wr("span",{class:"font-semibold"},"30%")]),Wr("li",{class:"pb-1.5"},[Xr(" Người bạn giới thiệu mua sản phẩm/khóa học trong cộng đồng, hoa hồng: "),Wr("span",{class:"font-semibold"},"10% - 60%")])],-1)),t[6]||(t[6]=Wr("div",{class:"font-medium text-base py-1 mt-2"},"Hoa hồng trọn đời",-1)),t[7]||(t[7]=Wr("div",{class:"font-light"}," Bất kì khi nào người dùng/cộng đồng bạn giới thiệu thực hiện giao dịch trên Unica.expert, bạn sẽ nhận được hoa hồng ",-1)),Wr("div",Ene,[t[4]||(t[4]=Wr("p",{class:"pb-2 text-base"},"Mã QR giới thiệu của bạn:",-1)),Yr(fne,{value:a,"render-as":"svg",size:160,level:"L"})])])])),_:1}))}}),Ane={key:0},Tne={class:"flex px-2 py-2 border-b-[1px] border-gray1 gap-4"},Sne={class:"flex-[0.6]"},Ine={class:"text-base text-black"},Pne={class:"text-gray2 pt-1 text-base"},Dne={class:"flex-[0.4] text-base pl-2 text-black"},Rne={key:1,class:"justify-center items-center flex flex-col mt-[20%]"},Lne=jn({__name:"TabCommunity",setup(e){const t=Ti([]),i=Ti(1),n=Ti(!1),o=async(e=1,o=!1)=>{const r={limit:20,page:e},{data:s}=await SC.get("/community/community-introduced-by-me",{params:r});var a,l,c;(console.log("🌸  data 👉",s),bC.isEmpty(s))?n.value=!1:(null!=s&&null!==(a=s.meta)&&void 0!==a&&a.hasNextPage?(i.value++,n.value=!0):n.value=!1,t.value=o?[...t.value,...null!==(l=null==s?void 0:s.data)&&void 0!==l?l:[]]:null!==(c=null==s?void 0:s.data)&&void 0!==c?c:[])};io((()=>{o(1,!1)}));const r=e=>{o(i.value,!0),setTimeout((()=>e.target.complete()),500)};return(e,i)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white"},{default:pn((()=>[Wr("div",null,[i[2]||(i[2]=Wr("div",{class:"text-lg font-medium pb-4"},"Cộng đồng tôi giới thiệu",-1)),Wr("section",null,[i[1]||(i[1]=Wr("div",{class:"flex py-2 text-center bg-gray1 rounded-md"},[Wr("div",{class:"flex-[0.5]"},"Cộng đồng"),Wr("div",{class:"flex-[0.5]"},"Người tạo")],-1)),Di(bC.isEmpty)(t.value)?($r(),jr("div",Rne,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-32"}),i[0]||(i[0]=Wr("p",{class:"text-gray2 text-base"},"Không có dữ liệu",-1))])):($r(),jr("div",Ane,[($r(!0),jr(Dr,null,vo(t.value,(e=>($r(),jr("div",{key:e._id},[Wr("div",Tne,[Wr("div",Sne,[Wr("div",Ine,Ze(e.name),1),Wr("div",Pne," Ngày tạo: "+Ze(Di(aT)(e.created_at).format("DD/MM/YYYY")),1)]),Wr("div",Dne,Ze(null==e?void 0:e.owner_name),1)])])))),128))]))])]),n.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:r},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1}))}}),Mne={class:"text-lg text-black font-medium mb-2"},One={class:"px-4 flex items-center gap-2 border-[1.5px] py-2 rounded-lg border-gray-300"},Nne={class:"flex-1"},$ne={class:"text-nowrap gap-2 items-center mb-10"},Fne={class:"flex items-center gap-2"},Bne=fS(jn({__name:"TabCoupon",setup(e){var t;const i=EC(),{userInfo:n}=mC(i),o=Ti(!1),r=Ti(null===(t=n.value)||void 0===t?void 0:t.discount),s=ks((()=>{var e;return!!/^(1[0-5]|[0-9])$/g.test(r.value+"")&&(null===(e=n.value)||void 0===e?void 0:e.discount)!=r.value})),a=async()=>{var e,t;await $D.write({string:(null===(e=n.value)||void 0===e?void 0:e.username)||(null===(t=n.value)||void 0===t?void 0:t._id)}),lS("Sao chép mã giảm giá thành công!","success"),o.value=!0},l=async()=>{if(/^(1[0-5]|[0-9])$/g.test(r.value+"")){if(s.value)try{const e={discount:r.value,form:A9},{data:t}=await SC.patch("/users/me",e);bC.isEmpty(t)?lS("Cập nhật thất bại","warning"):(await i.setUserInfo(t),lS("Cập nhật thành công","success"))}catch(e){lS("Cập nhật thất bại","warning")}}else lS("Vui lòng nhập tỉ lệ giảm giá 0% - 15%","warning")};return(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white"},{default:pn((()=>{var e,i,c,d;return[Wr("div",null,[Wr("div",Mne,[t[1]||(t[1]=Xr(" Mã giảm giá phần mềm: ")),Wr("div",One,[Wr("div",Nne,Ze((null===(e=Di(n))||void 0===e?void 0:e.username)||(null===(i=Di(n))||void 0===i?void 0:i._id)),1),Di(bC.isEmpty)(null===(c=Di(n))||void 0===c?void 0:c.username)&&Di(bC.isEmpty)(null===(d=Di(n))||void 0===d?void 0:d._id)?Jr("",!0):($r(),Vr(Di(ex),{key:0,onClick:a,icon:Di(MT),class:We(["size-6",o.value?"text-blue1":"text-gray2"])},null,8,["icon","class"]))])]),t[4]||(t[4]=Wr("p",null," Bạn có thể trích phần hoa hồng của mình để giảm giá cho người mua gói cộng đồng. ",-1)),t[5]||(t[5]=Wr("p",{class:"my-4"},[Xr(" Mã giảm giá chính là mã giới thiệu của bạn. "),Wr("br"),Xr("Tỷ lệ giảm giá không vượt quá 15% ")],-1)),Wr("div",$ne,[t[3]||(t[3]=Wr("p",null,"Nhập tỉ lệ giảm giá của bạn:",-1)),Wr("div",Fne,[Yr(Di(tw),{mode:"ios",class:"w-[20%] shadow-st rounded-lg text-lg font-medium custom",type:"tel",min:"0",max:"15",modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e)},null,8,["modelValue"]),t[2]||(t[2]=Wr("span",{class:"text-lg font-medium"},"%",-1))])]),Wr("div",{onClick:l,class:We(["shadow-st p-2 text-center bg-blue1 text-white rounded-lg font-medium",s.value?"bg-blue1 text-white":"bg-gray3 text-white"])}," SAVE ",2)])]})),_:1}))}}),[["__scopeId","data-v-007f995f"]]),zne={key:0},jne={class:"flex px-2 py-2 border-b-[1px] border-gray1 gap-4"},Vne={class:"flex-[0.6]"},Une={class:"text-base text-black"},Hne={class:"text-gray2 pt-1 text-base"},qne={class:"flex-[0.4] text-base pl-2 text-black"},Gne={key:1,class:"justify-center items-center flex flex-col mt-[20%]"},Wne=jn({__name:"TabMember",setup(e){const t=Ti([]),i=Ti(1),n=Ti(!1),o=async(e=1,o=!1)=>{const r={limit:20,page:e},{data:s}=await SC.get("/users/member-introduced-by-me",{params:r});var a,l,c;bC.isEmpty(s)?n.value=!1:(null!=s&&null!==(a=s.meta)&&void 0!==a&&a.hasNextPage?(i.value++,n.value=!0):n.value=!1,t.value=o?[...t.value,...null!==(l=null==s?void 0:s.data)&&void 0!==l?l:[]]:null!==(c=null==s?void 0:s.data)&&void 0!==c?c:[])};io((()=>{o(1,!1),i.value=1,n.value=!1}));const r=e=>{o(i.value,!0),setTimeout((()=>e.target.complete()),500)};return(e,i)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white"},{default:pn((()=>[Wr("div",null,[i[2]||(i[2]=Wr("div",{class:"text-lg font-medium pb-4"},"Thành viên tôi giới thiệu",-1)),Wr("section",null,[i[1]||(i[1]=Wr("div",{class:"flex py-2 text-center bg-gray1 rounded-md"},[Wr("div",{class:"flex-[0.5]"},"Tên"),Wr("div",{class:"flex-[0.5]"},"Ngày tạo")],-1)),Di(bC.isEmpty)(t.value)?($r(),jr("div",Gne,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-32"}),i[0]||(i[0]=Wr("p",{class:"text-gray2 text-base"},"Không có dữ liệu",-1))])):($r(),jr("div",zne,[($r(!0),jr(Dr,null,vo(t.value,(e=>{var t,i;return $r(),jr("div",{key:e._id},[Wr("div",jne,[Wr("div",Vne,[Wr("div",Une,Ze(null!==(t=e.full_name)&&void 0!==t?t:"-"),1),Wr("div",Hne,Ze(null!==(i=e.email)&&void 0!==i?i:"-"),1)]),Wr("div",qne,Ze(Di(bC.isEmpty)(e.created_at)?"-":Di(aT)(e.created_at).format("DD/MM/YYYY")),1)])])})),128))]))])]),n.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:r},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1}))}}),Yne={slot:"start",class:"flex items-center p-3"},Kne=jn({__name:"UserAffiliateScreen",setup(e){const t=EC(),{accessToken:i}=mC(t);io((async()=>{await t.getUserInfo(i.value)}));const n=Rw(),o=[{key:"getlink",title:"Lấy link"},{key:"coupon",title:"Coupon"},{key:"member",title:"Thành viên"},{key:"community",title:"Cộng đồng"}],r=Ti(o[0].key),s=()=>n.back(iT),a=e=>{r.value=e};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",Yne,[Yr(Di(ex),{onClick:s,icon:Di(AT),class:"size-6 mr-4"},null,8,["icon"]),t[0]||(t[0]=Wr("div",{class:"text-lg font-medium text-black"},"Affiliate",-1))])])),_:1})])),_:1}),Yr(tne,{routes:o,"tab-key":r.value,onChangeTab:a},{scene:pn((()=>["getlink"===r.value?($r(),Vr(Cne,{key:0})):Jr("",!0),"coupon"===r.value?($r(),Vr(Bne,{key:1})):Jr("",!0),"member"===r.value?($r(),Vr(Wne,{key:2})):Jr("",!0),"community"===r.value?($r(),Vr(Lne,{key:3})):Jr("",!0)])),_:1},8,["tab-key"])])),_:1}))}}),Qne={slot:"start",class:"flex items-center p-3"},Xne={class:"px-4"},Jne={class:"text-lg"},Zne={class:"text-gray2"},eoe={class:"px-4 py-2"},toe=jn({__name:"UserCommunityContributeScreen",setup(e){const t=By(),i=Rw(),n=()=>i.back(),o=Ti([]),r=Ti(0),s=Ti(),a=Ti(!1),l=Ti(1),c=async(e=1,i=!1,n)=>{const r={"w[]":["creator","topic","total_comments","total_reactions","user_reaction","poll"],"wo[]":["user_posts"],limit:15,page:e,"filter[community_id]":n,"filter[creator_id]":t.params.userId},{data:s}=await SC.get("/community-post/profile",{params:r});var c,d,u;bC.isEmpty(s)?a.value=!1:(null!=s&&null!==(c=s.meta)&&void 0!==c&&c.hasNextPage?(l.value++,a.value=!0):a.value=!1,o.value=i?[...o.value,...null!==(d=s.data)&&void 0!==d?d:[]]:null!==(u=null==s?void 0:s.data)&&void 0!==u?u:[])},d=e=>{c(l.value,!0,t.params.communityId),setTimeout((()=>e.target.complete()),1e3)},u=()=>{c(1,!1,t.params.communityId),l.value=1,a.value=!1};io((()=>{(async()=>{const{data:e}=await SC.get(`/community/${t.params.communityId}`);console.log("community",e),bC.isEmpty(e)||(s.value=e)})(),(async e=>{const i={community_id:e},{data:n}=await SC.get(`/users/${t.params.userId}/contribute`,{params:i}),o=n.totalPosts;r.value=null!=o?o:0})(t.params.communityId),u()}));return(e,l)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",Qne,[Yr(Di(ex),{onClick:n,icon:Di(AT),class:"size-7 mr-2"},null,8,["icon"]),l[0]||(l[0]=Wr("h1",{class:"font-medium text-lg"},"Đóng góp trong cộng đồng",-1))])])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding-vertical",color:"white1"},{default:pn((()=>{var e;return[Wr("section",Xne,[Wr("div",Jne,Ze((null===(e=s.value)||void 0===e?void 0:e.name)||Di(t).params.name),1),Wr("div",Zne,Ze(r.value)+" đóng góp",1)]),Wr("section",eoe,[($r(!0),jr(Dr,null,vo(o.value,(e=>($r(),jr("div",{key:e._id,class:"py-2"},[Yr(k6,{post:e,"show-option":!0,onOptionPress:t=>(async e=>{const t=await ax.create({component:p4,componentProps:{post:e,onCallback:u},initialBreakpoint:.5,mode:"ios"});await t.present()})(e),onPostPress:t=>(e=>{e&&i.push({name:"PostDetailScreen",params:{postId:e._id}})})(e)},null,8,["post","onOptionPress","onPostPress"])])))),128))]),a.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:d},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)]})),_:1})])),_:1}))}}),ioe={Online:0,Offline:1},noe={class:"aspect-video relative"},ooe=["src"],roe={class:"ion-padding bg-white flex flex-col justify-between h-full"},soe={class:"font-medium text-base"},aoe={class:"flex justify-between items-center mt-2 mb-1"},loe={class:"flex items-center gap-2"},coe={class:"font-normal text-sm text-gray2"},doe={class:"text-sm font-medium text-gray2"},uoe={class:"flex justify-between items-center mt-2"},hoe={class:"flex items-center gap-2"},poe={class:"font-normal text-sm text-gray2"},moe={class:"text-gray2 text-sm font-medium"},foe={key:0},goe={key:1},boe=jn({__name:"CardEvent",props:{event:{},isPersonal:{type:Boolean,default:!1},hasSetting:{type:Boolean,default:!1},onSetting:{type:Function,default:()=>{}}},setup(e){const t=lT(),i=e,n=Rw(),o=(e,t)=>{const i=aT(null!=e?e:new Date),n=aT(null!=t?t:new Date),o=n.format("DD/MM/YYYY"),r=i.diff(n,"year"),s=i.diff(n,"month"),a=i.diff(n,"day");return 0!=r?i.format("DD/MM/YYYY")+" - "+o:0!=s?i.format("DD/MM")+" - "+o:0!=a?i.format("DD")+" - "+o:o};return(e,r)=>{var s,a,l,c;return $r(),jr("div",{onClick:r[1]||(r[1]=e=>(async()=>{var e,o,r;i.event.use_landing_page&&null!==(e=i.event)&&void 0!==e&&e.url?await bS.open({url:null===(o=i.event)||void 0===o?void 0:o.url}):(i.isPersonal&&t.getUserCommunityInfo(i.event.community_id),n.push({name:"EventDetailScreen",params:{eventId:null==i||null===(r=i.event)||void 0===r?void 0:r.url}},iT))})()),class:"h-full bg-white flex flex-col flex-1 justify-between"},[Wr("div",noe,[Wr("img",{class:"aspect-video w-full",src:null!==(s=e.event.image)&&void 0!==s?s:"https://placehold.co/100/ddd/ddd",placeholder:"https://placehold.co/100/ddd/ddd"},null,8,ooe),e.hasSetting?($r(),jr("div",{key:0,onClick:r[0]||(r[0]=Ta(((...t)=>e.onSetting&&e.onSetting(...t)),["stop"])),class:"absolute top-2 bg-white right-2 size-7 items-center justify-center flex rounded-full"},[Yr(Di(ex),{icon:Di($T),class:"size-5 text-gray5"},null,8,["icon"])])):Jr("",!0)]),Wr("div",roe,[Wr("div",soe,Ze(null!==(a=null===(l=e.event)||void 0===l?void 0:l.name)&&void 0!==a?a:"-"),1),Wr("div",null,[Wr("section",aoe,[Wr("div",loe,[Yr(Di(ex),{icon:Di(yT),class:"size-4 text-gray2"},null,8,["icon"]),Wr("div",coe,Ze(o(e.event.start_date,e.event.end_date)),1)]),Wr("div",doe,Ze(e.event.type===Di(ioe).Online?"Online":"Offline"),1)]),Wr("section",uoe,[Wr("div",hoe,[Yr(Di(ex),{icon:Di(rS),class:"size-4 text-gray2"},null,8,["icon"]),Wr("div",poe,Ze(Di(aT)(e.event.start_date).format("HH:mm"))+" - "+Ze(Di(aT)(e.event.end_date).format("HH:mm")),1)]),Wr("div",moe,[0==e.event.price||Di(bC.isEmpty)(e.event.price+"")?($r(),jr("span",foe," Miễn phí ")):($r(),jr("span",goe,Ze(null===(c=e.event)||void 0===c||null===(c=c.price)||void 0===c?void 0:c.toLocaleString("vi-VN",{style:"currency",currency:"VND"})),1))])])])])])}}}),voe=["onClick"],yoe=jn({__name:"ModalFilterEventStatus",props:{selected:{}},setup(e){var t;const i=[{value:"2",label:"Tất cả"},{value:"0",label:"Online"},{value:"1",label:"Offline"}],n=Ti(null!==(t=e.selected)&&void 0!==t?t:i[0]);return(e,t)=>($r(),jr("section",null,[($r(),jr(Dr,null,vo(i,((e,t)=>Wr("div",{key:t},[Wr("div",{onClick:t=>(async e=>{n.value=e,await ax.dismiss(e,"confirm")})(e),class:We(["py-2 px-4 text-base font-normal",n.value.value===e.value&&"bg-blue1-tint1"])},Ze(e.label),11,voe)]))),64))]))}}),koe={slot:"start",class:"flex items-center p-3"},woe={class:"bg-white"},xoe={class:"ion-padding-horizontal pb-0.5 pt-2"},_oe={class:"flex items-center gap-2"},Eoe={class:"flex items-center justify-between px-4 bg-white mt-2.5 mb-2"},Coe={class:"line-clamp-1"},Aoe={class:"ion-padding pb-10"},Toe={key:0,class:"justify-center items-center flex flex-col mt-[20%]"},Soe=jn({__name:"UserEventScreen",setup(e){const t=Rw(),i=()=>t.back(iT),n=Ti(""),o=Ti("NewlyPosted"),r=Ti([]),s=Ti(1),a=Ti(!1),l=Ti(),c=e=>{e!==o.value&&(n.value="",l.value=null,d(1,!1,e),s.value=1,a.value=!1),o.value=e},d=async(e=1,t=!1,i="NewlyPosted",n="",o=null)=>{const{data:l}=await SC.get(`event/allcommunity/${i}`,{params:{page:e,limit:15,"filter[name]":bC.isEmpty(n)?null:n,"filter[type]":null!=o?o:null}});var c,d,u;bC.isEmpty(l)?a.value=!1:(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(s.value++,a.value=!0):a.value=!1,r.value=t?[...r.value,...null!==(d=null==l?void 0:l.data)&&void 0!==d?d:[]]:null!==(u=null==l?void 0:l.data)&&void 0!==u?u:[])};io((()=>{u()}));const u=()=>{d(1,!1),s.value=1,a.value=!1},h=()=>{var e;d(1,!1,o.value,n.value,null===(e=l.value)||void 0===e?void 0:e.value),s.value=1,a.value=!1},p=e=>{d(s.value,!0,o.value),setTimeout((()=>e.target.complete()),500)},m=async()=>{const e=await ax.create({component:yoe,componentProps:{selected:l.value},initialBreakpoint:.2});await e.present();const{data:t,role:i}=await e.onWillDismiss();var r;"confirm"===i&&(bC.isEmpty(t)||(null===(r=l.value)||void 0===r?void 0:r.value)!==(null==t?void 0:t.value)&&("2"===t.value?(d(1,!1,o.value,n.value,null),l.value=null):(d(1,!1,o.value,n.value,null==t?void 0:t.value),l.value=t)))},f=async e=>{h(),setTimeout((()=>{e.target.complete()}),500)};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>{var e;return[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",koe,[Yr(Di(ex),{onClick:i,icon:Di(AT),class:"size-6 mr-4"},null,8,["icon"]),t[3]||(t[3]=Wr("div",{class:"text-lg font-medium text-black"},"Sự kiện",-1))])])),_:1})])),_:1}),Wr("div",woe,[Wr("section",xoe,[Wr("div",_oe,[Wr("div",{onClick:t[0]||(t[0]=e=>c("NewlyPosted")),class:We(["py-1.5 text-center px-4 flex-1 rounded-lg","NewlyPosted"===o.value?" bg-blue1-tint1":"bg-gray4"])}," Sắp diễn ra ",2),Wr("div",{onClick:t[1]||(t[1]=e=>c("RecentlyPosted")),class:We(["py-1.5 px-4 text-center flex-1 rounded-lg","RecentlyPosted"===o.value?" bg-blue1-tint1":"bg-gray4"])}," Mới đăng ",2)])]),Wr("section",Eoe,[Wr("form",{onSubmit:Ta(h,["prevent"]),class:"flex items-center border-[1px] bg-white border-gray3 rounded-lg flex-[0.65] overflow-hidden"},[Yr(Di(ex),{onClick:h,icon:Di(nS),class:"text-gray2 size-6 pl-2"},null,8,["icon"]),mn(Wr("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.value=e),placeholder:"Tìm sự kiện",class:"py-1.5 px-2 w-full"},null,512),[[fa,n.value]])],32),Wr("div",{onClick:m,class:"flex flex-[0.3] items-center border-[1px] border-gray3 rounded-lg py-1.5 px-2 justify-between gap-2 bg-white"},[Wr("div",Coe,Ze((null===(e=l.value)||void 0===e?void 0:e.label)||"Tất cả"),1),Yr(Di(ex),{icon:Di(ST),class:"size-4 text-gray2"},null,8,["icon"])])])]),Yr(Di(Kk),{color:"white1"},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:f},{default:pn((()=>[Yr(Di(dw))])),_:1}),Wr("section",Aoe,[Di(bC.isEmpty)(r.value)?($r(),jr("div",Toe,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-32"}),t[4]||(t[4]=Wr("p",{class:"text-gray2 text-base"},"Chưa có sự kiện diễn ra",-1))])):($r(!0),jr(Dr,{key:1},vo(r.value,(e=>($r(),jr("div",{key:null==e?void 0:e._id,class:"rounded-lg overflow-hidden mb-4"},[Yr(boe,{event:e,"is-personal":""},null,8,["event"])])))),128))]),a.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:p},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})]})),_:1}))}}),Ioe={Register:1,Cancel:2},Poe={class:"ion-padding"},Doe={class:"ion-padding-horizontal"},Roe={class:"text-lg font-normal"},Loe=jn({__name:"ModalTicketCodeDetail",props:{codes:{}},setup:e=>(e,t)=>($r(),jr("div",Poe,[t[0]||(t[0]=Wr("div",{class:"text-lg font-medium pb-2"},"Chi tiết mã vé",-1)),Wr("section",Doe,[($r(!0),jr(Dr,null,vo(e.codes,((e,t)=>($r(),jr("div",{key:t,class:"my-1"},[Wr("span",Roe,Ze(e),1)])))),128))])]))}),Moe={class:"ion-padding"},Ooe={class:"flex justify-between items-center"},Noe={class:"line-clamp-1"},$oe={class:"flex flex-col items-center mt-2.5 gap-3"},Foe=jn({__name:"ModalTicketSharing",props:{url:{}},setup(e){const t=e,i=async()=>{await $D.write({string:t.url}),lS(`Đã copy link sự kiện\n${t.url}`,"success")},n=async()=>{await ax.dismiss()};return(e,t)=>($r(),jr("section",Moe,[Wr("div",Ooe,[t[0]||(t[0]=Wr("div",{class:"text-base font-medium"},"Chia sẻ sự kiện",-1)),Yr(Di(ex),{onClick:n,icon:Di(LT),class:"size-7 text-gray2"},null,8,["icon"])]),Wr("div",{onClick:i,class:"bg-gray4 p-2 rounded-lg flex items-center gap-2 mt-3.5 justify-between"},[Wr("div",Noe,Ze(e.url)+Ze(),1),Wr("div",null,[Yr(Di(ex),{icon:Di(MT),class:"flex size-4 text-blue1"},null,8,["icon"])])]),Wr("div",$oe,[t[1]||(t[1]=Wr("p",null,"Mã QR giới thiệu của bạn:",-1)),Yr(fne,{value:e.url,"render-as":"svg",level:"M",size:180},null,8,["value"])]),t[2]||(t[2]=Wr("div",{class:"flex justify-end mt-4"},null,-1))]))}}),Boe={class:"ion-padding"},zoe={class:"flex justify-between items-center pb-2"},joe=jn({__name:"ModalConfirmCancelEvent",setup(e){const t=()=>ax.dismiss(null,"cancel"),i=()=>ax.dismiss(null,"confirm");return(e,n)=>($r(),jr("section",Boe,[Wr("div",zoe,[n[0]||(n[0]=Wr("span",{class:"font-medium text-lg"},"Huỷ tham gia sự kiện?",-1)),Yr(Di(ex),{icon:Di(LT),onClick:t,class:"size-8 text-gray2"},null,8,["icon"])]),n[1]||(n[1]=Wr("div",{class:"text-black text-base font-normal py-1"}," Người tổ chức sẽ được thông báo và bạn sẽ không thể tham gia sự kiện ",-1)),n[2]||(n[2]=Wr("div",{class:"text-orange1 text-base font-normal py-1"}," Để yêu cầu hoàn lại tiền (nếu có), hãy liên hệ người tổ chức ",-1)),Wr("div",{class:"flex items-center justify-end gap-4 mt-2"},[Wr("div",{onClick:i,class:"px-3 py-1.5 bg-white text-black font-medium rounded-lg"}," Huỷ tham gia "),Wr("div",{onClick:t,class:"px-3 py-1.5 bg-blue1 shadow-st text-white font-medium rounded-lg"}," Vẫn tham gia ")])]))}}),Voe={class:"border-[1px] bg-white border-gray1 rounded-lg p-2"},Uoe={class:"flex gap-3 items-stretch"},Hoe=["src"],qoe={class:"text-base font-medium"},Goe={class:"text-sm gap-y-1 flex flex-col mt-1 font-light"},Woe={class:"text-sm font-normal"},Yoe={class:"text-sm font-normal"},Koe={class:"text-sm font-normal"},Qoe={class:"flex items-center gap-1"},Xoe={class:"flex justify-end gap-6 text-base font-normal"},Joe=jn({__name:"TicketCard",props:{ticket:{},onCallbackCancel:{type:Function,default:()=>{}}},setup(e){const t=e,i=ks((()=>{var e;return`https://unica.expert/${t.ticket.event.url}/event/${null===(e=t.ticket.event)||void 0===e||null===(e=e.community_id)||void 0===e?void 0:e.short_name}`})),n=(e,t)=>{const i=aT(null!=e?e:new Date),n=aT(null!=t?t:new Date),o=n.format("DD/MM/YYYY"),r=i.diff(n,"year"),s=i.diff(n,"month"),a=i.diff(n,"day"),l=()=>i.format("HH:mm")+" - "+n.format("HH:mm");return 0!=r?i.format("DD/MM/YYYY")+" - "+o+" "+l():0!=s?i.format("DD/MM")+" - "+o+" "+l():0!=a?i.format("DD")+" - "+o+" "+l():o+" "+l()},o=async()=>{var e,i;const n=await ax.create({component:Loe,mode:"ios",componentProps:{codes:null!==(e=null===(i=t.ticket)||void 0===i?void 0:i.ticket_detail)&&void 0!==e?e:[]},initialBreakpoint:.5});await n.present()},r=async()=>{const e=await ax.create({component:joe,mode:"ios",cssClass:"confirmmd"});await e.present();const{role:i}=await e.onWillDismiss();"confirm"===i&&(async()=>{try{const{status:e}=await SC.patch(`/event-subscribe/${t.ticket._id}`,{status:Ioe.Cancel});201===e&&(t.onCallbackCancel(),lS("Huỷ vé thành công!","success"))}catch(e){lS("Đã có lỗi xảy ra. Vui lòng thử lại!","error")}})()},s=async()=>{const e=await ax.create({component:Foe,componentProps:{url:i.value},mode:"ios",cssClass:"confirmmd"});await e.present()};return(e,t)=>{var i,a,l;return $r(),jr("div",Voe,[Wr("div",Uoe,[Wr("img",{src:e.ticket.event.image,class:"size-14 object-cover flex rounded-lg"},null,8,Hoe),Wr("div",null,[Wr("div",qoe,Ze(e.ticket.event.name),1)])]),Wr("div",Goe,[Wr("div",null,[t[0]||(t[0]=Xr(" Ngày đăng ký: ")),Wr("span",Woe,Ze(Di(aT)(null===(i=e.ticket)||void 0===i?void 0:i.created_at).format("DD/MM/YYYY")),1)]),Wr("div",null,[t[1]||(t[1]=Xr(" Thời gian sự kiện: ")),Wr("span",Yoe,Ze(n(e.ticket.event.start_date,e.ticket.event.end_date)),1)]),Wr("div",null,[t[2]||(t[2]=Xr(" Trạng thái : ")),Wr("span",{class:We(["text-sm font-normal",1==e.ticket.status?"text-green-600":"text-red-600"])},Ze(1==e.ticket.status?"Hoạt động":"Đã huỷ"),3)]),Wr("div",null,[t[3]||(t[3]=Xr(" Phí: ")),Wr("span",Koe,Ze(0===(null===(a=e.ticket)||void 0===a||null===(a=a.event)||void 0===a?void 0:a.price)?"Miễn phí":(null===(l=e.ticket)||void 0===l||null===(l=l.event)||void 0===l?void 0:l.price)+"đ"),1)]),Wr("div",Qoe,[t[4]||(t[4]=Xr(" Mã vé: ")),Wr("span",{onClick:o,class:"text-sm font-normal mr-4 flex items-center gap-1"},[Xr(Ze(e.ticket.registration_number)+" ",1),Yr(Di(ex),{icon:Di(ST),class:"size-4"},null,8,["icon"])])]),Wr("div",Xoe,[1===e.ticket.status?($r(),jr("div",{key:0,onClick:r,class:"text-red-600 flex items-center gap-1"},[Yr(Di(ex),{icon:Di(LT),class:"size-5"},null,8,["icon"]),t[5]||(t[5]=Xr(" Huỷ vé "))])):Jr("",!0),Wr("div",{onClick:s,class:"text-blue1 flex items-center gap-1"},[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 192h40a40 40 0 0140 40v192a40 40 0 01-40 40H136a40 40 0 01-40-40V232a40 40 0 0140-40h40M336 128l-80-80-80 80M256 321V48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-5"},null,8,["icon"]),t[6]||(t[6]=Xr(" Chia sẻ "))])])])])}}}),Zoe=["onClick"],ere=jn({__name:"ModalFilterTicketStatus",props:{selected:{}},setup(e){var t;const i=[{value:"0",label:"Tất cả"},{value:"1",label:"Hoạt động"},{value:"2",label:"Hủy"}],n=Ti(null!==(t=e.selected)&&void 0!==t?t:i[0]);return(e,t)=>($r(),jr("section",null,[($r(),jr(Dr,null,vo(i,((e,t)=>Wr("div",{key:t},[Wr("div",{onClick:t=>(async e=>{n.value=e,await ax.dismiss(e,"confirm")})(e),class:We(["py-2 px-4 text-base font-normal",n.value.value===e.value&&"bg-blue1-tint1"])},Ze(e.label),11,Zoe)]))),64))]))}}),tre={slot:"start",class:"flex items-center p-3"},ire={class:"flex items-center justify-between px-4 bg-white mt-2.5 mb-2"},nre={class:"line-clamp-1"},ore={class:"px-4 pb-10"},rre={key:1,class:"mt-[30%] flex flex-1 flex-col justify-center items-center text-gray2"},sre=jn({__name:"UserTicketScreen",setup(e){const t=Rw(),i=()=>t.back(iT),{userInfo:n}=mC(EC()),o=Ti(1),r=Ti(!1),s=Ti([]),a=Ti(),l=Ti(""),c=async(e=1,t=!1)=>{var i,c,d;const{data:u}=await SC.get(`event-subscribe/myticket/${null===(i=n.value)||void 0===i?void 0:i._id}`,{params:{page:e,limit:15,"filter[status]":null!==(c=null===(d=a.value)||void 0===d?void 0:d.value)&&void 0!==c?c:null,"filter[name]":bC.isEmpty(l.value)?null:l.value}});var h,p,m;bC.isEmpty(u)?r.value=!1:(null!=u&&null!==(h=u.meta)&&void 0!==h&&h.hasNextPage?(o.value++,r.value=!0):r.value=!1,s.value=t?[...s.value,...null!==(p=null==u?void 0:u.data)&&void 0!==p?p:[]]:null!==(m=null==u?void 0:u.data)&&void 0!==m?m:[])},d=()=>{c(1,!1),o.value=1,r.value=!1};io((()=>{d()})),br(a,(()=>{d()}));const u=e=>{c(o.value,!0),setTimeout((()=>e.target.complete()),500)},h=async e=>{d(),setTimeout((()=>{e.target.complete()}),500)},p=async()=>{const e=await ax.create({component:ere,componentProps:{selected:a.value},initialBreakpoint:.2});await e.present();const{data:t,role:i}=await e.onWillDismiss();"confirm"===i&&(bC.isEmpty(t)||("0"===t.value?a.value=null:a.value=t))};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>{var e;return[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",tre,[Yr(Di(ex),{onClick:i,icon:Di(AT),class:"size-6 mr-4"},null,8,["icon"]),t[1]||(t[1]=Wr("div",{class:"text-lg font-medium text-black"},"Vé của tôi",-1))])])),_:1})])),_:1}),Wr("section",ire,[Wr("form",{onSubmit:Ta(d,["prevent"]),class:"flex items-center border-[1px] border-gray3 rounded-lg flex-[0.65] overflow-hidden"},[Yr(Di(ex),{onClick:d,icon:Di(nS),class:"text-gray2 size-6 pl-2"},null,8,["icon"]),mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),placeholder:"Tìm sự kiện",class:"py-1.5 px-2 w-full"},null,512),[[fa,l.value]])],32),Wr("div",{onClick:p,class:"flex flex-[0.3] items-center border-[1px] border-gray3 rounded-lg py-1.5 px-2 justify-between gap-2"},[Wr("div",nre,Ze((null===(e=a.value)||void 0===e?void 0:e.label)||"Tất cả"),1),Yr(Di(ex),{icon:Di(ST),class:"size-4 text-gray2"},null,8,["icon"])])]),Yr(Di(Kk),{color:"white1"},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:h},{default:pn((()=>[Yr(Di(dw))])),_:1}),Wr("section",ore,[Di(bC.isEmpty)(s.value)?($r(),jr("div",rre,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-28"}),t[2]||(t[2]=Xr(" Chưa có vé nào "))])):($r(!0),jr(Dr,{key:0},vo(s.value,(e=>($r(),jr("div",{key:e._id,class:"py-1.5"},[Yr(Joe,{ticket:e,onCallbackCancel:d},null,8,["ticket"])])))),128))]),r.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:u},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})]})),_:1}))}}),are={slot:"start",class:"flex items-center p-3"},lre={class:"font-normal text-lg text-black mb-6"},cre={class:"text-lg font-light text-black"},dre=jn({__name:"AccountDetailScreen",setup(e){const t=Rw(),i=Ti(),n=EC(),o=oT(),r=lT(),s=vC(),a=OA(),l=()=>{t.back()};io((()=>{(async()=>{const{data:e}=await SC.get("community/me");console.log(e),i.value=e})()}));const{userInfo:c}=mC(n),d=async()=>{try{await bS.open({url:"mailto:mailto:cskh@unica.vn"})}catch(e){console.log(e)}},u=async()=>{try{var e;if((null==i||null===(e=i.value)||void 0===e||null===(e=e.meta)||void 0===e?void 0:e.itemCount)>0)return void(async e=>{(await cx.create({mode:"ios",header:"Thông báo",message:e,buttons:["Đồng ý"]})).present()})("Bạn phải chuyển quyền sở hữu cộng đồng hoặc xoá cộng đồng trước khi đóng tài khoản");(async()=>{const e=await cx.create({mode:"ios",header:"Bạn có chắc chắn muốn đóng tài khoản?",buttons:[{text:"Giữ lại",role:"cancel"},{text:"Đồng ý",role:"destructive",handler:h}]});await e.present()})()}catch(t){console.log(t)}},h=async()=>{try{const{status:e}=await SC.delete("users/me");200===e&&(await lS("Tài khoản của bạn đã được đóng. Chúng tôi rất tiếc vì bạn đã rời bỏ chúng tôi.","success"),n.logOut(),o.clear(),r.clear(),s.clear(),a.clear(),t.replace({name:"defaultBottomTab"}))}catch(e){lS("Đóng tài khoản thất bại. Vui lòng thử lại sau.","error")}};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",are,[Yr(Di(ex),{onClick:l,icon:Di(AT),class:"size-6 mr-4"},null,8,["icon"]),t[0]||(t[0]=Wr("div",{class:"text-lg font-medium text-black"},"Đóng tài khoản",-1))])])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding"},{default:pn((()=>{var e;return[Wr("div",lre,[t[1]||(t[1]=Xr(" Email: ")),Wr("span",cre,Ze(null===(e=Di(c))||void 0===e?void 0:e.email),1)]),Wr("div",{onClick:u,class:"text-red-500 font-medium text-center py-3 bg-red-50 rounded-lg"}," Đóng tài khoản "),Wr("div",{class:"my-4 text-sm font-light"},[t[2]||(t[2]=Wr("span",{class:"text-red-500 font-medium"},"Cảnh báo:",-1)),t[3]||(t[3]=Xr(" Nếu bạn đóng tài khoản, bạn sẽ mất quyền truy cập vào tài khoản và dữ liệu liên quan đến tài khoản của bạn mãi mãi, ngay cả khi bạn chọn tạo tài khoản mới bằng cùng địa chỉ email trong tương lai. Xin lưu ý, nếu bạn muốn khôi phục tài khoản sau khi gửi yêu cầu xóa, bạn sẽ có ")),t[4]||(t[4]=Wr("span",{class:"text-red-500 font-medium italic"},"30 ngày",-1)),t[5]||(t[5]=Xr(" sau ngày gửi ban đầu để liên hệ với ")),Wr("a",{onClick:d,class:"text-blue1 font-medium"},"cskh@unica.vn"),t[6]||(t[6]=Xr(" để hủy yêu cầu này. Nếu có bất kỳ dữ liệu nào liên quan đến cộng đồng sở hữu bạn cần ")),t[7]||(t[7]=Wr("span",{class:"text-black font-medium"},"chuyển quyền sở hữu cộng đồng",-1)),t[8]||(t[8]=Xr(" đó cho thành viên khác hoặc phải ")),t[9]||(t[9]=Wr("span",{class:"text-black font-medium"},"xoá cộng đồng",-1)),t[10]||(t[10]=Xr(" đó trước khi xoá tài khoản. Nếu bạn muốn khôi phục cộng đồng sau khi gửi yêu cầu xoá, bạn sẽ có ")),t[11]||(t[11]=Wr("span",{class:"text-red-500 font-medium italic"},"90 ngày",-1)),t[12]||(t[12]=Xr(" kể từ ngày thực hiện. "))])]})),_:1})])),_:1}))}}),ure={slot:"start",class:"flex items-center p-3"},hre={class:"w-full mt-2"},pre=["onClick"],mre={class:"w-full text-black2 font-medium"},fre=jn({__name:"AppAboutScreen",setup(e){const t=Rw(),i=()=>t.back(),n=[{label:"Điều khoản dịch vụ",action:async()=>await bS.open({url:"https://unica.expert/policy/privacy.html"})},{label:"Chính sách bảo mật",action:async()=>await bS.open({url:"https://unica.expert/policy/privacy.html"})},{label:"Thoả thuận người dùng",action:async()=>await bS.open({url:"https://unica.expert/page/dieu-khoan-su-dung.html"})}];return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:""},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",ure,[Yr(Di(ex),{onClick:i,icon:Di(AT),class:"size-6 mr-4"},null,8,["icon"]),t[0]||(t[0]=Wr("div",{class:"text-lg font-medium text-black"}," Giới thiệu về Unica Expert ",-1))])])),_:1})])),_:1}),Yr(Di(Kk),null,{default:pn((()=>[Wr("section",hre,[($r(),jr(Dr,null,vo(n,((e,t)=>Wr("div",{key:t,class:"w-full"},[Wr("div",{onClick:e.action,class:"flex items-center ion-padding-horizontal py-2.5 my-.5 rounded-md"},[Wr("div",mre,Ze(e.label),1),Yr(Di(ex),{icon:Di(IT)},null,8,["icon"])],8,pre)]))),64))])])),_:1})])),_:1}))}}),gre={slot:"start",class:"flex items-center p-3"},bre=jn({__name:"ChangePassword",setup(e){const{VITE_API_URL_ID:t}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},i=Rw(),{accessToken:n}=mC(EC()),o=()=>i.back(),r=async()=>{const e=new FormData;e.append("password","999999");const i=await fetch(`${t}/users`,{method:"PUT",body:e,headers:{Accept:"Application/json",Authorization:`Bearer ${n.value}`,"Content-Type":"multipart/form-data"}});console.log(i)};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",gre,[Yr(Di(ex),{onClick:o,icon:Di(AT),class:"size-6 mr-4"},null,8,["icon"]),t[0]||(t[0]=Wr("div",{class:"text-lg font-medium text-black"},"Đổi mật khẩu",-1))])])),_:1})])),_:1}),Yr(Di(Kk),null,{default:pn((()=>[Wr("div",null,[Wr("div",{onClick:r},"Lưu")])])),_:1})])),_:1}))}}),vre={class:"p-4 flex gap-3 items-center [overflow-wrap:anywhere] border-[1px]"},yre=["src"],kre={class:"w-full flex flex-col"},wre={class:"text-lg line-clamp-2 font-semibold"},xre={class:"text-base text-gray5"},_re={class:"p-4"},Ere={class:"flex items-center p-2.5 bg-white4 rounded-full"},Cre={class:"text-base font-medium"},Are={class:"flex items-center p-2.5 bg-white4 rounded-full"},Tre={class:"text-base font-medium"},Sre=jn({__name:"ModalActionFriend",props:{friend:{},onCallback:{type:Function,default:()=>{}}},setup(e){const t=e,i=Rw(),n=FP(),o=OD(),r=e=>{e.target.src="/upload-user.png"},s=async()=>{var e;await ax.dismiss(),n.sendMessageSocket("createSingleChatRoom",{user_id:null===(e=t.friend)||void 0===e||null===(e=e.user)||void 0===e?void 0:e._id},(async e=>{await o.setActiveRoom(e),i.push({name:"ChatRoom",params:{id:null==e?void 0:e._id}},iT)}))},a=async()=>{var e,i;await ax.dismiss(null,"remove");const n=await cx.create({mode:"ios",backdropDismiss:!1,header:`Huỷ kết bạn với ${null==t||null===(e=t.friend)||void 0===e||null===(e=e.user)||void 0===e?void 0:e.full_name.split(" ")[0]}`,message:`Bạn có chắc chắn muốn huỷ kết bạn với ${null==t||null===(i=t.friend)||void 0===i||null===(i=i.user)||void 0===i?void 0:i.full_name.split(" ")[0]} không?`,buttons:[{text:"Xác nhận",handler:()=>t.onCallback(),cssClass:"fcb"},{text:"Bỏ qua",role:"cancel",cssClass:"fcn"}]});await n.present()};return(e,t)=>{var i,n,o,l,c,d,u;return $r(),jr("div",null,[Wr("section",vre,[($r(),jr("img",{src:null!==(i=null===(n=e.friend)||void 0===n||null===(n=n.user)||void 0===n?void 0:n.avatar)&&void 0!==i?i:"/upload-user.png",key:null===(o=e.friend)||void 0===o||null===(o=o.user)||void 0===o?void 0:o.avatar,placeholder:"/upload-user.png",onError:r,class:"size-14 rounded-full"},null,40,yre)),Wr("div",kre,[Wr("div",wre,Ze(null===(l=e.friend)||void 0===l||null===(l=l.user)||void 0===l?void 0:l.full_name),1),Wr("div",xre," Là bạn bè từ "+Ze(Di(aT)(null===(c=e.friend)||void 0===c?void 0:c.created_at).format("MMMM YYYY")),1)])]),Wr("div",_re,[Wr("section",{onClick:s,class:"flex items-center gap-2 py-2"},[Wr("div",Ere,[Yr(Di(ex),{icon:Di(wT),class:"size-5"},null,8,["icon"])]),Wr("div",Cre," Nhắn tin cho "+Ze(null===(d=e.friend)||void 0===d||null===(d=d.user)||void 0===d?void 0:d.full_name.split(" ")[0]),1)]),Wr("section",{onClick:a,class:"flex items-center gap-2 py-2"},[Wr("div",Are,[Yr(Di(ex),{src:"/icons/icRemoveFriend.svg",class:"size-5"})]),Wr("div",Tre," Huỷ kết bạn với "+Ze(null===(u=e.friend)||void 0===u||null===(u=u.user)||void 0===u?void 0:u.full_name.split(" ")[0]),1)])])])}}}),Ire={class:"py-2 rounded-lg flex gap-2 items-center [overflow-wrap:anywhere]"},Pre=["src"],Dre={class:"w-full flex flex-col gap-1"},Rre={class:"text-lg font-medium line-clamp-2"},Lre={class:"text-xs text-gray5"},Mre=["onClick"],Ore=jn({__name:"FriendScreen",setup(e){const{back:t,refresh:i,friends:n,onSearch:o,canLoadmore:r,refSearch:s,clearSearch:a,onInfiniteLoad:l,onRemoveFriend:c,onGotoFriendRequest:d,onGotoMyRequest:u}=(()=>{const e=Rw(),t=EC(),{userInfo:i}=mC(t),n=Ti(""),o=Ti(1),r=Ti(!1),s=Ti([]),a=async(e=1,t=!1,n)=>{var a;const{data:l}=await SC.get("/friend-ship/all-friend",{params:{senderId:null===(a=i.value)||void 0===a?void 0:a._id,search:n,page:e,limit:20}});var c,d,u;bC.isEmpty(l)?r.value=!1:(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(o.value++,r.value=!0):r.value=!1,s.value=t?[...s.value,...null!==(d=null==l?void 0:l.data)&&void 0!==d?d:[]]:null!==(u=null==l?void 0:l.data)&&void 0!==u?u:[])};io((()=>{a()}));const l=()=>{a(1,!1,n.value),o.value=1,r.value=!1};return{back:()=>e.back(),refresh:async e=>{l(),setTimeout((()=>{e.target.complete()}),500)},friends:s,onSearch:l,refSearch:n,clearSearch:()=>{n.value="",a(1,!1,""),o.value=1,r.value=!1},canLoadmore:r,onRemoveFriend:async(e,t)=>{const{data:i}=await SC.delete("/friend-ship",{data:{receiverId:e}});bC.isEmpty(i)||(s.value.splice(t,1),lS("Đã huỷ kết bạn!","success"))},onInfiniteLoad:e=>{a(o.value,!0),setTimeout((()=>e.target.complete()),500)},onGotoFriendRequest:()=>{e.push({name:"FriendRequestScreen"},iT)},onGotoMyRequest:()=>{e.push({name:"FriendMyRequestedScreen"},iT)}}})(),h=e=>{e.target.src="/upload-user.png"};return(e,p)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Yr(Di(ex),{onClick:Di(t),slot:"start",icon:Di(CT),class:"size-6 pl-2 pr-1 z-50"},null,8,["onClick","icon"]),Yr(Di(xw),{class:"text-lg font-medium"},{default:pn((()=>p[2]||(p[2]=[Xr("Bạn bè")]))),_:1})])),_:1})])),_:1}),Yr(Di(Kk),{color:"white",class:"ion-padding"},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:Di(i)},{default:pn((()=>[Yr(Di(dw))])),_:1},8,["onIonRefresh"]),Wr("form",{onSubmit:p[1]||(p[1]=Ta(((...e)=>Di(o)&&Di(o)(...e)),["prevent"])),class:"mb-1 items-center flex px-3 rounded-3xl bg-white3 overflow-hidden"},[Yr(Di(ex),{onClick:Di(o),icon:Di(iS),class:"size-7 text-gray2"},null,8,["onClick","icon"]),mn(Wr("input",{"onUpdate:modelValue":p[0]||(p[0]=e=>Ai(s)?s.value=e:null),placeholder:"Tìm kiếm bạn bè",class:"p-2 w-full text-base bg-white3 outline-none"},null,512),[[fa,Di(s)]]),Di(s)?($r(),Vr(Di(ex),{key:0,onClick:Di(a),icon:Di(DT),class:"size-7 text-gray2"},null,8,["onClick","icon"])):Jr("",!0)],32),Yr(Di(Yk),{onClick:Di(d),class:"font-medium bg-white4"},{default:pn((()=>p[3]||(p[3]=[Xr("Lời mời kết bạn")]))),_:1},8,["onClick"]),Yr(Di(Yk),{onClick:Di(u),class:"font-medium bg-white4"},{default:pn((()=>p[4]||(p[4]=[Xr("Đã gửi kết bạn")]))),_:1},8,["onClick"]),Wr("div",null,[($r(!0),jr(Dr,null,vo(Di(n),((e,t)=>{var i,n,o,r;return $r(),jr("section",{key:t,class:"py-1"},[Wr("div",Ire,[($r(),jr("img",{src:null!==(i=null===(n=e.user)||void 0===n?void 0:n.avatar)&&void 0!==i?i:"/upload-user.png",key:null===(o=e.user)||void 0===o?void 0:o.avatar,placeholder:"/upload-user.png",onError:h,class:"size-16 rounded-full"},null,40,Pre)),Wr("div",Dre,[Wr("div",Rre,Ze(null===(r=e.user)||void 0===r?void 0:r.full_name),1),Wr("div",Lre," Bạn bè từ ngày: "+Ze(Di(aT)(e.created_at).format("DD/MM/YYYY")),1)]),Wr("div",{onClick:i=>(async(e,t)=>{const i=await ax.create({mode:"ios",component:Sre,componentProps:{friend:e,onCallback:()=>{var i;return c(null==e||null===(i=e.user)||void 0===i?void 0:i._id,t)}},initialBreakpoint:.35,breakpoints:[0,.35]});await i.present()})(e,t),class:"flex items-center"},[Yr(Di(ex),{icon:Di($T),class:"size-6"},null,8,["icon"])],8,Mre)])])})),128))]),Di(r)?($r(),Vr(Di(Zk),{key:0,onIonInfinite:Di(l)},{default:pn((()=>[Yr(Di(ew))])),_:1},8,["onIonInfinite"])):Jr("",!0)])),_:1})])),_:1}))}}),Nre={class:"py-2 rounded-lg flex gap-3 items-center [overflow-wrap:anywhere]"},$re=["src"],Fre={class:"w-full flex flex-col gap-2"},Bre={class:"text-lg font-medium line-clamp-2"},zre={class:"flex flex-1 gap-2.5"},jre=["onClick"],Vre=["onClick"],Ure=jn({__name:"FriendRequestScreen",setup(e){const{back:t,friends:i,clearSearch:n,refresh:o,onInfiniteLoad:r,refSearch:s,onSearch:a,canLoadmore:l,onAcceptFriend:c,onRemoveFriend:d}=(()=>{const e=EC(),{userInfo:t}=mC(e),i=Ti([]),n=Rw(),o=Ti(""),r=Ti(1),s=Ti(!1),a=async(e=1,n=!1,o)=>{var a;const{data:l}=await SC.get("/friend-ship/friend-requests/received",{params:{senderId:null===(a=t.value)||void 0===a?void 0:a._id,search:o,page:e,limit:10}});var c,d,u;bC.isEmpty(l)?s.value=!1:(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(r.value++,s.value=!0):s.value=!1,i.value=n?[...i.value,...null!==(d=null==l?void 0:l.data)&&void 0!==d?d:[]]:null!==(u=null==l?void 0:l.data)&&void 0!==u?u:[])};io((()=>{a()}));const l=()=>{a(1,!1,o.value),r.value=1,s.value=!1},c=async(e,t)=>{const{data:n}=await SC.delete("/friend-ship",{data:{receiverId:e}});bC.isEmpty(n)||(i.value.splice(t,1),lS("Đã huỷ gửi lời mời kết bạn","success"))};return{back:()=>n.back(),friends:i,refresh:async e=>{l(),setTimeout((()=>{e.target.complete()}),500)},onInfiniteLoad:e=>{a(r.value,!0),setTimeout((()=>e.target.complete()),500)},refSearch:o,onSearch:l,canLoadmore:s,clearSearch:()=>{o.value="",a(1,!1,""),r.value=1,s.value=!1},onAcceptFriend:async(e,n)=>{var o;const{status:r}=await SC.patch("/friend-ship",{senderId:null===(o=t.value)||void 0===o?void 0:o._id,receiverId:e,status:F6.Accepted});200===r&&i.value.splice(n,1)},onRemoveFriend:async(e,t)=>{var i,n;const o=await cx.create({mode:"ios",backdropDismiss:!1,header:`Từ chối kết bạn với ${null==e||null===(i=e.user)||void 0===i?void 0:i.full_name.split(" ")[0]}`,message:`Bạn có chắc chắn muốn từ chối kết bạn với ${null==e||null===(n=e.user)||void 0===n?void 0:n.full_name.split(" ")[0]} không?`,buttons:[{text:"Xác nhận",handler:()=>{var i;return c(null==e||null===(i=e.user)||void 0===i?void 0:i._id,t)},cssClass:"fcb"},{text:"Bỏ qua",role:"cancel",cssClass:"fcn"}]});await o.present()}}})(),u=e=>{e.target.src="/upload-user.png"};return(e,h)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Yr(Di(ex),{onClick:Di(t),slot:"start",icon:Di(CT),class:"size-6 pl-2 pr-1 z-50"},null,8,["onClick","icon"]),Yr(Di(xw),{class:"text-lg font-medium"},{default:pn((()=>h[2]||(h[2]=[Xr("Lời mời kết bạn")]))),_:1})])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding",color:"white"},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:Di(o)},{default:pn((()=>[Yr(Di(dw))])),_:1},8,["onIonRefresh"]),Wr("form",{onSubmit:h[1]||(h[1]=Ta(((...e)=>Di(a)&&Di(a)(...e)),["prevent"])),class:"mb-1 items-center flex px-3 rounded-3xl bg-white3 overflow-hidden"},[Yr(Di(ex),{onClick:Di(a),icon:Di(iS),class:"size-7 text-gray2"},null,8,["onClick","icon"]),mn(Wr("input",{"onUpdate:modelValue":h[0]||(h[0]=e=>Ai(s)?s.value=e:null),placeholder:"Tìm kiếm bạn bè",class:"p-2 w-full text-base bg-white3 outline-none"},null,512),[[fa,Di(s)]]),Di(s)?($r(),Vr(Di(ex),{key:0,onClick:Di(n),icon:Di(DT),class:"size-7 text-gray2"},null,8,["onClick","icon"])):Jr("",!0)],32),Wr("div",null,[($r(!0),jr(Dr,null,vo(Di(i),((e,t)=>{var i,n,o,r;return $r(),jr("section",{key:t,class:"py-1"},[Wr("div",Nre,[($r(),jr("img",{src:null!==(i=null===(n=e.user)||void 0===n?void 0:n.avatar)&&void 0!==i?i:"/upload-user.png",key:null===(o=e.user)||void 0===o?void 0:o.avatar,placeholder:"/upload-user.png",onError:u,class:"size-16 rounded-full"},null,40,$re)),Wr("div",Fre,[Wr("div",Bre,Ze(null===(r=e.user)||void 0===r?void 0:r.full_name),1),Wr("div",zre,[Wr("div",{onClick:i=>{var n;return Di(c)(null===(n=e.user)||void 0===n?void 0:n._id,t)},class:"bg-blue1 flex-1 py-1.5 text-center text-base font-medium text-white rounded-lg"}," Xác nhận ",8,jre),Wr("div",{onClick:i=>Di(d)(e,t),class:"bg-white4 flex-1 text-center py-1.5 text-base font-medium text-black rounded-lg"}," Xoá ",8,Vre)])])])])})),128))]),Di(l)?($r(),Vr(Di(Zk),{key:0,onIonInfinite:Di(r)},{default:pn((()=>[Yr(Di(ew))])),_:1},8,["onIonInfinite"])):Jr("",!0)])),_:1})])),_:1}))}}),Hre={class:"py-2 rounded-lg flex gap-2.5 items-center [overflow-wrap:anywhere]"},qre=["src"],Gre={class:"w-full flex-1 flex flex-col gap-1"},Wre={class:"text-lg font-medium line-clamp-2"},Yre={class:"text-xs text-gray5"},Kre=["onClick"],Qre=jn({__name:"FriendMyRequestedScreen",setup(e){const t=e=>{e.target.src="/upload-user.png"},{back:i,friends:n,canLoadmore:o,refresh:r,onInfiniteLoad:s,onRemoveFriend:a,refSearch:l,onSearch:c,clearSearch:d}=(()=>{const e=EC(),{userInfo:t}=mC(e),i=Ti([]),n=Rw(),o=Ti(""),r=Ti(1),s=Ti(!1),a=async(e=1,n=!1,o)=>{var a;const{data:l}=await SC.get("/friend-ship/friend-requests/sent",{params:{senderId:null===(a=t.value)||void 0===a?void 0:a._id,search:o,page:e,limit:20}});var c,d,u;console.log(l),bC.isEmpty(l)?s.value=!1:(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(r.value++,s.value=!0):s.value=!1,i.value=n?[...i.value,...null!==(d=null==l?void 0:l.data)&&void 0!==d?d:[]]:null!==(u=null==l?void 0:l.data)&&void 0!==u?u:[])},l=async(e,t)=>{const{data:n}=await SC.delete("/friend-ship",{data:{receiverId:e}});bC.isEmpty(n)||(i.value.splice(t,1),lS("Đã huỷ gửi lời mời kết bạn","success"))};io((()=>{a()}));const c=()=>{a(1,!1,o.value),r.value=1,s.value=!1};return{back:()=>n.back(),refresh:async e=>{c(),setTimeout((()=>{e.target.complete()}),500)},friends:i,refSearch:o,onSearch:c,canLoadmore:s,onRemoveFriend:async(e,t)=>{var i,n;const o=await cx.create({mode:"ios",backdropDismiss:!1,header:`Huỷ gửi kết bạn đến ${null==e||null===(i=e.user)||void 0===i?void 0:i.full_name.split(" ")[0]}`,message:`Bạn có chắc chắn muốn huỷ gửi kết bạn đến ${null==e||null===(n=e.user)||void 0===n?void 0:n.full_name.split(" ")[0]} không?`,buttons:[{text:"Xác nhận",cssClass:"fcb",handler:()=>{var i;return l(null==e||null===(i=e.user)||void 0===i?void 0:i._id,t)}},{text:"Bỏ qua",role:"cancel",cssClass:"fcn"}]});await o.present()},onInfiniteLoad:e=>{a(r.value,!0),setTimeout((()=>e.target.complete()),500)},clearSearch:()=>{o.value="",a(1,!1,""),r.value=1,s.value=!1}}})();return(e,u)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Yr(Di(ex),{onClick:Di(i),slot:"start",icon:Di(CT),class:"size-6 pl-2 pr-1 z-50"},null,8,["onClick","icon"]),Yr(Di(xw),{class:"text-lg font-medium"},{default:pn((()=>u[2]||(u[2]=[Xr("Đã gửi kết bạn")]))),_:1})])),_:1})])),_:1}),Yr(Di(Kk),{color:"white",class:"ion-padding"},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:Di(r)},{default:pn((()=>[Yr(Di(dw))])),_:1},8,["onIonRefresh"]),Wr("form",{onSubmit:u[1]||(u[1]=Ta(((...e)=>Di(c)&&Di(c)(...e)),["prevent"])),class:"mb-1 items-center flex px-3 rounded-3xl bg-white3 overflow-hidden"},[Yr(Di(ex),{onClick:Di(c),icon:Di(iS),class:"size-7 text-gray2"},null,8,["onClick","icon"]),mn(Wr("input",{"onUpdate:modelValue":u[0]||(u[0]=e=>Ai(l)?l.value=e:null),placeholder:"Tìm kiếm bạn bè",class:"p-2 w-full text-base bg-white3 outline-none"},null,512),[[fa,Di(l)]]),Di(l)?($r(),Vr(Di(ex),{key:0,onClick:Di(d),icon:Di(DT),class:"size-7 text-gray2"},null,8,["onClick","icon"])):Jr("",!0)],32),Wr("div",null,[($r(!0),jr(Dr,null,vo(Di(n),((e,i)=>{var n,o,r,s;return $r(),jr("section",{key:i,class:"my-1"},[Wr("div",Hre,[($r(),jr("img",{src:null!==(n=null===(o=e.user)||void 0===o?void 0:o.avatar)&&void 0!==n?n:"/upload-user.png",key:null===(r=e.user)||void 0===r?void 0:r.avatar,placeholder:"/upload-user.png",onError:t,class:"size-16 rounded-full"},null,40,qre)),Wr("div",Gre,[Wr("div",Wre,Ze(null===(s=e.user)||void 0===s?void 0:s.full_name),1),Wr("div",Yre," Đã gửi từ ngày: "+Ze(Di(aT)(e.created_at).format("DD/MM/YYYY")),1)]),Wr("div",{onClick:t=>Di(a)(e,i),class:"text-sm bg-white4 py-1.5 px-5 rounded-lg font-medium"}," Hủy ",8,Kre)])])})),128))]),Di(o)?($r(),Vr(Di(Zk),{key:0,onIonInfinite:Di(s)},{default:pn((()=>[Yr(Di(ew))])),_:1},8,["onIonInfinite"])):Jr("",!0)])),_:1})])),_:1}))}}),Xre={class:"flex bg-white2 w-full px-3 gap-3 items-center rounded-xl mb-3"},Jre={class:"size-12 bg-white2 rounded-full items-center justify-center flex"},Zre={class:"size-12 bg-white2 rounded-full items-center justify-center flex"},ese=["onClick"],tse={class:"size-12 rounded-lg flex"},ise=["src"],nse=jn({__name:"MenuDrawer",setup(e){const t=oT(),i=Rw(),n=Ti(),o=Ti(""),r=EC(),{isLoggedIn:s}=mC(r),a=()=>{Ff.close("sidemenu"),i.push({name:"CreateCommunityScreen"},iT)},l=async(e="")=>{var t;const i={"filter[role]":rT.Admin,"filter[keyword]":e,page:1,limit:5},{data:o}=await SC.get("user-community/me",{params:i});n.value=null!==(t=null==o?void 0:o.data)&&void 0!==t?t:[]},c=()=>{Ff.close("sidemenu"),i.replace({name:"defaultBottomTab"})};to((()=>{l()})),br([s],(()=>{l()}));const d=()=>{l(o.value)},u=()=>{o.value="",l("")};return(e,r)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white"},{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",Xre,[Yr(Di(ex),{onClick:d,src:"/icSearch.svg",class:"size-6"}),Wr("form",{onSubmit:Ta(d,["prevent"])},[mn(Wr("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>o.value=e),type:"search","enter-key-hint":"Search",class:"w-full py-2 bg-white2 text-base outline-none",placeholder:"Tìm cộng đồng"},null,512),[[fa,o.value]])],32),Di(bC.isEmpty)(o.value)?Jr("",!0):($r(),Vr(Di(ex),{key:0,onClick:u,icon:Di(RT),class:"size-6 text-gray2"},null,8,["icon"]))])])),_:1})])),_:1}),Wr("div",{onClick:a,class:"items-center flex gap-2 text-lg font-medium"},[Wr("div",Jre,[Yr(Di(ex),{src:"/icons/icAddOutline.svg",class:"size-7 text-gray2"})]),r[1]||(r[1]=Xr(" Tạo cộng đồng "))]),Wr("div",{onClick:c,class:"items-center flex gap-2 text-lg font-medium my-3"},[Wr("div",Zre,[Yr(Di(ex),{src:"/icons/icDiscovery.svg",class:"size-7 text-gray2"})]),r[2]||(r[2]=Xr(" Khám phá cộng đồng "))]),($r(!0),jr(Dr,null,vo(n.value,((e,n)=>{var o,r,s;return $r(),jr("section",{key:n,onClick:n=>{return o=null==e?void 0:e.community,t.setCommunity(o),Ff.close("sidemenu"),void i.push({name:"CommunityScreen",params:{id:o.short_name||o._id}},iT);var o},class:"items-center flex gap-2 text-lg font-medium mb-3"},[Wr("div",tse,[Wr("img",{src:null!==(o=null==e||null===(r=e.community)||void 0===r?void 0:r.icon)&&void 0!==o?o:"/favicon.ico",class:"w-full rounded-lg object-cover shadow-st",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,ise)]),Xr(" "+Ze(null===(s=e.community)||void 0===s?void 0:s.name),1)],8,ese)})),128))])),_:1}))}}),ose=fS(nse,[["__scopeId","data-v-e05e842b"]]),rse=["ChatTab","ChatRoom"];var sse,ase=hx&&hx.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(f1){r(f1)}}function a(e){try{l(n.throw(e))}catch(f1){r(f1)}}function l(e){e.done?o(e.value):function(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function lse(){var e;console.log("Create CdvPurchase...");const t=null===(e=window.CdvPurchase)||void 0===e?void 0:e.store;window.CdvPurchase=sse,window.CdvPurchase.store=t||new sse.Store,Object.assign(window.CdvPurchase.store,sse.LogLevel,sse.ProductType,sse.ErrorCode,sse.Platform)}!function(e){var t;(t=e.ErrorCode||(e.ErrorCode={}))[t.SETUP=6777001]="SETUP",t[t.LOAD=6777002]="LOAD",t[t.PURCHASE=6777003]="PURCHASE",t[t.LOAD_RECEIPTS=6777004]="LOAD_RECEIPTS",t[t.CLIENT_INVALID=6777005]="CLIENT_INVALID",t[t.PAYMENT_CANCELLED=6777006]="PAYMENT_CANCELLED",t[t.PAYMENT_INVALID=6777007]="PAYMENT_INVALID",t[t.PAYMENT_NOT_ALLOWED=6777008]="PAYMENT_NOT_ALLOWED",t[t.UNKNOWN=6777010]="UNKNOWN",t[t.REFRESH_RECEIPTS=6777011]="REFRESH_RECEIPTS",t[t.INVALID_PRODUCT_ID=6777012]="INVALID_PRODUCT_ID",t[t.FINISH=6777013]="FINISH",t[t.COMMUNICATION=6777014]="COMMUNICATION",t[t.SUBSCRIPTIONS_NOT_AVAILABLE=6777015]="SUBSCRIPTIONS_NOT_AVAILABLE",t[t.MISSING_TOKEN=6777016]="MISSING_TOKEN",t[t.VERIFICATION_FAILED=6777017]="VERIFICATION_FAILED",t[t.BAD_RESPONSE=6777018]="BAD_RESPONSE",t[t.REFRESH=6777019]="REFRESH",t[t.PAYMENT_EXPIRED=6777020]="PAYMENT_EXPIRED",t[t.DOWNLOAD=6777021]="DOWNLOAD",t[t.SUBSCRIPTION_UPDATE_NOT_AVAILABLE=6777022]="SUBSCRIPTION_UPDATE_NOT_AVAILABLE",t[t.PRODUCT_NOT_AVAILABLE=6777023]="PRODUCT_NOT_AVAILABLE",t[t.CLOUD_SERVICE_PERMISSION_DENIED=6777024]="CLOUD_SERVICE_PERMISSION_DENIED",t[t.CLOUD_SERVICE_NETWORK_CONNECTION_FAILED=6777025]="CLOUD_SERVICE_NETWORK_CONNECTION_FAILED",t[t.CLOUD_SERVICE_REVOKED=6777026]="CLOUD_SERVICE_REVOKED",t[t.PRIVACY_ACKNOWLEDGEMENT_REQUIRED=6777027]="PRIVACY_ACKNOWLEDGEMENT_REQUIRED",t[t.UNAUTHORIZED_REQUEST_DATA=6777028]="UNAUTHORIZED_REQUEST_DATA",t[t.INVALID_OFFER_IDENTIFIER=6777029]="INVALID_OFFER_IDENTIFIER",t[t.INVALID_OFFER_PRICE=6777030]="INVALID_OFFER_PRICE",t[t.INVALID_SIGNATURE=6777031]="INVALID_SIGNATURE",t[t.MISSING_OFFER_PARAMS=6777032]="MISSING_OFFER_PARAMS",t[t.VALIDATOR_SUBSCRIPTION_EXPIRED=6778003]="VALIDATOR_SUBSCRIPTION_EXPIRED",e.storeError=function(e,t,i,n){return{isError:!0,code:e,message:t,platform:i,productId:n}}}(sse||(sse={})),function(e){e.Iaptic=class{constructor(t,i){this.config=t,t.url||(t.url="https://validator.iaptic.com"),this.store=null!=i?i:e.store,this.log=this.store.log.child("Iaptic")}get braintreeClientTokenProvider(){return t=>{this.log.info("Calling Braintree clientTokenProvider"),e.Utils.ajax(this.log,{url:`${this.config.url}/v3/braintree/client-token?appName=${this.config.appName}&apiKey=${this.config.apiKey}`,method:"POST",data:{applicationUsername:e.store.getApplicationUsername(),customerId:e.Braintree.customerId},success:e=>{this.log.info("clientTokenProvider success: "+JSON.stringify(e)),t(e.clientToken)},error:i=>{this.log.info("clientTokenProvider error: "+JSON.stringify(i)),t(e.storeError(i,"ERROR "+i,e.Platform.BRAINTREE,null))}})}}get appStoreDiscountEligibilityDeterminer(){let t;this.log.debug("AppStore eligibility determiner is listening..."),this.store.when().verified((i=>{i.platform===e.Platform.APPLE_APPSTORE&&(this.log.debug("Got a verified AppStore receipt."),t=i)}),"appStoreDiscountEligibilityDeterminer_listening");const i=(i,o,r)=>{if(this.log.debug("AppStore eligibility determiner"),t)return this.log.debug("Using cached receipt"),r(n(t,o));const s=t=>{t.platform===e.Platform.APPLE_APPSTORE&&(this.log.debug("Receipt is verified, let's analyze the content and respond."),this.store.off(s),r(n(t,o)))};this.log.debug("Waiting for receipt"),this.store.when().verified(s,"appStoreDiscountEligibilityDeterminer_waiting")};return i.cacheReceipt=function(e){t=e},i;function n(e,t){const i=e.raw.ineligible_for_intro_price;return t.map((t=>{var n;if("Introductory"===t.discountType&&i&&i.find((e=>t.productId===e)))return!1;if("Subscription"===t.discountType){return!!(null===(n=e.raw.collection)||void 0===n?void 0:n.find((e=>e.id===t.productId)))}return!0}))}}get validator(){return`${this.config.url}/v1/validate?appName=${this.config.appName}&apiKey=${this.config.apiKey}`}}}(sse||(sse={})),function(e){let t;!function(e){e[e.QUIET=0]="QUIET",e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG"}(t=e.LogLevel||(e.LogLevel={}));class i{constructor(e,t=""){this.prefix="",this.store=e,this.prefix=t||"CdvPurchase"}child(e){return new i(this.store,this.prefix+"."+e)}error(e){o(this.store.verbosity,t.ERROR,this.prefix,e);try{throw new Error(function(e){"string"!=typeof e&&(e=JSON.stringify(e));return e}(e))}catch(f1){o(this.store.verbosity,t.ERROR,this.prefix,f1.stack)}}warn(e){o(this.store.verbosity,t.WARNING,this.prefix,e)}info(e){o(this.store.verbosity,t.INFO,this.prefix,e)}debug(e){o(this.store.verbosity,t.DEBUG,this.prefix,e)}logCallbackException(e,t){if(this.warn("A callback in '"+e+"' failed with an exception."),"string"==typeof t)this.warn("           "+t);else if(t){const e=t;e.fileName&&this.warn("           "+e.fileName+":"+e.lineNumber),t.message&&this.warn("           "+t.message),t.stack&&this.warn("           "+t.stack)}}}i.console=window.console,e.Logger=i;const n=["QUIET","ERROR","WARNING","INFO","DEBUG"];function o(e,o,r,s){if(o>(!0===e?1:e))return;"string"!=typeof s&&(s=JSON.stringify(s));const a=r?`[${r}] `:"",l=o===t.ERROR?e=>i.console.error(e):o===t.WARNING?e=>i.console.warn(e):e=>i.console.log(e);n[o]?l(`${a}${n[o]}: ${s}`):l(`${a}${s}`)}}(sse||(sse={})),function(e){(e.Utils||(e.Utils={})).nonEnumerable=(e,t,i)=>{if(i)return i.enumerable=!1,i;Object.defineProperty(e,t,{set(e){Object.defineProperty(this,t,{value:e,writable:!0,configurable:!0})},configurable:!0})}}(sse||(sse={})),function(e){e.Product=class{constructor(e,t){this.className="Product",this.title="",this.description="",this.platform=e.platform,this.type=e.type,this.id=e.id,this.group=e.group,this.offers=[],Object.defineProperty(this,"pricing",{enumerable:!1,get:()=>{var e;return null===(e=this.offers[0])||void 0===e?void 0:e.pricingPhases[0]}}),Object.defineProperty(this,"canPurchase",{enumerable:!1,get:()=>t.canPurchase(this)}),Object.defineProperty(this,"owned",{enumerable:!1,get:()=>t.owned(this)})}get pricing(){var e;return null===(e=this.offers[0])||void 0===e?void 0:e.pricingPhases[0]}get canPurchase(){return!1}get owned(){return!1}getOffer(e=""){return e?this.offers.find((t=>t.id===e)):this.offers[0]}addOffer(e){return this.getOffer(e.id)||this.offers.push(e),this}}}(sse||(sse={})),function(e){(e.Utils||(e.Utils={})).objectValues=function(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t}}(sse||(sse={})),function(e){(e.Utils||(e.Utils={})).platformName=function(t){switch(t){case e.Platform.APPLE_APPSTORE:return"App Store";case e.Platform.GOOGLE_PLAY:return"Google Play";case e.Platform.WINDOWS_STORE:return"Windows Store";case e.Platform.BRAINTREE:return"Braintree";case e.Platform.TEST:return"Test";default:return t}}}(sse||(sse={})),function(e){!function(t){class i{constructor(){this.array=[]}get length(){return this.array.length}get(){return this.array.concat()}add(e){this.has(e)||this.array.push(e)}clear(){for(;0!==this.array.length;)this.array.pop()}has(e){return!!this.array.find((t=>t===e))}}t.ReceiptsToValidate=i;t.Validator=class{constructor(e,t){this.receiptsToValidate=new i,this.verifiedReceipts=[],this.numRequests=0,this.numResponses=0,this.cache={},this.controller=e,this.log=t.child("Validator")}incrRequestsCounter(){this.numRequests=this.numRequests+1|0,this.log.debug(`Validation requests=${this.numRequests} responses=${this.numResponses}`)}incrResponsesCounter(){this.numResponses=this.numResponses+1|0,this.log.debug(`Validation requests=${this.numRequests} responses=${this.numResponses}`)}addVerifiedReceipt(t,i){for(const e of this.verifiedReceipts)if(e.platform===t.platform&&e.id===i.id)return this.log.debug("Updating existing receipt."),e.set(t,i),e;this.log.debug("Register a new verified receipt.");const n=new e.VerifiedReceipt(t,i,this.controller);return this.verifiedReceipts.push(n),n}add(t){this.log.debug("Schedule validation: "+JSON.stringify(t));const i=t instanceof e.Transaction?t.parentReceipt:t;this.receiptsToValidate.has(i)||(this.incrRequestsCounter(),this.receiptsToValidate.add(i))}run(){const t=this.receiptsToValidate.get();this.receiptsToValidate.clear();const i=t=>ase(this,void 0,void 0,(function*(){var i;const{receipt:n,payload:o}=t;this.incrResponsesCounter();try{const t=this.controller.adapters.find(n.platform);if(yield null==t?void 0:t.handleReceiptValidationResponse(n,o),o.ok){const e=this.addVerifiedReceipt(n,o.data);this.controller.verifiedCallbacks.trigger(e,"payload_ok")}else if(o.code===e.ErrorCode.VALIDATOR_SUBSCRIPTION_EXPIRED){const e=null===(i=n.lastTransaction())||void 0===i?void 0:i.transactionId,t=e?this.verifiedReceipts.find((t=>{var i;return(null===(i=t.collection[0])||void 0===i?void 0:i.transactionId)===e})):void 0;t?(null==t||t.collection.forEach((t=>{t.transactionId===e&&(t.isExpired=!0)})),this.controller.verifiedCallbacks.trigger(t,"payload_expired")):this.controller.unverifiedCallbacks.trigger({receipt:n,payload:o},"no_verified_receipt")}else this.controller.unverifiedCallbacks.trigger({receipt:n,payload:o},"validator_error")}catch(N0){this.log.error("Exception probably caused by an invalid response from the validator."+N0.message),this.controller.unverifiedCallbacks.trigger({receipt:n,payload:{ok:!1,code:e.ErrorCode.VERIFICATION_FAILED,message:N0.message}},"validator_exception")}}));t.forEach((e=>this.runOnReceipt(e,i)))}runOnReceipt(t,i){var n,o;return ase(this,void 0,void 0,(function*(){if(t.platform===e.Platform.TEST)return this.log.debug("Using Test Adapter mock verify function."),e.Test.Adapter.verify(t,i);if(!this.controller.validator)return this.incrResponsesCounter(),void i({receipt:t,payload:{ok:!0,data:{id:(null===(o=null===(n=t.transactions)||void 0===n?void 0:n[0])||void 0===o?void 0:o.transactionId)||"unknown",latest_receipt:!0,transaction:{type:"test"}}}});const r=yield this.buildRequestBody(t);if(!r)return void this.incrResponsesCounter();if("function"==typeof this.controller.validator)return this.runValidatorFunction(this.controller.validator,t,r,i);const s="string"==typeof this.controller.validator?{url:this.controller.validator,timeout:2e4}:this.controller.validator;return this.runValidatorRequest(s,t,r,i)}))}runValidatorFunction(e,t,i,n){try{e(i,(e=>n({receipt:t,payload:e})))}catch(o){this.log.warn("user provided validator function failed with error: "+(null==o?void 0:o.stack))}}buildRequestBody(t){var i,n,o;return ase(this,void 0,void 0,(function*(){const r=this.controller.adapters.find(t.platform),s=yield null==r?void 0:r.receiptValidationBody(t);if(s){if(s.additionalData=Object.assign(Object.assign({},null!==(i=s.additionalData)&&void 0!==i?i:{}),{applicationUsername:this.controller.getApplicationUsername()}),s.additionalData.applicationUsername||delete s.additionalData.applicationUsername,s.device=Object.assign(Object.assign({},null!==(n=s.device)&&void 0!==n?n:{}),e.Validator.Internal.getDeviceInfo(this.controller)),1===(null===(o=s.offers)||void 0===o?void 0:o.length)){const e=s.offers[0];if(1===e.pricingPhases.length){const t=e.pricingPhases[0];s.currency=t.currency,s.priceMicros=t.priceMicros}else if(2===e.pricingPhases.length){const t=e.pricingPhases[1];s.currency=t.currency,s.priceMicros=t.priceMicros;const i=e.pricingPhases[0];s.introPriceMicros=i.priceMicros}}return s}}))}removeExpiredCache(){const e=+new Date,t=[];for(const i in this.cache)this.cache[i].expires<e&&t.push(i);for(const i of t)delete this.cache[i]}runValidatorRequest(t,i,n,o){this.removeExpiredCache();const r=e.Utils.md5(JSON.stringify(n.transaction)),s=this.cache[r];if(s)return this.log.debug("validator cache hit, using cached response"),o({receipt:i,payload:s.payload});e.Utils.ajax(this.log.child("Ajax"),{url:t.url,method:"POST",customHeaders:t.headers,timeout:t.timeout,data:n,success:t=>{var n,s;if(this.log.debug("validator success, response: "+JSON.stringify(t)),!(s=t)||"object"!=typeof s||!("ok"in s)||"boolean"!=typeof s.ok)return o({receipt:i,payload:{ok:!1,code:e.ErrorCode.BAD_RESPONSE,message:"Validator responded with invalid data",data:{latest_receipt:null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.latest_receipt}}});this.cache[r]={payload:t,expires:+new Date+12e4},o({receipt:i,payload:t})},error:(t,n,r)=>{var s="Error "+t+": "+n;this.log.debug("validator failed, response: "+JSON.stringify(s)),this.log.debug("body => "+JSON.stringify(r)),o({receipt:i,payload:{ok:!1,message:s,code:e.ErrorCode.COMMUNICATION,status:t,data:{}}})}})}}}(e.Internal||(e.Internal={}))}(sse||(sse={})),function(e){(e.Internal||(e.Internal={})).Adapters=class{constructor(){this.list=[]}add(t,i,n){i.forEach((i=>{if(t.info(""),!this.find(i.platform))switch(i.platform){case e.Platform.APPLE_APPSTORE:return this.list.push(new e.AppleAppStore.Adapter(n,i.options||{}));case e.Platform.GOOGLE_PLAY:return this.list.push(new e.GooglePlay.Adapter(n));case e.Platform.BRAINTREE:return i.options||t.error("Options missing for Braintree initialization. Use {platform: Platform.BRAINTREE, options: {...}} in your call to store.initialize"),this.list.push(new e.Braintree.Adapter(n,i.options));case e.Platform.TEST:return this.list.push(new e.Test.Adapter(n));default:return}}))}initialize(t,i){return ase(this,void 0,void 0,(function*(){"string"==typeof t&&(t=[t]);const n=t.map((e=>"string"==typeof e?{platform:e}:e)).filter((e=>!this.find(e.platform))),o=i.log.child("Adapters");o.info("Adding platforms: "+JSON.stringify(n)),this.add(o,n,i);const r=i.registeredProducts.byPlatform(),s=yield Promise.all(n.map((t=>ase(this,void 0,void 0,(function*(){var n,s,a;const l=null!==(a=null===(s=null===(n=r.filter((e=>e.platform===t.platform)))||void 0===n?void 0:n[0])||void 0===s?void 0:s.products)&&void 0!==a?a:[],c=this.find(t.platform);if(!c)return;if(o.info(`${c.name} initializing...`),!c.isSupported)return void o.info(`${c.name} is not supported.`);const d=yield c.initialize();if(c.ready=!0,o.info(`${c.name} initialized. ${d?JSON.stringify(d):""}`),null==d?void 0:d.code)return d;if(o.info(`${c.name} products: ${JSON.stringify(l)}`),0===l.length)return;let u=[],h=[];c.supportsParallelLoading?[u,h]=yield Promise.all([c.loadProducts(l),c.loadReceipts()]):(u=yield c.loadProducts(l),h=yield c.loadReceipts()),o.info(`${c.name} products loaded: ${JSON.stringify(u)}`);const p=u.filter((t=>t instanceof e.Product));return i.listener.productsUpdated(t.platform,p),o.info(`${c.name} receipts loaded: ${JSON.stringify(h)}`),u.filter((e=>"code"in e&&"message"in e))[0]})))));return s.filter((e=>e))}))}find(e){return this.list.filter((t=>t.id===e))[0]}findReady(e){return this.list.filter((t=>(!e||t.id===e)&&t.ready))[0]}}}(sse||(sse={})),function(e){!function(t){class i{constructor(e,t){this.supportedPlatforms=[],this.platformWithReceiptsReady=[],this.lastTransactionState={},this.lastCallTimeForState={},this.updatedReceiptsToProcess=[],this.delegate=e,this.log=t.child("AdapterListener")}static makeTransactionToken(e){return e.platform+"|"+e.transactionId}setSupportedPlatforms(e){this.log.debug(`setSupportedPlatforms: ${e.join(",")} (${this.platformWithReceiptsReady.length} have their receipts ready)`),this.supportedPlatforms=e,this.supportedPlatforms.length===this.platformWithReceiptsReady.length&&(this.log.debug("triggering receiptsReady()"),this.delegate.receiptsReadyCallbacks.trigger(void 0,"adapterListener_setSupportedPlatforms"))}receiptsReady(e){this.supportedPlatforms.length>0&&this.platformWithReceiptsReady.length===this.supportedPlatforms.length?this.log.debug("receiptsReady: "+e+"(skipping)"):this.platformWithReceiptsReady.indexOf(e)<0&&(this.platformWithReceiptsReady.push(e),this.log.debug(`receiptsReady: ${e} (${this.platformWithReceiptsReady.length}/${this.supportedPlatforms.length})`),this.platformWithReceiptsReady.length===this.supportedPlatforms.length&&(this.log.debug("triggering receiptsReady()"),this.delegate.receiptsReadyCallbacks.trigger(void 0,"adapterListener_receiptsReady")))}productsUpdated(e,t){t.forEach((e=>this.delegate.updatedCallbacks.trigger(e,"adapterListener_productsUpdated")))}receiptsUpdated(e,t){this.log.debug("receiptsUpdated: "+JSON.stringify(t.map((e=>({platform:e.platform,transactions:e.transactions})))));for(const i of t)this.updatedReceiptsToProcess.indexOf(i)<0&&this.updatedReceiptsToProcess.push(i);void 0!==this.updatedReceiptsProcessor&&clearTimeout(this.updatedReceiptsProcessor),this.updatedReceiptsProcessor=setTimeout((()=>{this._processUpdatedReceipts()}),500)}_processUpdatedReceipts(){this.log.debug("processing "+this.updatedReceiptsToProcess.length+" updated receipts");const t=+new Date,n=this.updatedReceiptsToProcess;this.updatedReceiptsToProcess=[],n.forEach((n=>{this.delegate.updatedReceiptCallbacks.trigger(n,"adapterListener_receiptsUpdated"),n.transactions.forEach((n=>{var o;const r=i.makeTransactionToken(n),s=r+"@"+n.state,a=this.lastTransactionState[r];if(n.state===e.TransactionState.APPROVED){const e=null!==(o=this.lastCallTimeForState[s])&&void 0!==o?o:0;t-e>6e4?(this.lastCallTimeForState[s]=t,this.delegate.approvedCallbacks.trigger(n,"adapterListener_receiptsUpdated_approved")):this.log.debug(`Skipping ${s}, because it has been last called ${e>0?Math.round(t-e)+"ms ago ("+t+"-"+e+")":"never"}`)}else a!==n.state&&(n.state===e.TransactionState.INITIATED?(this.lastCallTimeForState[s]=t,this.delegate.initiatedCallbacks.trigger(n,"adapterListener_receiptsUpdated_initiated")):n.state===e.TransactionState.FINISHED?(this.lastCallTimeForState[s]=t,this.delegate.finishedCallbacks.trigger(n,"adapterListener_receiptsUpdated_finished")):n.state===e.TransactionState.PENDING&&(this.lastCallTimeForState[s]=t,this.delegate.pendingCallbacks.trigger(n,"adapterListener_receiptsUpdated_pending")));this.lastTransactionState[r]=n.state}))}))}}t.StoreAdapterListener=i}(e.Internal||(e.Internal={}))}(sse||(sse={})),function(e){(e.Internal||(e.Internal={})).Callbacks=class{constructor(e,t,i=!1){this.callbacks=[],this.numTriggers=0,this.logger=e,this.className=t,this.finalStateMode=i}push(e,t){if(this.finalStateMode&&this.numTriggers>0)e(this.lastTriggerArgument);else{for(const t of this.callbacks)if(t.callback===e)throw new Error("REGISTERING THE SAME CALLBACK TWICE? This is indicative of a bug in your integration.");this.callbacks.push({callback:e,callbackName:t})}}trigger(t,i){this.lastTriggerArgument=t,this.numTriggers++;const n=this.callbacks;this.finalStateMode&&(this.callbacks=[]),n.forEach((n=>{e.Utils.safeCall(this.logger,this.className,n.callback,t,n.callbackName,i)}))}remove(e){this.callbacks=this.callbacks.filter((t=>t.callback!==e))}}}(sse||(sse={})),function(e){(e.Internal||(e.Internal={})).ReadyCallbacks=class{constructor(e){this.isReady=!1,this.readyCallbacks=[],this.logger=e}add(e){if(this.isReady)return setTimeout(e,0);this.readyCallbacks.push(e)}trigger(t){this.isReady=!0,this.readyCallbacks.forEach((i=>e.Utils.safeCall(this.logger,"ready()",i,void 0,void 0,t))),this.readyCallbacks=[]}remove(e){this.readyCallbacks=this.readyCallbacks.filter((t=>t!==e))}}}(sse||(sse={})),function(e){!function(t){function i(e){return"object"==typeof e&&(e.hasOwnProperty("platform")&&e.hasOwnProperty("id")&&e.hasOwnProperty("type"))}t.RegisteredProducts=class{constructor(){this.list=[]}find(e,t){return this.list.find((i=>i.platform===e&&i.id===t))}add(t){const n=[],o=(Array.isArray(t)?t:[t]).filter((e=>!this.find(e.platform,e.id)));for(const r of o)i(r)?this.list.push(r):n.push(e.storeError(e.ErrorCode.LOAD,'Invalid parameter to "register", expected "id", "type" and "platform". Got: '+JSON.stringify(r),null,null));return n}byPlatform(){const e={};return this.list.forEach((t=>{e[t.platform]=(e[t.platform]||[]).concat(t)})),Object.keys(e).map((t=>({platform:t,products:e[t]})))}}}(e.Internal||(e.Internal={}))}(sse||(sse={})),function(e){(e.Internal||(e.Internal={})).TransactionStateMonitors=class{constructor(e){this.monitors=[],this.isListening=!1,this.when=e}findMonitors(e){return this.monitors.filter((t=>t.transaction.platform===e.platform&&t.transaction.transactionId===e.transactionId))}startListening(){this.isListening||(this.isListening=!0,this.when.approved((e=>this.callOnChange(e)),"transactionStateMonitors_callOnChange").finished((e=>this.callOnChange(e)),"transactionStateMonitors_callOnChange"))}callOnChange(e){this.findMonitors(e).forEach((t=>{t.lastChange!==e.state&&(t.lastChange=e.state,t.onChange(e.state))}))}start(t,i){this.startListening();const n=e.Utils.uuidv4();return this.monitors.push({monitorId:n,transaction:t,onChange:i,lastChange:t.state}),setTimeout(i,0,t.state),{transaction:t,stop:()=>this.stop(n)}}stop(e){this.monitors=this.monitors.filter((t=>t.monitorId!==e))}}}(sse||(sse={})),function(e){(e.Internal||(e.Internal={})).ReceiptsMonitor=class{constructor(e){this.hasCalledReceiptsVerified=!1,this.controller=e,this.log=e.log.child("ReceiptsMonitor")}callReceiptsVerified(){this.hasCalledReceiptsVerified||(this.hasCalledReceiptsVerified=!0,this.log.info("receiptsVerified()"),this.controller.when().receiptsReady((()=>{setTimeout((()=>{this.controller.receiptsVerified()}),0)}),"receiptsMonitor_callReceiptsVerified"))}launch(){const e=()=>{this.log.debug(`check(${this.controller.numValidationResponses()}/${this.controller.numValidationRequests()})`),this.controller.numValidationRequests()===this.controller.numValidationResponses()&&(void 0!==this.intervalChecker&&(clearInterval(this.intervalChecker),this.intervalChecker=void 0),this.controller.off(e),this.callReceiptsVerified())};this.controller.when().verified(e,"receiptsMonitor_check").unverified(e,"receiptsMonitor_check").receiptsReady((()=>{this.log.debug("receiptsReady..."),this.controller.hasLocalReceipts()&&this.controller.hasValidator()||setTimeout((()=>{e()}),0),this.intervalChecker=setInterval((()=>{this.log.debug("keep checking every 10s..."),e()}),1e4)}),"receiptsMonitor_setup")}}}(sse||(sse={})),function(e){!function(e){class t{constructor(e){this.activePurchases={},this.notifiedPurchases={},this.controller=e}launch(){this.interval=setInterval((()=>{var e,i;const n=+new Date;for(const o of this.controller.verifiedReceipts){const r=null!==(e=t.GRACE_PERIOD_MS[o.platform])&&void 0!==e?e:t.GRACE_PERIOD_MS.DEFAULT;for(const e of o.collection)if(e.expiryDate){const t=e.expiryDate+r,s=null!==(i=e.transactionId)&&void 0!==i?i:`${t}`;t>n&&(this.activePurchases[s]=!0),t<n&&this.activePurchases[s]&&!this.notifiedPurchases[s]&&(this.notifiedPurchases[s]=!0,this.controller.onVerifiedPurchaseExpired(e,o))}}}),t.INTERVAL_MS)}}t.INTERVAL_MS=1e4,t.GRACE_PERIOD_MS={DEFAULT:6e4,"ios-appstore":6e4,"android-playstore":3e4},e.ExpiryMonitor=t}(e.Internal||(e.Internal={}))}(sse||(sse={})),function(e){e.PLUGIN_VERSION="13.12.1";e.Store=class{constructor(){this.adapters=new e.Internal.Adapters,this.registeredProducts=new e.Internal.RegisteredProducts,this.log=new e.Logger(this),this.verbosity=e.LogLevel.ERROR,this._readyCallbacks=new e.Internal.ReadyCallbacks(this.log),this.updatedCallbacks=new e.Internal.Callbacks(this.log,"productUpdated()"),this.updatedReceiptsCallbacks=new e.Internal.Callbacks(this.log,"receiptUpdated()"),this.initiatedCallbacks=new e.Internal.Callbacks(this.log,"initiated()"),this.approvedCallbacks=new e.Internal.Callbacks(this.log,"approved()"),this.finishedCallbacks=new e.Internal.Callbacks(this.log,"finished()"),this.pendingCallbacks=new e.Internal.Callbacks(this.log,"pending()"),this.verifiedCallbacks=new e.Internal.Callbacks(this.log,"verified()"),this.unverifiedCallbacks=new e.Internal.Callbacks(this.log,"unverified()"),this.receiptsReadyCallbacks=new e.Internal.Callbacks(this.log,"receiptsReady()",!0),this.receiptsVerifiedCallbacks=new e.Internal.Callbacks(this.log,"receiptsVerified()",!0),this.errorCallbacks=new e.Internal.Callbacks(this.log,"error()"),this.initializedHasBeenCalled=!1,this.lastUpdate=0,this.minTimeBetweenUpdates=6e5,this.version=e.PLUGIN_VERSION;const t=this;this.listener=new e.Internal.StoreAdapterListener({updatedCallbacks:this.updatedCallbacks,updatedReceiptCallbacks:this.updatedReceiptsCallbacks,initiatedCallbacks:this.initiatedCallbacks,approvedCallbacks:this.approvedCallbacks,finishedCallbacks:this.finishedCallbacks,pendingCallbacks:this.pendingCallbacks,receiptsReadyCallbacks:this.receiptsReadyCallbacks},this.log),this.transactionStateMonitors=new e.Internal.TransactionStateMonitors(this.when()),this._validator=new e.Internal.Validator({adapters:this.adapters,getApplicationUsername:this.getApplicationUsername.bind(this),get localReceipts(){return t.localReceipts},get validator(){return t.validator},get validator_privacy_policy(){return t.validator_privacy_policy},verifiedCallbacks:this.verifiedCallbacks,unverifiedCallbacks:this.unverifiedCallbacks,finish:e=>this.finish(e)},this.log),new e.Internal.ReceiptsMonitor({hasLocalReceipts:()=>this.localReceipts.length>0,hasValidator:()=>!!this.validator,numValidationRequests:()=>this._validator.numRequests,numValidationResponses:()=>this._validator.numResponses,off:this.off.bind(this),when:this.when.bind(this),receiptsVerified:()=>{t.receiptsVerifiedCallbacks.trigger(void 0,"receipts_monitor_controller")},log:this.log}).launch(),this.expiryMonitor=new e.Internal.ExpiryMonitor({get verifiedReceipts(){return t.verifiedReceipts},onVerifiedPurchaseExpired(e,i){t.verify(i.sourceReceipt)}}),this.expiryMonitor.launch()}getAdapter(e){return this.adapters.find(e)}getApplicationUsername(){return this.applicationUsername instanceof Function?this.applicationUsername():this.applicationUsername}register(t){this.registeredProducts.add(t).forEach((t=>{e.store.errorCallbacks.trigger(t,"register_error"),this.log.error(t)}))}initialize(t=[this.defaultPlatform()]){return ase(this,void 0,void 0,(function*(){if(this.initializedHasBeenCalled)return this.log.warn("store.initialized() has been called already."),[];this.log.info("initialize("+JSON.stringify(t)+") v"+e.PLUGIN_VERSION),this.initializedHasBeenCalled=!0,this.lastUpdate=+new Date;const i=this,n=this.adapters.initialize(t,{error:this.triggerError.bind(this),get verbosity(){return i.verbosity},getApplicationUsername:()=>i.getApplicationUsername(),get listener(){return i.listener},get log(){return i.log},get registeredProducts(){return i.registeredProducts},apiDecorators:{canPurchase:this.canPurchase.bind(this),owned:this.owned.bind(this),finish:this.finish.bind(this),order:this.order.bind(this),verify:this.verify.bind(this)}});return n.then((()=>{this._readyCallbacks.trigger("initialize_promise_resolved"),this.listener.setSupportedPlatforms(this.adapters.list.filter((e=>e.isSupported)).map((e=>e.id)))})),n}))}refresh(){throw new Error("use store.initialize() or store.update()")}update(){var t;return ase(this,void 0,void 0,(function*(){if(this.log.info("update()"),!this._readyCallbacks.isReady)return void this.log.warn("Do not call store.update() at startup! It is meant to reload the price of products (if needed) long after initialization.");const i=+new Date;if(this.lastUpdate>i-this.minTimeBetweenUpdates)this.log.info("Skipping store.update() as the last call occurred less than store.minTimeBetweenUpdates millis ago.");else{this.lastUpdate=i;for(const i of this.registeredProducts.byPlatform()){const n=yield null===(t=this.adapters.findReady(i.platform))||void 0===t?void 0:t.loadProducts(i.products);null==n||n.forEach((t=>{t instanceof e.Product&&this.updatedCallbacks.trigger(t,"update_has_loaded_products")}))}}}))}ready(e){this._readyCallbacks.add(e)}get isReady(){return this._readyCallbacks.isReady}when(){const e={productUpdated:(t,i)=>(this.updatedCallbacks.push(t,i),e),receiptUpdated:(t,i)=>(this.updatedReceiptsCallbacks.push(t,i),e),updated:(t,i)=>(this.updatedCallbacks.push(t,i),this.updatedReceiptsCallbacks.push(t,i),e),approved:(t,i)=>(this.approvedCallbacks.push(t,i),e),initiated:(t,i)=>(this.initiatedCallbacks.push(t,i),e),pending:(t,i)=>(this.pendingCallbacks.push(t,i),e),finished:(t,i)=>(this.finishedCallbacks.push(t,i),e),verified:(t,i)=>(this.verifiedCallbacks.push(t,i),e),unverified:(t,i)=>(this.unverifiedCallbacks.push(t,i),e),receiptsReady:(t,i)=>(this.receiptsReadyCallbacks.push(t,i),e),receiptsVerified:(t,i)=>(this.receiptsVerifiedCallbacks.push(t,i),e)};return e}off(e){this.updatedCallbacks.remove(e),this.updatedReceiptsCallbacks.remove(e),this.approvedCallbacks.remove(e),this.finishedCallbacks.remove(e),this.pendingCallbacks.remove(e),this.verifiedCallbacks.remove(e),this.unverifiedCallbacks.remove(e),this.receiptsReadyCallbacks.remove(e),this.receiptsVerifiedCallbacks.remove(e),this.errorCallbacks.remove(e),this._readyCallbacks.remove(e)}monitor(t,i,n){return this.transactionStateMonitors.start(t,e.Utils.safeCallback(this.log,"monitor()",i,n,"transactionStateMonitors_stateChanged"))}get products(){return[].concat(...this.adapters.list.map((e=>e.products)))}get(e,t){var i;return null===(i=this.adapters.findReady(t))||void 0===i?void 0:i.products.find((t=>t.id===e))}get localReceipts(){return[].concat(...this.adapters.list.map((e=>e.receipts)))}get localTransactions(){const e=[];for(const t of this.localReceipts)e.push(...t.transactions);return e}get verifiedReceipts(){return this._validator.verifiedReceipts}get verifiedPurchases(){return e.Internal.VerifiedReceipts.getVerifiedPurchases(this.verifiedReceipts)}findInVerifiedReceipts(t){return e.Internal.VerifiedReceipts.find(this.verifiedReceipts,t)}findInLocalReceipts(t){return e.Internal.LocalReceipts.find(this.localReceipts,t)}canPurchase(t){const i=t instanceof e.Offer?this.get(t.productId,t.platform):t,n=this.adapters.findReady(t.platform);return!!(null==n?void 0:n.checkSupport("order"))&&e.Internal.LocalReceipts.canPurchase(this.localReceipts,i)}owned(t){return e.Internal.owned({product:"string"==typeof t?{id:t}:t,verifiedReceipts:this.validator?this.verifiedReceipts:void 0,localReceipts:this.localReceipts})}order(t,i){return ase(this,void 0,void 0,(function*(){this.log.info(`order(${t.productId})`);const n=this.adapters.findReady(t.platform);if(!n)return e.storeError(e.ErrorCode.PAYMENT_NOT_ALLOWED,"Adapter not found or not ready ("+t.platform+")",t.platform,null);const o=yield n.order(t,i||{});return o&&"isError"in o&&e.store.triggerError(o),o}))}requestPayment(t,i){var n,o,r,s,a;const l=this.adapters.findReady(t.platform);if(!l)return e.PaymentRequestPromise.failed(e.ErrorCode.PAYMENT_NOT_ALLOWED,"Adapter not found or not ready ("+t.platform+")",t.platform,null);if(!t.amountMicros){t.amountMicros=0;for(const e of t.items)t.amountMicros+=null!==(o=null===(n=null==e?void 0:e.pricing)||void 0===n?void 0:n.priceMicros)&&void 0!==o?o:0}if(t.currency)for(const d of t.items)if(null===(s=null==d?void 0:d.pricing)||void 0===s?void 0:s.currency){if(t.currency!==d.pricing.currency)return e.PaymentRequestPromise.failed(e.ErrorCode.PAYMENT_INVALID,"Currencies do not match",t.platform,d.id)}else(null==d?void 0:d.pricing)&&(d.pricing.currency=t.currency);else for(const e of t.items)(null===(r=null==e?void 0:e.pricing)||void 0===r?void 0:r.currency)&&(t.currency=e.pricing.currency);if(1===t.items.length){const e=t.items[0];e&&!e.pricing&&(e.pricing={priceMicros:null!==(a=t.amountMicros)&&void 0!==a?a:0,currency:t.currency})}const c=new e.PaymentRequestPromise;return l.requestPayment(t,i).then((t=>{if(c.trigger(t),t instanceof e.Transaction){const i=i=>{c.trigger(t),t.state===e.TransactionState.FINISHED&&n.stop()},n=this.monitor(t,i,"requestPayment_onStateChange")}})),c}checkSupport(e,t){const i=this.adapters.find(e);return!!i&&i.checkSupport(t)}verify(e){return ase(this,void 0,void 0,(function*(){this.log.info(`verify(${e.className})`),this._validator.add(e),setTimeout((()=>this._validator.run()),200)}))}finish(t){return ase(this,void 0,void 0,(function*(){this.log.info(`finish(${t.className})`);(t instanceof e.VerifiedReceipt?t.sourceReceipt.transactions:t instanceof e.Receipt?t.transactions:[t]).forEach((e=>{var t;null===(t=this.adapters.findReady(e.platform))||void 0===t||t.finish(e)}))}))}restorePurchases(){return ase(this,void 0,void 0,(function*(){let e;for(const t of this.adapters.list)t.ready&&(e=null!=e?e:yield t.restorePurchases());return e}))}manageSubscriptions(t){return ase(this,void 0,void 0,(function*(){this.log.info("manageSubscriptions()");const i=this.adapters.findReady(t);return i?i.manageSubscriptions():e.storeError(e.ErrorCode.SETUP,"Found no adapter ready to handle 'manageSubscription'",null!=t?t:null,null)}))}manageBilling(t){return ase(this,void 0,void 0,(function*(){this.log.info("manageBilling()");const i=this.adapters.findReady(t);return i?i.manageBilling():e.storeError(e.ErrorCode.SETUP,"Found no adapter ready to handle 'manageBilling'",null!=t?t:null,null)}))}defaultPlatform(){switch(e.Utils.platformId()){case"android":return e.Platform.GOOGLE_PLAY;case"ios":return e.Platform.APPLE_APPSTORE;default:return e.Platform.TEST}}error(e){this.errorCallbacks.push(e)}triggerError(e){this.errorCallbacks.trigger(e,"triggerError")}}}(sse||(sse={})),window.cordova?setTimeout(lse,0):lse(),function(e){var t,i,n,o,r,s,a,l;(t=e.ProductType||(e.ProductType={})).CONSUMABLE="consumable",t.NON_CONSUMABLE="non consumable",t.FREE_SUBSCRIPTION="free subscription",t.PAID_SUBSCRIPTION="paid subscription",t.NON_RENEWING_SUBSCRIPTION="non renewing subscription",t.APPLICATION="application",(i=e.RecurrenceMode||(e.RecurrenceMode={})).NON_RECURRING="NON_RECURRING",i.FINITE_RECURRING="FINITE_RECURRING",i.INFINITE_RECURRING="INFINITE_RECURRING",(n=e.PaymentMode||(e.PaymentMode={})).PAY_AS_YOU_GO="PayAsYouGo",n.UP_FRONT="UpFront",n.FREE_TRIAL="FreeTrial",(o=e.Platform||(e.Platform={})).APPLE_APPSTORE="ios-appstore",o.GOOGLE_PLAY="android-playstore",o.WINDOWS_STORE="windows-store-transaction",o.BRAINTREE="braintree",o.TEST="test",(r=e.TransactionState||(e.TransactionState={})).INITIATED="initiated",r.PENDING="pending",r.APPROVED="approved",r.CANCELLED="cancelled",r.FINISHED="finished",r.UNKNOWN_STATE="",(s=e.RenewalIntent||(e.RenewalIntent={})).LAPSE="Lapse",s.RENEW="Renew",(a=e.PriceConsentStatus||(e.PriceConsentStatus={})).NOTIFIED="Notified",a.AGREED="Agreed",(l=e.CancelationReason||(e.CancelationReason={})).NOT_CANCELED="",l.DEVELOPER="Developer",l.SYSTEM="System",l.SYSTEM_REPLACED="System.Replaced",l.SYSTEM_PRODUCT_UNAVAILABLE="System.ProductUnavailable",l.SYSTEM_BILLING_ERROR="System.BillingError",l.SYSTEM_DELETED="System.Deleted",l.CUSTOMER="Customer",l.CUSTOMER_TECHNICAL_ISSUES="Customer.TechnicalIssues",l.CUSTOMER_PRICE_INCREASE="Customer.PriceIncrease",l.CUSTOMER_COST="Customer.Cost",l.CUSTOMER_FOUND_BETTER_APP="Customer.FoundBetterApp",l.CUSTOMER_NOT_USEFUL_ENOUGH="Customer.NotUsefulEnough",l.CUSTOMER_OTHER_REASON="Customer.OtherReason",l.UNKNOWN="Unknown"}(sse||(sse={})),function(e){e.Offer=class{constructor(e,t){this.className="Offer",this.id=e.id,this.pricingPhases=e.pricingPhases,Object.defineProperty(this,"productId",{enumerable:!0,get:()=>e.product.id}),Object.defineProperty(this,"productType",{enumerable:!0,get:()=>e.product.type}),Object.defineProperty(this,"productGroup",{enumerable:!0,get:()=>e.product.group}),Object.defineProperty(this,"platform",{enumerable:!0,get:()=>e.product.platform}),Object.defineProperty(this,"order",{enumerable:!1,get:()=>e=>t.order(this,e)}),Object.defineProperty(this,"canPurchase",{enumerable:!1,get:()=>t.canPurchase(this)})}get productId(){return""}get productType(){return e.ProductType.APPLICATION}get productGroup(){}get platform(){return e.Platform.TEST}order(e){return ase(this,void 0,void 0,(function*(){}))}get canPurchase(){return!1}}}(sse||(sse={})),function(e){class t{constructor(){this.failedCallbacks=new e.Internal.PromiseLike,this.initiatedCallbacks=new e.Internal.PromiseLike,this.approvedCallbacks=new e.Internal.PromiseLike,this.finishedCallbacks=new e.Internal.PromiseLike,this.cancelledCallback=new e.Internal.PromiseLike}failed(e){return this.failedCallbacks.push(e),this}initiated(e){return this.initiatedCallbacks.push(e),this}approved(e){return this.approvedCallbacks.push(e),this}finished(e){return this.finishedCallbacks.push(e),this}cancelled(e){return this.cancelledCallback.push(e),this}trigger(t){if(t)if("isError"in t)this.failedCallbacks.resolve(t);else switch(t.state){case e.TransactionState.INITIATED:this.initiatedCallbacks.resolve(t);break;case e.TransactionState.APPROVED:this.approvedCallbacks.resolve(t);break;case e.TransactionState.FINISHED:this.finishedCallbacks.resolve(t)}else this.cancelledCallback.resolve();return this}static failed(i,n,o,r){return(new t).trigger(e.storeError(i,n,o,r))}static cancelled(){return(new t).trigger()}static initiated(e){return(new t).trigger(e)}}e.PaymentRequestPromise=t}(sse||(sse={})),function(e){e.Receipt=class{constructor(e,t){this.className="Receipt",this.transactions=[],this.platform=e,Object.defineProperty(this,"verify",{enumerable:!1,get(){return()=>t.verify(this)}}),Object.defineProperty(this,"finish",{enumerable:!1,get(){return()=>t.finish(this)}})}verify(){return ase(this,void 0,void 0,(function*(){}))}finish(){return ase(this,void 0,void 0,(function*(){}))}hasTransaction(e){return!!this.transactions.find((t=>t===e))}lastTransaction(){return this.transactions[this.transactions.length-1]}}}(sse||(sse={})),function(e){e.Transaction=class{constructor(t,i,n){this.className="Transaction",this.transactionId="",this.state=e.TransactionState.UNKNOWN_STATE,this.products=[],this.platform=t,Object.defineProperty(this,"finish",{enumerable:!1,get(){return()=>n.finish(this)}}),Object.defineProperty(this,"verify",{enumerable:!1,get(){return()=>n.verify(this)}}),Object.defineProperty(this,"parentReceipt",{enumerable:!1,get:()=>i})}finish(){return ase(this,void 0,void 0,(function*(){}))}verify(){return ase(this,void 0,void 0,(function*(){}))}get parentReceipt(){return{}}}}(sse||(sse={})),function(e){!function(e){class t{static find(e,t){var i,n;if(!t)return;let o;for(const r of e)if(!t.platform||r.platform===t.platform)for(const e of r.transactions)for(const r of e.products)r.id===t.id&&(!o||(null!==(i=e.purchaseDate)&&void 0!==i?i:0)<(null!==(n=o.purchaseDate)&&void 0!==n?n:1))&&(o=e);return o}static isOwned(e,i){if(!i)return!1;const n=t.find(e,i);return!!n&&(!n.isConsumed&&(!n.isPending&&(!n.expirationDate||n.expirationDate.getTime()>+new Date)))}static canPurchase(e,i){if(!i)return!1;const n=t.find(e,i);return!n||(!!n.isConsumed||(!n.expirationDate||n.expirationDate.getTime()<=+new Date))}}e.LocalReceipts=t}(e.Internal||(e.Internal={}))}(sse||(sse={})),function(e){var t;(t=e.Internal||(e.Internal={})).owned=function(e){return void 0!==e.verifiedReceipts?t.VerifiedReceipts.isOwned(e.verifiedReceipts,e.product):void 0!==e.localReceipts&&t.LocalReceipts.isOwned(e.localReceipts,e.product)}}(sse||(sse={})),function(e){(e.Internal||(e.Internal={})).PromiseLike=class{constructor(){this.resolved=!1,this.callbacks=[]}push(e){this.resolved?setTimeout(e,0,this.resolvedArgument):this.callbacks.push(e)}resolve(e){this.resolved||(this.resolved=!0,this.resolvedArgument=e,this.callbacks.forEach((t=>setTimeout(t,0,e))),this.callbacks=[])}}}(sse||(sse={})),function(e){(e.Internal||(e.Internal={})).Retry=class{constructor(e=5e3,t=12e4){this.maxTimeout=12e4,this.minTimeout=5e3,this.retryTimeout=5e3,this.retries=[],this.minTimeout=e,this.maxTimeout=t,this.retryTimeout=e,document.addEventListener("online",(()=>{const e=this.retries;this.retries=[],this.retryTimeout=this.minTimeout;for(var t=0;t<e.length;++t)clearTimeout(e[t].tid),e[t].fn.call(this)}),!1)}retry(e){var t=setTimeout((()=>{this.retries=this.retries.filter((function(e){return t!==e.tid})),e()}),this.retryTimeout);this.retries.push({tid:t,fn:e}),this.retryTimeout*=2,this.retryTimeout>this.maxTimeout&&(this.retryTimeout=this.maxTimeout)}}}(sse||(sse={})),function(e){!function(e){class t{static find(e,t){var i,n;if(!t)return;let o;for(const r of e)if(!t.platform||r.platform===t.platform)for(const e of r.collection)e.id===t.id&&(null!==(i=null==o?void 0:o.purchaseDate)&&void 0!==i?i:0)<(null!==(n=e.purchaseDate)&&void 0!==n?n:1)&&(o=e);return o}static isOwned(e,i){if(!i)return!1;const n=t.find(e,i);return!!n&&(!(null==n?void 0:n.isExpired)&&(!(null==n?void 0:n.expiryDate)||n.expiryDate>+new Date))}static getVerifiedPurchases(e){var t,i,n,o;const r={};for(const s of e)for(const e of s.collection){const a=s.platform+":"+e.id,l=r[a];(!l||l&&(null!==(i=null!==(t=l.lastRenewalDate)&&void 0!==t?t:l.purchaseDate)&&void 0!==i?i:0)<(null!==(o=null!==(n=e.lastRenewalDate)&&void 0!==n?n:e.purchaseDate)&&void 0!==o?o:0))&&(r[a]=Object.assign(Object.assign({},e),{platform:s.platform}))}return Object.keys(r).map((e=>r[e]))}}e.VerifiedReceipts=t}(e.Internal||(e.Internal={}))}(sse||(sse={})),function(e){var t,i,n,o;t=e.ApplePay||(e.ApplePay={}),(i=t.ContactField||(t.ContactField={})).Name="name",i.EmailAddress="emailAddress",i.PhoneNumber="phoneNumber",i.PostalAddress="postalAddress",i.PhoneticName="phoneticName",(n=t.PaymentNetwork||(t.PaymentNetwork={})).Amex="Amex",n.Barcode="Barcode",n.CartesBancaires="CartesBancaires",n.ChinaUnionPay="ChinaUnionPay",n.Dankort="Dankort",n.Discover="Discover",n.Eftpos="Eftpos",n.Electron="Electron",n.Elo="Elo",n.Girocard="Girocard",n.IDCredit="IDCredit",n.Interac="Interac",n.JCB="JCB",n.Mada="Mada",n.Maestro="Maestro",n.MasterCard="MasterCard",n.Mir="Mir",n.Nanaco="Nanaco",n.PrivateLabel="PrivateLabel",n.QuicPay="QuicPay",n.Suica="Suica",n.Visa="Visa",n.VPay="VPay",n.Waon="Waon",(o=t.MerchantCapability||(t.MerchantCapability={})).ThreeDS="3DS",o.EMV="EMV",o.Credit="Credit",o.Debit="Debit"}(sse||(sse={})),function(e){!function(t){function i(e){return`virtual.${e}`}function n(t,i,n){return e.storeError(t,i,e.Platform.APPLE_APPSTORE,n)}t.Adapter=class{constructor(i,n){var o,r;this.id=e.Platform.APPLE_APPSTORE,this.name="AppStore",this.ready=!1,this._canMakePayments=!1,this.forceReceiptReload=!1,this._products=[],this.validProducts={},this._paymentMonitor=()=>{},this.supportsParallelLoading=!0,this._appStoreReceiptLoading=!1,this._appStoreReceiptCallbacks=[],this.context=i,this.bridge=new t.Bridge.Bridge,this.log=i.log.child("AppleAppStore"),this.discountEligibilityDeterminer=n.discountEligibilityDeterminer,this.needAppReceipt=null===(o=n.needAppReceipt)||void 0===o||o,this.autoFinish=null!==(r=n.autoFinish)&&void 0!==r&&r,this.pseudoReceipt=new e.Receipt(e.Platform.APPLE_APPSTORE,this.context.apiDecorators),this.receiptsUpdated=e.Utils.createDebouncer((()=>{this._receiptsUpdated()}),300)}get products(){return this._products}getProduct(e){return this._products.find((t=>t.id===e))}get receipts(){return this.isSupported?(this._receipt?[this._receipt]:[]).concat(this.pseudoReceipt?this.pseudoReceipt:[]):[]}addValidProducts(e,t){t.forEach((t=>{const i=e.find((e=>e.id===t.id));i&&(this.validProducts[t.id]=Object.assign(Object.assign({},t),i))}))}get isSupported(){return"ios"===e.Utils.platformId()}upsertTransactionInProgress(n,o){const r=i(n);return new Promise((i=>{const s=this.pseudoReceipt.transactions.find((e=>e.transactionId===r));if(s)s.state=o,s.refresh(n),i(s);else{const s=new t.SKTransaction(e.Platform.APPLE_APPSTORE,this.pseudoReceipt,this.context.apiDecorators);s.state=o,s.transactionId=r,s.refresh(n),this.pseudoReceipt.transactions.push(s),i(s)}}))}removeTransactionInProgress(e){const t=i(e);this.pseudoReceipt.transactions=this.pseudoReceipt.transactions.filter((e=>e.transactionId!==t))}upsertTransaction(i,n,o){return ase(this,void 0,void 0,(function*(){return new Promise((r=>{this.initializeAppReceipt((()=>{var s;if(!this._receipt)return void this.log.warn("Failed to load the application receipt, cannot proceed with handling the purchase");const a=null===(s=this._receipt)||void 0===s?void 0:s.transactions.find((e=>e.transactionId===n));if(a)a.state=o,a.refresh(i),r(a);else{const s=new t.SKTransaction(e.Platform.APPLE_APPSTORE,this._receipt,this.context.apiDecorators);s.state=o,s.transactionId=n,s.refresh(i),this._receipt.transactions.push(s),r(s)}}))}))}))}removeTransaction(e){this._receipt&&(this._receipt.transactions=this._receipt.transactions.filter((t=>t.transactionId!==e)))}_receiptsUpdated(){this._receipt?(this.log.debug("receipt updated and ready."),this.context.listener.receiptsUpdated(e.Platform.APPLE_APPSTORE,[this._receipt,this.pseudoReceipt]),this.context.listener.receiptsReady(e.Platform.APPLE_APPSTORE)):(this.log.debug("receipt updated."),this.context.listener.receiptsUpdated(e.Platform.APPLE_APPSTORE,[this.pseudoReceipt]))}setPaymentMonitor(e){this._paymentMonitor=e}callPaymentMonitor(e,t,i){this._paymentMonitor(e)}initialize(){return new Promise((t=>{this.log.info("bridge.init");const i=this.log.child("Bridge");this.bridge.init({autoFinish:this.autoFinish,debug:this.context.verbosity===e.LogLevel.DEBUG,log:e=>i.debug(e),error:(t,i,o)=>{this.log.error("ERROR: "+t+" - "+i),t!==e.ErrorCode.PAYMENT_CANCELLED?this.context.error(n(t,i,(null==o?void 0:o.productId)||null)):this.callPaymentMonitor("cancelled",e.ErrorCode.PAYMENT_CANCELLED,i)},ready:()=>{this.log.info("ready")},purchased:(t,i,n,o,r)=>ase(this,void 0,void 0,(function*(){this.log.info("purchase: id:"+t+" product:"+i+" originalTransaction:"+n+" - date:"+o+" - discount:"+r);(yield this.upsertTransaction(i,t,e.TransactionState.APPROVED)).refresh(i,n,o,r),this.removeTransactionInProgress(i),this.receiptsUpdated.call(),this.callPaymentMonitor("purchased")})),purchaseEnqueued:(t,i)=>ase(this,void 0,void 0,(function*(){this.log.info("purchaseEnqueued: "+t+" - "+i),yield this.upsertTransactionInProgress(t,e.TransactionState.INITIATED),this.context.listener.receiptsUpdated(e.Platform.APPLE_APPSTORE,[this.pseudoReceipt])})),purchaseFailed:(t,i,n)=>{this.log.info("purchaseFailed: "+t+" - "+i+" - "+n),this.removeTransactionInProgress(t),this.context.listener.receiptsUpdated(e.Platform.APPLE_APPSTORE,[this.pseudoReceipt]),this.callPaymentMonitor("failed",i,n)},purchasing:t=>ase(this,void 0,void 0,(function*(){this.log.info("purchasing: "+t),yield this.upsertTransactionInProgress(t,e.TransactionState.INITIATED),this.context.listener.receiptsUpdated(e.Platform.APPLE_APPSTORE,[this.pseudoReceipt])})),deferred:t=>ase(this,void 0,void 0,(function*(){this.log.info("deferred: "+t),yield this.upsertTransactionInProgress(t,e.TransactionState.PENDING),this.context.listener.receiptsUpdated(e.Platform.APPLE_APPSTORE,[this.pseudoReceipt]),this.callPaymentMonitor("deferred")})),finished:(t,i)=>ase(this,void 0,void 0,(function*(){yield this.receiptsUpdated.wait(),this.log.info("finish: "+t+" - "+i),this.removeTransactionInProgress(i),yield this.upsertTransaction(i,t,e.TransactionState.FINISHED),this.receiptsUpdated.call()})),restored:(t,i)=>ase(this,void 0,void 0,(function*(){this.log.info("restore: "+t+" - "+i),yield this.upsertTransaction(i,t,e.TransactionState.APPROVED),this.receiptsUpdated.call()})),receiptsRefreshed:e=>{this.log.info("receiptsRefreshed"),this._receipt&&this._receipt.refresh(e,this.needAppReceipt,this.context.apiDecorators)},restoreFailed:e=>{this.log.info("restoreFailed: "+e),this.onRestoreCompleted&&(this.onRestoreCompleted(n(e,"Restore purchases failed",null)),this.onRestoreCompleted=void 0)},restoreCompleted:()=>{this.log.info("restoreCompleted"),this.onRestoreCompleted&&(this.onRestoreCompleted(void 0),this.onRestoreCompleted=void 0)}},(()=>ase(this,void 0,void 0,(function*(){this.log.info("bridge.init done"),yield this.canMakePayments(),t(void 0)}))),((e,i)=>{this.log.info("bridge.init failed: "+e+" - "+i),t(n(e,i,null))}))}))}loadReceipts(){return new Promise((e=>{setTimeout((()=>{this.initializeAppReceipt((()=>{this.receiptsUpdated.call(),this._receipt?e([this._receipt,this.pseudoReceipt]):e([this.pseudoReceipt])}))}),300)}))}canMakePayments(){return ase(this,void 0,void 0,(function*(){return new Promise((e=>{this.bridge.canMakePayments((()=>{this._canMakePayments=!0,e(!0)}),(t=>{this.log.warn(`canMakePayments: ${t}`),this._canMakePayments=!1,e(!1)}))}))}))}initializeAppReceipt(i){return ase(this,void 0,void 0,(function*(){if(this._receipt)return this.log.debug("initializeAppReceipt() => already initialized."),i(void 0);if(this._appStoreReceiptCallbacks.push(i),this._appStoreReceiptLoading)return void this.log.debug("initializeAppReceipt() => already loading.");this._appStoreReceiptLoading=!0;const o=yield this.loadAppStoreReceipt(),r=e=>{const t=this._appStoreReceiptCallbacks;this._appStoreReceiptCallbacks=[],t.forEach((t=>{t(e)}))};if(!(null==o?void 0:o.appStoreReceipt))return this.log.warn("no appStoreReceipt"),this._appStoreReceiptLoading=!1,void r(n(e.ErrorCode.REFRESH,"No appStoreReceipt",null));this._receipt=new t.SKApplicationReceipt(o,this.needAppReceipt,this.context.apiDecorators),r(void 0)}))}prepareReceipt(e){(null==e?void 0:e.appStoreReceipt)&&(this._receipt?this._receipt.refresh(e,this.needAppReceipt,this.context.apiDecorators):this._receipt=new t.SKApplicationReceipt(e,this.needAppReceipt,this.context.apiDecorators))}loadAppStoreReceipt(){return ase(this,void 0,void 0,(function*(){let t=!1;return new Promise((e=>{var i;if((null===(i=this.bridge.appStoreReceipt)||void 0===i?void 0:i.appStoreReceipt)&&!this.forceReceiptReload)return this.log.debug("using cached appstore receipt"),e(this.bridge.appStoreReceipt);this.log.debug("loading appstore receipt..."),this.forceReceiptReload=!1,this.bridge.loadReceipts((i=>{this.log.debug("appstore receipt loaded"),t||e(i),t=!0}),((i,n)=>{this.log.warn("Failed to load appStoreReceipt: "+i+" - "+n),t||e(void 0),t=!0})),setTimeout((function(){t||e(void 0),t=!0}),5e3)})).then((t=>(this.context.listener.receiptsReady(e.Platform.APPLE_APPSTORE),t))).catch((t=>(this.context.listener.receiptsReady(e.Platform.APPLE_APPSTORE),t)))}))}loadEligibility(e){return ase(this,void 0,void 0,(function*(){if(this.log.debug("load eligibility: "+JSON.stringify(e)),!this.discountEligibilityDeterminer)return this.log.debug("No discount eligibility determiner, skipping..."),new t.Internal.DiscountEligibilities([],[]);const i=[];if(e.forEach((e=>{var t,n,o;null===(t=e.discounts)||void 0===t||t.forEach((t=>{i.push({productId:e.id,discountId:t.id,discountType:t.type})})),0===(null!==(o=null===(n=e.discounts)||void 0===n?void 0:n.length)&&void 0!==o?o:0)&&e.introPrice&&i.push({productId:e.id,discountId:"intro",discountType:"Introductory"})})),i.length>0){const e=yield this.loadAppStoreReceipt();if(e&&e.appStoreReceipt){this.log.debug("calling discount eligibility determiner.");const n=yield this.callDiscountEligibilityDeterminer(e,i);return this.log.debug("response: "+JSON.stringify(n)),new t.Internal.DiscountEligibilities(i,n)}return this.log.debug("no receipt, assuming introductory price are available."),new t.Internal.DiscountEligibilities(i,i.map((e=>"Introductory"===e.discountType)))}return new t.Internal.DiscountEligibilities([],[])}))}callDiscountEligibilityDeterminer(e,t){return new Promise((i=>{if(!this.discountEligibilityDeterminer)return i([]);this.discountEligibilityDeterminer(e,t,i)}))}loadProducts(i){return new Promise((o=>{this.log.info("bridge.load"),this.bridge.load(i.map((e=>e.id)),((r,s)=>ase(this,void 0,void 0,(function*(){this.log.info("bridge.loaded: "+JSON.stringify({validProducts:r,invalidProducts:s})),this.addValidProducts(i,r);const a=yield this.loadEligibility(r);this.log.info("eligibilities ready: "+JSON.stringify(a));const l=i.map((i=>{if(s.indexOf(i.id)>=0)return this.log.debug(`${i.id} is invalid`),n(e.ErrorCode.INVALID_PRODUCT_ID,"Product not found in AppStore. #400",i.id);{const o=r.find((e=>e.id===i.id));if(this.log.debug(`${i.id} is valid: ${JSON.stringify(o)}`),!o)return n(e.ErrorCode.INVALID_PRODUCT_ID,"Product not found in AppStore. #404",i.id);let s=this.getProduct(i.id);return s?(this.log.debug("refreshing existing product"),null==s||s.refresh(o,this.context.apiDecorators,a)):(this.log.debug("registering new product"),s=new t.SKProduct(o,i,this.context.apiDecorators,a),this._products.push(s)),s}}));this.log.debug(`Products loaded: ${JSON.stringify(l)}`),o(l)}))),((e,t)=>i.map((i=>n(e,t,null)))))}))}order(i,o){return ase(this,void 0,void 0,(function*(){let r=!1;return new Promise((s=>{var a;const l=e=>{r||(this.setPaymentMonitor((()=>{})),r=!0,s(e))};this.log.info("order");const c=i.id!==t.DEFAULT_OFFER_ID?i.id:void 0,d=null===(a=null==o?void 0:o.appStore)||void 0===a?void 0:a.discount;if(c&&!d)return l(n(e.ErrorCode.MISSING_OFFER_PARAMS,"Missing additionalData.appStore.discount when ordering a discount offer",i.productId));if(c&&(null==d?void 0:d.id)!==c)return l(n(e.ErrorCode.INVALID_OFFER_IDENTIFIER,"Offer identifier does not match additionalData.appStore.discount.id",i.productId));this.setPaymentMonitor(((t,o,s)=>{if(this.log.info("order.paymentMonitor => "+t+" "+(null!=o?o:"")+" "+(null!=s?s:"")),!r)switch(t){case"cancelled":l(n(null!=o?o:e.ErrorCode.PAYMENT_CANCELLED,null!=s?s:"The user cancelled the order.",i.productId));break;case"failed":setTimeout((()=>{l(n(null!=o?o:e.ErrorCode.PURCHASE,null!=s?s:"Purchase failed",i.productId))}),500);break;case"purchased":case"deferred":l(void 0)}}));this.forceReceiptReload=!0,this.bridge.purchase(i.productId,1,this.context.getApplicationUsername(),d,(()=>{this.log.info("order.success")}),(()=>{this.log.info("order.error"),l(n(e.ErrorCode.PURCHASE,"Failed to place order",i.productId))}))}))}))}finish(o){return new Promise((r=>{if(this.log.info("finish("+o.transactionId+")"),o.transactionId===t.APPLICATION_VIRTUAL_TRANSACTION_ID||o.transactionId===i(o.products[0].id))return o.state=e.TransactionState.FINISHED,this.context.listener.receiptsUpdated(e.Platform.APPLE_APPSTORE,[o.parentReceipt]),r(void 0);const s=()=>{o.state=e.TransactionState.FINISHED,this.context.listener.receiptsUpdated(e.Platform.APPLE_APPSTORE,[o.parentReceipt]),r(void 0)};this.bridge.finish(o.transactionId,s,(t=>{var i,a;(null==t?void 0:t.includes("[#CdvPurchase:100]"))?s():r(n(e.ErrorCode.FINISH,"Failed to finish transaction",null!==(a=null===(i=o.products[0])||void 0===i?void 0:i.id)&&void 0!==a?a:null))}))}))}refreshReceipt(){return new Promise((e=>{this.bridge.refreshReceipts((t=>{e(t)}),((t,i)=>{e(n(t,i,null))}))}))}receiptValidationBody(i){return ase(this,void 0,void 0,(function*(){if(i.platform!==e.Platform.APPLE_APPSTORE)return;if(i!==this._receipt)return;const n=i;let o=n.nativeData;if(this.forceReceiptReload){const e=yield this.loadAppStoreReceipt();this.forceReceiptReload=!1,e&&(o=e,this.prepareReceipt(e))}if(!n.nativeData.appStoreReceipt){this.log.info("Cannot prepare the receipt validation body, because appStoreReceipt is missing. Refreshing...");const e=yield this.refreshReceipt();if(!e||"isError"in e)return this.log.warn("Failed to refresh receipt, cannot run receipt validation."),void(e&&this.log.error(e));this.log.info("Receipt refreshed."),o=e}const r=n.transactions.slice(-1)[0];return{id:o.bundleIdentifier,type:e.ProductType.APPLICATION,products:e.Utils.objectValues(this.validProducts).map((e=>new t.SKProduct(e,e,this.context.apiDecorators,{isEligible:()=>!0}))),transaction:{type:"ios-appstore",id:null==r?void 0:r.transactionId,appStoreReceipt:o.appStoreReceipt}}}))}handleReceiptValidationResponse(i,n){var o,r;return ase(this,void 0,void 0,(function*(){let s=!1;if(n.ok){const e=null===(o=n.data)||void 0===o?void 0:o.transaction;"ios-appstore"===(null==e?void 0:e.type)&&"original_application_version"in e&&(null===(r=this._receipt)||void 0===r||r.transactions.forEach((i=>{i.transactionId===t.APPLICATION_VIRTUAL_TRANSACTION_ID&&e.original_purchase_date_ms&&(i.purchaseDate=new Date(parseInt(e.original_purchase_date_ms)),s=!0)})))}s&&this.context.listener.receiptsUpdated(e.Platform.APPLE_APPSTORE,[i])}))}requestPayment(t,i){return ase(this,void 0,void 0,(function*(){return n(e.ErrorCode.UNKNOWN,"requestPayment not supported",null)}))}manageSubscriptions(){return ase(this,void 0,void 0,(function*(){this.bridge.manageSubscriptions()}))}manageBilling(){return ase(this,void 0,void 0,(function*(){this.bridge.manageBilling()}))}checkSupport(e){if("order"===e)return this._canMakePayments;return["order","manageBilling","manageSubscriptions"].indexOf(e)>=0}restorePurchases(){return new Promise((e=>{this.onRestoreCompleted=t=>{this.onRestoreCompleted=void 0,this.bridge.refreshReceipts((i=>{e(t)}),((i,o)=>{e(t||n(i,o,null))}))},this.forceReceiptReload=!0,this.bridge.restore()}))}presentCodeRedemptionSheet(){return new Promise((e=>{this.bridge.presentCodeRedemptionSheet(e)}))}}}(e.AppleAppStore||(e.AppleAppStore={}))}(sse||(sse={})),function(e){var t;(function(t){const i=e=>{};let n=i;function o(e,t,i,n){window.cordova.exec(i,n,"InAppPurchase",e,t)}function r(e,t,...i){if(e)try{e.apply(this,i)}catch(N0){n("exception in "+t+': "'+N0+'"')}}t.Bridge=class{constructor(){this.transactionsForProduct={},this.initialized=!1,this.registeredProducts=[],this.needRestoreNotification=!1,this.pendingUpdates=[],this.onPurchased=!1,this.onFailed=!1,this.onRestored=!1,window.storekit=this,this.options={error:i,ready:i,purchased:i,purchaseEnqueued:i,purchasing:i,purchaseFailed:i,deferred:i,finished:i,restored:i,receiptsRefreshed:i,restoreFailed:i,restoreCompleted:i}}init(t,s,a){this.options={error:t.error||i,ready:t.ready||i,purchased:t.purchased||i,purchaseEnqueued:t.purchaseEnqueued||i,purchasing:t.purchasing||i,purchaseFailed:t.purchaseFailed||i,deferred:t.deferred||i,finished:t.finished||i,restored:t.restored||i,receiptsRefreshed:t.receiptsRefreshed||i,restoreFailed:t.restoreFailed||i,restoreCompleted:t.restoreCompleted||i},t.debug&&(o("debug",[],i,i),n=t.log||function(e){console.log("[CdvPurchase.AppAppStore.Bridge] "+e)}),t.autoFinish&&o("autoFinish",[],i,i),o("setup",[],(()=>{n("setup ok"),r(this.options.ready,"options.ready"),r(s,"init.success"),this.initialized=!0,setTimeout((()=>this.processPendingTransactions()),50)}),(t=>{n("setup failed"),r(a,"init.error",e.ErrorCode.SETUP,"Setup failed: "+t)}))}processPendingTransactions(){n("processing pending transactions"),o("processPendingTransactions",[],(()=>{this.finalizeTransactionUpdates()}),void 0)}purchase(t,i,s,a,l,c){i=0|i||1;const d=this.options;if(this.registeredProducts.indexOf(t)<0)return n("Purchasing "+t+" failed.  Ensure the product was loaded first with Bridge.load(...)!"),void("function"==typeof d.error&&r(d.error,"options.error",e.ErrorCode.PURCHASE,"Trying to purchase a unknown product.",{productId:t,quantity:i}));o("purchase",[t,i,s,a||{}],(()=>{n("Purchase enqueued "+t),"function"==typeof d.purchaseEnqueued&&r(d.purchaseEnqueued,"options.purchaseEnqueued",t,i),r(l,"purchase.success")}),(()=>{const o="Purchase failed: "+t;n(o),"function"==typeof d.error&&r(d.error,"options.error",e.ErrorCode.PURCHASE,o,{productId:t,quantity:i}),r(c,"purchase.error")}))}canMakePayments(e,t){return o("canMakePayments",[],e,t)}restore(e){this.needRestoreNotification=!0,o("restoreCompletedTransactions",[],e,e)}manageSubscriptions(e){o("manageSubscriptions",[],e,e)}manageBilling(e){o("manageBilling",[],e,e)}presentCodeRedemptionSheet(e){o("presentCodeRedemptionSheet",[],e,e)}load(t,i,s){const a=this.options;if("string"==typeof t&&(t=[t]),t)if(t.length){if("string"!=typeof t[0]){const i="invalid productIds given to store.load: "+JSON.stringify(t);return n(i),r(a.error,"options.error",e.ErrorCode.LOAD,i),void r(s,"load.error",e.ErrorCode.LOAD,i)}n("load "+JSON.stringify(t));const l=e=>{const t=e[0],o=e[1];n("load ok: { valid:"+JSON.stringify(t)+" invalid:"+JSON.stringify(o)+" }"),r(i,"load.success",t,o)},c=t=>{n("load failed"),n(t);const i="Load failed: "+t;r(a.error,"options.error",e.ErrorCode.LOAD,i),r(s,"load.error",e.ErrorCode.LOAD,i)};this.registeredProducts=this.registeredProducts.concat(t),o("load",[t],l,c)}else r(i,"load.success",[],[]);else r(i,"load.success",[],[])}finish(e,t,i){o("finishTransaction",[e],t,i)}finalizeTransactionUpdates(){for(let e=0;e<this.pendingUpdates.length;++e){const t=this.pendingUpdates[e];this.transactionUpdated(t.state,t.errorCode,t.errorText,t.transactionIdentifier,t.productId,t.transactionReceipt,t.originalTransactionIdentifier,t.transactionDate,t.discountId)}this.pendingUpdates=[]}lastTransactionUpdated(){}transactionUpdated(t,i,o,s,a,l,c,d,u){if(this.initialized)switch(n("transaction updated:"+s+" state:"+t+" product:"+a),a&&s&&(this.transactionsForProduct[a]?this.transactionsForProduct[a].push(s):this.transactionsForProduct[a]=[s]),t){case"PaymentTransactionStatePurchasing":return void r(this.options.purchasing,"options.purchasing",a);case"PaymentTransactionStatePurchased":return void r(this.options.purchased,"options.purchase",s,a,c,d,u);case"PaymentTransactionStateDeferred":return void r(this.options.deferred,"options.deferred",a);case"PaymentTransactionStateFailed":return r(this.options.purchaseFailed,"options.purchaseFailed",a,i||e.ErrorCode.UNKNOWN,o||"ERROR"),void r(this.options.error,"options.error",i||e.ErrorCode.UNKNOWN,o||"ERROR",{productId:a});case"PaymentTransactionStateRestored":return void r(this.options.restored,"options.restore",s,a);case"PaymentTransactionStateFinished":return void r(this.options.finished,"options.finish",s,a)}else this.pendingUpdates.push({state:t,errorCode:i,errorText:o,transactionIdentifier:s,productId:a,transactionReceipt:l,originalTransactionIdentifier:c,transactionDate:d,discountId:u})}restoreCompletedTransactionsFinished(){this.needRestoreNotification&&(this.needRestoreNotification=!1,r(this.options.restoreCompleted,"options.restoreCompleted"))}restoreCompletedTransactionsFailed(e){this.needRestoreNotification&&(this.needRestoreNotification=!1,r(this.options.restoreFailed,"options.restoreFailed",e))}parseReceiptArgs(e){const t=e[0],i=e[1],o=e[2],r=e[3],s=e[4];return n("infoPlist: "+i+","+o+","+r+","+s),{appStoreReceipt:t,bundleIdentifier:i,bundleShortVersion:o,bundleNumericVersion:r,bundleSignature:s}}refreshReceipts(t,i){this.appStoreReceipt=null,n("refreshing appStoreReceipt"),o("appStoreRefreshReceipt",[],(e=>{const i=this.parseReceiptArgs(e);this.appStoreReceipt=i,r(this.options.receiptsRefreshed,"options.receiptsRefreshed",i),r(t,"refreshReceipts.success",i)}),(t=>{n("refresh receipt failed: "+t),t.includes("(@AMSErrorDomain:100)")&&n('authentication failed, indicated by the string "(@AMSErrorDomain:100)"'),r(this.options.error,"options.error",e.ErrorCode.REFRESH_RECEIPTS,"Failed to refresh receipt: "+t),r(i,"refreshReceipts.error",e.ErrorCode.REFRESH_RECEIPTS,"Failed to refresh receipt: "+t)}))}loadReceipts(e,t){n("loading appStoreReceipt"),o("appStoreReceipt",[],(t=>{const i=this.parseReceiptArgs(t);this.appStoreReceipt=i,r(e,"loadReceipts.callback",i)}),(e=>{}))}}})((t=e.AppleAppStore||(e.AppleAppStore={})).Bridge||(t.Bridge={}))}(sse||(sse={})),function(e){var t;((t=e.AppleAppStore||(e.AppleAppStore={})).Internal||(t.Internal={})).DiscountEligibilities=class{constructor(e,t){this.request=e,this.response=t}isEligible(e,t,i){var n;for(let o=0;o<this.request.length;++o){const r=this.request[o];if(r.productId===e&&r.discountId===i&&r.discountType===t)return null!==(n=this.response[o])&&void 0!==n&&n}return!0}}}(sse||(sse={})),function(e){!function(t){t.DEFAULT_OFFER_ID="$";class i extends e.Offer{constructor(e,t){super(e,t),this.offerType=e.offerType}}t.SKOffer=i;class n extends e.Product{constructor(e,t,i,n){super(t,i),this.raw=e,this.refresh(e,i,n)}removeIneligibleDiscounts(e){this.offers=this.offers.filter((t=>{const i=t;return"Default"===i.offerType||e.isEligible(this.id,i.offerType,t.id)}))}refresh(n,o,r){var s;this.raw=n,this.title=n.title,this.description=n.description,this.countryCode=n.countryCode,n.group&&(this.group=n.group),this.removeIneligibleDiscounts(r);const a={price:n.price,priceMicros:n.priceMicros,currency:n.currency,billingPeriod:l(n.billingPeriod,n.billingPeriodUnit),paymentMode:this.type===e.ProductType.PAID_SUBSCRIPTION?e.PaymentMode.PAY_AS_YOU_GO:e.PaymentMode.UP_FRONT,recurrenceMode:this.type===e.ProductType.PAID_SUBSCRIPTION?e.RecurrenceMode.INFINITE_RECURRING:e.RecurrenceMode.NON_RECURRING};if(null===(s=n.discounts)||void 0===s||s.forEach((t=>{if(r.isEligible(n.id,t.type,t.id)){const r=[],s=t.paymentMode===e.PaymentMode.PAY_AS_YOU_GO?t.period:1,c=t.paymentMode===e.PaymentMode.PAY_AS_YOU_GO?1:t.period,d={price:t.price,priceMicros:t.priceMicros,currency:n.currency,billingPeriod:l(c,t.periodUnit),billingCycles:s,paymentMode:t.paymentMode,recurrenceMode:e.RecurrenceMode.FINITE_RECURRING};r.push(d),r.push(a),this.addOffer(new i({id:t.id,product:this,pricingPhases:r,offerType:t.type},o))}})),!(this.offers.filter((e=>{const t=e;return"Introductory"===t.offerType||"Default"===t.offerType&&t.pricingPhases.length>1})).length>0)){const s=[];if(n.introPrice&&void 0!==n.introPriceMicros&&r.isEligible(n.id,"Introductory","intro")){const t={price:n.introPrice,priceMicros:n.introPriceMicros,currency:n.currency,billingPeriod:l(n.introPricePeriod,n.introPricePeriodUnit),paymentMode:n.introPricePaymentMode,recurrenceMode:e.RecurrenceMode.FINITE_RECURRING,billingCycles:1};s.push(t)}s.push(a),this.addOffer(new i({id:t.DEFAULT_OFFER_ID,product:this,pricingPhases:s,offerType:"Default"},o))}function l(e,t){return e&&t?`P${e}${t[0]}`:void 0}}}t.SKProduct=n}(e.AppleAppStore||(e.AppleAppStore={}))}(sse||(sse={})),function(e){!function(t){t.APPLICATION_VIRTUAL_TRANSACTION_ID="appstore.application";class i extends e.Receipt{constructor(t,i,n){super(e.Platform.APPLE_APPSTORE,n),this.nativeData=t,this.refresh(this.nativeData,i,n)}refresh(i,n,o){if(this.nativeData=i,n){const n=this.transactions.find((e=>e.transactionId===t.APPLICATION_VIRTUAL_TRANSACTION_ID));if(n)return;const r=new e.Transaction(e.Platform.APPLE_APPSTORE,this,o);r.transactionId=t.APPLICATION_VIRTUAL_TRANSACTION_ID,r.state=e.TransactionState.APPROVED,r.products.push({id:i.bundleIdentifier}),this.transactions.push(r)}}}t.SKApplicationReceipt=i;class n extends e.Transaction{refresh(e,t,i,n){e&&(this.products=[{id:e,offerId:n}]),t&&(this.originalTransactionId=t),i&&(this.purchaseDate=new Date(+i))}}t.SKTransaction=n}(e.AppleAppStore||(e.AppleAppStore={}))}(sse||(sse={})),function(e){var t,i,n;t=e.AppleAppStore||(e.AppleAppStore={}),i=t.VerifyReceipt||(t.VerifyReceipt={}),(n=i.AppleExpirationIntent||(i.AppleExpirationIntent={})).CANCELED="1",n.BILLING_ERROR="2",n.PRICE_INCREASE="3",n.PRODUCT_NOT_AVAILABLE="4",n.UNKNOWN="5"}(sse||(sse={})),function(e){!function(t){class i extends e.Receipt{constructor(t,i,n){var o,r,s;super(e.Platform.BRAINTREE,n);const a=new e.Transaction(e.Platform.BRAINTREE,this,n);a.purchaseDate=new Date,a.products=(null===(o=t.items)||void 0===o?void 0:o.filter((e=>e)).map((e=>({id:(null==e?void 0:e.id)||""}))))||[],a.state=e.TransactionState.APPROVED,a.transactionId=null!==(s=null===(r=i.paymentMethodNonce)||void 0===r?void 0:r.nonce)&&void 0!==s?s:`UNKNOWN_${i.paymentMethodType}_${i.paymentDescription}`,this.transactions=[a],this.dropInResult=i,this.paymentRequest=t,this.refresh(t,i,n)}refresh(t,i,n){var o,r;this.dropInResult=i,this.paymentRequest=t;const s=new e.Transaction(e.Platform.BRAINTREE,this,n);s.products=t.items.filter((e=>e)).map((e=>({id:(null==e?void 0:e.id)||""}))),s.state=e.TransactionState.APPROVED,s.transactionId=null!==(r=null===(o=i.paymentMethodNonce)||void 0===o?void 0:o.nonce)&&void 0!==r?r:`UNKNOWN_${i.paymentMethodType}_${i.paymentDescription}`,s.amountMicros=t.amountMicros,s.currency=t.currency,this.transactions=[s]}}t.BraintreeReceipt=i;t.Adapter=class{constructor(t,i){this.id=e.Platform.BRAINTREE,this.name="BrainTree",this.ready=!1,this.products=[],this._receipts=[],this.supportsParallelLoading=!1,this.context=t,this.log=t.log.child("Braintree"),this.options=i}get receipts(){return this._receipts}get isSupported(){return t.IosBridge.Bridge.isSupported()||t.AndroidBridge.Bridge.isSupported()}initialize(){return new Promise((i=>{if(this.log.info("initialize()"),t.IosBridge.Bridge.isSupported())this.log.info("instantiating ios bridge..."),this.iosBridge=new t.IosBridge.Bridge(this.log,(t=>{this.options.tokenizationKey?t(this.options.tokenizationKey):this.options.clientTokenProvider?this.options.clientTokenProvider(t):t(r(e.ErrorCode.CLIENT_INVALID,"Braintree iOS Bridge requires a clientTokenProvider or tokenizationKey"))}),this.options.applePay),this.iosBridge.initialize(this.context,i);else if(t.AndroidBridge.Bridge.isSupported()&&!this.androidBridge){this.log.info("instantiating android bridge..."),this.androidBridge=new t.AndroidBridge.Bridge(this.log),this.log.info("calling android bridge -> initialize...");const e=this.options.tokenizationKey?this.options.tokenizationKey:this.options.clientTokenProvider?this.options.clientTokenProvider:"";this.androidBridge.initialize(e,i)}else this.log.info("platform not supported..."),i(void 0);this.context.listener.receiptsReady(e.Platform.BRAINTREE)}))}loadProducts(t){return ase(this,void 0,void 0,(function*(){return t.map((t=>r(e.ErrorCode.PRODUCT_NOT_AVAILABLE,"N/A")))}))}loadReceipts(){return ase(this,void 0,void 0,(function*(){return this.context.listener.receiptsReady(e.Platform.BRAINTREE),[]}))}order(t){return ase(this,void 0,void 0,(function*(){return r(e.ErrorCode.UNKNOWN,"N/A: Not implemented with Braintree")}))}finish(t){return ase(this,void 0,void 0,(function*(){t.state=e.TransactionState.FINISHED,this.context.listener.receiptsUpdated(e.Platform.TEST,[t.parentReceipt])}))}manageSubscriptions(){return ase(this,void 0,void 0,(function*(){this.log.info("N/A: manageSubscriptions() is not available with Braintree")}))}manageBilling(){return ase(this,void 0,void 0,(function*(){this.log.info("N/A: manageBilling() is not available with Braintree")}))}launchDropIn(t,i){return ase(this,void 0,void 0,(function*(){return this.androidBridge?this.androidBridge.launchDropIn(i):this.iosBridge?this.iosBridge.launchDropIn(t,i):r(e.ErrorCode.PURCHASE,"Braintree is not available")}))}requestPayment(s,a){var l,c,d,u,h,p,m,f,g;return ase(this,void 0,void 0,(function*(){this.log.info("requestPayment()"+JSON.stringify(s));const b=(null===(l=null==a?void 0:a.braintree)||void 0===l?void 0:l.dropInRequest)||{};if((yield t.IosBridge.ApplePayPlugin.isSupported(this.log))||(this.log.info("Apple Pay is not supported."),b.applePayDisabled=!0),this.options.googlePay||b.googlePayRequest){const e=Object.assign(Object.assign({},null!==(c=this.options.googlePay)&&void 0!==c?c:{}),null!==(d=b.googlePayRequest)&&void 0!==d?d:{});e.transactionInfo||(e.transactionInfo={currencyCode:null!==(u=s.currency)&&void 0!==u?u:"",totalPrice:(null!==(h=s.amountMicros)&&void 0!==h?h:0)/1e6,totalPriceStatus:t.GooglePay.TotalPriceStatus.FINAL}),b.googlePayRequest=e}if(this.options.threeDSecure||b.threeDSecureRequest){const e=Object.assign(Object.assign({},null!==(p=this.options.threeDSecure)&&void 0!==p?p:{}),null!==(m=b.threeDSecureRequest)&&void 0!==m?m:{});e.amount||(e.amount=function(e){const t=""+e/1e4;return(t.slice(0,-2)||"0")+"."+(t.slice(-2,-1)||"0")+(t.slice(-1)||"0")}(null!==(f=s.amountMicros)&&void 0!==f?f:0)),!e.billingAddress&&s.billingAddress&&(e.billingAddress={givenName:s.billingAddress.givenName,surname:s.billingAddress.surname,countryCodeAlpha2:s.billingAddress.countryCode,postalCode:s.billingAddress.postalCode,locality:s.billingAddress.locality,streetAddress:s.billingAddress.streetAddress1,extendedAddress:s.billingAddress.streetAddress2,line3:s.billingAddress.streetAddress3,phoneNumber:s.billingAddress.phoneNumber,region:s.billingAddress.region}),e.email||(e.email=s.email),b.threeDSecureRequest=e}const v=yield this.launchDropIn(s,b);if(!n(v))return o(this.log,v);const y=v;if(this.log.info("launchDropIn success: "+JSON.stringify({paymentRequest:s,dropInResult:y})),!(null===(g=y.paymentMethodNonce)||void 0===g?void 0:g.nonce))return r(e.ErrorCode.BAD_RESPONSE,"launchDropIn returned no paymentMethodNonce");let k=this._receipts.find((e=>{var t,i;return(null===(t=e.dropInResult.paymentMethodNonce)||void 0===t?void 0:t.nonce)===(null===(i=y.paymentMethodNonce)||void 0===i?void 0:i.nonce)}));return k?k.refresh(s,y,this.context.apiDecorators):(k=new i(s,y,this.context.apiDecorators),this.receipts.push(k)),this.context.listener.receiptsUpdated(e.Platform.BRAINTREE,[k]),k.transactions[0]}))}receiptValidationBody(t){var i,n,o,r,s;return ase(this,void 0,void 0,(function*(){if(function(t){return t.platform===e.Platform.BRAINTREE}(t))return this.log.info("create receiptValidationBody for: "+JSON.stringify(t)),{id:null!==(o=null===(n=null===(i=t.paymentRequest.items)||void 0===i?void 0:i[0])||void 0===n?void 0:n.id)&&void 0!==o?o:"unknown",type:e.ProductType.CONSUMABLE,priceMicros:t.paymentRequest.amountMicros,currency:t.paymentRequest.currency,products:[],transaction:{type:e.Platform.BRAINTREE,deviceData:t.dropInResult.deviceData,id:"nonce",paymentMethodNonce:null!==(s=null===(r=t.dropInResult.paymentMethodNonce)||void 0===r?void 0:r.nonce)&&void 0!==s?s:"",paymentDescription:t.dropInResult.paymentDescription,paymentMethodType:t.dropInResult.paymentMethodType}};this.log.error("Unexpected error, expecting a BraintreeReceipt: "+JSON.stringify(t))}))}handleReceiptValidationResponse(e,i){var n;return ase(this,void 0,void 0,(function*(){if(this.log.info("receipt validation response: "+JSON.stringify(i)),(null==i?void 0:i.data)&&"transaction"in i.data&&"braintree"===i.data.transaction.type){const e=null===(n=i.data.transaction.data.transaction)||void 0===n?void 0:n.customer.id;e&&!t.customerId&&(this.log.info("customerId updated: "+e),t.customerId=e)}}))}checkSupport(e){return"requestPayment"===e}restorePurchases(){return ase(this,void 0,void 0,(function*(){}))}};const n=e=>!(!e||"code"in e&&"message"in e),o=(t,i)=>i?i.code===e.ErrorCode.PAYMENT_CANCELLED?void t.info("User cancelled the payment request"):(t.warn("launchDropIn failed: "+JSON.stringify(i)),i):(t.warn("launchDropIn failed: no response"),r(e.ErrorCode.BAD_RESPONSE,"Braintree failed to launch drop in"));function r(t,i){return e.storeError(t,i,e.Platform.BRAINTREE,null)}t.braintreeError=r}(e.Braintree||(e.Braintree={}))}(sse||(sse={})),function(e){!function(t){const i="BraintreePlugin";(t.AndroidBridge||(t.AndroidBridge={})).Bridge=class{constructor(e){this.log=e.child("AndroidBridge")}listener(e){this.log.debug("listener: "+JSON.stringify(e)),e&&e.type&&("getClientToken"===e.type?this.getClientToken():e.type)}initialize(n,o){try{if("string"==typeof n){const e=n;this.clientTokenProvider=t=>{t(e)}}else this.clientTokenProvider=n;this.log.info("exec.setListener()");const e=this.listener.bind(this);window.cordova.exec(e,null,i,"setListener",[]),o(void 0)}catch(N0){this.log.warn("initialization failed: "+(null==N0?void 0:N0.message)),o(t.braintreeError(e.ErrorCode.SETUP,"Failed to initialize Braintree Android Bridge: "+(null==N0?void 0:N0.message)))}}getClientToken(){this.log.info("getClientToken()"),this.clientTokenProvider?(this.log.debug("clientTokenProvider set, calling."),this.clientTokenProvider((e=>{"string"==typeof e?window.cordova.exec(null,null,i,"onClientTokenSuccess",[e]):window.cordova.exec(null,null,i,"onClientTokenFailure",[e.code,e.message])}))):(this.log.debug("clientTokenProvider not set, retrying later..."),setTimeout((()=>this.getClientToken()),1e3))}static isSupported(){return"android"===e.Utils.platformId()}isApplePaySupported(){return ase(this,void 0,void 0,(function*(){return!1}))}launchDropIn(n){return new Promise((o=>{window.cordova.exec((e=>{this.log.info("dropInSuccess: "+JSON.stringify(e)),o(e)}),(i=>{this.log.info("dropInFailure: "+i);const n=i.split("|")[0],r=i.split("|").slice(1).join("");o("UserCanceledException"===n?t.braintreeError(e.ErrorCode.PAYMENT_CANCELLED,r):"AuthorizationException"===n?t.braintreeError(e.ErrorCode.UNAUTHORIZED_REQUEST_DATA,r):t.braintreeError(e.ErrorCode.UNKNOWN,i))}),i,"launchDropIn",[n])}))}}}(e.Braintree||(e.Braintree={}))}(sse||(sse={})),function(e){var t;(function(i){const n="BraintreeApplePayPlugin";class o{static get(){return window.CdvPurchaseBraintreeApplePay}static requestPayment(i){return new Promise((r=>{var s;if(!(null===(s=o.get())||void 0===s?void 0:s.installed))return r(t.braintreeError(e.ErrorCode.SETUP,"cordova-plugin-purchase-braintree-applepay does not appear to be installed."));{const o=e=>{r(e)},s=i=>{const n=null!=i?i:"payment request failed";r(t.braintreeError(e.ErrorCode.PURCHASE,"Braintree+ApplePay ERROR: "+n))};window.cordova.exec(o,s,n,"presentDropInPaymentUI",[i])}}))}static isSupported(t){return new Promise((i=>{var r;if("ios"!==e.Utils.platformId())return t.info("BraintreeApplePayPlugin is only available for ios."),i(!1);if(!(null===(r=o.get())||void 0===r?void 0:r.installed))return t.info("BraintreeApplePayPlugin does not appear to be installed."),i(!1);try{window.cordova.exec((e=>{i(e)}),(()=>{t.info("BraintreeApplePayPlugin is not available."),i(!1)}),n,"isApplePaySupported",[])}catch(N0){t.info("BraintreeApplePayPlugin is not installed."),i(!1)}}))}}i.ApplePayPlugin=o})((t=e.Braintree||(e.Braintree={})).IosBridge||(t.IosBridge={}))}(sse||(sse={})),function(e){var t,i;t=e.Braintree||(e.Braintree={}),(i=t.IosBridge||(t.IosBridge={})).Bridge=class{constructor(e,t,i){this.log=e.child("IosBridge"),this.clientTokenProvider=t,this.applePayOptions=i}initialize(e,t){window.cordova.exec(null,null,"BraintreePlugin","setVerbosity",[e.verbosity]),window.cordova.exec((e=>this.log.debug("(Native) "+e)),null,"BraintreePlugin","setLogger",[]),setTimeout((()=>t(void 0)),0)}continueDropInForApplePay(n,o,r){var s,a,l,c,d,u,h,p,m;return ase(this,void 0,void 0,(function*(){const o=(null===(a=null===(s=this.applePayOptions)||void 0===s?void 0:s.preparePaymentRequest)||void 0===a?void 0:a.call(s,n))||{merchantCapabilities:[e.ApplePay.MerchantCapability.ThreeDS]};if(!o.paymentSummaryItems){const e=n.items.filter((e=>e)).map(((e,t)=>{var i,o,r;return{type:"final",label:(null==e?void 0:e.title)||(null==e?void 0:e.id)||`Item #${t+1}`,amount:""+Math.round((null!==(r=null!==(o=null===(i=null==e?void 0:e.pricing)||void 0===i?void 0:i.priceMicros)&&void 0!==o?o:n.amountMicros)&&void 0!==r?r:0)/1e4)/100}})),t={type:"final",label:null!==(c=null===(l=this.applePayOptions)||void 0===l?void 0:l.companyName)&&void 0!==c?c:"Total",amount:""+Math.round((null!==(d=n.amountMicros)&&void 0!==d?d:0)/1e4)/100};o.paymentSummaryItems=[...e,t]}const f=yield i.ApplePayPlugin.requestPayment(o);return this.log.info("Result from Apple Pay: "+JSON.stringify(f)),"isError"in f?f:f.userCancelled?t.braintreeError(e.ErrorCode.PAYMENT_CANCELLED,"User cancelled the payment request"):{paymentMethodNonce:{isDefault:!1,nonce:null!==(h=null===(u=f.applePayCardNonce)||void 0===u?void 0:u.nonce)&&void 0!==h?h:"",type:null!==(m=null===(p=f.applePayCardNonce)||void 0===p?void 0:p.type)&&void 0!==m?m:""},paymentMethodType:r.paymentMethodType,deviceData:r.deviceData,paymentDescription:r.paymentDescription}}))}launchDropIn(i,n){return new Promise((o=>ase(this,void 0,void 0,(function*(){const r=e=>{this.log.info("dropInSuccess: "+JSON.stringify(e)),e.paymentMethodType===t.DropIn.PaymentMethod.APPLE_PAY?(this.log.info("it's an ApplePay request, we have to process it."),this.continueDropInForApplePay(i,n,e).then(o)):o(e)},s=i=>{this.log.info("dropInFailure: "+i);const[n,r]=i.split("|");o("UserCanceledException"===n?t.braintreeError(e.ErrorCode.PAYMENT_CANCELLED,r):t.braintreeError(e.ErrorCode.UNKNOWN,"ERROR "+n+": "+r))};this.clientTokenProvider((e=>{"string"==typeof e?window.cordova.exec(r,s,"BraintreePlugin","launchDropIn",[e,n]):o(e)}))}))))}braintreePlugin(){return window.CdvPurchaseBraintree}static isSupported(){return"ios"===e.Utils.platformId()}}}(sse||(sse={})),function(e){var t,i,n;t=e.Braintree||(e.Braintree={}),i=t.DropIn||(t.DropIn={}),(n=i.CardFormFieldStatus||(i.CardFormFieldStatus={}))[n.DISABLED=0]="DISABLED",n[n.OPTIONAL=1]="OPTIONAL",n[n.REQUIRED=2]="REQUIRED"}(sse||(sse={})),function(e){var t,i,n;t=e.Braintree||(e.Braintree={}),i=t.DropIn||(t.DropIn={}),(n=i.PaymentMethod||(i.PaymentMethod={})).GOOGLE_PAY="GOOGLE_PAY",n.LASER="LASER",n.UK_MAESTRO="UK_MAESTRO",n.SWITCH="SWITCH",n.SOLOR="SOLO",n.APPLE_PAY="APPLE_PAY",n.AMEX="AMEX",n.DINERS_CLUB="DINERS_CLUB",n.DISCOVER="DISCOVER",n.JCB="JCB",n.MAESTRO="MAESTRO",n.MASTERCARD="MASTERCARD",n.PAYPAL="PAYPAL",n.VISA="VISA",n.VENMO="VENMO",n.UNIONPAY="UNIONPAY",n.HIPER="HIPER",n.HIPERCARD="HIPERCARD",n.UNKNOWN="UNKNOWN"}(sse||(sse={})),function(e){var t,i,n,o;t=e.Braintree||(e.Braintree={}),i=t.GooglePay||(t.GooglePay={}),(n=i.BillingAddressFormat||(i.BillingAddressFormat={}))[n.MIN=0]="MIN",n[n.FULL=1]="FULL",(o=i.TotalPriceStatus||(i.TotalPriceStatus={}))[o.NOT_CURRENTLY_KNOWN=1]="NOT_CURRENTLY_KNOWN",o[o.ESTIMATED=2]="ESTIMATED",o[o.FINAL=3]="FINAL"}(sse||(sse={})),function(e){var t,i,n,o,r;t=e.Braintree||(e.Braintree={}),i=t.ThreeDSecure||(t.ThreeDSecure={}),(n=i.AccountType||(i.AccountType={})).UNSPECIFIED="00",n.CREDIT="01",n.DEBIT="02",(o=i.ShippingMethod||(i.ShippingMethod={}))[o.UNSPECIFIED=0]="UNSPECIFIED",o[o.SAME_DAY=1]="SAME_DAY",o[o.EXPEDITED=2]="EXPEDITED",o[o.PRIORITY=3]="PRIORITY",o[o.GROUND=4]="GROUND",o[o.ELECTRONIC_DELIVERY=5]="ELECTRONIC_DELIVERY",o[o.SHIP_TO_STORE=6]="SHIP_TO_STORE",(r=i.Version||(i.Version={}))[r.V1=0]="V1",r[r.V2=1]="V2"}(sse||(sse={})),function(e){!function(t){class i extends e.Transaction{constructor(t,i,n){super(e.Platform.GOOGLE_PLAY,i,n),this.nativePurchase=t,this.refresh(t,!0)}static toState(i,n,o,r){switch(n){case t.Bridge.PurchaseState.PENDING:return e.TransactionState.INITIATED;case t.Bridge.PurchaseState.PURCHASED:return r?e.TransactionState.FINISHED:o?e.TransactionState.APPROVED:i?e.TransactionState.INITIATED:e.TransactionState.APPROVED;case t.Bridge.PurchaseState.UNSPECIFIED_STATE:return e.TransactionState.UNKNOWN_STATE}}refresh(n,o){var r,s;this.nativePurchase=n,this.transactionId=`${n.orderId||n.purchaseToken}`,this.purchaseId=`${n.purchaseToken}`,this.products=n.productIds.map((e=>({id:e}))),n.purchaseTime&&(this.purchaseDate=new Date(n.purchaseTime)),this.isPending=n.getPurchaseState===t.Bridge.PurchaseState.PENDING,void 0!==n.acknowledged&&(this.isAcknowledged=n.acknowledged),void 0!==n.consumed&&(this.isConsumed=n.consumed),void 0!==n.autoRenewing&&(this.renewalIntent=n.autoRenewing?e.RenewalIntent.RENEW:e.RenewalIntent.LAPSE),this.state=i.toState(null!=o&&o,n.getPurchaseState,null!==(r=this.isAcknowledged)&&void 0!==r&&r,null!==(s=this.isConsumed)&&void 0!==s&&s)}}t.Transaction=i;class n extends e.Receipt{constructor(t,n){super(e.Platform.GOOGLE_PLAY,n),this.transactions=[new i(t,this,n)],this.purchaseToken=t.purchaseToken,this.orderId=t.orderId}refreshPurchase(e){var t;null===(t=this.transactions[0])||void 0===t||t.refresh(e),this.orderId=e.orderId}}t.Receipt=n;class o{constructor(i,n=864e5){if(this.id=e.Platform.GOOGLE_PLAY,this.name="GooglePlay",this.ready=!1,this.supportsParallelLoading=!1,this._receipts=[],this.bridge=new t.Bridge.Bridge,this.initialized=!1,this.retry=new e.Internal.Retry,this.autoRefreshIntervalMillis=0,o._instance)throw new Error("GooglePlay adapter already initialized");this._products=new t.Products(i.apiDecorators),this.autoRefreshIntervalMillis=n,this.context=i,this.log=i.log.child("GooglePlay"),o._instance=this}get products(){return this._products.products}get receipts(){return this._receipts}get isSupported(){return"android"===e.Utils.platformId()}initialize(){return ase(this,void 0,void 0,(function*(){return this.log.info("Initialize"),this.initializationPromise?this.initializationPromise:this.initializationPromise=new Promise((t=>{const i=this.log.child("Bridge"),n={onSetPurchases:this.onSetPurchases.bind(this),onPurchasesUpdated:this.onPurchasesUpdated.bind(this),onPurchaseConsumed:this.onPurchaseConsumed.bind(this),showLog:this.context.verbosity>=e.LogLevel.DEBUG,log:e=>i.info(e)};this.bridge.init((()=>{this.log.debug("Ready"),this.autoRefreshIntervalMillis>0&&window.setInterval((()=>this.getPurchases()),this.autoRefreshIntervalMillis),t(void 0)}),(t=>{this.initialized=!1,this.context.error(r(e.ErrorCode.SETUP,"Init failed - "+t,null)),this.retry.retry((()=>this.initialize()))}),n)}))}))}getSkusOf(t){const i=[],n=[];for(const o of t)o.type===e.ProductType.PAID_SUBSCRIPTION?n.push(o.id):i.push(o.id);return{inAppSkus:i,subsSkus:n}}loadReceipts(){return new Promise((e=>{this.getPurchases().then((t=>{e(this._receipts)}))}))}loadProducts(t){return new Promise((i=>{this.log.debug("Load: "+JSON.stringify(t));const n=n=>{if(this.log.debug("Loaded: "+JSON.stringify(n)),!Array.isArray(n)){const t=`Invalid product list received: ${JSON.stringify(n)}, retrying later...`;return this.log.warn(t),this.retry.retry(o),void this.context.error(r(e.ErrorCode.LOAD,t,null))}const s=t.map((t=>{const i=n.find((e=>e.productId===t.id));return i&&i.productId?this._products.addProduct(t,i):r(e.ErrorCode.INVALID_PRODUCT_ID,`Product with id ${t.id} not found.`,t.id)}));i(s)},o=()=>{const{inAppSkus:i,subsSkus:s}=this.getSkusOf(t);this.log.debug("getAvailableProducts: "+JSON.stringify(i)+" | "+JSON.stringify(s)),this.bridge.getAvailableProducts(i,s,n,(t=>{this.retry.retry(o),this.context.error(r(e.ErrorCode.LOAD,"Loading product info failed - "+t+" - retrying later...",null))}))};o()}))}finish(t){return new Promise((i=>{const n=()=>{t.state!==e.TransactionState.FINISHED&&(t.state=e.TransactionState.FINISHED,this.context.listener.receiptsUpdated(e.Platform.GOOGLE_PLAY,[t.parentReceipt])),i(void 0)},o=t.products[0];if(!o)return i(r(e.ErrorCode.FINISH,"Cannot finish a transaction with no product",null));const s=this._products.getProduct(o.id);if(!s)return i(r(e.ErrorCode.FINISH,"Cannot finish transaction, unknown product "+o.id,o.id));const a=this._receipts.find((e=>e.hasTransaction(t)));if(!a)return i(r(e.ErrorCode.FINISH,"Cannot finish transaction, linked receipt not found.",s.id));if(!a.purchaseToken)return i(r(e.ErrorCode.FINISH,"Cannot finish transaction, linked receipt contains no purchaseToken.",s.id));const l=(t,n)=>i(r(n||e.ErrorCode.UNKNOWN,t,s.id));if(s.type===e.ProductType.NON_RENEWING_SUBSCRIPTION||s.type===e.ProductType.CONSUMABLE){if(!t.isConsumed)return this.bridge.consumePurchase(n,l,a.purchaseToken)}else if(!t.isAcknowledged)return this.bridge.acknowledgePurchase(n,l,a.purchaseToken);i(void 0)}))}onPurchaseConsumed(e){this.log.debug("onPurchaseConsumed: "+e.orderId),e.acknowledged=!0,e.consumed=!0,this.onPurchasesUpdated([e])}onPurchasesUpdated(t){this.log.debug("onPurchaseUpdated: "+t.map((e=>e.orderId)).join(", ")),t.forEach((t=>{const i=this.receipts.find((e=>e.purchaseToken===t.purchaseToken));if(i)i.refreshPurchase(t),this.context.listener.receiptsUpdated(e.Platform.GOOGLE_PLAY,[i]);else{const i=new n(t,this.context.apiDecorators);this.receipts.push(i),this.context.listener.receiptsUpdated(e.Platform.GOOGLE_PLAY,[i]),i.transactions[0].state!==e.TransactionState.INITIATED||i.transactions[0].isPending||(i.refreshPurchase(t),this.context.listener.receiptsUpdated(e.Platform.GOOGLE_PLAY,[i]))}}))}onSetPurchases(t){this.log.debug("onSetPurchases: "+JSON.stringify(t)),this.onPurchasesUpdated(t),this.context.listener.receiptsReady(e.Platform.GOOGLE_PLAY)}onPriceChangeConfirmationResult(e){}getPurchases(){return new Promise((t=>{this.log.debug("getPurchases");this.bridge.getPurchases((()=>{this.log.debug("getPurchases success"),setTimeout((()=>t(void 0)),0)}),((i,n)=>{this.log.warn("getPurchases failed: "+i+" ("+n+")"),setTimeout((()=>t(r(n||e.ErrorCode.UNKNOWN,i,null))),0)}))}))}order(t,i){return ase(this,void 0,void 0,(function*(){return new Promise((n=>{this.log.info("Order - "+JSON.stringify(t));const o=()=>n(void 0),s=(i,o)=>{this.log.warn("Order failed: "+JSON.stringify({message:i,code:o})),n(r(null!=o?o:e.ErrorCode.UNKNOWN,i,t.productId))};if(t.productType===e.ProductType.PAID_SUBSCRIPTION){const e="token"in t?t.productId+"@"+t.token:t.productId,n=this.findOldPurchaseToken(t.productId,t.productGroup);n&&(i.googlePlay?i.googlePlay.oldPurchaseToken||(i.googlePlay.oldPurchaseToken=n):i.googlePlay={oldPurchaseToken:n}),this.bridge.subscribe(o,s,e,i)}else this.bridge.buy(o,s,t.productId,i)}))}))}findOldPurchaseToken(t,i){if(!i)return;const n=this._receipts.find((n=>!!n.transactions.find((o=>!!o.products.find((o=>{const r=this._products.getProduct(o.id);return!!r&&(!!e.Internal.LocalReceipts.isOwned([n],r)&&(o.id===t||i&&r.group===i))}))))));return null==n?void 0:n.purchaseToken}receiptValidationBody(t){var i;return ase(this,void 0,void 0,(function*(){const n=t.transactions[0];if(!n)return;const o=null===(i=n.products[0])||void 0===i?void 0:i.id;if(!o)return;const r=this._products.getProduct(o);if(!r)return;const s=n.nativePurchase;return{id:o,type:r.type,offers:r.offers,products:this._products.products,transaction:{type:e.Platform.GOOGLE_PLAY,id:t.transactions[0].transactionId,purchaseToken:s.purchaseToken,signature:s.signature,receipt:s.receipt}}}))}handleReceiptValidationResponse(t,i){var n;return ase(this,void 0,void 0,(function*(){if(null==i?void 0:i.ok){const t=null===(n=null==i?void 0:i.data)||void 0===n?void 0:n.transaction;if((null==t?void 0:t.type)!==e.Platform.GOOGLE_PLAY)return;t.kind}}))}requestPayment(t,i){return ase(this,void 0,void 0,(function*(){return r(e.ErrorCode.UNKNOWN,"requestPayment not supported",null)}))}manageSubscriptions(){return ase(this,void 0,void 0,(function*(){this.bridge.manageSubscriptions()}))}manageBilling(){return ase(this,void 0,void 0,(function*(){this.bridge.manageBilling()}))}checkSupport(e){return["order","manageBilling","manageSubscriptions"].indexOf(e)>=0}restorePurchases(){return new Promise((t=>{this.bridge.getPurchases((()=>t(void 0)),((i,n)=>{this.log.warn("getPurchases() failed: "+(null!=n?n:"ERROR")+": "+i),t(r(null!=n?n:e.ErrorCode.UNKNOWN,i,null))}))}))}}function r(t,i,n){return e.storeError(t,i,e.Platform.GOOGLE_PLAY,n)}o.trimProductTitles=!0,t.Adapter=o}(e.GooglePlay||(e.GooglePlay={}))}(sse||(sse={})),function(e){var t,i,n;t=e.GooglePlay||(e.GooglePlay={}),i=t.Bridge||(t.Bridge={}),(n=i.RecurrenceMode||(i.RecurrenceMode={})).FINITE_RECURRING="FINITE_RECURRING",n.INFINITE_RECURRING="INFINITE_RECURRING",n.NON_RECURRING="NON_RECURRING"}(sse||(sse={})),function(e){var t,i,n;t=e.GooglePlay||(e.GooglePlay={}),(i=t.ProrationMode||(t.ProrationMode={})).IMMEDIATE_WITH_TIME_PRORATION="IMMEDIATE_WITH_TIME_PRORATION",i.IMMEDIATE_AND_CHARGE_PRORATED_PRICE="IMMEDIATE_AND_CHARGE_PRORATED_PRICE",i.IMMEDIATE_WITHOUT_PRORATION="IMMEDIATE_WITHOUT_PRORATION",i.DEFERRED="DEFERRED",i.IMMEDIATE_AND_CHARGE_FULL_PRICE="IMMEDIATE_AND_CHARGE_FULL_PRICE",(n=t.ReplacementMode||(t.ReplacementMode={})).WITH_TIME_PRORATION="IMMEDIATE_WITH_TIME_PRORATION",n.CHARGE_PRORATED_PRICE="IMMEDIATE_AND_CHARGE_PRORATED_PRICE",n.WITHOUT_PRORATION="IMMEDIATE_WITHOUT_PRORATION",n.DEFERRED="DEFERRED",n.CHARGE_FULL_PRICE="IMMEDIATE_AND_CHARGE_FULL_PRICE",function(t){let i=function(e){console.log("InAppBilling[js]: "+e)};var n;function o(e){return function(t){if(!e)return;const i="string"==typeof t?t.split("|"):[];if(i.length>1&&/^[-+]?(\d+)$/.test(i[0])){var n=i[0],o=i[1];e(o,+n)}else e(t)}}function r(t){const i=(n=null==t?void 0:t.googlePlay)&&n.constructor===Object?n:{};var n;return!i.accountId&&(null==t?void 0:t.applicationUsername)&&(i.accountId=e.Utils.md5(t.applicationUsername)),i}(n=t.PurchaseState||(t.PurchaseState={}))[n.UNSPECIFIED_STATE=0]="UNSPECIFIED_STATE",n[n.PURCHASED=1]="PURCHASED",n[n.PENDING=2]="PENDING",t.Bridge=class{constructor(){this.options={}}init(e,t,n){n||(n={}),n.log&&(i=n.log),this.options={showLog:!1!==n.showLog,onPurchaseConsumed:n.onPurchaseConsumed,onPurchasesUpdated:n.onPurchasesUpdated,onSetPurchases:n.onSetPurchases},this.options.showLog&&i("setup ok");const r=this.listener.bind(this);window.cordova.exec(r,(function(e){}),"InAppBillingPlugin","setListener",[]),window.cordova.exec(e,o(t),"InAppBillingPlugin","init",[])}load(t,n,r,s,a){if(void 0!==r&&("string"==typeof r&&(r=[r]),r.length>0)){if("string"!=typeof r[0]){var l="invalid productIds: "+JSON.stringify(r);return this.options.showLog&&i(l),void n(l,e.ErrorCode.INVALID_PRODUCT_ID)}this.options.showLog&&i("load "+JSON.stringify(r))}window.cordova.exec(t,o(n),"InAppBillingPlugin","load",[r,s,a])}listener(e){this.options.showLog&&i("listener: "+JSON.stringify(e)),e&&e.type&&("setPurchases"===e.type&&this.options.onSetPurchases&&this.options.onSetPurchases(e.data.purchases),"purchasesUpdated"===e.type&&this.options.onPurchasesUpdated&&this.options.onPurchasesUpdated(e.data.purchases),"purchaseConsumed"===e.type&&this.options.onPurchaseConsumed&&this.options.onPurchaseConsumed(e.data.purchase),"onPriceChangeConfirmationResultOK"===e.type&&this.options.onPriceChangeConfirmationResult&&this.options.onPriceChangeConfirmationResult("OK"),"onPriceChangeConfirmationResultUserCanceled"===e.type&&this.options.onPriceChangeConfirmationResult&&this.options.onPriceChangeConfirmationResult("UserCanceled"),"onPriceChangeConfirmationResultUnknownSku"===e.type&&this.options.onPriceChangeConfirmationResult&&this.options.onPriceChangeConfirmationResult("UnknownProduct"))}getPurchases(e,t){return this.options.showLog&&i("getPurchases()"),window.cordova.exec(e,o(t),"InAppBillingPlugin","getPurchases",["null"])}buy(e,t,n,s){return this.options.showLog&&i("buy()"),window.cordova.exec(e,o(t),"InAppBillingPlugin","buy",[n,r(s)])}subscribe(e,t,n,s){var a;return this.options.showLog&&i("subscribe()"),(null===(a=s.googlePlay)||void 0===a?void 0:a.oldPurchaseToken)&&this.options.showLog&&i("subscribe() -> upgrading from an old purchase"),window.cordova.exec(e,o(t),"InAppBillingPlugin","subscribe",[n,r(s)])}consumePurchase(e,t,n){return this.options.showLog&&i("consumePurchase()"),window.cordova.exec(e,o(t),"InAppBillingPlugin","consumePurchase",[n])}acknowledgePurchase(e,t,n){return this.options.showLog&&i("acknowledgePurchase()"),window.cordova.exec(e,o(t),"InAppBillingPlugin","acknowledgePurchase",[n])}getAvailableProducts(e,t,n,r){return this.options.showLog&&i("getAvailableProducts()"),window.cordova.exec(n,o(r),"InAppBillingPlugin","getAvailableProducts",[e,t])}manageSubscriptions(){return window.cordova.exec((function(){}),(function(){}),"InAppBillingPlugin","manageSubscriptions",[])}manageBilling(){return window.cordova.exec((function(){}),(function(){}),"InAppBillingPlugin","manageBilling",[])}launchPriceChangeConfirmationFlow(e){return window.cordova.exec((function(){}),(function(){}),"InAppBillingPlugin","launchPriceChangeConfirmationFlow",[e])}}}(t.Bridge||(t.Bridge={}))}(sse||(sse={})),function(e){!function(t){class i extends e.Product{}t.GProduct=i;class n extends e.Offer{constructor(){super(...arguments),this.type="inapp"}}t.InAppOffer=n;class o extends e.Offer{constructor(e,t){super(e,t),this.type="subs",this.tags=e.tags,this.token=e.token}}t.SubscriptionOffer=o;t.Products=class{constructor(e){this.products=[],this.offers=[],this.decorator=e}getProduct(e){return this.products.find((t=>t.id===e))}getOffer(e){return this.offers.find((t=>t.id===e))}addProduct(e,n){const o=this.getProduct(e.id),r=null!=o?o:new i(e,this.decorator);return r.title=n.title||n.name||r.title,t.Adapter.trimProductTitles&&(r.title=r.title.replace(/ \(.*\)$/,"")),r.description=n.description||r.description,"product_format"in n&&"v12.0"===n.product_format&&"subs"===n.product_type?this.onSubsV12Loaded(r,n):this.onInAppLoaded(r,n),o||this.products.push(r),r}onSubsV12Loaded(t,i){return i.offers.forEach((n=>{const o=n.pricing_phases.slice(-1)[0];if((null==o?void 0:o.recurrence_mode)===e.RecurrenceMode.FINITE_RECURRING){const e=function(e){if(!e)return null;for(const t of i.offers)if(t.base_plan_id===e&&!t.offer_id)return t;return null}(n.base_plan_id);e&&e!==n&&n.pricing_phases.push(...e.pricing_phases)}const r=this.iabSubsOfferV12Loaded(t,i,n);t.addOffer(r)})),t}makeOfferId(e,t){return t.base_plan_id?t.offer_id?e+"@"+t.base_plan_id+"@"+t.offer_id:e+"@"+t.base_plan_id:e+"@"+t.token}iabSubsOfferV12Loaded(e,t,i){const n=this.makeOfferId(t.productId,i),r=this.getOffer(n),s=i.pricing_phases.map((e=>this.toPricingPhase(e)));if(r)return r.pricingPhases=s,r;{const t=new o({id:n,product:e,pricingPhases:s,token:i.token,tags:i.tags},this.decorator);return this.offers.push(t),t}}onInAppLoaded(t,i){var o,r,s,a;const l=this.getOffer(i.productId),c=[{price:null!==(r=null!==(o=i.formatted_price)&&void 0!==o?o:i.price)&&void 0!==r?r:`${(null!==(s=i.price_amount_micros)&&void 0!==s?s:0)/1e6} ${i.price_currency_code}`,priceMicros:null!==(a=i.price_amount_micros)&&void 0!==a?a:0,currency:i.price_currency_code,recurrenceMode:e.RecurrenceMode.NON_RECURRING}];if(l)l.pricingPhases=c,t.offers=[l];else{const e=new n({id:i.productId,product:t,pricingPhases:c},this.decorator);this.offers.push(e),t.offers=[e]}return t}toPaymentMode(i){return 0===i.price_amount_micros?e.PaymentMode.FREE_TRIAL:i.recurrence_mode===t.Bridge.RecurrenceMode.NON_RECURRING?e.PaymentMode.UP_FRONT:e.PaymentMode.PAY_AS_YOU_GO}toRecurrenceMode(i){switch(i){case t.Bridge.RecurrenceMode.FINITE_RECURRING:return e.RecurrenceMode.FINITE_RECURRING;case t.Bridge.RecurrenceMode.INFINITE_RECURRING:return e.RecurrenceMode.INFINITE_RECURRING;case t.Bridge.RecurrenceMode.NON_RECURRING:return e.RecurrenceMode.NON_RECURRING}}toPricingPhase(e){return{price:e.formatted_price,priceMicros:e.price_amount_micros,currency:e.price_currency_code,billingPeriod:e.billing_period,billingCycles:e.billing_cycle_count,recurrenceMode:this.toRecurrenceMode(e.recurrence_mode),paymentMode:this.toPaymentMode(e)}}}}(e.GooglePlay||(e.GooglePlay={}))}(sse||(sse={})),function(e){var t,i,n,o;t=e.GooglePlay||(e.GooglePlay={}),i=t.PublisherAPI||(t.PublisherAPI={}),(n=i.GoogleErrorReason||(i.GoogleErrorReason={})).SUBSCRIPTION_NO_LONGER_AVAILABLE="subscriptionPurchaseNoLongerAvailable",n.PURCHASE_TOKEN_NO_LONGER_VALID="purchaseTokenNoLongerValid",(o=i.ErrorCode||(i.ErrorCode={}))[o.GONE=410]="GONE"}(sse||(sse={})),function(e){!function(t){const i=e.Platform.TEST;let n=[];function o(e){e.products.forEach((t=>{var i,o,r,s;const a=n.find((e=>t.id===e.id)),l={id:t.id,purchaseDate:null===(i=e.purchaseDate)||void 0===i?void 0:i.getTime(),expiryDate:null===(o=e.expirationDate)||void 0===o?void 0:o.getTime(),lastRenewalDate:null===(r=e.lastRenewalDate)||void 0===r?void 0:r.getTime(),renewalIntent:e.renewalIntent,renewalIntentChangeDate:null===(s=e.renewalIntentChangeDate)||void 0===s?void 0:s.getTime()};a?Object.assign(a,l):n.push(l)}))}function r(t,i,n){return e.storeError(t,i,e.Platform.TEST,n)}t.Adapter=class{constructor(t){this.id=e.Platform.TEST,this.name="Test",this.ready=!1,this.products=[],this.receipts=[],this.supportsParallelLoading=!0,this.context=t,this.log=t.log.child("Test")}get isSupported(){return!0}initialize(){return ase(this,void 0,void 0,(function*(){}))}loadReceipts(){return ase(this,void 0,void 0,(function*(){return new Promise((t=>{setTimeout((()=>{this.context.listener.receiptsReady(e.Platform.TEST),t(this.receipts)}),600)}))}))}loadProducts(i){return ase(this,void 0,void 0,(function*(){return i.map((i=>{if(!t.testProductsArray.find((e=>e.id===i.id&&e.type===i.type)))return r(e.ErrorCode.PRODUCT_NOT_AVAILABLE,"This product is not available",i.id);const n=this.products.find((e=>e.id===i.id));if(n)return n;i.id===t.testProducts.PAID_SUBSCRIPTION_ACTIVE.id&&setTimeout((()=>{this.reportActiveSubscription()}),500);const o=t.initTestProduct(i.id,this.context.apiDecorators);return o?(this.products.push(o),this.context.listener.productsUpdated(e.Platform.TEST,[o]),o):r(e.ErrorCode.PRODUCT_NOT_AVAILABLE,"Could not load this product",i.id)}))}))}order(t){return ase(this,void 0,void 0,(function*(){if(t.id.indexOf("-fail-")>0)return r(e.ErrorCode.PURCHASE,"Purchase failed.",t.productId);const n=this.products.find((e=>e.id===t.productId));if(!e.Internal.LocalReceipts.canPurchase(this.receipts,n))return r(e.ErrorCode.PURCHASE,"Product already owned",t.productId);const s=prompt(`Do you want to purchase ${t.productId} for ${t.pricingPhases[0].price}?\nEnter "Y" to confirm.\nEnter "E" to fail with an error.Anything else to cancel.`);if("E"===(null==s?void 0:s.toUpperCase()))return r(e.ErrorCode.PURCHASE,"Purchase failed",t.productId);if("Y"!==(null==s?void 0:s.toUpperCase()))return r(e.ErrorCode.PAYMENT_CANCELLED,"Purchase flow has been cancelled by the user",t.productId);const a=new e.Receipt(i,this.context.apiDecorators),l=new e.Transaction(i,a,this.context.apiDecorators);a.transactions=[l],l.products=[{id:t.productId,offerId:t.id}],l.state=e.TransactionState.APPROVED,l.purchaseDate=new Date,l.transactionId=t.productId+"-"+(new Date).getTime(),l.isAcknowledged=!1,t.productType===e.ProductType.PAID_SUBSCRIPTION&&(l.expirationDate=new Date(+new Date+6048e5),l.renewalIntent=e.RenewalIntent.RENEW),o(l),this.receipts.push(a),this.context.listener.receiptsUpdated(e.Platform.TEST,[a])}))}finish(t){return new Promise((n=>{setTimeout((()=>{t.state=e.TransactionState.FINISHED,t.isAcknowledged=!0,o(t);const r=this.products.find((e=>t.products[0].id===e.id));(null==r?void 0:r.type)===e.ProductType.CONSUMABLE&&(t.isConsumed=!0);const s=this.receipts.filter((e=>e.hasTransaction(t)));this.context.listener.receiptsUpdated(i,s),n(void 0)}),500)}))}receiptValidationBody(e){return ase(this,void 0,void 0,(function*(){}))}handleReceiptValidationResponse(e,t){return ase(this,void 0,void 0,(function*(){}))}requestPayment(t,n){var o;return ase(this,void 0,void 0,(function*(){yield e.Utils.asyncDelay(100);const n=prompt(`Mock payment of ${(null!==(o=t.amountMicros)&&void 0!==o?o:0)/1e6} ${t.currency}. Enter "Y" to confirm. Enter "E" to trigger an error.`);if("E"===(null==n?void 0:n.toUpperCase()))return r(e.ErrorCode.PAYMENT_NOT_ALLOWED,"Payment not allowed",null);if("Y"!==(null==n?void 0:n.toUpperCase()))return;const s=new e.Receipt(i,this.context.apiDecorators),a=new e.Transaction(e.Platform.TEST,s,this.context.apiDecorators);return a.purchaseDate=new Date,a.products=t.items.filter((e=>e)).map((e=>({id:(null==e?void 0:e.id)||""}))),a.state=e.TransactionState.APPROVED,a.transactionId="payment-"+(new Date).getTime(),a.amountMicros=t.amountMicros,a.currency=t.currency,s.transactions=[a],this.receipts.push(s),setTimeout((()=>{this.context.listener.receiptsUpdated(i,[s])}),400),a}))}manageSubscriptions(){return ase(this,void 0,void 0,(function*(){alert("Pseudo subscription management interface. Close it when you are done.")}))}manageBilling(){return ase(this,void 0,void 0,(function*(){alert("Pseudo billing management interface. Close it when you are done.")}))}reportActiveSubscription(){if(this.receipts.find((e=>e.transactions[0].transactionId===a(1))))return;const n=12e4,r=new e.Receipt(i,this.context.apiDecorators),s=s=>{var l,c;const d=new e.Transaction(i,r,this.context.apiDecorators);d.products=[{id:t.testProducts.PAID_SUBSCRIPTION_ACTIVE.id,offerId:t.testProducts.PAID_SUBSCRIPTION_ACTIVE.extra.offerId}],d.state=e.TransactionState.APPROVED,d.transactionId=a(s),d.isAcknowledged=1==s,d.renewalIntent=e.RenewalIntent.RENEW;const u=+((null===(c=null===(l=null==r?void 0:r.transactions)||void 0===l?void 0:l[0])||void 0===c?void 0:c.purchaseDate)||new Date);return d.purchaseDate=new Date(u),d.lastRenewalDate=new Date(u+n*(s-1)),d.expirationDate=new Date(u+n*s),o(d),d};function a(e){return"test-active-subscription-transaction-"+e}r.transactions.push(s(1)),this.receipts.push(r),this.context.listener.receiptsUpdated(e.Platform.TEST,[r]);let l=1;setInterval((()=>{this.log.info("auto-renewing the mock subscription"),l+=1,r.transactions.push(s(l)),this.context.listener.receiptsUpdated(e.Platform.TEST,[r])}),n)}static verify(e,t){setTimeout((()=>{var i,o;t({receipt:e,payload:{ok:!0,data:{id:null===(o=null===(i=e.transactions[0])||void 0===i?void 0:i.products[0])||void 0===o?void 0:o.id,latest_receipt:!0,transaction:{type:"test"},collection:n}}})}),500)}checkSupport(e){return!0}restorePurchases(){return ase(this,void 0,void 0,(function*(){}))}}}(e.Test||(e.Test={}))}(sse||(sse={})),function(e){!function(t){const i=e.Platform.TEST;t.testProducts={CONSUMABLE:{platform:i,id:"test-consumable",type:e.ProductType.CONSUMABLE},CONSUMABLE_FAILING:{platform:i,id:"test-consumable-fail",type:e.ProductType.CONSUMABLE},NON_CONSUMABLE:{platform:i,id:"test-non-consumable",type:e.ProductType.NON_CONSUMABLE},PAID_SUBSCRIPTION:{platform:i,id:"test-subscription",type:e.ProductType.PAID_SUBSCRIPTION},PAID_SUBSCRIPTION_ACTIVE:{platform:i,id:"test-subscription-active",type:e.ProductType.PAID_SUBSCRIPTION,extra:{offerId:"test-paid-subscription-active-offer1"}}},t.testProductsArray=e.Utils.objectValues(t.testProducts),t.initTestProduct=function(i,n){const o=Object.keys(t.testProducts).find((e=>t.testProducts[e]&&t.testProducts[e].id===i));if(!o)return;const r=new e.Product(t.testProducts[o],n);switch(o){case"CONSUMABLE":r.title="Test Consumable",r.description="A consumable product that you can purchase",r.addOffer(new e.Offer({id:"test-consumable-offer1",pricingPhases:[{price:"$4.99",currency:"USD",priceMicros:499e4,paymentMode:e.PaymentMode.UP_FRONT,recurrenceMode:e.RecurrenceMode.NON_RECURRING}],product:r},n));break;case"CONSUMABLE_FAILING":r.title="Failing Consumable",r.description="A consumable product that cannot be purchased",r.addOffer(new e.Offer({id:"test-consumable-fail-offer1",pricingPhases:[{price:"$1.99",currency:"USD",priceMicros:199e4,paymentMode:e.PaymentMode.UP_FRONT,recurrenceMode:e.RecurrenceMode.NON_RECURRING}],product:r},n));break;case"NON_CONSUMABLE":r.title="Non Consumable",r.description="A non consumable product",r.addOffer(new e.Offer({id:"test-non-consumable-offer1",pricingPhases:[{price:"$9.99",currency:"USD",priceMicros:999e4,paymentMode:e.PaymentMode.UP_FRONT,recurrenceMode:e.RecurrenceMode.NON_RECURRING}],product:r},n));break;case"PAID_SUBSCRIPTION":r.title="A subscription product",r.description="An auto-renewing paid subscription with a trial period",r.addOffer(new e.Offer({id:"test-paid-subscription-offer1",product:r,pricingPhases:[{price:"$0.00",currency:"USD",priceMicros:0,paymentMode:e.PaymentMode.FREE_TRIAL,recurrenceMode:e.RecurrenceMode.FINITE_RECURRING,billingCycles:3,billingPeriod:"P1W"},{price:"$4.99",currency:"USD",priceMicros:499e4,paymentMode:e.PaymentMode.PAY_AS_YOU_GO,recurrenceMode:e.RecurrenceMode.INFINITE_RECURRING,billingPeriod:"P1M"}]},n));break;case"PAID_SUBSCRIPTION_ACTIVE":r.title="An owned subscription product",r.description="An active paid subscription",r.addOffer(new e.Offer({id:t.testProducts.PAID_SUBSCRIPTION_ACTIVE.extra.offerId,product:r,pricingPhases:[{price:"$19.99",currency:"USD",priceMicros:1999e4,paymentMode:e.PaymentMode.PAY_AS_YOU_GO,recurrenceMode:e.RecurrenceMode.INFINITE_RECURRING,billingPeriod:"P1Y"}]},n));break;default:throw new Error(`Unhandled enum case: ${o}`)}return r}}(e.Test||(e.Test={}))}(sse||(sse={})),function(e){!function(t){function i(t,i,n){return e.storeError(t,i,e.Platform.WINDOWS_STORE,n)}t.Adapter=class{constructor(){this.id=e.Platform.WINDOWS_STORE,this.name="WindowsStore",this.ready=!1,this.supportsParallelLoading=!1,this.products=[],this.receipts=[]}initialize(){return ase(this,void 0,void 0,(function*(){}))}get isSupported(){return!1}loadProducts(t){return ase(this,void 0,void 0,(function*(){return t.map((t=>i(e.ErrorCode.PRODUCT_NOT_AVAILABLE,"TODO",t.id)))}))}loadReceipts(){return ase(this,void 0,void 0,(function*(){return[]}))}order(t){return ase(this,void 0,void 0,(function*(){return i(e.ErrorCode.UNKNOWN,"TODO: Not implemented",t.productId)}))}finish(t){return ase(this,void 0,void 0,(function*(){return i(e.ErrorCode.UNKNOWN,"TODO: Not implemented",null)}))}handleReceiptValidationResponse(e,t){return ase(this,void 0,void 0,(function*(){}))}receiptValidationBody(e){return ase(this,void 0,void 0,(function*(){}))}requestPayment(t,n){return ase(this,void 0,void 0,(function*(){return i(e.ErrorCode.UNKNOWN,"requestPayment not supported",null)}))}manageSubscriptions(){return ase(this,void 0,void 0,(function*(){return i(e.ErrorCode.UNKNOWN,"manageSubscriptions not supported",null)}))}manageBilling(){return ase(this,void 0,void 0,(function*(){return i(e.ErrorCode.UNKNOWN,"manageBilling not supported",null)}))}checkSupport(e){return!1}restorePurchases(){return ase(this,void 0,void 0,(function*(){}))}}}(e.WindowsStore||(e.WindowsStore={}))}(sse||(sse={})),function(e){!function(e){let t;!function(e){e.HTTP_REQUEST_TIMEOUT=408}(t=e.Ajax||(e.Ajax={})),e.ajax=function(i,n){if("undefined"!=typeof window&&window.cordova&&window.cordova.plugin&&window.cordova.plugin.http)return function(t,i){let n=function(){};const o={method:(i.method||"get").toLowerCase(),data:i.data,serializer:"json"};i.customHeaders&&(t.debug("ajax[http] -> adding custom headers: "+JSON.stringify(i.customHeaders)),o.headers=i.customHeaders);t.debug("ajax[http] -> send request to "+i.url);const r=o=>{try{200==o.status?e.callExternal(t,"ajax.success",i.success,JSON.parse(o.data)):(t.warn("ajax[http] -> request to "+i.url+" failed with status "+o.status+" ("+o.error+")"),e.callExternal(t,"ajax.error",i.error,o.status,o.error))}catch(f1){t.warn("ajax[http] -> request to "+i.url+" failed with an exception: "+f1.message),i.error&&e.callExternal(t,"ajax.error",i.error,417,f1.message)}e.callExternal(t,"ajax.done",n)};return window.cordova.plugin.http.sendRequest(i.url,o,r,r),{done:function(e){return n=e,this}}}(i,n);var o=function(){},r=new XMLHttpRequest;n.timeout&&(r.timeout=n.timeout,r.ontimeout=function(){i.warn("ajax -> request to "+n.url+" timeout"),e.callExternal(i,"ajax.error",n.error,t.HTTP_REQUEST_TIMEOUT,"Timeout")}),r.open(n.method||"POST",n.url,!0),r.onreadystatechange=function(){try{4===r.readyState&&(200===r.status?e.callExternal(i,"ajax.success",n.success,JSON.parse(r.responseText)):(i.warn("ajax -> request to "+n.url+" failed with status "+r.status+" ("+r.statusText+")"),e.callExternal(i,"ajax.error",n.error,r.status,r.statusText)))}catch(f1){i.warn("ajax -> request to "+n.url+" failed with an exception: "+f1.message),n.error&&n.error(417,f1.message,null)}4===r.readyState&&e.callExternal(i,"ajax.done",o)};const s=n.customHeaders;return s&&Object.keys(s).forEach((function(e){i.debug("ajax -> adding custom header: "+e),r.setRequestHeader(e,s[e])})),r.setRequestHeader("Accept","application/json"),i.debug("ajax -> send request to "+n.url),n.data?(r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.send(JSON.stringify(n.data))):r.send(),{done:function(e){return o=e,this}}}}(e.Utils||(e.Utils={}))}(sse||(sse={})),function(e){(e.Utils||(e.Utils={})).callExternal=function(t,i,n,...o){try{const t=Array.prototype.slice.call(arguments,3);n&&n.apply(e.store,t)}catch(f1){t.logCallbackException(i,f1)}}}(sse||(sse={})),function(e){!function(e){function t(e,t){let i=null,n=[];const o=function(t,o){const r=n;n=[],i=null,e(),r.forEach((e=>e()))};return{call:function(){i&&window.clearTimeout(i),i=setTimeout(o,t)},wait:()=>new Promise((e=>{i?n.push(e):e()}))}}e.delay=function(e,t){return setTimeout(e,t)},e.debounce=function(e,i){return t(e,i).call},e.createDebouncer=t,e.asyncDelay=function(e){return new Promise((t=>setTimeout(t,e)))}}(e.Utils||(e.Utils={}))}(sse||(sse={})),function(e){var t;(t=e.Utils||(e.Utils={})).formatBillingCycleEN=function(i){switch(function(t){var i;const n=null!==(i=t.billingCycles)&&void 0!==i?i:0;if(t.recurrenceMode===e.RecurrenceMode.FINITE_RECURRING){if(1==n)return e.RecurrenceMode.NON_RECURRING;if(n<=0)return e.RecurrenceMode.INFINITE_RECURRING}return t.recurrenceMode}(i)){case e.RecurrenceMode.FINITE_RECURRING:return`${i.billingCycles}x ${t.formatDurationEN(i.billingPeriod)}`;case e.RecurrenceMode.NON_RECURRING:return"for "+t.formatDurationEN(i.billingPeriod);default:return"every "+t.formatDurationEN(i.billingPeriod,{omitOne:!0})}}}(sse||(sse={})),function(e){(e.Utils||(e.Utils={})).formatDurationEN=function(e,t){if(!e)return"";const i=e.length,n=e.slice(1,i-1);return"1"===n?(null==t?void 0:t.omitOne)?{D:"day",W:"week",M:"month",Y:"year"}[e[i-1]]||e[i-1]:{D:"1 day",W:"1 week",M:"1 month",Y:"1 year"}[e[i-1]]||e[i-1]:`${n} ${{D:"days",W:"weeks",M:"months",Y:"years"}[e[i-1]]||e[i-1]}`}}(sse||(sse={})),function(e){!function(e){const t="0123456789abcdef".split("");function i(e){for(var i="",n=0;n<4;n++)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function n(e){const t=[];for(var n=e.length,o=0;o<n;o++)t.push(i(e[o]));return t.join("")}function o(e,t){return e+t&4294967295}function r(e,t,i,n,r,s,a){return function(e,t,i){return o(e<<t|e>>>32-t,i)}((l=n,c=s,o(o(t,e),o(l,c))),r,i);var l,c}var s=function(e,t,i,n,o,s,a,l){return r(i&n|~i&o,t,i,s,a,l)},a=function(e,t,i,n,o,s,a,l){return r(i&o|n&~o,t,i,s,a,l)},l=function(e,t,i,n,o,s,a,l){return r(i^n^o,t,i,s,a,l)},c=function(e,t,i,n,o,s,a,l){return r(n^(i|~o),t,i,s,a,l)};function d(e,t,i){i||(i=o);let n=e[0],r=e[1],d=e[2],u=e[3];var h=s.bind(null,i);n=h(n,r,d,u,t[0],7,-680876936),u=h(u,n,r,d,t[1],12,-389564586),d=h(d,u,n,r,t[2],17,606105819),r=h(r,d,u,n,t[3],22,-1044525330),n=h(n,r,d,u,t[4],7,-176418897),u=h(u,n,r,d,t[5],12,1200080426),d=h(d,u,n,r,t[6],17,-1473231341),r=h(r,d,u,n,t[7],22,-45705983),n=h(n,r,d,u,t[8],7,1770035416),u=h(u,n,r,d,t[9],12,-1958414417),d=h(d,u,n,r,t[10],17,-42063),r=h(r,d,u,n,t[11],22,-1990404162),n=h(n,r,d,u,t[12],7,1804603682),u=h(u,n,r,d,t[13],12,-40341101),d=h(d,u,n,r,t[14],17,-1502002290),r=h(r,d,u,n,t[15],22,1236535329);var p=a.bind(null,i);n=p(n,r,d,u,t[1],5,-165796510),u=p(u,n,r,d,t[6],9,-1069501632),d=p(d,u,n,r,t[11],14,643717713),r=p(r,d,u,n,t[0],20,-373897302),n=p(n,r,d,u,t[5],5,-701558691),u=p(u,n,r,d,t[10],9,38016083),d=p(d,u,n,r,t[15],14,-660478335),r=p(r,d,u,n,t[4],20,-405537848),n=p(n,r,d,u,t[9],5,568446438),u=p(u,n,r,d,t[14],9,-1019803690),d=p(d,u,n,r,t[3],14,-187363961),r=p(r,d,u,n,t[8],20,1163531501),n=p(n,r,d,u,t[13],5,-1444681467),u=p(u,n,r,d,t[2],9,-51403784),d=p(d,u,n,r,t[7],14,1735328473),r=p(r,d,u,n,t[12],20,-1926607734);var m=l.bind(null,i);n=m(n,r,d,u,t[5],4,-378558),u=m(u,n,r,d,t[8],11,-2022574463),d=m(d,u,n,r,t[11],16,1839030562),r=m(r,d,u,n,t[14],23,-35309556),n=m(n,r,d,u,t[1],4,-1530992060),u=m(u,n,r,d,t[4],11,1272893353),d=m(d,u,n,r,t[7],16,-155497632),r=m(r,d,u,n,t[10],23,-1094730640),n=m(n,r,d,u,t[13],4,681279174),u=m(u,n,r,d,t[0],11,-358537222),d=m(d,u,n,r,t[3],16,-722521979),r=m(r,d,u,n,t[6],23,76029189),n=m(n,r,d,u,t[9],4,-640364487),u=m(u,n,r,d,t[12],11,-421815835),d=m(d,u,n,r,t[15],16,530742520),r=m(r,d,u,n,t[2],23,-995338651);var f=c.bind(null,i);n=f(n,r,d,u,t[0],6,-198630844),u=f(u,n,r,d,t[7],10,1126891415),d=f(d,u,n,r,t[14],15,-1416354905),r=f(r,d,u,n,t[5],21,-57434055),n=f(n,r,d,u,t[12],6,1700485571),u=f(u,n,r,d,t[3],10,-1894986606),d=f(d,u,n,r,t[10],15,-1051523),r=f(r,d,u,n,t[1],21,-2054922799),n=f(n,r,d,u,t[8],6,1873313359),u=f(u,n,r,d,t[15],10,-30611744),d=f(d,u,n,r,t[6],15,-1560198380),r=f(r,d,u,n,t[13],21,1309151649),n=f(n,r,d,u,t[4],6,-145523070),u=f(u,n,r,d,t[11],10,-1120210379),d=f(d,u,n,r,t[2],15,718787259),r=f(r,d,u,n,t[9],21,-343485551),e[0]=i(n,e[0]),e[1]=i(r,e[1]),e[2]=i(d,e[2]),e[3]=i(u,e[3])}function u(e){for(var t=[],i=0;i<64;i+=4)t[i>>2]=e.charCodeAt(i)+(e.charCodeAt(i+1)<<8)+(e.charCodeAt(i+2)<<16)+(e.charCodeAt(i+3)<<24);return t}function h(e,t){let i;const n=e.length,o=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=n;i+=64)d(o,u(e.substring(i-64,i)),t);const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=(e=e.substring(i-64)).length;let a;for(a=0;a<s;a++)r[a>>2]|=e.charCodeAt(a)<<(a%4<<3);if(r[a>>2]|=128<<(a%4<<3),a>55)for(d(o,r,t),a=16;a--;)r[a]=0;return r[14]=8*n,d(o,r,t),o}e.md5=function(e){if(!e)return"";let t;return"5d41402abc4b2a76b9719d911017c592"!==n(h("hello"))&&(t=function(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}),n(h(e,t))}}(e.Utils||(e.Utils={}))}(sse||(sse={})),function(e){(e.Utils||(e.Utils={})).platformId=function(){var e,t,i;return(null===(e=window.cordova)||void 0===e?void 0:e.platformId)?null===(t=window.cordova)||void 0===t?void 0:t.platformId:(null===(i=window.Capacitor)||void 0===i?void 0:i.getPlatform)?window.Capacitor.getPlatform():"web"}}(sse||(sse={})),function(e){!function(e){function t(t,i,n,o,r,s){n&&(r||(r=n.name||"#"+e.md5(n.toString())),setTimeout((()=>{try{t.debug(`Calling callback: type=${i} name=${r} reason=${s}`),n(o)}catch(e){t.error(`Error in callback: type=${i} name=${r} reason=${s}`),t.debug(n.toString());const o=e;"message"in o&&t.error(o.message),"fileName"in e&&t.error("in "+e.fileName+":"+e.lineNumber),"stack"in o&&t.error(o.stack)}}),0))}e.safeCallback=function(e,i,n,o,r){return function(s){t(e,i,n,s,o,r)}},e.safeCall=t}(e.Utils||(e.Utils={}))}(sse||(sse={})),function(e){(e.Utils||(e.Utils={})).uuidv4=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}}(sse||(sse={})),function(e){var t;(function(t){function i(e){return"string"==typeof e.validator_privacy_policy?e.validator_privacy_policy.split(","):(t=e.validator_privacy_policy,"[object Array]"===Object.prototype.toString.call(t)?e.validator_privacy_policy:["analytics","support","fraud"]);var t}t.getDeviceInfo=function(t){const n=i(t);function o(e){return n.indexOf(e)>=0}const r={plugin:"cordova-plugin-purchase/"+e.PLUGIN_VERSION},s=window,a=(l=s.device,"[object Object]"===Object.prototype.toString.call(l)?s.device:{});var l;if(o("analytics")||o("support")){const e=s.Ionic||s.ionic;e&&e.version&&(r.ionic=e.version),a.cordova&&(r.cordova=a.cordova),a.model&&(r.model=a.model),a.platform&&(r.platform=a.platform),a.version&&(r.version=a.version),a.manufacturer&&(r.manufacturer=a.manufacturer)}if(o("tracking")&&(a.serial&&(r.serial=a.serial),a.uuid&&(r.uuid=a.uuid)),a.isVirtual&&(r.isVirtual=a.isVirtual),o("fraud")){var c="";a.serial?c="serial:"+a.serial:a.uuid?c="uuid:"+a.uuid:(a.model&&(c+="/"+a.model),a.manufacturer&&(c="/"+a.manufacturer)),c&&(r.fingerprint=e.Utils.md5(c))}return r}})((t=e.Validator||(e.Validator={})).Internal||(t.Internal={}))}(sse||(sse={})),function(e){var t;(t=e.Validator||(e.Validator={})).Request||(t.Request={})}(sse||(sse={})),function(e){e.VerifiedReceipt=class{constructor(e,t,i){var n;this.className="VerifiedReceipt",this.id=t.id,this.sourceReceipt=e,this.collection=null!==(n=t.collection)&&void 0!==n?n:[],this.latestReceipt=t.latest_receipt,this.nativeTransactions=[t.transaction],this.warning=t.warning,this.validationDate=t.date?new Date(t.date):new Date,Object.defineProperty(this,"raw",{enumerable:!1,get:()=>t}),Object.defineProperty(this,"finish",{enumerable:!1,get(){return()=>i.finish(this)}})}get platform(){return this.sourceReceipt.platform}get raw(){return{}}set(e,t){var i;this.id=t.id,this.sourceReceipt=e,this.collection=null!==(i=t.collection)&&void 0!==i?i:[],this.latestReceipt=t.latest_receipt,this.nativeTransactions=[t.transaction],this.warning=t.warning}finish(){return ase(this,void 0,void 0,(function*(){}))}}}(sse||(sse={}));const cse=["expert149k","expert199k","expertpro3m","expertvip3m"],dse=()=>{const e=[...cse],t=CdvPurchase.store,i=()=>{Hc("ios")&&(t.register(e.map((e=>({id:e,type:CdvPurchase.ProductType.CONSUMABLE,platform:CdvPurchase.Platform.APPLE_APPSTORE})))),t.initialize([{platform:CdvPurchase.Platform.APPLE_APPSTORE,options:{needAppReceipt:!0}}]))};io((()=>{i()}))},use=["src"],hse=jn({__name:"HomeBottomTab",setup(e){const t=EC(),{isLoggedIn:i,userInfo:n}=mC(t),o=OA(),{newNotificationCount:r}=mC(o),s=OD(),{countNewMsg:a}=mC(s);(()=>{const e=By(),{userInfo:t}=mC(EC()),i=FP(),{isConnected:n,socketApp:o}=mC(i),r=OD(),{activeRoom:s}=mC(r);br(t,(async e=>{bC.isEmpty(e)||await a()})),io((async()=>{await a()}));const a=async()=>{var t,a,l,c;n.value||(await i.socketInit(),o.value.connect(),o.value&&(null===(t=o.value)||void 0===t||t.on("connect",(async()=>{console.log("SOCKET IS CONNECTED")})),o.value.on("newMessage",(t=>{var i;r.setNewChat(t),e.name&&!rse.includes(null===(i=e.name)||void 0===i?void 0:i.toString())&&(r.increaseCountMsg(),console.log("increase"))})),null===(a=o.value)||void 0===a||a.on("newMessageCurrent",(e=>{const t={...s.value,last_message:e,last_message_id:null==e?void 0:e._id};r.setNewChat(t),console.log("activeroom",s.value),console.log("myMsgSent",t)})),null===(l=o.value)||void 0===l||l.on("exception",(async e=>{await lS(e.message,"error")})),null===(c=o.value)||void 0===c||c.on("disconnect",(async()=>{console.log("SOCKET IS DISCONNECTED")}))))}})(),dse(),io((()=>{o.getCountUnreadAndNewNotification()})),br([i],(()=>{i.value&&o.getCountUnreadAndNewNotification()}));const l=()=>{o.markAsReadAll()};return(e,t)=>($r(),Vr(Di(Ow),{class:"bg-white1"},{default:pn((()=>[Yr(Di(sw),{"menu-id":"sidemenu","content-id":"sidemenu",side:"end"},{default:pn((()=>[Yr(ose)])),_:1}),Yr(Di(Hw),null,{default:pn((()=>[Yr(Di(Fw),{id:"sidemenu"}),Yr(Di(Ww),{slot:"bottom",class:"shadow-st"},{default:pn((()=>[Yr(Di(Bw),{tab:"home",href:"/homebottomtab/hometab"},{default:pn((()=>[Yr(Di(ex),{class:"size-7","aria-hidden":"true",icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>")},null,8,["icon"])])),_:1}),Yr(Di(Bw),{tab:"chat",href:"/homebottomtab/chattab",onClick:Di(s).resetCountNewMsg},{default:pn((()=>[Yr(Di(ex),{class:"size-7","aria-hidden":"true",icon:Di(wT)},null,8,["icon"]),Number(Di(a))>0?($r(),Vr(Di(Hk),{key:0,mode:"ios",class:"bg-[#f00]"},{default:pn((()=>[Xr(Ze(Number(Di(a))>99?"99+":isNaN(Number(Di(a)))?0:Di(a)),1)])),_:1})):Jr("",!0)])),_:1},8,["onClick"]),Yr(Di(Bw),{tab:"notify",href:"/homebottomtab/notificationtab",onClick:l},{default:pn((()=>[Yr(Di(ex),{class:"size-7","aria-hidden":"true",icon:Di(GT)},null,8,["icon"]),Number(Di(r))>0?($r(),Vr(Di(Hk),{key:0,mode:"ios",class:"bg-red-500 text-white"},{default:pn((()=>[Xr(Ze(Number(Di(r))>99?"99+":Di(r)),1)])),_:1})):Jr("",!0)])),_:1}),Yr(Di(Bw),{tab:"account",href:"/homebottomtab/accounttab"},{default:pn((()=>{var e,t,i,o;return[null!==(e=Di(n))&&void 0!==e&&e.avatar||null!==(t=Di(n))&&void 0!==t&&t.ggAvatar?($r(),jr("img",{key:0,class:"size-8 rounded-full","aria-hidden":"true",src:(null===(i=Di(n))||void 0===i?void 0:i.avatar)||(null===(o=Di(n))||void 0===o?void 0:o.ggAvatar)||"/upload-user.png"},null,8,use)):($r(),Vr(Di(ex),{key:1,class:We(Di(Hc)("ios")?"size-7":"size-8"),"aria-hidden":"true",icon:Di(YT)},null,8,["class","icon"]))]})),_:1})])),_:1})])),_:1})])),_:1}))}}),pse=fS(hse,[["__scopeId","data-v-2e4c2a95"]]),mse={TextBox:1,MultipleChoice:2},fse={class:"px-4"},gse={key:0,class:"mb-4"},bse={class:"font-medium"},vse={key:1},yse={class:"font-medium"},kse=jn({__name:"QAJoinModal",props:{data:{}},setup(e){const t=e,i=mi({}),n=()=>ax.dismiss(null,"cancel"),o=()=>{var e;null!=t&&t.data&&(Object.keys(i).length<(null===(e=t.data)||void 0===e?void 0:e.length)||!i)?lS("Vui lòng nhập câu trả lời khảo sát","warning"):ax.dismiss(i,"confirm")};return(e,t)=>($r(),jr(Dr,null,[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{color:"white1",mode:"ios"},{default:pn((()=>[Yr(Di(ex),{slot:"end",onClick:n,icon:Di(LT),class:"size-7 text-[#929292]"},null,8,["icon"])])),_:1})])),_:1}),Yr(Di(Kk),{color:"white1"},{default:pn((()=>[t[1]||(t[1]=Wr("div",{class:"text-center text-xl font-medium text-black2 pb-5"}," Trả lời câu hỏi để tham gia cộng đồng ",-1)),Wr("div",fse,[($r(!0),jr(Dr,null,vo(e.data,((e,t)=>($r(),jr("div",{key:t},[e.type==Di(mse).MultipleChoice?($r(),jr("section",gse,[Wr("div",bse,Ze(`Câu hỏi ${t+1} : ${e.question}`),1),Yr(Di(lw),{modelValue:i[e.question],"onUpdate:modelValue":t=>i[e.question]=t},{default:pn((()=>[($r(!0),jr(Dr,null,vo(e.answer,((e,t)=>($r(),jr("div",{key:t,class:"py-1"},[Yr(Di(aw),{mode:"md",value:e,"label-placement":"end",color:"blue1"},{default:pn((()=>[Yr(Di(ow),null,{default:pn((()=>[Xr(Ze(e),1)])),_:2},1024)])),_:2},1032,["value"])])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])):Jr("",!0),e.type==Di(mse).TextBox?($r(),jr("section",vse,[Wr("div",yse,Ze(`Câu hỏi ${t+1} : ${e.question}`),1),Yr(Di(tw),{modelValue:i[e.question],"onUpdate:modelValue":t=>i[e.question]=t,mode:"md",fill:"outline",placeholder:"Nhập câu trả lời của bạn",class:"outline-none text-sm font-light mb-4 mt-2",label:"Nhập câu trả lời của bạn",type:"text","label-placement":"floating",color:"blue1"},null,8,["modelValue","onUpdate:modelValue"])])):Jr("",!0)])))),128)),Yr(Di(qk),{color:"blue1",onClick:o,class:"mt-4 h-12 w-full text-sm uppercase text-center shadow-sm"},{default:pn((()=>t[0]||(t[0]=[Xr(" Xác nhận ")]))),_:1})])])),_:1})],64))}});var wse=(e=>(e[e.Private=0]="Private",e[e.Public=1]="Public",e))(wse||{});const xse={0:"Riêng tư",1:"Công khai"},_se={class:"mt-4 pb-8 flex-1 w-full bg-white"},Ese=["src"],Cse={class:"px-4"},Ase={class:"overflow-x-scroll my-6 items-center flex gap-3 scrollbar-hidden"},Tse=["onClick"],Sse=["src"],Ise={class:"text-sm text-black2 font-medium"},Pse={class:"flex pb-5"},Dse={class:"flex-1 flex items-center gap-2"},Rse={class:"flex-1 flex items-center gap-2"},Lse={class:"flex"},Mse={class:"flex flex-1 items-center gap-2"},Ose={class:"flex flex-1 items-center gap-2"},Nse=["src"],$se={class:"ion-padding mt-8 bg-white"},Fse=["src"],Bse={class:"my-6"},zse={class:"font-medium"},jse={class:"text-base font-light text-black2"},Vse={class:"flex mb-6"},Use={class:"text-center text-base font-normal text-black flex-1 border-r-[0.75px] border-t-[1.5px] border-b-[1.5px] border-gray3 py-3"},Hse={class:"font-semibold"},qse={class:"text-center text-base font-normal text-black flex-1 border-l-[0.75px] border-t-[1.5px] border-b-[1.5px] border-gray3 py-3"},Gse={class:"font-semibold"},Wse={key:0},Yse={key:1},Kse={key:3},Qse=jn({__name:"TabAbout",setup(e){var t,i;const n=Rw(),o=oT(),r=lT(),s=EC(),a=vC(),{community:l}=mC(o),{isLoggedIn:c}=mC(s),d="https://unica.expert",u=Ti(null!==(t=l.value)&&void 0!==t&&t.slides?null===(i=l.value)||void 0===i?void 0:i.slides[0]:void 0),{userCommunity:h}=mC(r),p=ks((()=>!h.value||!l.value||h.value.community_id===l.value._id&&!(h.value.status===m4.Joined||h.value.status===m4.Waiting))),m=ks((()=>{var e,t,i,n;return!p.value&&(null===(e=h.value)||void 0===e?void 0:e.status)===m4.Joined&&((null===(t=h.value)||void 0===t?void 0:t.role)===rT.Admin||(null===(i=h.value)||void 0===i?void 0:i.user_id)===(null===(n=l.value)||void 0===n?void 0:n.owner_id))})),f=ks((()=>{var e;return!p.value&&(null===(e=h.value)||void 0===e?void 0:e.status)===m4.Joined}));ks((()=>{var e,t,i;return!(!h.value||h.value.role!==rT.Member||null===(e=l.value)||void 0===e||!e.member_last_limit_package)&&aT(null===(t=l.value)||void 0===t?void 0:t.member_last_limit_package).isBefore(null===(i=h.value)||void 0===i?void 0:i.created_at)}));const g=ks((()=>{var e;if(null!==(e=l.value)&&void 0!==e&&e.communityFee){var t;const e=null===(t=l.value.communityFee)||void 0===t?void 0:t.price;return null==e?null:e>0?`THAM GIA VỚI ${e.toLocaleString("vi-VN",{style:"currency",currency:"VND"})}/THÁNG`:null}return null})),b=ks((()=>{var e;const t=(null===(e=l.value)||void 0===e||null===(e=e.communityFee)||void 0===e?void 0:e.price)||0;return t>0?`${t.toLocaleString("vi-VN",{currency:"VND"})}đ/tháng`:"Miễn phí"})),v=e=>{setTimeout((()=>{e.target.complete()}),2e3)},y=async()=>{try{var e;const{data:t}=await SC.get(`/community-utility/${null===(e=l.value)||void 0===e?void 0:e._id}/survey`);return t}catch(N0){console.log(N0)}},k=async()=>{if(!c.value)return n.push({name:"LoginScreen"}),void a.setRouterCallback({goBack:!0});const e=await y();var t;bC.isEmpty(null==e?void 0:e.questions)?w():(async e=>{const t=await ax.create({component:kse,componentProps:{data:e}});t.present();const{data:i,role:n}=await t.onWillDismiss();"confirm"===n&&w(i)})(null!==(t=null==e?void 0:e.questions)&&void 0!==t?t:[])},w=async e=>{try{var t,i;const a=await SC.post("/user-community",{community_id:null===(t=l.value)||void 0===t?void 0:t._id,survey_questions:e,current_frontend_url:d,ref:void 0});var n,o,s;if((201===(null==a?void 0:a.status)||200===(null==a?void 0:a.status))&&null!=a&&null!==(i=a.data)&&void 0!==i&&i.message)r.setUserCommunity(null==a||null===(n=a.data)||void 0===n?void 0:n.user_community),lS(null!==(o=null==a||null===(s=a.data)||void 0===s?void 0:s.message)&&void 0!==o?o:"","warning")}catch(a){console.log(a)}},x=async()=>{var e;const{status:t}=await SC.patch(`/user-community/${null===(e=h.value)||void 0===e?void 0:e._id}/unsubscribe`);200===t&&(r.setUserCommunity(),lS("Đã huỷ yêu cầu tham gia cộng đồng","warning"))};to((()=>{y()}));const _=e=>{e.target.src=""};return(e,t)=>($r(),Vr(Di(Kk),{class:"flex-col scrollbar-hidden",color:"white1"},{default:pn((()=>{var e,i,n,o,r,s,a,c,h,y,w,E,C,A,T,S,I,P,D,R,L,M,O,N,$,F,B,z,j,V;return[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:v},{default:pn((()=>[Yr(Di(dw))])),_:1}),Wr("div",_se,[Wr("div",null,["youtube"===(null===(e=u.value)||void 0===e?void 0:e.type)&&null!==(i=u.value)&&void 0!==i&&i.url?($r(),jr("div",{class:"aspect-video",key:u.value.id},[Yr(p3,{provider:"youtube",src:null!==(n=u.value.embed_url)&&void 0!==n?n:null===(o=u.value)||void 0===o?void 0:o.url,"can-rotate":!1},null,8,["src"])])):"vimeo"===(null===(r=u.value)||void 0===r?void 0:r.type)&&null!==(s=u.value)&&void 0!==s&&s.url?($r(),jr("div",{class:"aspect-video bg-black content-center",key:u.value.id+"vimeo"},[Yr(p3,{provider:"vimeo",src:u.value.url,"can-rotate":!1},null,8,["src"])])):($r(),jr("img",{key:2,src:Di(bC.isEmpty)(u.value)?null!==(E=null===(C=Di(l))||void 0===C?void 0:C.thumbnail)&&void 0!==E?E:"https://via.placeholder.com/100x100/ddd/ddd":"image"==(null===(a=u.value)||void 0===a?void 0:a.type)?null!==(c=null===(h=u.value)||void 0===h?void 0:h.url)&&void 0!==c?c:"https://via.placeholder.com/100x100/ddd/ddd":null!==(y=null===(w=u.value)||void 0===w?void 0:w.thumb)&&void 0!==y?y:"https://via.placeholder.com/100x100/ddd/ddd",onError:_,class:"object-cover bg-[#ddd] w-full aspect-video"},null,40,Ese))]),Wr("div",Cse,[Wr("section",Ase,[($r(!0),jr(Dr,null,vo(null===(A=Di(l))||void 0===A?void 0:A.slides,((e,t)=>{var i;return $r(),jr("div",{key:t},[Wr("div",{onClick:t=>{return i=e,void(u.value=i);var i},class:"size-20 justify-center flex items-center relative rounded-lg"},["image"!=e.type?($r(),Vr(Di(ex),{key:0,icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm74.77 217.3l-114.45 69.14a10.78 10.78 0 01-16.32-9.31V186.87a10.78 10.78 0 0116.32-9.31l114.45 69.14a10.89 10.89 0 010 18.6z'/></svg>"),class:"absolute size-8 text-[#f8f8f8]"},null,8,["icon"])):Jr("",!0),Wr("img",{src:"image"==e.type?null==e?void 0:e.url:null==e?void 0:e.thumb,class:We(["h-full bg-[#ddd] flex-1 object-cover rounded-lg",{"border-[3px] border-blue1":(null===(i=u.value)||void 0===i?void 0:i.id)==e.id,"":"image"!=e.type}]),onError:_,placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,42,Sse)],8,Tse)])})),128))]),Wr("div",Ise,[Wr("div",Pse,[Wr("div",Dse,[Yr(Di(ex),{icon:1===(null===(T=Di(l))||void 0===T?void 0:T.status)?Di(NT):Di(UT),class:"size-5"},null,8,["icon"]),Xr(" "+Ze(Di(xse)[null===(S=Di(l))||void 0===S?void 0:S.status]),1)]),Wr("div",Rse,[Yr(Di(ex),{src:"/icUser.svg",class:"size-5"}),Xr(" "+Ze(null!==(I=null===(P=Di(l))||void 0===P?void 0:P.total_member)&&void 0!==I?I:0)+" thành viên ",1)])]),Wr("div",Lse,[Wr("div",Mse,[Yr(Di(ex),{src:"/tag.svg",class:"size-5"}),Xr(" "+Ze(b.value),1)]),Wr("div",Ose,[Di(bC.isEmpty)(null===(D=Di(l))||void 0===D||null===(D=D.owner)||void 0===D?void 0:D.avatar)?($r(),Vr(Di(ex),{key:1,icon:Di(YT),class:"size-6"},null,8,["icon"])):($r(),jr("img",{key:0,src:null===(R=Di(l))||void 0===R||null===(R=R.owner)||void 0===R?void 0:R.avatar,class:"size-6 rounded-full"},null,8,Nse)),Xr(" "+Ze(null===(L=Di(l))||void 0===L||null===(L=L.owner)||void 0===L?void 0:L.full_name),1)])])])])]),Wr("section",$se,[($r(),jr("img",{src:null===(M=Di(l))||void 0===M?void 0:M.thumbnail,key:null===(O=Di(l))||void 0===O?void 0:O.thumbnail,onError:_,class:"object-cover bg-[#ddd] w-full aspect-video rounded-lg"},null,40,Fse)),Wr("div",Bse,[Wr("div",zse,Ze(null===(N=Di(l))||void 0===N?void 0:N.name),1),Wr("div",{onClick:t[0]||(t[0]=e=>{var t,i,n;return(async e=>{await bS.open({url:e})})(`${Di(d)}/${null!==(t=null===(i=Di(l))||void 0===i?void 0:i.short_name)&&void 0!==t?t:null===(n=Di(l))||void 0===n?void 0:n._id}`)}),class:"py-2.5 text-sm font-light text-gray2"},Ze(`${Di(d)}/${null!==($=null===(F=Di(l))||void 0===F?void 0:F.short_name)&&void 0!==$?$:null===(B=Di(l))||void 0===B?void 0:B._id}`),1),Wr("span",jse,Ze(null===(z=Di(l))||void 0===z?void 0:z.description),1)]),Wr("section",Vse,[Wr("div",Use,[Wr("div",Hse,Ze(null===(j=Di(l))||void 0===j?void 0:j.total_member),1),t[1]||(t[1]=Xr(" Thành viên "))]),Wr("div",qse,[Wr("div",Gse,Ze(null===(V=Di(l))||void 0===V?void 0:V.total_admin),1),t[2]||(t[2]=Xr(" Admin "))])]),p.value?($r(),jr("div",Wse,[g.value?Jr("",!0):($r(),Vr(Di(qk),{key:0,onClick:k,color:"orange1",class:"flex items-center font-medium w-full h-12 justify-center text-sm uppercase text-center shadow-st rounded-xl"},{default:pn((()=>{var e;return[Xr(Ze(null!==(e=g.value)&&void 0!==e?e:"Tham gia cộng đồng"),1)]})),_:1}))])):m.value?($r(),jr("div",Yse)):f.value?($r(),jr(Dr,{key:2},[],64)):($r(),jr("div",Kse,[t[3]||(t[3]=Wr("div",{class:"flex items-center text-[#6B7280] shadow-st bg-gray4 font-semibold w-full h-12 justify-center text-sm uppercase text-center rounded-xl"}," Chờ xác nhận ",-1)),Wr("div",{onClick:x,class:"text-sm text-gray2 font-medium text-center mt-4"}," Huỷ đăng ký cộng đồng ")]))]),t[4]||(t[4]=Wr("div",{class:"text-center text-sm font-light my-4 mb-10 text-gray2"},[Xr(" Vận hành bởi "),Wr("span",{class:"font-medium"},"Unica.expert")],-1))]})),_:1}))}}),Xse=1,Jse=2,Zse=3;var eae=(e=>(e[e.Draft=0]="Draft",e[e.Publish=1]="Publish",e[e.StopSelling=2]="StopSelling",e))(eae||{});const tae=[{type:"auto",title:"Thanh toán theo gói, gia hạn tự động",description:"Đến kỳ thanh toán hệ thống sẽ tự động trừ tiền từ tài khoảnthẻ của bạn. Bạn có thể hủy bất cứ khi nào."},{type:"manual",title:"Thanh toán theo gói, gia hạn thủ công",description:"Thanh toán thủ công mỗi lần gia hạn"}],iae=[{value:0,label:"Trọn đời"},{value:1,label:"1 tháng"},{value:2,label:"3 tháng"},{value:3,label:"6 tháng"},{value:4,label:"12 tháng"}],nae=[{value:0,label:"Mọi người"},{value:1,label:"Level 1"},{value:2,label:"Level 2"},{value:3,label:"Level 3"},{value:4,label:"Level 4"},{value:5,label:"Level 5"},{value:6,label:"Level 6"},{value:7,label:"Level 7"},{value:8,label:"Level 8"},{value:9,label:"Level 9"}],oae=[{id:"0",logoSrc:"/wallets/momo.png",name:"Ví điện tử MoMo"},{id:"1",logoSrc:"/wallets/qrcode.png",name:"Chuyển khoản liên ngân hàng bằng QR code"},{id:"2",logoSrc:"/wallets/atm.png",name:"Thẻ ATM/Internet Banking"},{id:"3",logoSrc:"/wallets/visa.png",name:"Thẻ quốc tế Visa/Master"},{id:"4",logoSrc:"/wallets/vnpay.png",name:"Cổng thanh toán VNPay"},{id:"5",logoSrc:"/wallets/shopeepay.png",name:"Cổng thanh toán ShopeePay"},{id:"6",logoSrc:"/wallets/zalopay.png",name:"Cổng thanh toán ZaloPay"}],rae=[{id:void 0,label:"Tất cả"},{id:wse.Public,label:"Công khai"},{id:wse.Private,label:"Riêng tư"}],sae=[{id:"all",label:"Tất cả"},{id:"free",label:"Miễn phí"},{id:"pay_fee",label:"Có phí"}],aae=[{name:"Gói START",code:"START"},{name:"Gói PRO 3 tháng: 999k/tháng",code:"PRO_MONTHLY",sku:"expertpro3m",price:2997e3,unit:999e3,duration:3,packageName:"PRO"},{name:"Gói VIP 3 tháng: 1999k/tháng",code:"VIP_MONTHLY",sku:"expertvip3m",price:5997e3,unit:1999e3,duration:3,packageName:"VIP"}],lae=jn({__name:"ModalPopoverBlockCourse",setup:e=>(e,t)=>($r(),Vr(Di(Kk),null,{default:pn((()=>t[0]||(t[0]=[Wr("div",{class:"text-center text-sm py-2"},"Hết hạn gói Vip",-1)]))),_:1}))}),cae=["src","alt"],dae=jn({__name:"ImgElement",props:{src:{type:String,default:"https://via.placeholder.com/300x200"},alt:{type:String,default:"Image"},fallback:{type:String,default:"https://via.placeholder.com/300x200?text=Image+Not+Found"}},setup(e){const t=e,i=Ti(t.src);function n(){i.value=t.fallback}return(t,o)=>($r(),jr("img",{src:i.value,alt:e.alt,loading:"lazy",onError:n},null,40,cae))}}),uae=0;var hae=(e=>(e[e.Member=1]="Member",e[e.Service=2]="Service",e))(hae||{});const{DEV:pae,VITE_API_URL:mae,VITE_API_URL_DEV:fae}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},gae=(e,t)=>{const i=pae?fae:mae,n=[...cse],o=Rw(),r=Ti(),s=Ti(),a=CdvPurchase.store,l=Ti(!1),c=Ti(0),d=()=>{l.value=!0,a.when().productUpdated((()=>{console.log("productUpdated")})).receiptsReady((()=>{l.value=!1,console.log("receiptsReady",a.products)})).approved((e=>{e.verify()})).verified((e=>{l.value=!1,e.finish()})).unverified((e=>{console.log("Purchase unverified:",e)})).finished((async t=>{var i;bC.isEmpty(null===(i=t.purchaseDate)||void 0===i?void 0:i.toString())||"appstore.application"===t.transactionId||(console.log("counter",c.value,e),0==c.value&&(console.log("🌸 transaction 👉",t),"course"===e?await u(t.transactionId):"create-community"===e&&await h(t.transactionId),l.value=!1,c.value++,t.finish())),l.value=!1}))},u=async e=>{const{data:i,status:n}=await SC.post("app-transaction",{community_order_id:r.value,platform:"ios",transaction_id:Number(e),debug:pae});console.log("data app trans",i,n),201===n&&(o.push({name:"CourseLearningScreen",params:{courseId:null==i?void 0:i.course_id}},iT),t&&await t()),l.value=!1},h=async e=>{const{data:i,status:n}=await SC.post("app-transaction",{order_id:s.value,platform:"ios",transaction_id:Number(e),debug:pae});201===n&&(o.replace({name:"CommunityScreen",params:{id:null==i?void 0:i.community_id}},iT),t&&await t()),l.value=!1};return io((()=>{Hc("ios")&&d()})),so((()=>{l.value=!1})),{listenBuyIn:d,loadingIAP:l,_SKU:n,buyCourse:async(e,t,o)=>{var s,c;if(console.log("Buying course"),!e)return;if(Hc("android")||Hc("mobileweb")||!n.includes(null!=t?t:"none")){var d;const t=await SC.post("community-order/buy-course",{platform:"android",course_id:e,payment_type:null!=o?o:1,current_frontend_url:i});var u;if(400===(null==t?void 0:t.status)&&null!=t&&null!==(d=t.response)&&void 0!==d&&null!==(d=d.data)&&void 0!==d&&d.message)return void lS((null==t||null===(u=t.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.message)||"Có lỗi xảy ra, vui lòng thử lại sau","error");if(201===(null==t?void 0:t.status)){var h;const e=null==t||null===(h=t.data)||void 0===h?void 0:h.payment_link;e&&await bS.open({url:e})}return}const p=await SC.post("community-order/buy-course",{platform:"ios",course_id:e,current_frontend_url:i,payment_type:1});var m;if(400===(null==p?void 0:p.status)&&null!=p&&null!==(s=p.response)&&void 0!==s&&null!==(s=s.data)&&void 0!==s&&s.message)lS((null==p||null===(m=p.response)||void 0===m||null===(m=m.data)||void 0===m?void 0:m.message)||"Có lỗi xảy ra, vui lòng thử lại sau","error");else if(!bC.isEmpty(null==p||null===(c=p.data)||void 0===c?void 0:c._id)&&201===(null==p?void 0:p.status)&&t){var f,g,b;r.value=null==p||null===(f=p.data)||void 0===f?void 0:f._id,console.log("🌸 community_order_id 👉",null==p||null===(g=p.data)||void 0===g?void 0:g._id);const e=await a.get(t);if(!e)return void console.log("Product not found");l.value=!0,null===(b=e.getOffer())||void 0===b||b.order().then((e=>{e&&(e.code===CdvPurchase.ErrorCode.PAYMENT_CANCELLED?(console.log("Payment cancelled by user"),l.value=!1):(l.value=!1,console.log("Failed to subscribe:",e)))}))}},buyCreateCommunity:async(e,t)=>{var n,o;const r={order_type:hae.Service,order_status:uae,origin_total_amount:null==t?void 0:t.total_amount,total_amount:null==t?void 0:t.total_amount,period:null==t?void 0:t.period,package_name:null==t?void 0:t.package_name,community_id:null==t?void 0:t.community_id,ref:null,current_frontend_url:i,code:"",unit_price:null==t?void 0:t.unit_price,money_discount_from_old_package:0};console.log(r);const c=await SC.post("/community-pay/create-payment",r);var d;if(400===(null==c?void 0:c.status)&&null!=c&&null!==(n=c.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.message)lS((null==c||null===(d=c.response)||void 0===d||null===(d=d.data)||void 0===d?void 0:d.message)||"Có lỗi xảy ra, vui lòng thử lại sau","error");else if(!bC.isEmpty(null==c||null===(o=c.data)||void 0===o?void 0:o.order_id)&&201===(null==c?void 0:c.status)&&e){var u,h;s.value=null==c||null===(u=c.data)||void 0===u?void 0:u.order_id;const t=await a.get(e);if(!t)return void console.log("Product not found");l.value=!0,null===(h=t.getOffer())||void 0===h||h.order().then((e=>{e&&(e.code===CdvPurchase.ErrorCode.PAYMENT_CANCELLED?(console.log("Payment cancelled by user"),l.value=!1):(l.value=!1,console.log("Failed to subscribe:",e)))}))}}}},bae={class:"flex justify-between ion-padding-horizontal py-3"},vae={class:"flex items-center"},yae={class:"ion-padding-horizontal pb-4"},kae={class:"text-lg"},wae={key:0,class:"flex justify-between text-base font-normal mt-4"},xae={class:"flex justify-between text-base font-normal py-4"},_ae={class:"flex justify-between text-lg font-medium text-black border-t-[1px] border-gray1 pt-4"},Eae={key:1,class:"w-full mt-4"},Cae={class:"text-wrap"},Aae={class:"font-medium text-base"},Tae={class:"font-light text-sm"},Sae={key:0},Iae=jn({__name:"ModalConfirmBuyCourse",props:{sku:{},course:{},callbackBuySuccess:{type:Function,default:()=>{}}},setup(e){const t=[{id:1,title:"Thanh toán một lần",description:"Thanh toán thủ công mỗi lần gia hạn"},{id:2,title:"Thanh toán định kỳ (tự động)",description:"Đến kỳ thanh toán hệ thống sẽ tự động trừ tiền từ tài khoản thẻ của bạn. Bạn có thể hủy bất cứ khi nào. (Áp dụng với giao dịch nhỏ hơn hoặc bằng 1 triệu đồng)"}],i=e,n=Ti(1),{buyCourse:o,loadingIAP:r,_SKU:s}=gae("course",(async()=>{i.callbackBuySuccess(),await ax.dismiss(null,"close")})),a=async()=>{r.value||await ax.dismiss(null,"close")};return(e,l)=>{var c,d,u,h,p,m,f,g,b,v;return $r(),jr(Dr,null,[Wr("div",bae,[l[2]||(l[2]=Wr("h1",{class:"font-medium text-xl"},"Đăng ký khoá học",-1)),Wr("div",vae,[Yr(Di(ex),{onClick:a,icon:Di(LT),class:"size-7 text-gray2"},null,8,["icon"])])]),Wr("div",yae,[Wr("div",kae,Ze(null===(c=e.course)||void 0===c?void 0:c.title),1),null!==(d=e.course)&&void 0!==d&&d.time_expired&&0!=(null===(u=e.course)||void 0===u?void 0:u.time_expired)&&!Di(bC.isNull)(null===(h=e.course)||void 0===h?void 0:h.price)&&Number(null===(p=e.course)||void 0===p?void 0:p.price)<=Math.pow(10,6)&&!Di(s).includes(e.sku)?($r(),jr("div",wae,[l[3]||(l[3]=Wr("div",null,"Thời hạn:",-1)),Wr("div",null,Ze(Di(iae)[e.course.time_expired].label),1)])):Jr("",!0),Wr("div",xae,[l[4]||(l[4]=Wr("div",null,"Tạm tính:",-1)),Wr("div",null,Ze(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(null!==(m=null===(f=e.course)||void 0===f?void 0:f.price)&&void 0!==m?m:0)),1)]),Wr("div",_ae,[l[5]||(l[5]=Wr("div",null,"Tổng tiền:",-1)),Wr("div",null,Ze(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(null!==(g=null===(b=e.course)||void 0===b?void 0:b.price)&&void 0!==g?g:0)),1)]),0==(null===(v=e.course)||void 0===v?void 0:v.time_expired)||Di(s).includes(e.sku)?Jr("",!0):($r(),jr("div",Eae,[Yr(Di(lw),{value:n.value,modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e)},{default:pn((()=>[($r(),jr(Dr,null,vo(t,((e,t)=>Wr("div",{key:t,class:We(["my-1.5 p-2 flex items-center w-full border-[1px] rounded-lg gap-2",n.value===e.id?"border-blue1":"border-gray2 opacity-40"])},[Yr(Di(aw),{value:e.id,mode:"md",alignment:"start","label-placement":"end",color:"blue1",justify:"start"},null,8,["value"]),Wr("div",Cae,[Wr("div",Aae,Ze(e.title),1),Wr("div",Tae,Ze(e.description),1)])],2))),64))])),_:1},8,["value","modelValue"])])),Wr("div",{onClick:l[1]||(l[1]=()=>{var t,r;return Di(o)(null===(t=e.course)||void 0===t?void 0:t._id,null==i?void 0:i.sku,null!==(r=n.value)&&void 0!==r?r:1)}),class:"bg-blue1 text-white font-medium text-lg flex justify-center py-2 rounded-lg mt-8"},[Di(r)?($r(),Vr(Di(vw),{key:1,class:"size-7",color:"white"})):($r(),jr("div",Sae,"ĐĂNG KÝ NGAY"))])]),Yr(dS,{"is-open":Di(r),"backdrop-opacity":.2},null,8,["is-open"])],64)}}}),Pae={class:"relative"},Dae={key:1,class:"w-full bg-[#ddd] aspect-video rounded-t-lg"},Rae={key:2,class:"absolute top-2 left-2 bg-gray2 text-white p-1 px-2 rounded-lg font-medium text-sm"},Lae={key:3,class:"absolute top-2 left-2 bg-red-500 text-white p-1 px-2 rounded-lg font-medium text-sm"},Mae={key:5,class:"bg-[#00000080] w-full aspect-video absolute top-0 text-white justify-center flex flex-col items-center"},Oae={class:"text-lg uppercase font-semibold mt-2"},Nae={key:0},$ae={key:0,class:"flex gap-4 mt-3"},Fae={class:"p-4"},Bae={class:"text-base text-black2 font-medium"},zae={class:"line-clamp-3 text-base text-black2 font-light my-3"},jae={class:"flex justify-between"},Vae={class:"text-base font-normal text-gray-600"},Uae={key:0,class:"text-base font-medium text-black"},Hae={key:0,class:"text-sm font-normal"},qae=jn({__name:"CardCourse",props:{onPress:{type:Function,default:()=>{}},onActionPress:{type:Function,default:()=>{}},course:{},id:{},onCallBackBuySuccess:{type:Function,default:()=>{}}},setup(e){var t,i;const n=e,o=lT(),r=oT(),s=EC(),{userCommunity:a}=mC(o),{community:l}=mC(r),{userInfo:c}=mC(s),d=!(null===(t=l.value)||void 0===t||!t.package_expires||!aT(null===(i=l.value)||void 0===i?void 0:i.package_expires).isBefore(aT())),u=ks((()=>{var e,t,i,n,o;return(null===(e=a.value)||void 0===e?void 0:e.user_id)===(null===(t=c.value)||void 0===t?void 0:t._id)&&((null===(i=a.value)||void 0===i?void 0:i.role)===rT.Admin||(null===(n=l.value)||void 0===n?void 0:n.owner_id)===(null===(o=c.value)||void 0===o?void 0:o._id))})),h=async e=>{const t=await lx.create({component:lae,event:e,size:"auto",cssClass:"popcss"});await t.present()},p=ks((()=>!bC.isEmpty(n.course)&&!bC.isEmpty(a.value)&&(!n.course.level||!(n.course.level_point&&a.value.point<n.course.level_point))));ks((()=>{var e;return null===(e=n.course)||void 0===e||!e.price||n.course.price,!1}));const m=ks((()=>{return!!u.value||(!!p.value||(null===(e=n.course)||void 0===e?void 0:e.paid));var e})),f=async()=>{var e,t;const i=await ax.create({mode:"ios",component:Iae,componentProps:{sku:isNaN(Number(null===(e=n.course)||void 0===e?void 0:e.price))?null:`expert${Number(null===(t=n.course)||void 0===t?void 0:t.price)/1e3}k`,course:n.course,callbackBuySuccess:n.onCallBackBuySuccess},cssClass:"buycourse",backdropDismiss:!1});await i.present()};return(e,t)=>($r(),Vr(Di(Gk),{class:"shadow-st my-4 ion-margin-horizontal bg-white rounded-t-lg overflow-hidden",onClick:e.onPress},{default:pn((()=>{var t,i,n,o,r,s,a,l,c,p,g,b,v,y,k,w,x,_,E;return[Wr("div",Pae,[null!==(t=e.course)&&void 0!==t&&t.thumbnail?($r(),Vr(dae,{key:0,src:null===(i=e.course)||void 0===i?void 0:i.thumbnail,class:"w-full aspect-video rounded-t-lg",alt:null===(n=e.course)||void 0===n?void 0:n.title},null,8,["src","alt"])):($r(),jr("div",Dae)),(null===(o=e.course)||void 0===o?void 0:o.status)===Di(eae).Draft&&u.value?($r(),jr("div",Rae," Nháp ")):Jr("",!0),(null===(r=e.course)||void 0===r?void 0:r.status)===Di(eae).StopSelling?($r(),jr("div",Lae," Dừng bán ")):d?($r(),jr("div",{key:4,onClick:Ta(h,["stop"]),class:"absolute top-2 left-2 bg-[#ba133a] text-white p-1 px-2 rounded-lg font-medium text-sm"}," Khoá ")):Jr("",!0),m.value?Jr("",!0):($r(),jr("div",Mae,[Yr(Di(ex),{icon:Di(UT),class:"size-10"},null,8,["icon"]),Wr("div",Oae,[null===(s=e.course)||void 0===s||!s.price||e.course.price<=0?Jr("",!0):($r(),jr("span",Nae,"Mua hoặc ")),Xr(" Mở khoá từ level "+Ze(null===(a=e.course)||void 0===a?void 0:a.level),1)]),null===(l=e.course)||void 0===l||!l.price||e.course.price<=0?Jr("",!0):($r(),jr("div",$ae,[Wr("div",{onClick:Ta(f,["stop"]),class:"bg-blue1 py-1.5 px-2 rounded-lg text-base font-medium"}," Mua khoá học ")]))]))]),Wr("div",Fae,[Wr("span",Bae,Ze(null===(c=e.course)||void 0===c?void 0:c.title),1),Wr("div",zae,Ze(Di(hD)(null===(p=e.course)||void 0===p?void 0:p.description)),1),Wr("div",jae,[Wr("div",Vae,Ze(null!==(g=e.course)&&void 0!==g&&g.level?`Level ${null===(b=e.course)||void 0===b?void 0:b.level}`:"Mọi cấp độ"),1),!m.value&&null!==(v=e.course)&&void 0!==v&&v.price?($r(),jr("div",Uae,[Xr(Ze(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(null!==(y=null===(k=e.course)||void 0===k?void 0:k.price)&&void 0!==y?y:0))+" ",1),null!==(w=e.course)&&void 0!==w&&w.time_expired&&0!=(null===(x=e.course)||void 0===x?void 0:x.time_expired)&&!Di(bC.isNull)(null===(_=e.course)||void 0===_?void 0:_.price)&&(null===(E=e.course)||void 0===E?void 0:E.price)>0?($r(),jr("span",Hae,"/ "+Ze(Di(iae)[e.course.time_expired].label),1)):Jr("",!0)])):Jr("",!0)])])]})),_:1},8,["onClick"]))}}),Gae={key:0,class:"pb-8"},Wae={key:1,class:"h-full"},Yae=jn({__name:"TabCourse",setup(e){const t=Rw(),i=oT(),n=lT(),{userInfo:o}=mC(EC()),{community:r}=mC(i),{userCommunity:s}=mC(n),a=Ti([]),l=Ti(1),c=Ti(!1),d=Ti(!1),u=async(e=1,t=!1)=>{var i,n;const o={community_id:null===(i=r.value)||void 0===i?void 0:i._id,can_modify:(null===(n=s.value)||void 0===n?void 0:n.role)===rT.Admin,limit:10,page:e},{data:d}=await SC.get("/course",{params:o});var u;if(bC.isEmpty(d))c.value=!1;else if(null!=d&&null!==(u=d.meta)&&void 0!==u&&u.hasNextPage?(l.value++,c.value=!0):c.value=!1,t){var p;const e=await h(null==d?void 0:d.data);a.value=[...a.value,...null!==(p=null!=e?e:d.data)&&void 0!==p?p:[]]}else{var m;const e=await h(null==d?void 0:d.data);a.value=null!==(m=null!=e?e:null==d?void 0:d.data)&&void 0!==m?m:[]}},h=async e=>{var t,i;const n=null==e?void 0:e.map((e=>e._id));if(bC.isEmpty(n))return[];const{data:s}=await SC.get("user-course",{params:{user_id:null===(t=o.value)||void 0===t?void 0:t._id,course_ids:n,community_id:null===(i=r.value)||void 0===i?void 0:i._id,paid:!0,access_by_level:!0,is_attached:!0}});if(!bC.isEmpty(s)){const t=s.map((e=>e.course_id)),i=null==e?void 0:e.map((e=>t.includes(null==e?void 0:e._id)?{...e,paid:!0}:e));return bC.isEmpty(i)?null:i}return null},p=()=>{u(1,!1),l.value=1,c.value=!1};to((()=>{p()}));const m=e=>{p(),setTimeout((()=>{e.target.complete()}),700)},f=async e=>{u(l.value,!0),setTimeout((()=>e.target.complete()),500)},g=()=>{t.push({name:"CourseEditInfomationScreen",params:{courseId:"a515a"}},iT)},b=ks((()=>Hc("tablet")||Hc("ipad")));return(e,i)=>($r(),Vr(Di(Kk),{class:"flex-col",color:"white1"},{default:pn((()=>[Yr(Di(cw),{mode:"md",slot:"fixed",onIonRefresh:m},{default:pn((()=>[Yr(Di(dw))])),_:1}),Di(bC.isEmpty)(a.value)?($r(),jr("div",Wae,i[0]||(i[0]=[Wr("section",{class:"flex flex-col h-full items-center justify-center text-gray2"},[Wr("img",{src:jZ,class:"size-32"}),Wr("div",{class:"text-center mb-2 font-light"},[Xr(" Hiện tại chưa có khóa học nào."),Wr("br")])],-1)]))):($r(),jr("div",Gae,[Wr("div",{class:We(b.value?"grid grid-cols-2":"")},[($r(!0),jr(Dr,null,vo(a.value,((e,i)=>($r(),jr("section",{key:e._id,class:""},[Yr(qae,{course:e,onCallBackBuySuccess:e=>(e=>{a.value[e].paid=!0})(i),onPress:i=>(e=>{s.value&&s.value.status==m4.Joined?t.push({name:"CourseLearningScreen",params:{courseId:e._id}},iT):d.value||lS("Bạn phải là thành viên của cộng đồng trước. Hãy đăng ký làm thành viên","warning")})(e),onActionPress:t=>(async e=>{const t=await dx.create({mode:"ios",buttons:[{text:"Chỉnh sửa",handler:g},{text:"Xoá",role:"destructive",handler:()=>console.log("asasas")},{text:"Huỷ",role:"cancel"}],translucent:!0});await t.present();const i=await t.onWillDismiss();console.log(i,e)})(e)},null,8,["course","onCallBackBuySuccess","onPress","onActionPress"])])))),128))],2)])),c.value?($r(),Vr(Di(Zk),{key:2,threshold:"0.9%",onIonInfinite:f},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1}))}}),Kae={class:"h-[50%] overflow-y-scroll pb-10"},Qae=["onClick"],Xae=fS(jn({__name:"ModalTopicCommunityDropdown",props:{topics:{},selectedTopic:{}},setup:e=>(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding-vertical",color:"white1"},{default:pn((()=>[Wr("section",Kae,[($r(!0),jr(Dr,null,vo(e.topics,((t,i)=>{var n;return $r(),jr("div",{key:i},[Wr("div",{onClick:e=>(async e=>{ax.dismiss(e,"confirm")})(t),class:We(["flex flex-1 py-2.5 rounded-md px-8",{"bg-blue1-tint1":(null==t?void 0:t._id)===(null===(n=e.selectedTopic)||void 0===n?void 0:n._id)}])},Ze(null==t?void 0:t.title),11,Qae)])})),128))])])),_:1}))}),[["__scopeId","data-v-3fc40fe3"]]);var Jae=(e=>(e[e.Processing=0]="Processing",e[e.Processed=1]="Processed",e))(Jae||{});const Zae={key:0,class:"absolute top-2 right-2 shadow-st bg-white text-sm font-normal rounded-lg text-green-500 px-1.5 py-1"},ele=jn({__name:"ComingSoonEvent",setup(e){const t=oT(),i=EC(),{userInfo:n}=mC(i),{community:o}=mC(t),r=Ti([]);io((()=>{(async()=>{var e,t;const i={"filter[user_id]":null===(e=n.value)||void 0===e?void 0:e._id},{data:s}=await SC.get(`/event/community/${null===(t=o.value)||void 0===t?void 0:t._id}/comingSoon`,{params:i});var a;bC.isEmpty(s)||(r.value=null!==(a=null==s?void 0:s.data)&&void 0!==a?a:[])})()}));const s=ks((()=>K0("tablet")||K0("ipad")));return(e,t)=>Di(bC.isEmpty)(r.value)?Jr("",!0):($r(),jr("div",{key:0,class:We(["flex overflow-auto mb-4 ion-padding-horizontal scrollbar-hidden",s.value?"gap-4":"gap-2"])},[($r(!0),jr(Dr,null,vo(r.value,(e=>($r(),jr("div",{key:e._id,class:We(["flex-none rounded-lg overflow-hidden relative shadow-st my-1",s.value?"w-3/5":"w-4/5"])},[Yr(boe,{event:e},null,8,["event"]),Di(bC.isEmpty)(e.subscription)?Jr("",!0):($r(),jr("div",Zae," Đã đăng ký "))],2)))),128))],2))}}),tle={class:"ion-padding-horizontal"},ile={class:"size-9 rounded-full flex"},nle=["src"],ole={key:0,class:"text-center mb-4 flex justify-center gap-2 items-center"},rle={class:"text-center bg-red-600 justify-center items-center text-white text-sm size-6 font-medium rounded-full flex"},sle={key:1,class:"text-center mb-4 flex justify-center gap-2 items-center"},ale={class:"text-center bg-[#FFC451] justify-center items-center text-white text-sm size-6 font-medium rounded-full flex"},lle={class:"flex justify-between items-center ion-padding-horizontal"},cle={class:"flex flex-[0.5] truncate items-center gap-2"},dle={class:"flex items-center line-clamp-1"},ule={class:"flex"},hle={class:"flex-[0.5] mx-2"},ple={class:"my-4 ion-padding-horizontal"},mle={key:0,class:"flex flex-col flex-1 items-center justify-center text-gray2 mt-[15%]"},fle={class:"p-8"},gle={class:"font-bold"},ble={class:"ion-margin-horizontal py-1 font-normal"},vle={class:"font-bold"},yle={class:"ion-margin-horizontal py-1 font-normal"},kle=jn({__name:"TabDiscuss",props:{topics:{},onChangeTab:{type:Function,default:()=>{}}},setup(e){const t=e,i=[{label:"Không",value:void 0},{label:"Đã ghim",value:"pin"}],n=[{label:"Hoạt động gần đây",value:void 0},{label:"Bài viết mới nhất",value:{created_at:-1}},{label:"Bài viết cũ nhất",value:{created_at:1}}],o=Ti({title:"Tất cả",id:"all"}),r=Rw(),s=By(),a=EC(),l=oT(),c=lT(),d=Ti(null),{userInfo:u}=mC(a),{community:h}=mC(l),{userCommunity:p}=mC(c),m=Ti([]),f=Ti(o.value),g=Ti(""),b=Ti(1),v=Ti(!1),y=Ti(),k=mi({filterIdx:0,sortIdx:0}),w=Ti(void 0),x=Ti(void 0),_=e=>{e&&(m.value=m.value.filter((t=>t.creator_id!==e)))},E=async()=>{var e;const i=await ax.create({component:n4,componentProps:{type:"create",topics:null!==(e=t.topics)&&void 0!==e?e:[]},mode:"ios"});i.present();const{role:n}=await i.onWillDismiss();"posted"===n&&I()},C=async()=>{const e=await ax.create({component:Xae,componentProps:{topics:[o.value,...t.topics],selectedTopic:f.value},initialBreakpoint:.5,mode:"ios"});e.present();const{data:i,role:n}=await e.onWillDismiss();var r;"confirm"===n&&(r=i,f.value=r)},A=async(e=1,t=!1)=>{var o,r,s,a,l,c;const d={"w[]":["creator","topic","total_comments","total_reactions","user_reaction","poll"],"wo[]":["user_posts"],limit:20,page:e,blacklist:null!==(o=null===(r=p.value)||void 0===r?void 0:r.blacklist)&&void 0!==o?o:[],"filter[community_id]":null===(s=h.value)||void 0===s?void 0:s._id,"filter[pin_exists]":"pin"===i[k.filterIdx].value||void 0,"filter[topic_id]":"all"!==f.value.id?f.value.id:void 0,"filter[keyword]":null!==(a=g.value)&&void 0!==a?a:void 0,"sort[created_at]":null!==(l=null===(c=n[k.sortIdx].value)||void 0===c?void 0:c.created_at)&&void 0!==l?l:void 0},{data:u}=await SC.get("community-post",{params:d});var y,w,x;(console.log("🌸  res_post 👉",u),bC.isEmpty(u))?v.value=!1:(null!=u&&null!==(y=u.meta)&&void 0!==y&&y.hasNextPage?(b.value++,v.value=!0):v.value=!1,m.value=t?[...m.value,...null!==(w=u.data)&&void 0!==w?w:[]]:null!==(x=null==u?void 0:u.data)&&void 0!==x?x:[])},T=async()=>{var e;const t={"filter[community_id]":null===(e=h.value)||void 0===e?void 0:e._id,"filter[status]":m4.Waiting},{data:i}=await SC.get("/user-community",{params:t});var n,o;bC.isEmpty(i)||(w.value=null!==(n=null===(o=i.meta)||void 0===o?void 0:o.itemCount)&&void 0!==n?n:void 0)},S=async()=>{var e;const t={"filter[community_id]":null===(e=h.value)||void 0===e?void 0:e._id,"filter[status]":Jae.Processing},{data:i}=await SC.get("/community-post-report/count-report/",{params:t});x.value=null!=i?i:0},I=()=>{A(1,!1),b.value=1,v.value=!1};io((async()=>{var e,t,i;I();(null===(e=p.value)||void 0===e?void 0:e.status)===m4.Joined&&((null===(t=p.value)||void 0===t?void 0:t.role)===rT.Admin||p.value.user_id===(null===(i=h.value)||void 0===i?void 0:i.owner_id))&&(T(),S())})),br([f,k],(()=>{I()})),br(s,(()=>{"CommunityScreen"===s.name&&(I(),S())}));const P=async e=>{A(b.value,!0),S(),setTimeout((()=>e.target.complete()),500)},D=()=>{},R=async()=>{await y.value.$el.present()},L=()=>{r.push({name:"CommunityReportPostScreen"},iT)},M=async e=>{var t,i,n;I();(null===(t=p.value)||void 0===t?void 0:t.status)===m4.Joined&&((null===(i=p.value)||void 0===i?void 0:i.role)===rT.Admin||p.value.user_id===(null===(n=h.value)||void 0===n?void 0:n.owner_id))&&(T(),S()),setTimeout((()=>{e.target.complete()}),1500)};return(e,t)=>($r(),jr(Dr,null,[Yr(Di(Kk),{onIonScrollEnd:D,ref_key:"refContentView",ref:d,"scroll-events":!0,class:"flex-col ion-padding-vertical",color:"white1"},{default:pn((()=>{var i,n;return[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:M},{default:pn((()=>[Yr(Di(dw))])),_:1}),Yr(ele),Wr("div",tle,[Wr("div",{onClick:E,class:"bg-white flex items-center mb-4 gap-4 text-gray2 text-base font-normal p-2 rounded-lg shadow-st"},[Wr("div",ile,[Wr("img",{src:null===(i=Di(u))||void 0===i?void 0:i.avatar,class:"w-full rounded-full",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,nle)]),t[4]||(t[4]=Xr(" Tạo bài viết "))]),w.value&&w.value>0?($r(),jr("div",ole,[Wr("span",rle,Ze(w.value),1),Wr("span",{class:"text-blue2 text-base font-medium",onClick:t[0]||(t[0]=Ta(((...t)=>e.onChangeTab&&e.onChangeTab(...t)),["stop"]))},"Yêu cầu thành viên chờ xử lý")])):Jr("",!0),x.value&&Number(x.value)>0?($r(),jr("div",sle,[Wr("span",ale,Ze(x.value),1),Wr("span",{class:"text-blue2 text-base font-medium",onClick:Ta(L,["stop"])},"Báo cáo bài viết từ thành viên")])):Jr("",!0)]),Wr("div",lle,[Wr("div",cle,[Wr("div",dle,[Wr("div",ule,[Yr(Di(ex),{icon:Di(ST),class:"size-5 text-black"},null,8,["icon"])]),Wr("div",{class:"truncate text-nowrap line-clamp-1 flex-1 items-center font-medium gap-2 p-0.5 px-2 rounded-lg",onClick:C},Ze(null===(n=f.value)||void 0===n?void 0:n.title),1)])]),Wr("div",hle,[Wr("form",{class:"w-full",onSubmit:Ta(I,["prevent"])},[mn(Wr("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),class:"px-2 text-sm w-full shadow-st outline-none py-2 rounded-lg bg-white",placeholder:"Tìm kiếm"},null,512),[[fa,g.value]])],32)]),Wr("div",{onClick:R,class:"shadow-st bg-white items-center flex p-[9.5px] px-2.5 rounded-xl"},[Yr(Di(ex),{icon:Di(WT),class:"size-5",color:"gray2"},null,8,["icon"])])]),Wr("section",ple,[($r(!0),jr(Dr,null,vo(m.value,((e,t)=>($r(),jr("div",{key:t,class:"my-4"},[($r(),Vr(k6,{key:Date.now(),post:e,onOptionPress:t=>(async e=>{const t=await ax.create({component:p4,componentProps:{post:e,onCallback:I,onGetReportNumber:S,onCallbackBlockUserPost:_},initialBreakpoint:.5,mode:"ios"});await t.present();const{data:i,role:n}=await t.onWillDismiss();"confirm"===n&&console.log(i)})(e),onPostPress:t=>(e=>{e&&r.push({name:"PostDetailScreen",params:{postId:e._id}})})(e)},null,8,["post","onOptionPress","onPostPress"]))])))),128))]),Di(bC.isEmpty)(m.value)?($r(),jr("div",mle,[Yr(Di(ex),{icon:"/icEmpty.svg",class:"size-32"}),t[5]||(t[5]=Xr(" Chưa có bài viết "))])):Jr("",!0),v.value?($r(),Vr(Di(Zk),{key:1,onIonInfinite:P,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)]})),_:1},512),Yr(Di(rx),{id:"filtercss",ref_key:"refOptionFilter",ref:y},{default:pn((()=>[Wr("div",fle,[Wr("form",null,[Wr("div",gle,[t[6]||(t[6]=Xr(" Lọc ")),Wr("div",ble,[Yr(Di(lw),{value:0,modelValue:k.filterIdx,"onUpdate:modelValue":t[2]||(t[2]=e=>k.filterIdx=e)},{default:pn((()=>[($r(),jr(Dr,null,vo(i,((e,t)=>Wr("div",{key:t,class:"py-1 flex items-center"},[Yr(Di(aw),{alignment:"start",mode:"md",value:t,"label-placement":"end",color:"blue1",justify:"start"},{default:pn((()=>[Yr(Di(ow),{class:"text-wrap text-base"},{default:pn((()=>[Xr(Ze(e.label),1)])),_:2},1024)])),_:2},1032,["value"])]))),64))])),_:1},8,["modelValue"])])]),Wr("div",vle,[t[7]||(t[7]=Xr(" Sắp xếp ")),Wr("div",yle,[Yr(Di(lw),{value:0,modelValue:k.sortIdx,"onUpdate:modelValue":t[3]||(t[3]=e=>k.sortIdx=e)},{default:pn((()=>[($r(),jr(Dr,null,vo(n,((e,t)=>Wr("div",{key:"sort-post-"+t,class:"py-1 flex items-center"},[Yr(Di(aw),{alignment:"center",mode:"md",value:t,"label-placement":"end",color:"blue1",justify:"start"},{default:pn((()=>[Yr(Di(ow),{class:"text-wrap text-base"},{default:pn((()=>[Xr(Ze(e.label),1)])),_:2},1024)])),_:2},1032,["value"])]))),64))])),_:1},8,["modelValue"])])])])])])),_:1},512)],64))}});var wle=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xle="undefined"==typeof window||"Deno"in globalThis;function _le(){}function Ele(e){return"number"==typeof e&&e>=0&&e!==1/0}function Cle(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ale(e,t){return"function"==typeof e?e(t):e}function Tle(e,t){return"function"==typeof e?e(t):e}function Sle(e,t){const{type:i="all",exact:n,fetchStatus:o,predicate:r,queryKey:s,stale:a}=e;if(s)if(n){if(t.queryHash!==Ple(s,t.options))return!1}else if(!Rle(t.queryKey,s))return!1;if("all"!==i){const e=t.isActive();if("active"===i&&!e)return!1;if("inactive"===i&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!o||o===t.state.fetchStatus)&&!(r&&!r(t)))}function Ile(e,t){const{exact:i,status:n,predicate:o,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(i){if(Dle(t.options.mutationKey)!==Dle(r))return!1}else if(!Rle(t.options.mutationKey,r))return!1}return(!n||t.state.status===n)&&!(o&&!o(t))}function Ple(e,t){return((null==t?void 0:t.queryKeyHashFn)||Dle)(e)}function Dle(e){return JSON.stringify(e,((e,t)=>Nle(t)?Object.keys(t).sort().reduce(((e,i)=>(e[i]=t[i],e)),{}):t))}function Rle(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((i=>!Rle(e[i],t[i]))))}function Lle(e,t){if(e===t)return e;const i=Ole(e)&&Ole(t);if(i||Nle(e)&&Nle(t)){const n=i?e:Object.keys(e),o=n.length,r=i?t:Object.keys(t),s=r.length,a=i?[]:{};let l=0;for(let c=0;c<s;c++){const o=i?c:r[c];(!i&&n.includes(o)||i)&&void 0===e[o]&&void 0===t[o]?(a[o]=void 0,l++):(a[o]=Lle(e[o],t[o]),a[o]===e[o]&&void 0!==e[o]&&l++)}return o===s&&l===o?e:a}return t}function Mle(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}function Ole(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nle(e){if(!$le(e))return!1;const t=e.constructor;if(void 0===t)return!0;const i=t.prototype;return!!$le(i)&&(!!i.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function $le(e){return"[object Object]"===Object.prototype.toString.call(e)}function Fle(e,t,i){return"function"==typeof i.structuralSharing?i.structuralSharing(e,t):!1!==i.structuralSharing?Lle(e,t):t}function Ble(e,t,i=0){const n=[...e,t];return i&&n.length>i?n.slice(1):n}function zle(e,t,i=0){const n=[t,...e];return i&&n.length>i?n.slice(0,-1):n}var jle=Symbol();function Vle(e,t){return!e.queryFn&&null!=t&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==jle?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var Ule=new(u=new WeakMap,h=new WeakMap,p=new WeakMap,class extends wle{constructor(){super(),t(this,u,void 0),t(this,h,void 0),t(this,p,void 0),o(p,this,(e=>{if(!xle&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){n(h,this)||this.setEventListener(n(p,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=n(h,this))||void 0===e||e.call(this),o(h,this,void 0))}setEventListener(e){var t;o(p,this,e),null===(t=n(h,this))||void 0===t||t.call(this),o(h,this,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(e){n(u,this)!==e&&(o(u,this,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var e;return"boolean"==typeof n(u,this)?n(u,this):"hidden"!==(null===(e=globalThis.document)||void 0===e?void 0:e.visibilityState)}}),Hle=new(m=new WeakMap,f=new WeakMap,g=new WeakMap,class extends wle{constructor(){super(),t(this,m,!0),t(this,f,void 0),t(this,g,void 0),o(g,this,(e=>{if(!xle&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}}))}onSubscribe(){n(f,this)||this.setEventListener(n(g,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=n(f,this))||void 0===e||e.call(this),o(f,this,void 0))}setEventListener(e){var t;o(g,this,e),null===(t=n(f,this))||void 0===t||t.call(this),o(f,this,e(this.setOnline.bind(this)))}setOnline(e){n(m,this)!==e&&(o(m,this,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return n(m,this)}});function qle(){let e,t;const i=new Promise(((i,n)=>{e=i,t=n}));function n(e){Object.assign(i,e),delete i.resolve,delete i.reject}return i.status="pending",i.catch((()=>{})),i.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},i.reject=e=>{n({status:"rejected",reason:e}),t(e)},i}function Gle(e){return Math.min(1e3*2**e,3e4)}function Wle(e){return"online"!==(null!=e?e:"online")||Hle.isOnline()}var Yle=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function Kle(e){return e instanceof Yle}function Qle(e){let t,i=!1,n=0,o=!1;const r=qle(),s=()=>Ule.isFocused()&&("always"===e.networkMode||Hle.isOnline())&&e.canRun(),a=()=>Wle(e.networkMode)&&e.canRun(),l=i=>{var n,s;o||(o=!0,null===(n=e.onSuccess)||void 0===n||n.call(e,i),null===(s=t)||void 0===s||s(),r.resolve(i))},c=i=>{var n,s;o||(o=!0,null===(n=e.onError)||void 0===n||n.call(e,i),null===(s=t)||void 0===s||s(),r.reject(i))},d=()=>new Promise((i=>{var n;t=e=>{(o||s())&&i(e)},null===(n=e.onPause)||void 0===n||n.call(e)})).then((()=>{var i;(t=void 0,o)||(null===(i=e.onContinue)||void 0===i||i.call(e))})),u=()=>{if(o)return;let t;const r=0===n?e.initialPromise:void 0;try{t=null!=r?r:e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch((t=>{var r,a,l;if(o)return;const h=null!==(r=e.retry)&&void 0!==r?r:xle?0:3,p=null!==(a=e.retryDelay)&&void 0!==a?a:Gle,m="function"==typeof p?p(n,t):p,f=!0===h||"number"==typeof h&&n<h||"function"==typeof h&&h(n,t);var g;!i&&f?(n++,null===(l=e.onFail)||void 0===l||l.call(e,n,t),(g=m,new Promise((e=>{setTimeout(e,g)}))).then((()=>s()?void 0:d())).then((()=>{i?c(t):u()}))):c(t)}))};return{promise:r,cancel:t=>{var i;o||(c(new Yle(t)),null===(i=e.abort)||void 0===i||i.call(e))},continue:()=>{var e;return null===(e=t)||void 0===e||e(),r},cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1},canStart:a,start:()=>(a()?u():d().then(u),r)}}var Xle=function(){let e=[],t=0,i=e=>{e()},n=e=>{e()},o=e=>setTimeout(e,0);const r=n=>{t?e.push(n):o((()=>{i(n)}))};return{batch:r=>{let s;t++;try{s=r()}finally{t--,t||(()=>{const t=e;e=[],t.length&&o((()=>{n((()=>{t.forEach((e=>{i(e)}))}))}))})()}return s},batchCalls:e=>(...t)=>{r((()=>{e(...t)}))},schedule:r,setNotifyFunction:e=>{i=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{o=e}}}(),Jle=(b=new WeakMap,class{constructor(){t(this,b,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ele(this.gcTime)&&o(b,this,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!=e?e:xle?1/0:3e5)}clearGcTimeout(){n(b,this)&&(clearTimeout(n(b,this)),o(b,this,void 0))}}),Zle=(v=new WeakMap,y=new WeakMap,k=new WeakMap,w=new WeakMap,x=new WeakMap,_=new WeakMap,E=new WeakSet,class extends Jle{constructor(i){var r;super(),e(this,E),t(this,v,void 0),t(this,y,void 0),t(this,k,void 0),t(this,w,void 0),t(this,x,void 0),t(this,_,void 0),o(_,this,!1),o(x,this,i.defaultOptions),this.setOptions(i.options),this.observers=[],o(k,this,i.cache),this.queryKey=i.queryKey,this.queryHash=i.queryHash,o(v,this,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,i=void 0!==t,n=i?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=null!==(r=i.state)&&void 0!==r?r:n(v,this),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null===(e=n(w,this))||void 0===e?void 0:e.promise}setOptions(e){this.options={...n(x,this),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||n(k,this).remove(this)}setData(e,t){const i=Fle(this.state.data,e,this.options);return r(E,this,ece).call(this,{data:i,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),i}setState(e,t){r(E,this,ece).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,i;const o=null===(t=n(w,this))||void 0===t?void 0:t.promise;return null===(i=n(w,this))||void 0===i||i.cancel(e),o?o.then(_le).catch(_le):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(v,this))}isActive(){return this.observers.some((e=>!1!==Tle(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jle||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!Cle(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null===(e=n(w,this))||void 0===e||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null===(e=n(w,this))||void 0===e||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),n(k,this).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(n(w,this)&&(n(_,this)?n(w,this).cancel({revert:!0}):n(w,this).cancelRetry()),this.scheduleGc()),n(k,this).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||r(E,this,ece).call(this,{type:"invalidate"})}fetch(e,t){var i,s;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(n(w,this))return n(w,this).continueRetry(),n(w,this).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const a=new AbortController,l=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o(_,this,!0),a.signal)})},c={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=Vle(this.options,t),i={queryKey:this.queryKey,meta:this.meta};return l(i),o(_,this,!1),this.options.persister?this.options.persister(e,i,this):e(i)}};var d;(l(c),null===(i=this.options.behavior)||void 0===i||i.onFetch(c,this),o(y,this,this.state),"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null===(s=c.fetchOptions)||void 0===s?void 0:s.meta))&&r(E,this,ece).call(this,{type:"fetch",meta:null===(d=c.fetchOptions)||void 0===d?void 0:d.meta});const u=e=>{var t,i,o,s;(Kle(e)&&e.silent||r(E,this,ece).call(this,{type:"error",error:e}),Kle(e))||(null===(t=(i=n(k,this).config).onError)||void 0===t||t.call(i,e,this),null===(o=(s=n(k,this).config).onSettled)||void 0===o||o.call(s,this.state.data,e,this));this.scheduleGc()};return o(w,this,Qle({initialPromise:null==t?void 0:t.initialPromise,fn:c.fetchFn,abort:a.abort.bind(a),onSuccess:e=>{var t,i,o,r;if(void 0!==e){try{this.setData(e)}catch(s){return void u(s)}null===(t=(i=n(k,this).config).onSuccess)||void 0===t||t.call(i,e,this),null===(o=(r=n(k,this).config).onSettled)||void 0===o||o.call(r,e,this.state.error,this),this.scheduleGc()}else u(new Error(`${this.queryHash} data is undefined`))},onError:u,onFail:(e,t)=>{r(E,this,ece).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{r(E,this,ece).call(this,{type:"pause"})},onContinue:()=>{r(E,this,ece).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),n(w,this).start()}});function ece(e){this.state=(t=>{var i,o;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...tce(t.data,this.options),fetchMeta:null!==(i=e.meta)&&void 0!==i?i:null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!==(o=e.dataUpdatedAt)&&void 0!==o?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Kle(r)&&r.revert&&n(y,this)?{...n(y,this),fetchStatus:"idle"}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Xle.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),n(k,this).notify({query:this,type:"updated",action:e})}))}function tce(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Wle(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var ice=(C=new WeakMap,class extends wle{constructor(e={}){super(),t(this,C,void 0),this.config=e,o(C,this,new Map)}build(e,t,i){var n;const o=t.queryKey,r=null!==(n=t.queryHash)&&void 0!==n?n:Ple(o,t);let s=this.get(r);return s||(s=new Zle({cache:this,queryKey:o,queryHash:r,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(o)}),this.add(s)),s}add(e){n(C,this).has(e.queryHash)||(n(C,this).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=n(C,this).get(e.queryHash);t&&(e.destroy(),t===e&&n(C,this).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xle.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return n(C,this).get(e)}getAll(){return[...n(C,this).values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Sle(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>Sle(e,t))):t}notify(e){Xle.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Xle.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Xle.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}}),nce=(A=new WeakMap,T=new WeakMap,S=new WeakMap,I=new WeakSet,class extends Jle{constructor(i){super(),e(this,I),t(this,A,void 0),t(this,T,void 0),t(this,S,void 0),this.mutationId=i.mutationId,o(T,this,i.mutationCache),o(A,this,[]),this.state=i.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(i.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){n(A,this).includes(e)||(n(A,this).push(e),this.clearGcTimeout(),n(T,this).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){o(A,this,n(A,this).filter((t=>t!==e))),this.scheduleGc(),n(T,this).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){n(A,this).length||("pending"===this.state.status?this.scheduleGc():n(T,this).remove(this))}continue(){var e,t;return null!==(e=null===(t=n(S,this))||void 0===t?void 0:t.continue())&&void 0!==e?e:this.execute(this.state.variables)}async execute(e){var t;o(S,this,Qle({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{r(I,this,oce).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{r(I,this,oce).call(this,{type:"pause"})},onContinue:()=>{r(I,this,oce).call(this,{type:"continue"})},retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>n(T,this).canRun(this)}));const i="pending"===this.state.status,s=!n(S,this).canStart();try{var a,l,c,d,u,h,p,m;if(!i){var f,g,b,v;r(I,this,oce).call(this,{type:"pending",variables:e,isPaused:s}),await(null===(f=(g=n(T,this).config).onMutate)||void 0===f?void 0:f.call(g,e,this));const t=await(null===(b=(v=this.options).onMutate)||void 0===b?void 0:b.call(v,e));t!==this.state.context&&r(I,this,oce).call(this,{type:"pending",context:t,variables:e,isPaused:s})}const t=await n(S,this).start();return await(null===(a=(l=n(T,this).config).onSuccess)||void 0===a?void 0:a.call(l,t,e,this.state.context,this)),await(null===(c=(d=this.options).onSuccess)||void 0===c?void 0:c.call(d,t,e,this.state.context)),await(null===(u=(h=n(T,this).config).onSettled)||void 0===u?void 0:u.call(h,t,null,this.state.variables,this.state.context,this)),await(null===(p=(m=this.options).onSettled)||void 0===p?void 0:p.call(m,t,null,e,this.state.context)),r(I,this,oce).call(this,{type:"success",data:t}),t}catch(P){try{var y,k,w,x,_,E,C,A;throw await(null===(y=(k=n(T,this).config).onError)||void 0===y?void 0:y.call(k,P,e,this.state.context,this)),await(null===(w=(x=this.options).onError)||void 0===w?void 0:w.call(x,P,e,this.state.context)),await(null===(_=(E=n(T,this).config).onSettled)||void 0===_?void 0:_.call(E,void 0,P,this.state.variables,this.state.context,this)),await(null===(C=(A=this.options).onSettled)||void 0===C?void 0:C.call(A,void 0,P,e,this.state.context)),P}finally{r(I,this,oce).call(this,{type:"error",error:P})}}finally{n(T,this).runNext(this)}}});function oce(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Xle.batch((()=>{n(A,this).forEach((t=>{t.onMutationUpdate(e)})),n(T,this).notify({mutation:this,type:"updated",action:e})}))}var rce=(P=new WeakMap,D=new WeakMap,R=new WeakMap,class extends wle{constructor(e={}){super(),t(this,P,void 0),t(this,D,void 0),t(this,R,void 0),this.config=e,o(P,this,new Set),o(D,this,new Map),o(R,this,0)}build(e,t,i){var r;const s=new nce({mutationCache:this,mutationId:o(R,this,(r=n(R,this),++r)),options:e.defaultMutationOptions(t),state:i});return this.add(s),s}add(e){n(P,this).add(e);const t=sce(e);if("string"==typeof t){const i=n(D,this).get(t);i?i.push(e):n(D,this).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(n(P,this).delete(e)){const t=sce(e);if("string"==typeof t){const i=n(D,this).get(t);if(i)if(i.length>1){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}else i[0]===e&&n(D,this).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=sce(e);if("string"==typeof t){const i=n(D,this).get(t),o=null==i?void 0:i.find((e=>"pending"===e.state.status));return!o||o===e}return!0}runNext(e){const t=sce(e);if("string"==typeof t){var i,o;const r=null===(i=n(D,this).get(t))||void 0===i?void 0:i.find((t=>t!==e&&t.state.isPaused));return null!==(o=null==r?void 0:r.continue())&&void 0!==o?o:Promise.resolve()}return Promise.resolve()}clear(){Xle.batch((()=>{n(P,this).forEach((e=>{this.notify({type:"removed",mutation:e})})),n(P,this).clear(),n(D,this).clear()}))}getAll(){return Array.from(n(P,this))}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Ile(t,e)))}findAll(e={}){return this.getAll().filter((t=>Ile(e,t)))}notify(e){Xle.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Xle.batch((()=>Promise.all(e.map((e=>e.continue().catch(_le))))))}});function sce(e){var t;return null===(t=e.options.scope)||void 0===t?void 0:t.id}function ace(e){return{onFetch:(t,i)=>{var n,o,r;const s=t.options,a=null===(n=t.fetchOptions)||void 0===n||null===(n=n.meta)||void 0===n||null===(n=n.fetchMore)||void 0===n?void 0:n.direction,l=(null===(o=t.state.data)||void 0===o?void 0:o.pages)||[],c=(null===(r=t.state.data)||void 0===r?void 0:r.pageParams)||[];let d={pages:[],pageParams:[]},u=0;const h=async()=>{let i=!1;const n=Vle(t.options,t.fetchOptions),o=async(e,o,r)=>{if(i)return Promise.reject();if(null==o&&e.pages.length)return Promise.resolve(e);const s={queryKey:t.queryKey,pageParam:o,direction:r?"backward":"forward",meta:t.options.meta};(e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?i=!0:t.signal.addEventListener("abort",(()=>{i=!0})),t.signal)})})(s);const a=await n(s),{maxPages:l}=t.options,c=r?zle:Ble;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,o,l)}};if(a&&l.length){const e="backward"===a,t={pages:l,pageParams:c},i=(e?cce:lce)(s,t);d=await o(t,i,e)}else{const t=null!=e?e:l.length;do{var r;const e=0===u?null!==(r=c[0])&&void 0!==r?r:s.initialPageParam:lce(s,d);if(u>0&&null==e)break;d=await o(d,e),u++}while(u<t)}return d};t.options.persister?t.fetchFn=()=>{var e,n;return null===(e=(n=t.options).persister)||void 0===e?void 0:e.call(n,h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},i)}:t.fetchFn=h}}}function lce(e,{pages:t,pageParams:i}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,i[n],i):void 0}function cce(e,{pages:t,pageParams:i}){var n;return t.length>0?null===(n=e.getPreviousPageParam)||void 0===n?void 0:n.call(e,t[0],t,i[0],i):void 0}var dce=(L=new WeakMap,M=new WeakMap,O=new WeakMap,N=new WeakMap,$=new WeakMap,F=new WeakMap,B=new WeakMap,z=new WeakMap,class{constructor(e={}){t(this,L,void 0),t(this,M,void 0),t(this,O,void 0),t(this,N,void 0),t(this,$,void 0),t(this,F,void 0),t(this,B,void 0),t(this,z,void 0),o(L,this,e.queryCache||new ice),o(M,this,e.mutationCache||new rce),o(O,this,e.defaultOptions||{}),o(N,this,new Map),o($,this,new Map),o(F,this,0)}mount(){var e;o(F,this,(e=n(F,this),e++,e)),1===n(F,this)&&(o(B,this,Ule.subscribe((async e=>{e&&(await this.resumePausedMutations(),n(L,this).onFocus())}))),o(z,this,Hle.subscribe((async e=>{e&&(await this.resumePausedMutations(),n(L,this).onOnline())}))))}unmount(){var e,t,i;o(F,this,(e=n(F,this),e--,e)),0===n(F,this)&&(null===(t=n(B,this))||void 0===t||t.call(this),o(B,this,void 0),null===(i=n(z,this))||void 0===i||i.call(this),o(z,this,void 0))}isFetching(e){return n(L,this).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return n(M,this).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const i=this.defaultQueryOptions({queryKey:e});return null===(t=n(L,this).get(i.queryHash))||void 0===t?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),i=n(L,this).build(this,t),o=i.state.data;return void 0===o?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime(Ale(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(e){return n(L,this).findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,i){const o=this.defaultQueryOptions({queryKey:e}),r=n(L,this).get(o.queryHash),s=function(e,t){return"function"==typeof e?e(t):e}(t,null==r?void 0:r.state.data);if(void 0!==s)return n(L,this).build(this,o).setData(s,{...i,manual:!0})}setQueriesData(e,t,i){return Xle.batch((()=>n(L,this).findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,i)]))))}getQueryState(e){var t;const i=this.defaultQueryOptions({queryKey:e});return null===(t=n(L,this).get(i.queryHash))||void 0===t?void 0:t.state}removeQueries(e){const t=n(L,this);Xle.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const i=n(L,this),o={type:"active",...e};return Xle.batch((()=>(i.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(o,t))))}cancelQueries(e,t={}){const i={revert:!0,...t},o=Xle.batch((()=>n(L,this).findAll(e).map((e=>e.cancel(i)))));return Promise.all(o).then(_le).catch(_le)}invalidateQueries(e,t={}){return Xle.batch((()=>{var i,o;if(n(L,this).findAll(e).forEach((e=>{e.invalidate()})),"none"===(null==e?void 0:e.refetchType))return Promise.resolve();const r={...e,type:null!==(i=null!==(o=null==e?void 0:e.refetchType)&&void 0!==o?o:null==e?void 0:e.type)&&void 0!==i?i:"active"};return this.refetchQueries(r,t)}))}refetchQueries(e,t={}){var i;const o={...t,cancelRefetch:null===(i=t.cancelRefetch)||void 0===i||i},r=Xle.batch((()=>n(L,this).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,o);return o.throwOnError||(t=t.catch(_le)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(_le)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const i=n(L,this).build(this,t);return i.isStaleByTime(Ale(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_le).catch(_le)}fetchInfiniteQuery(e){return e.behavior=ace(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_le).catch(_le)}ensureInfiniteQueryData(e){return e.behavior=ace(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hle.isOnline()?n(M,this).resumePausedMutations():Promise.resolve()}getQueryCache(){return n(L,this)}getMutationCache(){return n(M,this)}getDefaultOptions(){return n(O,this)}setDefaultOptions(e){o(O,this,e)}setQueryDefaults(e,t){n(N,this).set(Dle(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...n(N,this).values()],i={};return t.forEach((t=>{Rle(e,t.queryKey)&&Object.assign(i,t.defaultOptions)})),i}setMutationDefaults(e,t){n($,this).set(Dle(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...n($,this).values()];let i={};return t.forEach((t=>{Rle(e,t.mutationKey)&&(i={...i,...t.defaultOptions})})),i}defaultQueryOptions(e){if(e._defaulted)return e;const t={...n(O,this).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ple(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jle&&(t.enabled=!1),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...n(O,this).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){n(L,this).clear(),n(M,this).clear()}}),uce=(j=new WeakMap,V=new WeakMap,U=new WeakMap,H=new WeakMap,q=new WeakMap,G=new WeakMap,W=new WeakMap,Y=new WeakMap,K=new WeakMap,Q=new WeakMap,X=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ie=new WeakSet,class extends wle{constructor(i,r){super(),e(this,ie),t(this,j,void 0),t(this,V,void 0),t(this,U,void 0),t(this,H,void 0),t(this,q,void 0),t(this,G,void 0),t(this,W,void 0),t(this,Y,void 0),t(this,K,void 0),t(this,Q,void 0),t(this,X,void 0),t(this,J,void 0),t(this,Z,void 0),t(this,ee,void 0),t(this,te,new Set),this.options=r,o(j,this,i),o(Y,this,null),o(W,this,qle()),this.options.experimental_prefetchInRender||n(W,this).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(n(V,this).addObserver(this),wce(n(V,this),this.options)?r(ie,this,hce).call(this):this.updateResult(),r(ie,this,gce).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xce(n(V,this),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xce(n(V,this),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,r(ie,this,bce).call(this),r(ie,this,vce).call(this),n(V,this).removeObserver(this)}setOptions(e,t){const i=this.options,o=n(V,this);if(this.options=n(j,this).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Tle(this.options.enabled,n(V,this)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");r(ie,this,yce).call(this),n(V,this).setOptions(this.options),i._defaulted&&!Mle(this.options,i)&&n(j,this).getQueryCache().notify({type:"observerOptionsUpdated",query:n(V,this),observer:this});const s=this.hasListeners();s&&_ce(n(V,this),o,this.options,i)&&r(ie,this,hce).call(this),this.updateResult(t),!s||n(V,this)===o&&Tle(this.options.enabled,n(V,this))===Tle(i.enabled,n(V,this))&&Ale(this.options.staleTime,n(V,this))===Ale(i.staleTime,n(V,this))||r(ie,this,pce).call(this);const a=r(ie,this,mce).call(this);!s||n(V,this)===o&&Tle(this.options.enabled,n(V,this))===Tle(i.enabled,n(V,this))&&a===n(ee,this)||r(ie,this,fce).call(this,a)}getOptimisticResult(e){const t=n(j,this).getQueryCache().build(n(j,this),e),i=this.createResult(t,e);return function(e,t){if(!Mle(e.getCurrentResult(),t))return!0;return!1}(this,i)&&(o(H,this,i),o(G,this,this.options),o(q,this,n(V,this).state)),i}getCurrentResult(){return n(H,this)}trackResult(e,t){const i={};return Object.keys(e).forEach((n=>{Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),null==t||t(n),e[n])})})),i}trackProp(e){n(te,this).add(e)}getCurrentQuery(){return n(V,this)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=n(j,this).defaultQueryOptions(e),i=n(j,this).getQueryCache().build(n(j,this),t);return i.fetch().then((()=>this.createResult(i,t)))}fetch(e){var t;return r(ie,this,hce).call(this,{...e,cancelRefetch:null===(t=e.cancelRefetch)||void 0===t||t}).then((()=>(this.updateResult(),n(H,this))))}createResult(e,t){const i=n(V,this),r=this.options,s=n(H,this),a=n(q,this),l=n(G,this),c=e!==i?e.state:n(U,this),{state:d}=e;let u,h={...d},p=!1;if(t._optimisticResults){const n=this.hasListeners(),o=!n&&wce(e,t),s=n&&_ce(e,i,t,r);(o||s)&&(h={...h,...tce(d.data,e.options)}),"isRestoring"===t._optimisticResults&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:f,status:g}=h;if(t.select&&void 0!==h.data)if(s&&h.data===(null==a?void 0:a.data)&&t.select===n(K,this))u=n(Q,this);else try{o(K,this,t.select),u=t.select(h.data),u=Fle(null==s?void 0:s.data,u,t),o(Q,this,u),o(Y,this,null)}catch(E){o(Y,this,E)}else u=h.data;if(void 0!==t.placeholderData&&void 0===u&&"pending"===g){let e;var b;if(null!=s&&s.isPlaceholderData&&t.placeholderData===(null==l?void 0:l.placeholderData))e=s.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(null===(b=n(X,this))||void 0===b?void 0:b.state.data,n(X,this)):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),o(Y,this,null)}catch(E){o(Y,this,E)}void 0!==e&&(g="success",u=Fle(null==s?void 0:s.data,e,t),p=!0)}n(Y,this)&&(m=n(Y,this),u=n(Q,this),f=Date.now(),g="error");const v="fetching"===h.fetchStatus,y="pending"===g,k="error"===g,w=y&&v,x=void 0!==u,_={status:g,fetchStatus:h.fetchStatus,isPending:y,isSuccess:"success"===g,isError:k,isInitialLoading:w,isLoading:w,data:u,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:f,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:k&&!x,isPaused:"paused"===h.fetchStatus,isPlaceholderData:p,isRefetchError:k&&x,isStale:Ece(e,t),refetch:this.refetch,promise:n(W,this)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===_.status?e.reject(_.error):void 0!==_.data&&e.resolve(_.data)},r=()=>{const e=o(W,this,_.promise=qle());t(e)},s=n(W,this);switch(s.status){case"pending":e.queryHash===i.queryHash&&t(s);break;case"fulfilled":"error"!==_.status&&_.data===s.value||r();break;case"rejected":"error"===_.status&&_.error===s.reason||r()}}return _}updateResult(e){const t=n(H,this),i=this.createResult(n(V,this),this.options);if(o(q,this,n(V,this).state),o(G,this,this.options),void 0!==n(q,this).data&&o(X,this,n(V,this)),Mle(i,t))return;o(H,this,i);const s={};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,i="function"==typeof e?e():e;if("all"===i||!i&&!n(te,this).size)return!0;const o=new Set(null!=i?i:n(te,this));return this.options.throwOnError&&o.add("error"),Object.keys(n(H,this)).some((e=>{const i=e;return n(H,this)[i]!==t[i]&&o.has(i)}))})()&&(s.listeners=!0),r(ie,this,kce).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&r(ie,this,gce).call(this)}});function hce(e){r(ie,this,yce).call(this);let t=n(V,this).fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(_le)),t}function pce(){r(ie,this,bce).call(this);const e=Ale(this.options.staleTime,n(V,this));if(xle||n(H,this).isStale||!Ele(e))return;const t=Cle(n(H,this).dataUpdatedAt,e);o(J,this,setTimeout((()=>{n(H,this).isStale||this.updateResult()}),t+1))}function mce(){var e;return null!==(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval(n(V,this)):this.options.refetchInterval)&&void 0!==e&&e}function fce(e){r(ie,this,vce).call(this),o(ee,this,e),!xle&&!1!==Tle(this.options.enabled,n(V,this))&&Ele(n(ee,this))&&0!==n(ee,this)&&o(Z,this,setInterval((()=>{(this.options.refetchIntervalInBackground||Ule.isFocused())&&r(ie,this,hce).call(this)}),n(ee,this)))}function gce(){r(ie,this,pce).call(this),r(ie,this,fce).call(this,r(ie,this,mce).call(this))}function bce(){n(J,this)&&(clearTimeout(n(J,this)),o(J,this,void 0))}function vce(){n(Z,this)&&(clearInterval(n(Z,this)),o(Z,this,void 0))}function yce(){const e=n(j,this).getQueryCache().build(n(j,this),this.options);if(e===n(V,this))return;const t=n(V,this);o(V,this,e),o(U,this,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}function kce(e){Xle.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(n(H,this))})),n(j,this).getQueryCache().notify({query:n(V,this),type:"observerResultsUpdated"})}))}function wce(e,t){return function(e,t){return!1!==Tle(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&xce(e,t,t.refetchOnMount)}function xce(e,t,i){if(!1!==Tle(t.enabled,e)){const n="function"==typeof i?i(e):i;return"always"===n||!1!==n&&Ece(e,t)}return!1}function _ce(e,t,i,n){return(e!==t||!1===Tle(n.enabled,e))&&(!i.suspense||"error"!==e.state.status)&&Ece(e,i)}function Ece(e,t){return!1!==Tle(t.enabled,e)&&e.isStaleByTime(Ale(t.staleTime,e))}function Cce(e){return`VUE_QUERY_CLIENT${e?`:${e}`:""}`}function Ace(e,t){Object.keys(e).forEach((i=>{e[i]=t[i]}))}function Tce(e,t,i="",n=0){if(t){const o=t(e,i,n);if(void 0===o&&Ai(e))return o;if(void 0!==o)return o}if(Array.isArray(e))return e.map(((e,i)=>Tce(e,t,String(i),n+1)));if("object"==typeof e&&function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}(e)){const i=Object.entries(e).map((([e,i])=>[e,Tce(i,t,e,n+1)]));return Object.fromEntries(i)}return e}function Sce(e,t=!1){return function(e,t){return Tce(e,t)}(e,((e,i,n)=>1===n&&"queryKey"===i?Sce(e,!0):t&&function(e){return"function"==typeof e}(e)?Sce(e(),t):Ai(e)?Sce(Di(e),t):void 0))}function Ice(e,t){return"function"==typeof e?e(...t):!!e}var Pce=class extends ice{find(e){return super.find(Sce(e))}findAll(e={}){return super.findAll(Sce(e))}},Dce=class extends rce{find(e){return super.find(Sce(e))}findAll(e={}){return super.findAll(Sce(e))}},Rce=class extends dce{constructor(e={}){super({defaultOptions:e.defaultOptions,queryCache:e.queryCache||new Pce,mutationCache:e.mutationCache||new Dce}),this.isRestoring=Ti(!1)}isFetching(e={}){return super.isFetching(Sce(e))}isMutating(e={}){return super.isMutating(Sce(e))}getQueryData(e){return super.getQueryData(Sce(e))}ensureQueryData(e){return super.ensureQueryData(Sce(e))}getQueriesData(e){return super.getQueriesData(Sce(e))}setQueryData(e,t,i={}){return super.setQueryData(Sce(e),t,Sce(i))}setQueriesData(e,t,i={}){return super.setQueriesData(Sce(e),t,Sce(i))}getQueryState(e){return super.getQueryState(Sce(e))}removeQueries(e={}){return super.removeQueries(Sce(e))}resetQueries(e={},t={}){return super.resetQueries(Sce(e),Sce(t))}cancelQueries(e={},t={}){return super.cancelQueries(Sce(e),Sce(t))}invalidateQueries(e={},t={}){var i,n;const o=Sce(e),r=Sce(t);if(super.invalidateQueries({...o,refetchType:"none"},r),"none"===o.refetchType)return Promise.resolve();const s={...o,type:null!==(i=null!==(n=o.refetchType)&&void 0!==n?n:o.type)&&void 0!==i?i:"active"};return nn().then((()=>super.refetchQueries(s,r)))}refetchQueries(e={},t={}){return super.refetchQueries(Sce(e),Sce(t))}fetchQuery(e){return super.fetchQuery(Sce(e))}prefetchQuery(e){return super.prefetchQuery(Sce(e))}fetchInfiniteQuery(e){return super.fetchInfiniteQuery(Sce(e))}prefetchInfiniteQuery(e){return super.prefetchInfiniteQuery(Sce(e))}setDefaultOptions(e){super.setDefaultOptions(Sce(e))}setQueryDefaults(e,t){super.setQueryDefaults(Sce(e),Sce(t))}getQueryDefaults(e){return super.getQueryDefaults(Sce(e))}setMutationDefaults(e,t){super.setMutationDefaults(Sce(e),Sce(t))}getMutationDefaults(e){return super.getMutationDefaults(Sce(e))}},Lce={install:(e,t={})=>{const i=Cce(t.queryClientKey);let n;if("queryClient"in t&&t.queryClient)n=t.queryClient;else{const e="queryClientConfig"in t?t.queryClientConfig:void 0;n=new Rce(e)}xle||n.mount();let o=()=>{};if(t.clientPersister){n.isRestoring.value=!0;const[e,i]=t.clientPersister(n);o=e,i.then((()=>{var e;n.isRestoring.value=!1,null===(e=t.clientPersisterOnSuccess)||void 0===e||e.call(t,n)}))}const r=()=>{n.unmount(),o()};if(e.onUnmount)e.onUnmount(r);else{const t=e.unmount;e.unmount=function(){r(),t()}}e.provide(i,n)}};function Mce(e,t,i){const n=function(e=""){if(!Wo())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=Go(Cce(e));if(!t)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return t}(),o=ks((()=>{const e=Sce(t);"function"==typeof e.enabled&&(e.enabled=e.enabled());const i=n.defaultQueryOptions(e);return i._optimisticResults=n.isRestoring.value?"isRestoring":"optimistic",i})),r=new e(n,o.value),s=fi(r.getCurrentResult());let a=()=>{};br(n.isRestoring,(e=>{e||(a(),a=r.subscribe((e=>{Ace(s,e)})))}),{immediate:!0});const l=()=>{r.setOptions(o.value),Ace(s,r.getCurrentResult())};br(o,l),at((()=>{a()}));br((()=>s.error),(e=>{if(s.isError&&!s.isFetching&&Ice(o.value.throwOnError,[e,r.getCurrentQuery()]))throw e}));const c=Oi(s);for(const d in s)"function"==typeof s[d]&&(c[d]=s[d]);return c.suspense=()=>new Promise(((e,t)=>{let i=()=>{};const n=()=>{if(!1!==o.value.enabled){r.setOptions(o.value);const n=r.getOptimisticResult(o.value);n.isStale?(i(),r.fetchOptimistic(o.value).then(e,(i=>{Ice(o.value.throwOnError,[i,r.getCurrentQuery()])?t(i):e(r.getCurrentResult())}))):(i(),e(n))}};n(),i=br(o,n)})),c.refetch=(...e)=>(l(),s.refetch(...e)),c}const Oce={class:"p-4"},Nce={class:"font-light my-2"},$ce={class:"font-medium text-lg"},Fce=jn({__name:"ModalConfirmDeleteUser",props:{member:{},callback:{type:Function,default:()=>{}}},setup(e){const t=e,{community:i}=mC(oT()),n=async()=>{var e,n,r;const s=await SC.delete(`user-community/${null===(e=t.member.user_community)||void 0===e?void 0:e._id}`,{data:{community_id:null===(n=i.value)||void 0===n?void 0:n._id}});switch(null==s?void 0:s.status){case 200:t.callback(),lS("Thành viên đã bị xoá khỏi cộng đồng","success");break;case 400:lS((null==s||null===(r=s.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||"Có lỗi xảy ra, vui lòng thử lại sau","error");break;case 500:lS("Có lỗi xảy ra từ server","error");break;default:lS("Có lỗi xảy ra, vui lòng thử lại sau","error")}o()},o=async()=>{await ax.dismiss()};return(e,t)=>($r(),jr("div",Oce,[t[2]||(t[2]=Wr("h3",{class:"font-medium text-lg text-black"}," Xoá thành viên khỏi cộng đồng ",-1)),Wr("h4",Nce,[t[0]||(t[0]=Xr(" Bạn có chắc chắn muốn xoá ")),Wr("span",$ce,Ze(e.member.full_name),1),t[1]||(t[1]=Xr(" ra khỏi cộng đồng "))]),Wr("div",{class:"flex justify-end gap-2 items-center"},[Wr("div",{onClick:o,class:"bg-gray4 rounded-lg py-1 px-5 text-base font-medium"}," Huỷ "),Wr("div",{onClick:n,class:"bg-blue1 px-5 py-1 text-white font-medium text-base rounded-lg"}," Xoá ")])]))}}),Bce={class:"p-4"},zce={class:"font-light text-base my-1"},jce={class:"font-medium text-lg"},Vce={key:1,class:"font-light text-base my-2 items-center"},Uce={class:"font-medium text-lg"},Hce={class:"font-medium text-base"},qce={class:"flex justify-end gap-2 mt-1 items-center"},Gce=jn({__name:"ModalSuspendMember",props:{member:{},callback:{type:Function,default:()=>{}}},setup(e){const t=[{id:"time-12",label:"12 giờ",hours:12},{id:"time-24",label:"24 giờ",hours:24},{id:"time-72",label:"3 ngày",hours:72},{id:"time-168",label:"7 ngày",hours:168},{id:"time-336",label:"14 ngày",hours:336},{id:"time-672",label:"28 ngày",hours:672}],i=e,{community:n}=mC(oT()),o=Ti(t[0].id),r=async()=>{await ax.dismiss()},s=async()=>{var e,s,a;const l=t.find((e=>e.id===o.value)),c=null===(e=i.member)||void 0===e||null===(e=e.user_community)||void 0===e?void 0:e.unlock_message_at,d=await SC.patch(`user-community/${null==i||null===(s=i.member)||void 0===s?void 0:s._id}/unlock`,{unlock_message_at:c?null:null!=l&&l.hours?aT().add(l.hours,"hour").toDate():null,community_id:null===(a=n.value)||void 0===a?void 0:a._id});var u,h,p;200===(null==d?void 0:d.status)&&(null===(u=i.callback)||void 0===u||u.call(i,c?null:null!==(h=null==d||null===(p=d.data)||void 0===p?void 0:p.unlock_message_at)&&void 0!==h?h:null));r()};return(e,i)=>{var n,a,l,c,d;return $r(),jr("div",Bce,[i[6]||(i[6]=Wr("div",{class:"text-lg font-medium mb-1"},"Đình chỉ thành viên",-1)),null!==(n=e.member)&&void 0!==n&&null!==(n=n.user_community)&&void 0!==n&&n.unlock_message_at?($r(),jr("div",Vce,[Wr("span",Uce,Ze(null===(l=e.member)||void 0===l?void 0:l.full_name),1),i[4]||(i[4]=Xr(" còn ")),Wr("span",Hce,Ze(Di(aT)(null===(c=e.member)||void 0===c||null===(c=c.user_community)||void 0===c?void 0:c.unlock_message_at).from(Di(aT)(),!0)),1),i[5]||(i[5]=Xr(" đình chỉ "))])):($r(),jr(Dr,{key:0},[Wr("div",zce,[i[1]||(i[1]=Xr(" Bạn muốn đình chỉ ")),Wr("span",jce,Ze(null===(a=e.member)||void 0===a?void 0:a.full_name),1),i[2]||(i[2]=Xr(" bao lâu? "))]),i[3]||(i[3]=Wr("div",{class:"mt-1 mb-2 font-normal"}," Họ sẽ có thể xem cộng đồng nhưng không thể đăng bài, bình luận trong khung thời gian đã chọn. ",-1)),Yr(Di(lw),{value:t[0].id,modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e)},{default:pn((()=>[($r(),jr(Dr,null,vo(t,(e=>Wr("div",{key:e.id,class:"py-1 flex items-center px-1.5"},[Yr(Di(aw),{alignment:"center",mode:"md",value:e.id,"label-placement":"end",color:"blue1",justify:"start"},{default:pn((()=>[Yr(Di(ow),{class:"text-wrap text-lg my-1"},{default:pn((()=>[Xr(Ze(e.label),1)])),_:2},1024)])),_:2},1032,["value"])]))),64))])),_:1},8,["value","modelValue"])],64)),Wr("div",qce,[Wr("div",{onClick:r,class:"bg-gray4 py-1 px-5 rounded-lg font-medium"}," Huỷ "),Wr("div",{onClick:s,class:"bg-blue1 py-1 px-5 rounded-lg text-white font-medium"},Ze(null!==(d=e.member)&&void 0!==d&&null!==(d=d.user_community)&&void 0!==d&&d.unlock_message_at?"Huỷ đình chỉ":"Đình chỉ"),1)])])}}}),Wce={class:"h-[50%]"},Yce=["onClick"],Kce=jn({__name:"ModalMemberRoleDrop",props:{roles:{},selectedRole:{}},setup:e=>(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding-vertical",color:"white1","scroll-y":!1},{default:pn((()=>[Wr("section",Wce,[($r(!0),jr(Dr,null,vo(e.roles,((t,i)=>{var n;return $r(),jr("div",{key:i},[Wr("div",{onClick:e=>(async e=>{ax.dismiss(e,"confirm")})(t),class:We(["flex flex-1 py-2.5 mb-2 rounded-md px-8",{"bg-blue1-tint1":(null==t?void 0:t.value)===(null===(n=e.selectedRole)||void 0===n?void 0:n.value)}])},Ze(t.label),11,Yce)])})),128))])])),_:1}))}),Qce={class:"h-[50%] overflow-y-scroll pb-10"},Xce=["onClick"],Jce=jn({__name:"ModalMemberLevel",props:{levels:{},selectedLevel:{}},setup:e=>(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding-vertical",color:"white1"},{default:pn((()=>[Wr("section",Qce,[($r(!0),jr(Dr,null,vo(e.levels,((t,i)=>{var n;return $r(),jr("div",{key:i},[Wr("div",{onClick:e=>(async e=>{ax.dismiss(e,"confirm")})(t),class:We(["flex flex-1 py-2.5 mb-2 rounded-md px-8",{"bg-blue1-tint1":(null==t?void 0:t.value)===(null===(n=e.selectedLevel)||void 0===n?void 0:n.value)}])},Ze(t.label),11,Xce)])})),128))])])),_:1}))}),Zce={1:"Thành viên",2:"Admin",3:"Sale"},ede={class:"ion-padding"},tde={class:"border-b-2 border-b-white2 pb-2"},ide={class:"text-lg font-medium mb-1"},nde={class:"font-normal"},ode={key:0,class:"text-lg font-light mb-1"},rde={class:"font-normal"},sde={class:"text-lg font-light"},ade={class:"font-normal"},lde={key:0},cde={key:1},dde={key:0},ude={key:0},hde={key:0,class:"text-gray2"},pde=jn({__name:"ModalMemberSetting",props:{member:{},isAdmin:{type:Boolean,default:!1},canManage:{type:Boolean,default:!1},isOwner:{type:Boolean,default:!1}},setup(e){const t=()=>{ax.dismiss("suspend")},i=async()=>{await ax.dismiss("remove")},n=async()=>{await ax.dismiss("block")};return(e,o)=>{var r,s,a;return $r(),jr("div",ede,[Wr("section",tde,[Wr("div",ide,[Wr("span",nde,Ze(e.member.full_name),1)]),e.isAdmin?($r(),jr("div",ode,[o[0]||(o[0]=Xr(" Email: ")),Wr("span",rde,Ze(e.member.email),1)])):Jr("",!0),Wr("div",sde,[o[1]||(o[1]=Xr(" Vai trò: ")),Wr("span",ade,Ze(e.member.user_community?Di(Zce)[e.member.user_community.role]:""),1)])]),Wr("section",{onClick:n,class:"text-base pt-4 py-1 mb-1"},[null!==(r=e.member)&&void 0!==r&&r.blacklist?($r(),jr("div",cde,"Bỏ chặn")):($r(),jr("div",lde,"Chặn"))]),e.isAdmin?($r(),jr("section",dde,[e.canManage||e.isOwner?($r(),jr("div",ude,[Wr("div",{onClick:t,class:"text-base py-1 mb-1 items-center"},[o[2]||(o[2]=Xr(" Đình chỉ thành viên ")),null!==(s=e.member)&&void 0!==s&&null!==(s=s.user_community)&&void 0!==s&&s.unlock_message_at?($r(),jr("span",hde,Ze(`Còn ${Di(aT)(null===(a=e.member)||void 0===a||null===(a=a.user_community)||void 0===a?void 0:a.unlock_message_at).from(Di(aT)(),!0)}`),1)):Jr("",!0)]),Wr("div",{onClick:i,class:"text-red-500 font-medium text-base py-1"}," Xóa thành viên khỏi cộng đồng ")])):Jr("",!0)])):Jr("",!0)])}}}),mde={class:"pb-10 [overflow-wrap:anywhere]"},fde={class:"mb-2"},gde={class:"flex justify-between items-center mb-2 gap-4"},bde={class:"text-center text-base text-gray2 font-medium"},vde={class:"flex mb-2 bg-white p-2 rounded-lg"},yde={class:"size-10 rounded-full"},kde=["src"],wde={class:"flex-1 mr-4 ml-2.5"},xde={class:"flex justify-between"},_de={class:"flex-1"},Ede={class:"flex"},Cde=["onClick"],Ade={key:0},Tde={class:"text-blue2 font-light text-sm"},Sde={key:0,class:"text-sm text-gray2 pb-0.5"},Ide={key:0,class:"text-sm font-light mt-0.5"},Pde={key:1,class:"text-xs"},Dde={class:"text-sm text-gray2 font-light my-1"},Rde={class:"font-medium text-black"},Lde={class:"text-base font-normal [overflow-wrap:anywhere]"},Mde={key:1,class:"flex items-center justify-between my-1 font-light"},Ode={key:0,class:"flex items-center gap-2"},Nde={class:"flex items-center gap-2"},$de={key:2},Fde={class:"flex gap-2.5"},Bde={key:2,class:"flex gap-3"},zde=jn({__name:"TabMember",props:{toRequestMember:{type:Boolean,default:!1},onCallbackUnMount:{type:Function,default:()=>{}}},setup(e){var t,i,n;const o=e,r=null===(t=Object.values(sT))||void 0===t?void 0:t.map(((e,t)=>({value:++t,label:e}))),s=[{value:void 0,label:"Tất cả"},...r,{value:"wait",label:"Chờ duyệt"}],a=oT(),l=lT(),c=EC(),{userCommunity:d}=mC(l),{community:u,communityLevel:h,communityLevelPluck:p}=mC(a),{userInfo:m}=mC(c),f=FP(),g=OD(),b=Rw(),v=Ti([{value:"all",label:"Tất cả Level"},{value:"zero",label:"Level 0"},...null!==(i=null===(n=h.value)||void 0===n?void 0:n.map(((e,t)=>({value:e._id,label:`Level ${t+1}`}))))&&void 0!==i?i:[]]),y=Ti([]),k=Ti(""),w=Ti(o.toRequestMember?s.pop():s[0]),x=Ti(v.value[0]),_=Ti(!1),E=Ti(1),C=Ti(!1),A=ks((()=>{var e,t,i;return(null===(e=d.value)||void 0===e?void 0:e.status)===m4.Joined||(null===(t=m.value)||void 0===t?void 0:t._id)===(null===(i=u.value)||void 0===i?void 0:i.owner_id)})),T=ks((()=>{var e,t,i,n;return((null===(e=d.value)||void 0===e?void 0:e.role)===rT.Admin||(null===(t=m.value)||void 0===t?void 0:t._id)===(null===(i=u.value)||void 0===i?void 0:i.owner_id))&&bC.isEmpty(null===(n=u.value)||void 0===n?void 0:n.member_last_limit_package)})),S=ks((()=>{var e;return(null===(e=d.value)||void 0===e?void 0:e.role)===rT.Admin})),I=async(e=1,t=!1)=>{var i,n,o,r,s,a;t||(C.value=!0);const l={page:e,limit:20,keyword:null!==(i=k.value)&&void 0!==i?i:void 0,"filter[status]":"wait"===(null===(n=w.value)||void 0===n?void 0:n.value)?m4.Waiting:m4.Joined,"filter[role]":"wait"===(null===(o=w.value)||void 0===o?void 0:o.value)||null===(r=w.value)||void 0===r?void 0:r.value,"filter[level_id]":"wait"===(null===(s=w.value)||void 0===s?void 0:s.value)?void 0:x.value.value},{data:c}=await SC.get(`/community/${null===(a=u.value)||void 0===a?void 0:a._id}/users`,{params:l});var d,h,p;bC.isEmpty(c)?_.value=!1:(null!=c&&null!==(d=c.meta)&&void 0!==d&&d.hasNextPage?(E.value++,_.value=!0):_.value=!1,y.value=t?[...y.value,...null!==(h=c.data)&&void 0!==h?h:[]]:null!==(p=null==c?void 0:c.data)&&void 0!==p?p:[]);C.value=!1},P=()=>{A.value&&(I(1,!1),E.value=1,_.value=!1)};to((async()=>{P()})),br([x,w],(()=>{P()}));const D=e=>{var t,i;const n=e.point;if(n<=0)return 0;const o=null===(t=p.value)||void 0===t?void 0:t.sort(((e,t)=>e-t)),r=null!==(i=null==o?void 0:o.findIndex((e=>e>n)))&&void 0!==i?i:0;return r>0&&null!=r?r:0},R=async()=>{const e=await ax.create({component:Kce,componentProps:{roles:T.value?s:[{value:void 0,label:"Tất cả"},...r],selectedRole:w.value},initialBreakpoint:.5,mode:"ios"});await e.present();const{data:t,role:i}=await e.onWillDismiss();"confirm"===i&&(w.value=t)},L=async(e,t)=>{(await ax.create({component:Gce,componentProps:{member:e,callback:e=>M(t,e)},mode:"ios",cssClass:"confirmrm"})).present()},M=(e,t)=>{console.log("asdasds",e,t),y.value[e]&&y.value[e].user_community&&(y.value[e].user_community.unlock_message_at=null!=t?t:null)},O=async(e,t)=>{(await ax.create({component:Fce,componentProps:{member:e,callback:()=>N(t)},mode:"ios",cssClass:"confirmrm"})).present()},N=e=>{console.log("dleetee"),y.value.splice(e,1)},$=async()=>{const e=await ax.create({component:Jce,componentProps:{levels:v.value,selectedLevel:x.value},initialBreakpoint:.5,mode:"ios"});await e.present();const{data:t,role:i}=await e.onWillDismiss();"confirm"===i&&(x.value=t)},F=async e=>{I(E.value,!0),setTimeout((()=>e.target.complete()),500)},B=async(e,t)=>{if(e){const i=await ux.create({message:null!=e?e:"",duration:1500,position:"top",swipeGesture:"vertical",mode:"ios",cssClass:t});await i.present()}},z=async(e,t=m4.Joined)=>{try{var i;const n={status:t,community_id:null===(i=u.value)||void 0===i?void 0:i._id},{status:o}=await SC.patch(`/user-community/${e}`,n);B(`Đã ${t===m4.Joined?"chấp nhận":"từ chối"} thành viên mới`,200===o?"success":"warning")}catch(n){B("Có lỗi khi duyệt thành viên","warning")}finally{P()}};ro((()=>{o.onCallbackUnMount()}));const j=async(e,t)=>{var i;const{status:n}=await SC.patch("/user-community/black-list-user",{blacklist:null==e?void 0:e._id,community_id:null===(i=u.value)||void 0===i?void 0:i._id});var o;200!==n&&201!==n||(y.value=null===(o=y.value)||void 0===o?void 0:o.map((i=>i._id===(null==e?void 0:e._id)?{...i,blacklist:!t}:i)),B(t?`Đã bỏ chặn ${null==e?void 0:e.full_name}.`:`Đã chặn ${null==e?void 0:e.full_name}.`,"success"))},V=e=>{e.target.src="/upload-user.png"};return(e,t)=>($r(),Vr(Di(Kk),{class:"flex-col ion-padding",color:"white1"},{default:pn((()=>{var e,i;return[Wr("div",mde,[Wr("section",fde,[Wr("div",gde,[Wr("div",{onClick:R,class:"shadow-sm flex-1 py-1.5 text-base px-3.5 text-nowrap rounded-lg bg-gray1"},Ze(null===(e=w.value)||void 0===e?void 0:e.label),1),"wait"!==(null===(i=w.value)||void 0===i?void 0:i.value)?($r(),jr("div",{key:0,onClick:$,class:"shadow-sm py-1.5 flex-1 text-base px-3.5 flex text-nowrap rounded-lg bg-gray1"},Ze(x.value.label),1)):Jr("",!0)]),Wr("form",{class:"w-full",onSubmit:Ta(P,["prevent"])},[mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>k.value=e),class:"shadow-st w-full text-base py-1.5 px-2.5 rounded-lg bg-white",placeholder:"Tìm kiếm"},null,512),[[fa,k.value]])],32)]),Di(bC.isEmpty)(y.value)||C.value?($r(),jr(Dr,{key:0},[t[1]||(t[1]=Wr("div",{class:"flex justify-center mt-[20%]"},[Wr("img",{src:jZ,class:"mr-1"})],-1)),Wr("div",bde,Ze(C.value?"Đang tải danh sách thành viên...":"Không tìm thấy thành viên"),1)],64)):($r(!0),jr(Dr,{key:1},vo(y.value,((e,i)=>{var n,o,r,s,a,l,c,h,p,v,y,k,x,_,E,C;return $r(),jr("section",{key:null==e?void 0:e._id},[Wr("div",vde,[Wr("section",null,[Wr("div",yde,[($r(),jr("img",{src:null!==(n=null==e?void 0:e.avatar)&&void 0!==n?n:"/upload-user.png",key:null!==(o=null==e?void 0:e.avatar)&&void 0!==o?o:"/upload-user.png",class:"size-10 rounded-full object-cover",onError:V,placeholder:"/upload-user.png"},null,40,kde))])]),Wr("section",wde,[Wr("div",xde,[Wr("div",_de,[Wr("div",Ede,[Wr("div",{onClick:t=>(e=>{b.push({name:"DetectUserCommunityScreen",params:{userId:e}})})(e._id),class:"text-base font-medium flex-1"},[Xr(Ze(null!==(r=null==e?void 0:e.full_name)&&void 0!==r?r:"-")+" ",1),null!=e&&null!==(s=e.user_community)&&void 0!==s&&s.role&&e.user_community.role!=Di(rT).Member?($r(),jr("span",Ade,[t[2]||(t[2]=Xr(" • ")),Wr("span",Tde,Ze(Di(sT)[e.user_community.role]),1)])):Jr("",!0)],8,Cde)]),S.value?($r(),jr("div",Sde,Ze(e.email),1)):Jr("",!0)])]),S.value?($r(),jr(Dr,{key:0},["wait"!==(null===(a=w.value)||void 0===a?void 0:a.value)?($r(),jr("div",Ide," Tham gia: "+Ze(Di(aT)(null==e?void 0:e.created_at).from(Di(aT)())),1)):($r(),jr("div",Pde,[Wr("div",null,Ze(`Email: ${null==e?void 0:e.email}`),1),Wr("div",null,Ze(`Điện thoại: ${null==e?void 0:e.phone}`),1)]))],64)):Jr("",!0),Wr("div",Dde,[t[3]||(t[3]=Xr(Ze("Hoạt động ")+" ")),Wr("span",Rde,Ze(Di(aT)(null==e?void 0:e.last_deactivated_at).fromNow()),1)]),Wr("div",Lde,Ze(null!==(l=null==e?void 0:e.bio)&&void 0!==l?l:""),1),"wait"!==(null===(c=w.value)||void 0===c?void 0:c.value)?($r(),jr("div",Mde,[S.value?($r(),jr("div",Ode,[Yr(Di(ex),{icon:Di(QT),class:"size-4"},null,8,["icon"]),Wr("span",null,Ze(null!==(h=e.user_community)&&void 0!==h&&h.expiration_at?"Trả phí":"Miễn phí"),1)])):Jr("",!0),Wr("div",Nde,[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M480 208H308L256 48l-52 160H32l140 96-54 160 138-100 138 100-54-160z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-4"},null,8,["icon"]),Wr("span",null,"Level "+Ze(D(null==e?void 0:e.user_community)),1)])])):Jr("",!0),null!=e&&null!==(p=e.user_community)&&void 0!==p&&p.unlock_message_at&&Di(aT)(null==e||null===(v=e.user_community)||void 0===v?void 0:v.unlock_message_at).isAfter(Di(aT)())?($r(),jr("div",$de,Ze(`Còn ${Di(aT)(null==e||null===(y=e.user_community)||void 0===y?void 0:y.unlock_message_at).to(Di(aT)(),!0)} đình chỉ`),1)):Jr("",!0)]),Wr("section",Fde,[Di(m)&&(null===(k=Di(m))||void 0===k?void 0:k._id)!=(null==e?void 0:e._id)?($r(),Vr(Di(ex),{key:0,onClick:t=>{return i=e._id,void f.sendMessageSocket("createSingleChatRoom",{user_id:i,community_id:null===(n=u.value)||void 0===n?void 0:n._id},(async e=>{null!=e&&e._id&&(await g.setActiveRoom(e),b.push({name:"ChatRoom",params:{id:null==e?void 0:e._id}},iT))}));var i,n},icon:Di(wT),class:"size-6 text-gray2"},null,8,["onClick","icon"])):Jr("",!0),e._id!==(null===(x=Di(d))||void 0===x?void 0:x.user_id)?($r(),Vr(Di(ex),{key:1,onClick:t=>{var n,o;return(async(e,t,i=!1)=>{var n,o,r,s,a;const l=(null===(n=e.user_community)||void 0===n?void 0:n.role)!==rT.Admin&&e._id!==(null===(o=d.value)||void 0===o?void 0:o.user_id)&&e._id!==(null===(r=u.value)||void 0===r?void 0:r.owner_id),c=await ax.create({component:pde,componentProps:{member:e,isAdmin:i,canManage:l,isOwner:(null===(s=m.value)||void 0===s?void 0:s._id)===(null===(a=u.value)||void 0===a?void 0:a.owner_id)},mode:"ios",initialBreakpoint:.35});c.present();const{data:h}=await c.onWillDismiss();switch(h){case"suspend":L(e,t);break;case"remove":O(e,t);break;case"block":j(e,null==e?void 0:e.blacklist)}})(e,i,(null===(n=Di(m))||void 0===n?void 0:n._id)===(null===(o=Di(u))||void 0===o?void 0:o.owner_id)||S.value)},icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-6 text-gray2"},null,8,["onClick","icon"])):Jr("",!0),"wait"!==(null===(_=w.value)||void 0===_?void 0:_.value)||!S.value&&(null===(E=Di(m))||void 0===E?void 0:E._id)!==(null===(C=Di(u))||void 0===C?void 0:C.owner_id)?Jr("",!0):($r(),jr("div",Bde,[Yr(Di(ex),{onClick:t=>{var i;return z(null==e||null===(i=e.user_community)||void 0===i?void 0:i._id,Di(m4).Joined)},icon:Di(ET),class:"size-6 text-green-500 shadow-st rounded-md"},null,8,["onClick","icon"]),Yr(Di(ex),{onClick:t=>{var i;return z(null==e||null===(i=e.user_community)||void 0===i?void 0:i._id,Di(m4).Refuse)},icon:Di(LT),class:"size-6 text-red-500 shadow-st rounded-md"},null,8,["onClick","icon"])]))])])])})),128))]),_.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:F,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)]})),_:1}))}}),jde={key:0,fill:"none",height:"36",viewBox:"0 0 33 32",width:"36",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Vde={key:1,fill:"none",height:"36",viewBox:"0 0 33 32",width:"36",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ude={key:2,fill:"none",height:"36",viewBox:"0 0 33 32",width:"36",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Hde=jn({__name:"RankMedal",props:{type:{default:"none"}},setup:e=>(e,t)=>($r(),jr("div",function(e){if(!e)return null;let{class:t,style:i}=e;return t&&!ke(t)&&(e.class=We(t)),i&&(e.style=Ve(i)),e}(Kr(e.$attrs)),["gold"===e.type?($r(),jr("svg",jde,t[0]||(t[0]=[Wr("rect",{fill:"url(#pattern0_3333_12538)",height:"32",width:"32",x:"0.330078"},null,-1),Wr("defs",null,[Wr("pattern",{id:"pattern0_3333_12538",height:"1",patternContentUnits:"objectBoundingBox",width:"1"},[Wr("use",{transform:"scale(0.0078125)","xlink:href":"#image0_3333_12538"})]),Wr("image",{id:"image0_3333_12538",height:"128",width:"128","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABZcSURBVHic7Z15kB1XdcZ/p/sts2vfNTMytmwTV7C8sBSkAENRLGEPsmUbnCJQJpAykEARW7bjCdiSMZBQUBVTprKAwbIsE7aAgwuIQygICXgJMQELYUsz2jyafd7Wr/ue/NEzGkkz87rfzO3Xb2x/VVOaebrd57y+X5977r3nnCs8Q6FH+trwq78HbEX0XJRzgeeBdoK0AcuBjqnmk8AoaBGVcYQnEZ5A5QlgP5nsr2RjXzGlr5IoJG0FbEGPfbSdSu6lCK8AXgm8EMhZur0H/BfIQ6j8O9nMT54phFjSBFDd7nLovMtw9BpU38bMG500yoh8H8OXmcx+Uy7o8xok1zqWJAG0/6atqPkwcAWwKmV1hoB7EfNZ6b79tynrUjeWFAF0YOc2VP4C1asAN219zoBB5LtgbpXu3T9LW5m4WBIE0P6bfx8NPgO8Jm1dYuJ7qPsR6f3E42krEoWmJoAevH4FjvSh8gEgk7Y+dcJH+Afc3I2yse9E2srMh6YlgB684Y8R+TSwOm1dFolBVD8ivbvvTluRudB0BND9fV3kKn+HyNVp62IVwv0Yc6303j6StiqnoqkIoAM3vgSjXwWeZ+2mXhUqHnhe+HvVB2MgMKAmbCMOuA44DmQzkMtCLgf5XPi7PRwCfaf07P4PmzddDJqGAHpo558AXwAW98SDACYKUCxDsQh+sDjFMi60tYY/ne3gLnryEYBeJz2771zsjWwgdQKoIhzaeQvCLYu5CRMFGJ+AyQQX6ESgvQ26OkIyyCIen+jn2Jz/c5E+Y0/BBaiRpnDdf12efMc/gly5oBsEJuz04dHQtDcSrgsrlsHKLnAWbBXuYSL37jRXElMjgOp2l4Gte1C2L+BiGB6DoZFwPE8Tjgurl4dkWJhF+Abdue0ifQ1mcIhUCKDa59Dv3Q1cVffFhSIcPxE6dM2EfA7WrIKOtvqvFe5n8/4dIvsW6bDUD6fRAlUR+r0vUm/nBwaODUL/0ebrfAhnGgNH4cjx+q2S8g4OnXunauNfyIYL1P4b/gqVv67rolIFjhxr/Di/UOSysHEdtOTru07ZKb27diej1NxoKAH04M7XIDxAPRs5E5Nw5Olw3F9KEIH1a2BZZz1XGYQ3SveuB5JS60w0jAD65PVbcJ2fU8/27cgYPH0Clljfn4bVK2H1inquGAHnhdJz64GkVDoVDfEB9PG+HI7zderp/MGh0Nlbyp0PcGIYjg/Vc8UKMPfpz6+1ugQ5HxrjBHZ4OxG2xW4/OARDowkq1GCMjIZEiI+LWbv6Y0mpcyoSHwL0qZuej2MeAeJ5REMjMFjXw1o6WLMKVi2P27qCupckHVOQKAFUt7v0b/0pYYBmNCYLcPhYsmbfdaGzDTJZcE75+sZAqQzFUnLyBdi0oZ61gp/Rvf9lSa4PJBtkMbD13cTt/Io35e0nqM+yTli3Otz1mw/lCgwcAz+BKacCR49D76ZwtzEaL+bQ1quBL9tXJkRiFkAf78vR6f0aOCu6scJTAyEJkkJ7K2zeGO8bex48OZDc1LMlD1s2x2srHKQ8cZ5s/XwlCVWScwI7vPcTp/MhHPeT7HzHgQ1r49M9l6t3/l4fyhU4ETMuROkl3/nepFRJhAB67KPtCDfEalzx4j+MhWLlcsjUOdq1tiSjyzTqI/2NeqRvAZsM0UjGAnj5dwHrYrU9nnC8ZDZTj+c9g1p+gg2o1vPdNxBUEgmRS+ZbCtfGajdZDL3uJLFuzeICN5JEsQSFmN/fyAeSUME6AfTgDS9D9aLohoQLPkmivXVh27ONxOBQvJmPsE37b3yRbfH2LYDjvC9Wu0IhWcdPBNYugYjyciWMcYgD1ffbFm+VALr/uvxUkmY0RsZtip6NFcvCII2lgJGxuC3fofuvq3OPuTbsWoCWjlcTJ0PXq4YRu0khk6l3By5dFIpxg1w6yHW+3KZouwRQeWOsduMTya74rV2VvBdvG+OTcVu+yaZYu09JeEOsdhMFq2JPheZdtGP+ObypTBKUY5vcxmEyJgEc3mxTrDUC6OGbzkPpjWw4namTEIKcwR8/hgazZZjKBP7kYHNGF5W9eCFvSq/2X3+OLbH2NoOMXhqrXVyPd4FQFzTwqI4dxsm2I5ksqGKqRdRv8kIek4XQeY2CupcAVopR2BsC1Fwcq12pbE3kXJDpt1sV400SFEcISqPN3/kQTgnjQIn3rGPAog8gl8RqljABnMjbC04p5WSS+RD32Tga71nHuZWtGwEXRrYIgsRDu50KODVe9syEQUyTLg171TD/IQpaR3hdBKwQQPf3dRHW3auNBiV0ZMYVt8RpU00JIDOmMSxEyqjGekar9Ok+KxXR7DiBbf4G4gQtLTZVOy4U3EnFLYROIQakSa3+LFT9eAklFX8DsH+x4uwMAYYNsdr5DU7pUhB/CXU+xA9FU433zCNghwBxlYkzvj3bEcS1krrRhjhLTqC/MlYz0/Dk16WH2ImlgZUCmVYIYKqFeAF0sdn9LEbMZ2SqRStOoB0CeNXWWA31OQJEQuP5AKZcthLpYskHiDm5b8Y1+GZD3Gdk7Cxt2iGA7xdiKW6CmdJsz2E2VCHOfFoNatTKlqqdIUC9Qxp40Zpn3OeGgVpQH9zopRn1q75q+aANkXZWAgMzqn45Org/m1tik/IGQ4IwZzECxi8NG4yV9GkrBHCQwaBajo5vbmmFaiIZTs8MVL3wGUVAvbLnOFkrCRVWCJAtmyc0qERTt6UVKsXnnMG5oAqVErTGIICpZHND2UUvA4MlAshL95VQjXbwMplwjPObfUcmBfjl0EeK8gE0QFWNXPZPVh6ite1gUT1gvBjRPh2dYJZAcEajYTzo6IrRrISIPmFLrMV4gOBhUy1Es3LZstDUPTcbmIEJwqGxKzoczFSLJQyP2hJtLyhU5T+NV3Qix/fO5YCGX/g5hJi2nF3RIRXGK7gq+lNboq0RoFoNfohq1kSN723tYf599TlnMISCX4J8Hlprr+4arwSqWU+y/2ZLujUCdLxo3zHggCnHSPlatTZ0GL3k8gOWDCqFcAhYuTayqamMgfCbzgvvftqWeKuJIQLfM9WiqonYGli9JvzXKzy7l4aNAW8qIWT6mcwDNQGmWlRR+Z5NFawSwMADqIqpTNRu2NoO7R1h51dip0Q98+BNhsNge0e0+a+MgyLG8K82VbBKgHzQ9aAoQ6Y8Hj2+r98U/usVIGh09e8YvkfS/klQnRkCN0QUjFLFlMcRGMyPH/2+TTXsDgGX3lVF5CtqAoJKRP7dyjUzy56l0YY6hBpjx01j7ssvGOWppfyWFlhRu45BUB5DTQAqd8tlD1lVzH4KrZG7AYLSWO3xXZhhvvEhatiwCCPVOXMHT0INgSZYuqY8DsFUP27sqV29TA3BNFlErJ89aJ0AuUvu+QUiv8QEIQlqYfU6aG8Pf/cK4dSwEQgM/sTTaDDHy6QGf+J4cvGL1dKM6W/rCGdENRCUx6bjBB/LXXSPtQWgaSSTRK/mk3CK6ZoPAvSeM1PEqTzeGH/Aq04lkA4QFIcx1SKmWiQojVAd7cdUS8lkMAVVmH4pRKD37Jpvvwb+zEukert9hRIiQG6/uRf4HWoIChFT1o5OWD31FqhCcST56OHpyFs1BKVR/PFj+OPHCIojM4T1LU9PjQ+lYU46oGvWQmftWNqgODg9jD6V+63ZZ1ehEIkQQC7fFwjcDuHqlYma6vWcBfmpog4aQGEoURLUyh2sp01smAAKwzPEy7dAd+3DUU1lMlz5A0T043J5MgWjE6ujks0FX0LoB/CLQ7WHAjcD55wfHuEKIQmKw4mRQHxwyvPPOqSqOBVLsxLjQ3FoZvNLBLaeX/MEUtUAv3gy3uOprL/sK3aUmY3ECCAX7PNAPwyACQgmI879ae+Ani0zfxsfiieglre+CGQm5k4ldzzI2ipgFnhQOHE6kXvPDp2/+aAQTDx90lqoIx+US+9KzDFKPE+68siOfwH+EMBtXYbbFpHQcvBJOH749M9alkMuXupBvVAXdCqWSXxBfEtvvleametPY/2mcLirgaAwdGoNo2/lL7r3LXYUmhuJl9LSQD+E4EG4NmCiNoB6z5pxCqdRHoXSSCL7BhKElsApY6fz1YQLW2d2/qo10L2l5qWnFbASKsYJPrx4hWojcQK0XLr3ACp903/7k4OoHxEYetY5sOIMS1Etw+QJCJo4qDSohCa/esYi0srV8Lxza9Ys1moFvzA487fqza0X7nsyKVWn0ZBierlt531SkHANWw3V8aNorY4UB855Pqxdf/rnOuVNF0dCH6FZoEH41hfmcFzXrIWzz6vd+b5HdeLYjI8kPJjf9vzPJKjxSTSsVsrEY+9am1f/f1Q1LCPvuGS7NiBuRDnXwwfhcP/sz0Ug2wa59sWc3r04mCBc1ZtvWNvUC5u6a95Cgyr+2BF0apYgIoOe579gKr4icTS0WE7p0csvc3C+j4aWR5wMma710SQYHYbfPTF38QQRyLSERHAbctTezE6eX557ZpPNwlnnwvLa5Wo18PDHj54yRZbA0eBV2Yvv+5F9pedGw6sleQ/v+FMV7pzRwCHTsQ4nysuvVODAb2CyxhzNyUC2BTKtsVKs6oKphn5ItVx7+OnsgrPPjzwUylRL4Z7DKY6tqnyw5eI9n7elchykUi6r8uiOj6PcPKOFkGlbjdMSUWZAFQaPw8DB6HIz4kImB24utAxOJv7BEaphJwdV8D0wlejCDZkMbN4Ca9ZFyjlZsfR0mbfkL9778XgK2kNq9dLKD1/xBRE57WyBcJ1gJZFqVauhbzB4vL44AnHCItIy9XNSzlRSi5qwo+uZboqEnb55S4xziZSgMDyrVrHCnS0X3ZvIiSBRSPbcwBrI/9b8mbc10wp6zfRnQWkMUy2R6Vhb2y/IZmHLObCxG44ehsFj8UqrqLFXp0gcWLkqdPRaog+Y0qCKP3F8rjiEL+X3B9fZUap+pFoxURWpPnbFp1TlI6f9R9whYRrVKpx4Gk4ch1LCMQVt7eGizup1IRFjwFTG8QvDc1gWvSO3be/1Iukdkd0UJTPLj1zxIUH+hjPWJSSTJ9O2CsnWcYRbsQDDJ2B8DAoTiw81E4H2Tli2PFycamuPfakGFfzJIXR2roSCXJ+/aM8di1Nu8WgKAgBUHr5iByJfZI4TR5yWTtzWlUi98/0ggMkJKE5CpQylEnjl8PMzp5SZTLhDl2sJzwzMt4ad3dFVc+duLqgGBIVh5o6OlgmE9+a37bmvvi+TDJqGAADBE9e9zy8O34wGm2b9pwhuvgunZRlia4o37Q+4lkolGR9TGiOozBMV7bgDmdZVn3DP/dxdVgRaQGpO4FxwWjp25PIdm/zCCTWVidPJqUpQHiMoj+HkO3FbliGZRR4KZavjfY+gPFoz8MVp6TKZtlWbQXYATUOAprEA+tTODTj0Ay6ECyVBYahm9K64OZx8O06+E3Eay2U1AcabxFQKc43xJyFuFrdt9akLXQaRHum+7fC8FzUQzWMBHHYw1fkATrYVZ/kmguJoGBY9h0nVwCMoegTFESTTEl6TbUUyefunhapi/DLqlzFeqWanAyBOuK7Rupwz3jMHw3bgs3YVXBiahwBw5eyPBLdtBU5LJ0FxZB6nKoT6ZQK/TFAaAREkk8dx84ibBTeDuLnYVkKNH1qewEeDKibwwg6POaNw8p24bSvmlyd6JU1CgKYYAvTQTWeD2U+EPmp8gtIopjxBrPSuMyEADjK9EjhtJabK26gawCzo1oiEHd+6PB7RxDlXum+1UudnMWgOC6DBNUi0zRYnQ6Z9Ndq6AlOZwFQm0HryCBRguqPtYMYP6apzmqrvBG6xpsgC0RwEEP6oruaOi9u6HLd1OVotE3iTaKVwck89aYi4OPkOnHxH6G8sBKrbaQICpD4EaP/OF6A8ZuVexkerRYxXDrN7bBFCHJxMC5Jrwcm0LX76efK+7guk+xO/tHOzhaEJLIBcubBBd447ORkk34WTD6tthc5cFYIqarwwF9Aoqr6PCQonU4BFMjhuu0gmgyOIk51yHrNTzmNCEUcaXAk8ewmgitCvVyR1f3EyoUOWnRVskgGWAT8PPUF7x7DVBeEqVW5MczMo3ROWD9/wEqB2oHyyuBd0T2rSlV4O3/ji1OSTNgGUHSlKNzj+Xhx/L5BeoSI1c6x/NA6pEUB1u4s6l6clH/ixbL5jQDbfMQD8ODUtDDtU+1IbitOzAIe2vgp0fXTDpCB75v690WrIWg75r0xLfHoEkDTNvxwjk73/5J+Z7P0gDYnDn1ud9IaBVAigj/flgLemITtUgIdlY9/J/Ovwd30kNX3g7br/ugWuKC0O6ViAzsobgHhnDSYBZw7PX1OcDcBy8l2vS0NwSkOApOn5linnvjXr07bgG0CCpcGikM4w0HAC6LGPtjNVLyAVCN+WrX2z0otkzR0TCN9JQ6UpDd5k60TwetB4C1DNvxWIH1prHbU8/lSHgTYq3psbLTSFIUDTNP/jUJy/1q6f/y5g5TSuhaHxQ2NDCaD9fStRXtNImadDvibdfzvvOC9n9ZWBbzRQodOh+loduMHKodBx0VgLYCrbAUt7qQtALE/fpDkMZAmcumIjFovGEkBS9f4H6clFn7TRfeAHwPHk1ZkHDV4UahgB9NDHNgJ/0Ch5c2iwV6Qvsq6MyL4AuD+qXXKQl2v/jbMTYxJCAy1A9rSw74bDOPFNe7qLQg6qDdskayABUvX+D9F7W/yTtnp2/wR4KjFtotGwZ9UQAoRh36QTdQMg7Kkn6kYERSXN5M0Xav9NWxshqEEWwFxFmgGoEtRv0t1UhwHQILFQuVPRIAIkF/cXCeHXsvmTdUcdy+ZdjwK/SkCjmArI1Y0Qk3yp2IGd20AuSFrO/Apwz4KvFd1rUZP6oJyvA395YdJikrcAQapzfxDn3gVfq+5XsRWzvjD5iT+7RAmgiiCNm9LMgf9eTP6d9Nx6APiFRX3qg3KlarK+U7LBiAdvOh/HbKnjilHQw+AcBo6i2oHwdhbsQMrC3/6Ze+wBvXSBFyvKPyMyCWwAswlkExB9SnSIHg7edD7c+n8LlB+JZAmQyxwkqD6C6gXAMYQB4AhweOrnKGg/wlGc/IBs7JtV4kv7b3gPKndRv7UyCIsfw4W9KJ9amHy9Vnp2//2Z/6FH+towlc0oG0C6gQ3ApqmfjSibgfXA/+IWnlrkN6iJ1HMD40AP7dwB3E1dhNWHpGf3ZZbkPwS8oo5LAlTfI727v2RDfpJINzEkJqRn170oVwPxc8G1jqXfyHvVtSYQoPrupdD5sEQIACC9u+5D9SrikaCKa75mTbiT3wfEObwoQLhGendbP+EzKSwZAgBI7+77MbwNqF2gR3hQNu8esia3u28YlahDmz1Etkv3roWvO6SAJUUAANmy6ztTM4MaJEgg02euUPIZeCCXS/dtX7cuN2EsOQIASPeuB8C8hbnDuIvks9+0LjTrfR2Y62iQCirvkJ7b7MtsAJYkAQCk5/YHQV4HnFGdUb8ta/sijipdgLz1ny7ArLDxIuq8UXpv+7ZteY3CkiUAgPTc9iNUXo9ySv04i97/LJw2DBQwzpuk99Yo36CpsaQJACC9t/0Y9PXAAYQfMJF9IDFhE/nvIvpD4ACqr5Utt/4wMVkNwv8DXU7LqUk1PMQAAAAASUVORK5CYII="})],-1)]))):Jr("",!0),"silver"===e.type?($r(),jr("svg",Vde,t[1]||(t[1]=[Wr("rect",{fill:"url(#pattern0_3333_12617)",height:"32",width:"32",x:"0.330078"},null,-1),Wr("defs",null,[Wr("pattern",{id:"pattern0_3333_12617",height:"1",patternContentUnits:"objectBoundingBox",width:"1"},[Wr("use",{transform:"scale(0.0078125)","xlink:href":"#image0_3333_12617"})]),Wr("image",{id:"image0_3333_12617",height:"128",width:"128","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABkDSURBVHic3V17cFxXef999+57Vw/LsmwpknZXtuREcmRLluMkZQDTyUAhlEeJcQhNy6NAYSivmQ6lA6G0nQ7QdvqYKUxpp8MjTQKhQDMQJjxKKYOZNJYcS3Ity9LuSrIsy5L1WGnv7n2d/iHtem2vds9dnXuvzG/GM/Luuff79p7fPec73+Mcwq8pZmdnQ7qudxuG0SlJUhdjrAtAB4AaACEA9QAim83XACwDyABYBZAgooumaV6UZXnc4/Gcb2lpybjxO+wGua2AKMzNzYVzudyDjLFXAXg1gGMAfIJurwJ4EcDPiOi/vV7vL39dCHFHE4AxJk9NTZ1gjD0O4C248UbbjSyAHxPR19bW1r7X09OjOiRXOO5IAkxMTHTKsvxRAG8HsNtldRYBPG0Yxt/v379/3GVdLOOOIkAikThCRB8H8A4Astv63AITwA8YY38Zj8d/5bYyvLgjCDA9PX2vrut/Q0QPua0LDxhjP/J4PJ9oa2sbdluXStjRBEilUrtM0/wsEX0QgMdtfSzCBPCkz+f7eEtLy4LbymyFHUuARCLxe0T01wAa3dZlm1ggok9Eo9Gvua1IKew4AoyPj9d6vd5/AvCY27oIxreJ6A+i0eiS24oUY0cRIJFI3E9ET2LDYWMbTNOEaZrQdR0A4PF4IEkSJEmyUywATEmS9M729vb/sVsQL3YMAZLJ5LsBfBmAV9Q9c7kclpaWsLa2hkwmA0VRoCgKTNMs2V6SJASDQQSDQYTDYYTDYdTX1yMQCIhSCQAMxtiH4/H4l0TetFq4TgDGGCWTySeI6AkB98LS0hLm5+extLQERVFEqIhgMIhdu3ahqakJu3btAtH2Hxtj7B9isdjHiKg0Gx2CqwQYHx/3e73efwPw6Hbuk8lkcPnyZVy9ehWqaq9Tzu/3o6mpCa2trQgGg9u93VPr6+u/76Yn0TUCMMbkVCr1FIBHqr3H6uoqpqamcO3aNTDGBGpXGUSEPXv2oL29HbW1tdu51Xej0egjRKSL0s0KXCEAY0xKpVJfx4ZHzzKy2SwmJycxNzcnWLPq0NjYiM7Ozu2MCM9Go9FTRGSI1IsHjhOAMUapVOpfALzb6rWmaSKVSiGVSm1pyLkFSZIQjUYRi8WqtRG+Eo1G309Ejg5ljhMglUp9hjH2Z1avW19fx/nz55FOp+1QSxgikQi6u7sRiVgPTDLGPhWPx//KBrW2hKMESKVSDzHGnofFQM7s7CwuXry44976rSDLMjo7O9HS0mL1UhPAw7FY7Hkb1CoJxwiQSCRiRPQSLIRvGWOYnJxEKpWyUTP70NbWhgMHDlidEpYkSTrW3t4+YZdexbDd9QUAo6OjPiL6Dix0vmEYGBkZuWM7HwCmp6cxPDxsdeTaZZrmN1966SVhDrFycIQAoVDoUwCO8LZnjGFkZATXrl2zUStnsLCwgHPnzlklQX9jY+Mf26VTMWyfApLJ5D0AhgD4edozxjA8PIyFhR0bQa0KDQ0N6O3ttRJvyBHR0Wg0OmqnXrYSYDNn75eMsft4rxkZGcH8/LydasHr9aKmpgZ+vx9+vx9EBFVVkclksLq6CsOwZzm+b98+dHd3W7nkdDQafYWd7mJbkyxSqdS7AHB3fiqVsq3zJUlCc3MzmpqaUFdXt+WbyBjD4uIiZmZmcP36daE6zM3NIRKJoL29nfeSB6amph4D8HWhihTBthFgdHTUFw6HLwCI87S/fv06Xn75ZVtcuvv27UNHR4flqN7169cxNjYmLKgEbLiQDx8+jIaGBt5Lkpqm3d3Z2ZkTpkQRbDMCI5HIH4Kz8zVNw/nz54V3vizLOHToELq7u6sK6TY0NGBgYMBKZ1UEYwznz5+Hpmm8l8S8Xu97hSlwC2whwNzcXJgx9ie87cfGxoRH8bxeL/r7+9HU1LTt+/T29golgaqqGB+3lEH+p7OzsyFhChTBFgIoivK7APbytF1YWBA+7xMR7r33XtTU1Ai5nyRJOHTokIjwbwFzc3NWVjrNmqbZkiJnCwGI6H087RhjuHTpknD5Bw8eRH19vdB7ejwe3HPPPULvOT4+zu0fYIx9SKjwTQgnQCqV+g0AfTxtZ2dnkcmILbGrra2txgfPhfr6euzZs0fY/RRFsRLSPpxIJI4LE74J4QRgjL2fp51pmkgmk6LF48CBA8LvWQwLSzguJBIJ7lFAkqQPCBUOwQQYHx/3Y6NIsyLm5uaQy4ld2dTV1Vka+lVVxeLiIpaXl7mdP3V1dUJtgVwuh6tXr3K1ZYy9bfMZC4NQR5DX6/1NcFboXr58WaRoABuZOTzQNA1jY2M3pZJ5vV709PRwWfv19fVCfQMzMzNobm7maRrx+XyvBPAjUbJFTwEP8zRaWVmxJbGDZ37WdR2Dg4OYn5+/ye+gaRqGh4e51ueiVhd5pNNprK6ucrVljL1RpGzRBHg9TyM7cvnyOf2VMD09jfX19ZLfGYbBtST1+UTtO3EDvNMAgDeJlCuMAJOTkwcBRHnaLi4uihJbgNfr5Uq8qES+fLVQOdhRQWQh9N0+PT0tzNIV9kskSRrgabe6uopsNitKbAE8b6VpmhVl8wzvdkQLs9ks97So6/pRUXJFUrmfp5HoCFsePHN3LpcrG29oaGjgMgJFGoDFsPBsuJ41D0QSgIuVvMaOVWSzWaytrZVtU871GgwGuWP1dv2GlZUVrnZEtCNHgMM8jex6eMBGUGkrp0o2m93S8eTxeNDb28s1jRiGgaUleyq8LayMuNPrKkEIAcbHx2uxse9eWWSzWVtr91ZWVjA0NHTbSLCwsIAzZ86UnCbygZ5wOMwl4+rVq7ZlDOVyOV7n2O65uTk+hStAiCNIlmUuL4Ydxt+tWFlZwYsvvohgMAifzwdFUcqSrrOzkzvUa5f7uhjZbBZ+f2Vnn6ZpzQC2HUkTMgIQERcBRLt+y0FRFKysrJTt/La2Ntx1113c90wmk7aTmPcZaZomJOIlygbYMSMALxobGy0FjpaWlhypUeB9RkS0cwhARFxjqIU0KFsRDofR3d3NXbGjKApGR0cdKUG3YCPtEiFPCAE0TeNyju+EEcDn8+HIkSPwePjMH03TcPbsWds3nsiDV04ulxOyLa4QAqiqyhUfdbu4U5Ik9Pb2chlZwI0KJbscP6XA44oGAMMwhOQICiGAYRhcWju9i8etuOeeeyzt5jE2Nmbbmn8r8D4j0zSFDEmijMA1HsVN03SNBB0dHdi7lytPFcBGkcrs7KyNGt0O3mfDGINpmqVDmhYhhAC6rk/zjAJ+v597iBOJpqYmxGIx7vYLCwuYnJy0T6EtoGka1/Sk67pmmqaQJYmoEWBZ1/WKkYxgMOi4HVBXV2epHi+dTjtm8ZcCTwGLruuLRCTEpy6KANd0Xa9o4tfW1trmRi2FQCBgqSI3l8vh3LlzjupYDF3XuWwUwzBUXdeFlE8LIUA2m72o63rFDQ1qamqQyWQcebtkWUZvby+8Xr59FkzTxPDwsKPeymIwxqAoClc+gq7r3nQ6LeRwCiEEePDBBxXTNKlSx/p8Pni9XtsfMhGhp6eHe6MmxhhGR0dtjVRWgqqq8Hq9FQnLGANjjJ04cUKIU0VYOJiILvF4+hobG213qnR1dXFnCAPA5OSk67uRqKrKpfPmsxsTJVcYARhjQ7lcrqLHZO/evVBV1TZjsKWlxVKA58qVK67vQ2QYBrLZLNcyVdO0ddM0z4mSLXIE+JWmaXKlaWDv3r2F+U40IpEIurq6uNsvLy/jwoULwvWwiryLnIcAqqp6AZwWJVsYATRN+ykAbyULuq6uDoFAANlsVrgx2NXVxW3xK4qCkZER172TjDFks1mEQqGKK4DNKdbr8Xj+S5R8YQS477775ojoEk/AJxaLwTRNoaNAY2Mjd1mY0wGecsifXxCNVs6oz+VyDMCFw4cPC6unF53g/oKmaazS/J73yolcEvIWbboR4CmnS746uhIBTNOEpmlgjL0gUgfRBHieMUaVlnl1dXVoaGgAY2zLKh0rCAaD3G+/GwGerbC+vg7GGBoaGlBXV1e27WZKOwH4oUgdhBaHGobxgiRJC9lstjEQCJRNuDh48CBOnz4NRVEQCAS44/OlwLvkMwwDTU1NVW8bk81mMT8/L6S2QdO0wih08ODBsm0ZY8jlciCi+ZWVlR9vW3gRhBJgYGBAO3PmzJMAPpLL5cr6tdva2jAyMoJ0Oo10Oo36+vqqj2LhfftlWd72Xj8tLS24cuUKLly4sK3pK58CHolE0NbWVrZtLpfLL5u/ceLECaHRNDu2iPk6gIpWPhEVtlzRdX1bO4U4bck3NzdX7LRyWFtbK8Qbenp6yhI/v0oAACISvl+gcAIcPXr0DIBhnjq8WCxWeHszmUzVLmJJkhw16lRVrXoPolwuV9B1165dFY2/bDabf/vP9vX1na1KaBnYtUnU54GblN+qHY4dO1Z4A9LptOV8ASICEUFRlELhqa7rtvxTVRXpdBpra2uQJMmy3aLremHoJyIcPXq07Nt/y0v0eUvCOGHLVrHj4+NPHzhw4LOMsQPr6+tlI1wNDQ2IxWJIJBJgjGFlZQX19fWQZb4zJTaDIyCiQkc5BStTj67rWFlZKVzT0dGB3bvL756fXyUQ0eT4+Pi3tqXsFrBlBDh58qRBRF8ANqzdSg6Xvr6+QuTONE0sLy9bihVUKgq1A4qicOcNGIaB1dXVwm+KRCI4fLh8KaWqqoU0etM0/+LkyZO2JCnYtlWsz+f7KoApoLLDx+v14oEHHii4cfMk4H3AV65ccTzTiHePI8MwbvotkiThwQcfLBv2LXYQEVGCMfaN7WtcGrYRoKenR2WMfQzY6NC1tbWKtflHjtwoes1X4fKEmBVFQSKRcKTwxDAMJJNJrlFH07TbRrO+vj7s2rV1TQdjDOl0unCNaZofGRgYsO2H2X5gxNDQ0HOMsYcBFM7lrdAeFy9evOmzmpoarlw5IkJtbS18Pp+Q412LwRgrGIE8o02pHT8OHjx4E8lLIZPJFBt+3+vv739zlSpzwdbzAgDAMIyPyrL8EGPMrygKJEkqm/na19cHVVVvqsJNp9NQVRWRSKRstC9vRLoJxhjW1tZuWwJHo1Gueb/ouqwsyx+zR8sbsP3MoIGBgQkAhXMCM5lMxbn92LFjtyV15HI5LC8v74gI3lZQVRXXr1+/rfNbW1tx/PjxsqOSrus3xUWI6DOHDx9O2KZsXo7dAoCNo2KHhoZ+COAhYGOorqmpKbuOZozhzJkzmJi4/fQ0n8+HSCTCvVS0G6ZpYn19vaTjKx6PY2BgoOzIlV8lFNlIP+zr63uDEyeLO3JqGBGZsiy/E8AccMPQKTcSEBEGBgbQ09Nz23eqqmJpaekml6obyBu3i4uLJTv/0KFDuO+++8p2vmmaN3U+Ec3ruv4up46Vd/Tk0LNnz55gjP2YMSYBG0uimpqaim/y7OwsXnzxxS1dxYFAAIFAgDsFfLvQdR2Komzp6vb7/Th+/HjF7V8Nw7jVqDQAvKa/v//nQhUuA8fPDh4cHPwAgC8Vf1ZTU1Ox8zKZDE6fPl12py+Px1M4CUz09KDremEPn3Kjzp49e3D//fcjFCpfvKtpWqml8R/19/f/oxiN+eDK8fGDg4OfA/DpghJECIVCFevi8kfJnjt3rqIxKElSoQ5BlmXIssydL2iaJgzDgK7r0DQNmqZVXPr5/X709vYiHo9XXIKqqlrKj/BEf3//57gUFAhXCAAAg4ODXwZw09kCgUCg4psD3CjhyscPeEFEkGUZRHQbGfKVy4ZhWL5nR0cH7r33Xq7CzlvW+Xl8qb+//4PcQgXCdj/AVrh06dKHDhw4EATweP6zfCSv0nrf7/fj2LFj6OnpwdjYGCYmJriMQcaYsGCRJElob29Hd3c39/ayWxitX7106dKHhShVBVwbAQCAMUZDQ0NfBPCJ4s95p4Q8stksEokEUqmU7Y6g+vp6RKNRxGIx7qPostksFEW5bWQhoi8cOXLkk0TkWm66qwTIY2ho6COMsb/FLctSj8eDUChkKe6+tLSEmZmZQu7edoNERITdu3dj7969aG1ttZQIks90KjHqMMbYJ48ePfqFbSknADuCAAAwODh4CsBXUOLEEb/fj1AoZNm/r2la4UiYfO7h+vp6IbmjGD6fDx6PB+FwGLW1tYhEIqivr8fu3bstLy/z0bxSy1bGWBrAe48ePfpNSze1CTuGAABw8eLF96+vr3+aMXZbcR8Rwe/3IxAICNuvP/9mbicjuRj5DJ6tdiUnoplwOPznXV1d/yxEoAC4ZgSWgs/nO+X1eu9SFIVls9mbyJlPjsxvpRoIBLa91hfV8fniznI5jX6/3wyFQq1EdArAjiHAjhkBkslkM4BpADJwIzhSzrqXZRk+nw8+n8/xuIBpmlBVFaqqll1ZyLKMUChUPI2Ysiy3t7W1iT81qwrsmBGAMXaKiAq96PF4UFdXV3C5lhpSDcOAoihQFAVerxcej6fg+LEjH8AwjIJjqNJykogQCARK5T9Iuq4/AuDvhCpYJXYMAQA8WupD3l2/8x2jKErB4ePxeAoewGo8gcUeQSsOIr/fj2AwuKU8SZIexQ4hwI6YAqampvabpjmOCvrkK4qrrR/Ijwr5VPJi5LOL839Xc2+fz1e244thGEbX/v37hezzsx04Eg6uBMMwHgcHGSVJQjgcRn19PfeDLka+k/NvdvG/vCvYaufnj6urq6tDOBzm1snj8bzTkiCbsCOmACL6HSvt8w89GAwWonSqqjpWIpZfkuZ9B9WAMfYIgCfEamYdrk8Bk5OTvZIkvSziXnkjLR/FE0UIIoLH4ykYmaKWj7Is97a1tQ0LuVmVcH0EkGX5UVEdlQ/75nGrMZcf5k3T1E3TXGeM6QBARB5JksKSJHnykcJqjEerME3zUQCuEsD1YFAqlZoAEHdJhZew8QyEHcNmEaloNBp3MxjkqhGYSqXuh3udDwBPA3jKRfnRZDJ53EX57hKAMXbKRfGmx+N5xuPxPAPAzZMsSvo/nIJrBGCMyUR00i35RPSL1tbWmdbW1hki+oWLepxijLlmi7lGgKmpqdcA2OeWfNM0nyr1twtompqaerVbwt0cAdwc/uf8fv+z+f9s/l3+XHkbwRhzbRpwhQCjo6M+ALYWPVbAYEtLSyG/fPPvIRf1eev4+Dhf/ptguEKAUCj0egDb265rGyCi24b8Up85iHqPx/M6NwS7NQW4aflmVVX9z1s/VBTluwBc2z50M0LovFynBc7NzYWJ6A1Oyy3Cc52dnbedDHH33XenAXzfBX0AAIyxN87Pzws5DNIKHCdANpt9MwAhR59XiXJDvZvTQCiTyfy200LdmALcHP5XZVnecq9dxtgPACw7qM+tcPzZOEqA6enpBmzuEeASvt3W1rblPB+Px7NE9F0nFboFr52ZmSm/d5xgOEqAzVw4n5Myi8Fj6RuG4eY04DUMw1JuxHbhKAGIyM3h/1p7e3vFkzbi8fhPAFx1QJ+ScNop5BgBpqamWgC8wil5JfAMEVWsDCUiA8CzldrZiFdOT0/zn3q1TThGANM0T2Ez598lcA/tLjuFJF3XHQuSOTkFuDn8T0WjUe6Tttrb238JIGmfOhXh2LNyhABTU1P74V7WDRhjT1nJuiEixhhzrXiTiI5NTEx0OiHLEQKYpvkOuJh+xhirZkh3cxqALMtvd0KOU1OAIz9mC1zo6OiwnHUcj8fPAjhvgz68eMwJIbYTIJFIHAFw+2Z/zuHfq72QiJ4RqYhF3D05OVl+b1kBcGIEcDXnzTCMp6u9loieBODe9i0O+E1sJQBjjNzM+2OM/e926u/a29snAJwRqJIlENGjm2cF2gZbkxFTqdTdAGIWLlkGcJmILgO4whiLAHgrqjQgiajqt78ITwEYqPJaBuA/iGgNQPPmzid3AeDdaKh98xn+X5XyK8JWAvh8vpSqqkPYsAHmAMwAmGWMXSaiy0R0xTTNadM0rwSDwZmWlpbbzo5LJpPvwcaOGlZHK1OW5W3P4bIsP2MYxherkQ/gfbFY7F9v/WJ2djakKEqrJEnNkiS1McaaGWN3EdFdAFoAtGIjYXZEluXkdn9DObheG8iDRCJxavPMPCuE/VksFjshQn4ymfwZgFdZuMRgjL0nHo9/VYR8O7EjysMrIR6PP01EjwHgPjpFpDvXoh/BIKJ33QmdD9whBACAaDT6TSJ6B/hIoMmy/G1Rsj0ez7cA8JxUYQB4PBqNCj/h0y7cMQQAgGg0+iyAtwAofyQp8EJra+uiKLltbW3XAVQ6tFkF8EgsFqva7+AG7igCAEAsFvs+NlYG5Ugg3I1bYUpRGWMnY7HYd0TLtRt3HAEAIBaLPW+a5ptQOo07EwqFvidapt/v/w6A9RJf5YjobfF4XLhMJ3BHEgAAOjo6XjBN83UAbtp4n4iea2pqEn6U6L59+9YZY7emjWeI6OFoNPqcaHlO4Y4lAAB0dHT8nIh+C0DhgD6bCz2L770O4I3RaLSSbbCjcUcTAACi0egvNkkwAeAnmUzmebtkZTKZHwD4KYAJInptLBb7qV2ynML/AyKap8OoEC4BAAAAAElFTkSuQmCC"})],-1)]))):Jr("",!0),"bronze"===e.type?($r(),jr("svg",Ude,t[2]||(t[2]=[Wr("rect",{fill:"url(#pattern0_3333_12623)",height:"32",width:"32",x:"0.330078"},null,-1),Wr("defs",null,[Wr("pattern",{id:"pattern0_3333_12623",height:"1",patternContentUnits:"objectBoundingBox",width:"1"},[Wr("use",{transform:"scale(0.0078125)","xlink:href":"#image0_3333_12623"})]),Wr("image",{id:"image0_3333_12623",height:"128",width:"128","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABsOSURBVHic3Z1/lF1Xdd8/+9773pv35veMpNGMxvphWbYbAyFxQLLJSqApK3EKNKHIsU1CFwUsmbQkgVXqwKK4tAkEmiyWEyyLtOkCCraFKVBWcEogcVNqSU68oJQYLxvZkvVjRj/mza/38/7a/eOONJJm5t373jv3vVG+a2nZM3Pe3fvds8/e++y9zz7CP1DowVsLqP0TYO9C9EZCbkS4HqQftAAMAX1Lw0vAHEgFwgVUXsLieVSeh+AFJHhW9j1T6d63SQ/SbQZMQT//ql4q+dsR+XmU1wOvAbKGHu8CTwNPYvG/UO+pfygCcU0LgB7aazN38g2ovAPVX2V5RaeNGvBtRD7P8MLX5c6/dztE1ziuSQHQh3fvAvlt4NeA0S6zMwP6KIH1afnNwz/uMi9N45oSAP3s7a9G9f2o3gPY3ebnKoTANxH+o+w7crTbzCTFNSEAevC2V6L6h8Abu81LMuj/xAo/IPf+7d93m5M4rGsB0Id+dhjxH0B4L+B0m58m4YP8GeJ+WPY9c6HbzKyFdSsAenDPv0D5T8CGbvPSFpTzoB+Q+45+odusrIZ1JwD64O4BsvIQ8PZu82IW8jihfa+897uz3ebkcqwrAdCHdu/Bsr4Ien2qdIAwVIIw+tm2wLKkEy/jZcLw1+W9T//v9Eklw7oRAD1w279E9GEgY+qZrq+UqiHVekjdU+quUvdBVVcdLyLkMpDLWuQyQj4r9OctMo7R1xQg/GvZd+SAyYe2iq4LgCrCw3s+ivBRA8+iVA2ZLQeUKtGkm0AuI/TlLYb7bPryFmLirSkPcvbI78gDhAae1jK6KgD64B05ssX/CnJ3O8+pe8qF+YDZRR8vMMXd6sg4MNznsGHQJpdp8/UpX2J08Z3djCR2TQD00F6b4slHgL2tPqNSDzk76zNX6vwiEoHBXpuxIZtCj9XGk/RrTOf3ygNP+saYawJdEQB9AIuxPV9AuKeVz3u+cmbGo7jYVe15CYMFm8mNDtmWNYI8zsjkXXLnl1PWXyvRjui2BFWE8d1/2srkqypTRY9nT9TXzeQDzFcCfvRynamizxr+ZQz0bRRPHlDt/ILsOEF9+LZ/B/rvm/1czVOOT3tU6+tn4ldDT9Zi+5hDPtfK2pIPyf7DHzfOVCOKnSSmD+9+I8gTNJnIubDgc/q8T2jGqU8dlsDkhgyjg03nq0Is3iT3HnkiDb5WQ8cEQA/s2Y7wdzSRvlWFqaLP2dmu+EdtY+OQzeSGpsMas4j1Gtn31LE0eLoaHfEB9NAtWUS/ShOTHyq8NO1es5MPcH4u4MVpr1nNNYyGh/TgrcYCYo3QGSdwpv9DIK9OOlyXJn++vL7tfRLMlwJenHKbFYKfJsx8MCWWrkDqJkA/s+cfYfM9IJdovMJLUx7zlY7viFLFQMHm+nEHSR5GrGMFt6ZdU5CqAOihvTYzJw8jvCbZB+D4WZfZFAM7tm1R6CuQyThkshlEBLfu4fselVIV309P8Ib7bbaPNaXZjzJy3evSjA+kW2Qxe/KdiScfODvnpzL5IsLIhiGGRwbpG+hdcxWqQnmxzFxxgZnzRcLWNvVrYnYxoJCz2DSUeHewm+KptwOfN8rIZUhNA+ihW7IU+58DdiQZv1AJeXHKbTGQsjaGRgaYmBwj15PIAl2C63pMnTpL8cI8UQLZDERg53iW/kJC90s4QX34JnnfE3VjTFyG9JzAYt99JJx8P4QT5zyjky+WxdYdW9hxw9amJx8gm82w7fpJdt60Fds295pU4cRZlyBI+GWVbeSK7zbGwFVIRQNEhzQKx4CxJOOPT5u1+7Zts/PGbfT2F4w8r1qpcez5E3iuZ+R5ACP9FtvGkp5bkSnEvSGNwyjpaIBK4TdIOPnz5dDo5IvA9p3XGZt8gHyhh527tmJZ5l5XcTFkIfE2V8cJM6mUyKVlAu5NMkgVTl8wt6oAtmydYGDI/AGhfG+erTu2GH3mqRkvuXch+l6jxJdgXAD0wJ7XAT+VZOzMQmCsageg0Jtn46YRY8+7GsOjg0aFq+4qxYWkOzx5tR647bXGiC/BvAawZF+SYaHC9KzZ1T8xuTn10NbE5GYzJWFLmCo2keQSvc8c5QhGBUAfvCO3dEgzFrMLAZ7BMH9vX4H+wd7E430/YHG+xMJ8Ca8JRvKFHgYGB1phcVV4vjK7mDjO8zZ98I7mtzQNYDYQlC3+AkgiHXlhwWySZ3C4P9G4IAg4fWKa4szsZdtOYWhkgOu2T+A48UGaweF+5ucWWmf2KpyfDxgdSBQc6iNb/DngL03RNmsCVN6UZFi5FlKpm434DA4Nxo4JQ+XHzx1n5sLsVTEHZa44z/PPvkgQxK/GweF+o2agWg8p1xLbgTebo2xaACx+OcmwYnKVlwhiWfT0xO+pz01foFKurvn3eq3O1Kmzsc9xHIdMxmy2draUUCMKbzFJ15gA6EOvuwllW/xAjKd5M46TyPkrno8/lVWcmU8UkcxkzQrAXClMFnFWtulnbrvBFF1zGkCCn0kyrOKGeL5Z9Z/JxttPVaXuxpffB36A78XvTpyM2fYEnq9U3IQLw9ZbTdE1KAD8dJJhyaNfyZEkru7WvcQ5HcuOn9wwhQLFxUrCd5PwXSeBwSwHiaSyktjZSY5atY4bE6dfnC8lelahkE+U/PFN7mGXUE7qGCd810lgUAPoTyYZVk6q5pqCcvrl6TVXuO/5TE+dS/SkzZMbE9GLE7hWUKkldo4Tl9fFwYgA6IO7B0CG4sZ5vuIbtv8XMVec5/iLJ1dU9FTKNV740Ut4btyKFbZct5nBofggT7lUI0ihcsjzSRocG9XPvN5ITNpMIMhxxiH+hZiM+6+G2Zl55mcX6O0v4NgOtbpLtVJdUzPYtk02l6FQyLNhbJRCb08iOgsGg0BXw/VCMk6CdWlXx4EX2qVnRgAkGE8yzLT3vxrCUFmcLzccMzQywPjkGD0tFIqoKsWZuVbZi4UbKMkC2vZ6EgAZT+Jiu0mrYFLExrERJrdNtPz5mfOz0Y4iJST2LTVo/UtcBjNOYFhPlINNwW9qCrbjMLSh9Z5Tvh8wfTqZM9kqEpvJ0DeS9zYjAEElUSbG9bp70CPf20/VFaq1VvhQTrx4sqnMYSuoJ31HYWkdOYFeJU8mdhNAvQM+QCPYTvR1S9WASi3AcQTbFhxbyGWk4aGNxYUyC3PJYgntwEuqAfxq3gQ9UyYgkXJX7W5LIj9YZjNUcD2lWgtZLAcU533cBi+/f6CPkQ3xQt4uEgcY/aoRVWRGALReQuNVVxiqwQr75lErldbsEBYqLJQD/AaO6nXbJ8gaTgJdDtWEAqAh4C2aoGlKA7yM1mIzLRlH8Lt42DfwfebOnWWtHYuqUq6uLciWZbFl6+aUuAM/VJwkRjmougTuCRM0DQmALuCVi3HD8jkh6HKXh/LCPOdPn8atVllNEFwvbJgOHhoeJJeg9qAV+AH0Jshs4pdnCEIj0ShDcQD7PH6pRq5xHH2wz+bls+mqANu26RvoJZNxqNddSgvlFWq/XilzrlJGRLAch0wuR9/gED2FKASjytoVPwKjG4c5czK+cKRZ+AEM9CVYk37FxbaNNKA2IwC18gvgxBrHvpzg+oqqGC2puogNm0aYuG7zFdm8et3l+I9PrloJpKoEnkfgedRKJQZGRhkY3UDc+Y/BoX7jAqAKfqD05RK8GL+cJVs2cjmFERMgD1BBfYuwcT7AsQXHBi+FiODwhiGu2z6xIpWby2W54abtidT2QnGGoN44jAzQ09NjvCDEDRTbEpy4trQaAKHK+1m7tq0JmKwJfJ4g3jEdKNgNt1utQAQ2T2xa8++2YzM2kSTNC3MX4jWromRzyRJHSeF5MFBIsvoXFA2fM0XXYEFI+APc+DTZhgEL14fQYFDQyeaIy8729ycLnFUrNYKgMXNRMNDcqwtDxfWVDUm6itXnFoD/Z4q2uW9hcQRvIReXFBpeqn83mRoWsWIzjZmsQ9JjQ2GMdNbqgdF4xsUw2kh/nEum4C/2AIdN0TYnAIH8NapZvMbh0r5c1IrdZFg49D380GpYGygi9OTjgziOY5NpYN/DMBLeIEHhaBKoRiHyXEbojXMAvRKoZnHsvzZCHIMCIB+uTAHP415ovHwENo84hCHUXDNCcPEwRyUmyTO6Ib5L3ejGERppimo9WKJpZjtb95QwhPGRBKXt9Qsh6LPyb0rGUpKGTwbxbbxFIWy8OsaHI1VX9dRI909VxavXqblhQwdz4+aRhucHC709bN6ytrPoB0qlFhL4vhEBUIXq0iIYG4mx/6EH3oKAfKdtwpfB8MkgeQJVwW0cFOzNRzdxqEEtUC1Fpmex4q/pYIoIO3dtY2x8I9Zl20XLEjaMjbDr5uvXbAKhCgulaPXXymUjbYOqrqIKA70WfXEt5+tFAEHkL9qnvAyzh0OHK99iJn+e2oVRchstZO0vtW3M4YfHXequknWi+EA7qJYXGRgdJQxhruQz1OesGtARy2LiujE2T26iVq2BQk8+17D7hyrMLfqXwtiVUvt5GD/US8K/dVOcbxKCeyFEOU+9YuxgKBjWALIPD+FLqG9Rn2k4dtOQQ6FHUIgORrbZIcqr16mWIy0QBMpcyaPROU9LhEIhT6E333Dyg1CZK/mXsoRurUq9Gh8sagQFytXoefmsxaa47V/tAoS+hcUX5QGMxtJTaBEj0f14tbNLUas1RglsW2qaGIRKxYApmL9w4ZIcBQHMLrbXXr5WD5ld8K8oZZ+/cL5t9V+tLd9YtmOz0zgsriHUlny+wDJ+96BxAZDfrTwD/AANoH6+4djxYedSv7ya235swHfrLM4uax5VKFUCigsetXrjLN/yZ6LbxWYXfBYrwRWfKc/PU6+2F4Gt+0pt6Xv2Fyw2j8RY4fq5aCEJ35cPl7/fFvFVkFKTKP0ksKS61t4RiMDN12Uv7X4qdRoWZCTBQvEC1atsdBDAYiVgZt5jvuRTqYXU6tGOwfWUmhtSqYXMlwJm5gMWyv4KPurVKnPn20sA+eHy0TgBbprMNF79oRu9wwh/0BbxNZCOAOysPQq8gAZQOdlw6EDBivbARKuvVNX2WrQqFM9OU6ustNO6VAZWrgYsVgLmSz7zJZ/FckC5GizVAqxSI1CrMnPm1JrVREkQhLBY0UsaZWLUYbA3xvZXTkWrXznG9dUvt0y8AVIRALmTAJVPAVHlktv4XP6uLRny2WgpRKVZyzayFWgYMnPm1BXmoFVUFhY4f+pkbHi4EcJQWawuC1c+Z3HDlpjsZL14WdWX/p7cmeDoVQtIr1WsW/kcEJUtVU6Dru28Oo7wih25S9u2UKOj0u1oAtXIKTx38kRLdttzXWamzlA8O9X+yq/qpdiEJcIrt2cbb3tDH6pnLv70IqO1/9YyAzFIt1387+ffivAVADL90LejIcmT532eP7VcWigCfXmLtlPvAvnePvJ9/fQU+q4IAl3BbxhSq5SpLpaolhfa7l3sB9HkXy5AN01mmdzYyPFTKL20vPpF3iL3V77RHidrI/0LIz6e/wYQNY/q2QT5xscInz/tcfLcsuMoQKFH2r+l8+LzRMhkc9iOg+04qEDo+wS+j1evt7XaL4frKeXalVXQW8ccdk3EqP7Kmct3T1+X363+ihGG1kC69wUA2OFvE1j/BOihdg6cPI0Okdw4kcEPlKmZyGRcDBR5AfTm2i8lU1Xceg1Sab5+kd9wxTG4zSMON8RNvjt7+eRX8fV3UmDxCqR+Z5B8sH4M9GOXflE+BUGDptcCN09m2XhVdMz1lPlKGFv40U14gTJfWjn5mwZtfmJrtrG69cuR17+Mj8pHai+Z5/JKdObSqHrtD0C+BUTbmsVj4K/tmFkWvHJHji2jVyqoMIwullishuvqDsFQoVRVFisrs5vjozavuD7XWHMFtcjuXzpco39BvfqHafF7OTp3b+Cn+jbhB98DomPNlgN9O8FuXFv34pTHS2dXafAkQi4D+UyUzesGQoVaXal7q5x4Erh+c4Ydm2MSPUEdSj+OPP8I09jWT8kHy9PmOV6Jzt4c+ns9b8CSv+TizaFWZkkIGjdquLAQ8Oxxd81q4qwj9GTbzygmhR9AzVup6i8i48AtW3PxN4cGNVh8EfTSg3xEf0Hur/2NSX4bofN3B3+8sB/0wDIHNvRui7aJDVBzQ354vPFdgrYF2YyQdQSDt7wAUTjZ9aPizUZBqqFei1dsz5HLxpV3LULlBFeU0gvvk/urf2yG42TozvXxHy98DPQjV7BRmIRc454HCpyZ8Tl2xostArUkOoeQccC2wRYS39mnqgQKvh/l7T1fYreHGVu4YSLD+AYn/qW6xcgZvtxwiH5U7q99bM3PpISundfW3+95GLnqboGejdAz3uBcVgTXU45Ne0zNNHdduyWRgykiCMtfXi/+0yhi14yDKQITIw47t2TI2HGvM4TK9MosqXJAPlRN5UaQOHRPAA5hc6zwZ6DvuOIPdh76toIVf/Ci5ikvn/O6crO4ZUXbu+snMuSzCexNUIPyyxBcvfuRz7Gz8q60Yv1x6GrHBlWET+Q/BXzgij+IBfktsSbhIlxfmSr6TM8ElFpq/5IcfXmLzcM246MO2bhjXBdRL0L1NCt6KAif5N9W7xfpXtuE7rbsWIJ+Iv9bKH/E1XEJpwCFLWAnvwFssRpyfi6gWApZKLV/gEMkSlmPDFhsGnToyzfhXfrVaOL9FalpRblfPlT9ZJvstY11IQAA+on8XSh/Cqw8w5UbiXII0lzkOqrniy5jKNdDKrWoENMPFD/UZR9MwLGiXkE92eiARqHHojcvDPVa2M3GGUIfqtPgrpqOXkR4t9xfPdTcQ9PBuhEAAP30rn3Upj+C+ivvZxMrEoTcRrDMNGi4WDSaoDl4MoRu5ODViyvVPYA4p8hv+Q/yW8991hDFtpF+MqgZ9IzeRW54C9UzSn3mSuHUMCqPqs1AdjjaMcREEeNgbOL9ajTx7hxrVozmRkPyE5OIdRewbgRg3WgAPXjrOJo5ycUooVeKCknC2tofsnsgOxQJhCGtkBihB958NOkrbfwyrFzkxywHukJUtsp9h093gs04rB8NEGbuQlhek5k+GNwF1fNLZdGrqNSgFtna6jQ4veD0Lf0r0OhQSkvQMMpi+uUoitdo0iGi37Mp0lRX+rYWFnuBT5tlsDWsHwGAu1f+yoL8GOSGoXp2qbZwrUsBykuTcjZ6+U4hiilYuUg72LnkWiJ0oyRN6EJYj1R8UFndrq+ARPz2jK1NT/Vu1okArAsToAdv34mGLxDHT+hG2qA+y6oaIRYCIorYCpaFLCmcqO1KiAYSdbNsYfMo1pJvsimhoOmNsv9o292+28X60AB++BvYKHECYGWjnEHP5miL5c5GKzUxNGpXquFqdFqzGVYP5IYgOxqluJMhBOvXgY+2RNMg1ocA2PI20OQTYDmRiu0Zi1RzvQjufMPKY6OwnKisLTscmZoWnoDoXtaBAHTdBOhDu1+FJf/XyMNCN9o9+IuRo9bgbGJTEDuaaKcv8uZtI32aQeRVsu+wsX4/raD7GkCsu40ctofIRORGlnMIoRftFEJ3+b8agvo+YVDmUuNax8GyexHHQSyws5Fqt7LRVtNKqT+whndjsOFTK+iqAKgiHNRfS42AlVlr8hxgEOTvEBWT17A1BZF7VPlwN5NBnSkKXQsHb98D7OgafQkfBX3E2POanUZlGwd27zZGvwV0VwA0vKuL1EMsHsPiMVrbU65EKx6VyCrxj86hawKgh/baCHd2iz7od+U9R0/Je46eAv1u19gQ7tIHXt81U9w9DVB8+R8D6TXfj4U8svr/dxybmKi9vlvEuycAQhfVv0wh3uPLP3qPg0x1jZ0oNNwVdEUA9NAtWVRSPfQYw8H3ZN8zl1pvyL5nLqBqvP1KcnZ4qz54R/O3WBpAdzTA7MAvA0buvWsNq3n+BncDTUOGyBZ/qRuUuyMAXVR5QA2X/7Hit1nna2CmB39r6M5uoOMCoJ9/VS/wTztN9zJ8Q953dEVbe3nX/1kE+fNuMLSEN5u6EbwZdF4DlAu/AgnvR04D2sjj76YZoIBTf0uniXZeALob+Figytq9dnM93wRN72rwOHTBNHZUAPQ/3zYC+sZO0rwKX5H3H17Tzss7n6yBfK2TDF2FX9Q/eW18T3uD6KwG8NgLdLh683IkUPHSVTOQISP/vJMEO2wCuuj9K+eZzsfftDG89TuA+UsBk0I7ayI7JgD6x6+bQPjZTtFbAYvH5IEnY0uG5M4vB6CPx41LET+nB25beTAmJXROA2SCu4AO9fBYBdJEvL/hTiF1WKAdS5J10AR01ft/mfccTn7T1v4jTwHHU+MmHh17Vx0RAD14+07Q7lTdRHikmaobERShe4c3hdfow7t3dYJUhzRAcA9dLUANm1fpYnXTDACSXqncZeiMAKjVkS+zBp6T/U83XXUs9z71feDZFPhJird3gkjqAqCfvf3VoLekTWdNiH6pjQ8/Zo6RpnGzPvzan0ybSPoaICp97h6UR1v+rMgXMVaz3gqs1N9dqgKgiqBdrPtT/rad83ey76ljIM+YZKlJ3K2aru+UbjHiQ3tuxmZ78g/oHFingdOoTmHRh/JWWnUgpY3Vv8zTI8DPtPphhP9OSAmRcWALhFtA1m6XfiW28tCem+HIj1qkH4t0BcDxTqCZ7wG3ANMopxA5A5xGOI2GU1jWSQim0OCU7HtmRRtxffi2d4F+lua1VYgasOEqjyH6qZboI/fKvsP/ZcUjD95aQOxJsMcJw+sQaxxlC7AF1QmESaKC2R9Sl+Ntf4cG6PrZwCTQA7vvQuQLNCewT8r+I28wQ3/Pkwg/38RHAoR3yb4jnzNBP01092BIQsh9Rx9FeTuQ/M52o1m9pkLDAarvvBYmH64RAQCQ+44cAr2HZELg4elXjBHP8GXAjR0HASLvkPuOGr/hMy1cMwIAIPuPPo6Evwo06BwFIN+Sf/V0+3fGXXzauw8XgW/HDHNR2Sv7DrcRd+g8rikBAJB9T/85Fm+lkRBoGkUdDZ/pgt4p9x3+qnm66eKaEwAAuffIE4j+M1Yv464Q9nzdONFC9avAaq3B6sDbZP9R8zQ7gGtSAABk39FvgfVLQOmqP31DfvPJq3/XPr13/KAMXF02XsHiTbL/SGr3+qWNa1YAAGT/U3+D6B3AZbdFp1jTd2VRSRkN3yz3HonzDdY1rmkBAJB9R7+LcgdwDPgOI6UnUiM2vPBNkL8CjqH8otz39F+lRqtD+P9cRATF0wM0iQAAAABJRU5ErkJggg=="})],-1)]))):Jr("",!0)],16))});var qde=(e=>(e.WEEKLY="WEEKLY",e.MONTHLY="MONTHLY",e.ALLTIME="ALLTIME",e))(qde||{});const Gde={class:"ion-padding-bottom border-b-[0.5px] border-gray2"},Wde={class:"flex flex-1 items-center ion-padding-top"},Yde={key:0,class:"size-8 text-center text-base text-[#929292] font-medium content-center"},Kde={class:"flex flex-1 mx-4 gap-4"},Qde=["src"],Xde={class:"line-clamp-1 flex-1"},Jde=jn({__name:"LevelLeaderboard",props:{title:{default:""},type:{default:"NONE"}},setup(e){const t=e,i=oT(),n=lT(),o=EC(),{community:r}=mC(i),{isLoggedIn:s}=mC(o),{userCommunity:a}=mC(n),l=Ti([]),c=ks((()=>!a.value||!r.value||a.value.community_id===r.value._id&&!(a.value.status===m4.Joined||a.value.status===m4.Waiting))),d=e=>{switch(e){case 0:return"gold";case 1:return"silver";case 2:return"bronze";default:return"none"}};return io((()=>{(async()=>{try{if(!bC.isEmpty(null==a?void 0:a.value)&&s.value&&!c.value){var e;const i={type:"7D"===t.type?qde.WEEKLY:"30D"===t.type?qde.MONTHLY:qde.ALLTIME,community_id:null===(e=a.value)||void 0===e?void 0:e.community_id},{data:n}=await SC.get("/user-communities-history-point/leaderboard",{params:i});l.value=null!=n?n:[]}}catch(i){console.log(i)}})()})),(e,t)=>($r(),jr("section",null,[Wr("div",Gde,Ze(e.title),1),Di(bC.isEmpty)(l.value)?($r(),jr(Dr,{key:1},[],64)):($r(!0),jr(Dr,{key:0},vo(l.value,((e,t)=>{var i,n,o;return $r(),jr("div",{key:null==e?void 0:e._id},[Wr("div",Wde,[Wr("div",null,[Yr(Hde,{type:d(t),class:"flex-none"},null,8,["type"]),"none"===d(t)?($r(),jr("div",Yde,Ze(t+1),1)):Jr("",!0)]),Wr("div",Kde,[Wr("img",{src:null==e||null===(i=e.user)||void 0===i?void 0:i.avatar,class:"size-9 rounded-full"},null,8,Qde),Wr("div",Xde,Ze(null!==(n=e.user.full_name)&&void 0!==n?n:""),1)]),Wr("div",null,Ze(null!==(o=null==e?void 0:e.point)&&void 0!==o?o:0),1)])])})),128))]))}}),Zde={class:"pb-8 flex-col flex gap-y-4"},eue={class:"bg-white ion-padding rounded-lg"},tue={class:"size-36 mx-auto relative"},iue=["src"],nue={class:"bg-[#1782FB] absolute h-[30px] w-[30px] content-center text-center text-sm font-medium rounded-full text-white translate-x-[105px] -translate-y-7 border-[2px] drop-shadow border-white"},oue={class:"text-center mt-3 mx-auto"},rue={class:"text-[#050505] text-[20px] font-medium"},sue={class:"text-[#003555] text-sm font-medium py-2"},aue={class:"text-sm font-light text-[#929292] flex justify-center items-center gap-x-1"},lue={class:"text-[#1782FB] font-medium"},cue={class:"mt-3"},due={key:0,class:"flex-none h-9 w-9 mr-3 bg-[#003555] rounded-full text-white text-center content-center"},uue={key:1,class:"flex-none h-9 w-9 mr-3 bg-[#DADADA] rounded-full content-center items-center flex justify-center"},hue={class:"text-[#050505] text-base font-medium"},pue={class:"bg-white ion-padding rounded-lg"},mue={class:"bg-white ion-padding rounded-lg"},fue={class:"bg-white ion-padding rounded-lg"},gue=jn({__name:"TabRank",setup(e){const t=EC(),i=oT(),n=lT(),{userCommunity:o}=mC(n),{userInfo:r}=mC(t),{communityLevel:s}=mC(i),a=()=>{var e;const t=null===(e=s.value)||void 0===e||null===(e=e.find((e=>{var t;return e.level_id===(null===(t=o.value)||void 0===t||null===(t=t.level)||void 0===t?void 0:t._id)})))||void 0===e?void 0:e.name;return bC.isEmpty(t)?"":t},l=(e,t)=>{if(e&&t){var i,n;const o=e.findIndex((e=>(null==e?void 0:e.point)>(null==t?void 0:t.point))),r=(null!==(i=null===(n=e[o])||void 0===n?void 0:n.point)&&void 0!==i?i:0)-(null==t?void 0:t.point);return{lvl:null!=o?o:0,point:null!=r?r:0}}return{lvl:0,point:0}},c=async()=>{const e=await ax.create({component:F1,mode:"ios",cssClass:"noteLevel"});await e.present()};return console.log(s.value),(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white1"},{default:pn((()=>{var e,i,n,d,u,h,p,m,f,g;return[Wr("section",Zde,[Wr("div",eue,[Wr("div",tue,[Wr("img",{src:null!==(e=null===(i=Di(r))||void 0===i?void 0:i.avatar)&&void 0!==e?e:"/upload-user.png",class:"size-36 rounded-full",placeholder:"/upload-user.png"},null,8,iue),Wr("div",nue,Ze(l(Di(s),Di(o)).lvl),1)]),Wr("div",oue,[Wr("div",rue,Ze(null!==(n=null===(d=Di(r))||void 0===d?void 0:d.full_name)&&void 0!==n?n:"-"),1),Wr("p",sue,Ze(null!==(u=Di(o))&&void 0!==u&&u.level&&(null===(h=Di(o))||void 0===h?void 0:h.point)>0?null===(p=Di(o).level)||void 0===p?void 0:p.name:"Level 0")+" "+Ze(null!==(m=Di(o))&&void 0!==m&&m.level&&Di(o).point>0&&!Di(bC.isEmpty)(null===(f=Di(o))||void 0===f?void 0:f.level)&&(null===(g=Di(o).level)||void 0===g?void 0:g.name)!==a()?" - "+a():""),1),Wr("div",aue,[Wr("span",lue,Ze(Math.abs(l(Di(s),Di(o)).point)),1),t[0]||(t[0]=Xr(" điểm để lên level tiếp theo ")),Yr(Di(ex),{onClick:c,icon:Di(BT),class:"size-5"},null,8,["icon"])])]),Wr("div",cue,[($r(!0),jr(Dr,null,vo(Di(s),((e,t)=>($r(),jr("div",{key:null==e?void 0:e._id,class:"flex py-3 items-center"},[Di(o)&&Di(o).point>=(null==e?void 0:e.point)?($r(),jr("div",due,Ze(t+1),1)):Di(o)&&Di(o).point<(null==e?void 0:e.point)?($r(),jr("div",uue,[Yr(Di(ex),{icon:Di(UT),class:"size-5 text-[#050505]"},null,8,["icon"])])):Jr("",!0),Wr("div",hue,Ze(`Level ${t+1}`)+Ze(Di(bC.isEmpty)(null==e?void 0:e.name)?"":` - ${null==e?void 0:e.name}`),1)])))),128))])]),Wr("div",pue,[Yr(Jde,{type:"7D",title:"Bảng xếp hạng 7 ngày"})]),Wr("div",mue,[Yr(Jde,{type:"30D",title:"Bảng xếp hạng 30 ngày"})]),Wr("div",fue,[Yr(Jde,{type:"ALL_TIME",title:"Bảng xếp hạng toàn bộ thời gian"})])])]})),_:1}))}}),bue={class:"flex justify-between items-center"},vue={class:"flex gap-4"},yue=["onClick"],kue={key:0,class:"py-5"},wue={key:1,class:"flex flex-col justify-center items-center text-gray2 mt-[25%]"},xue=jn({__name:"TabEvent",setup(e){const{DEV:t,VITE_API_URL:i,VITE_API_URL_DEV:n}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},o=[{label:"Sắp diễn ra",value:"comingSoon"},{label:"Đã diễn ra",value:"tookPlace"}],r=oT(),{community:s}=mC(r),{userCommunity:a}=mC(lT()),l=Ti(o[0].value),c=Ti([]),d=Ti(1),u=Ti(!1),h=async(e=1,t=!1)=>{var i;const n={page:e,limit:10},{data:o}=await SC.get(`/event/community/${null===(i=s.value)||void 0===i?void 0:i._id}/${l.value}`,{params:n});var r,a,h;bC.isEmpty(o)?u.value=!1:(null!=o&&null!==(r=o.meta)&&void 0!==r&&r.hasNextPage?(d.value++,u.value=!0):u.value=!1,c.value=t?[...c.value,...null!==(a=null==o?void 0:o.data)&&void 0!==a?a:[]]:null!==(h=null==o?void 0:o.data)&&void 0!==h?h:[]);console.log("🌸  data 👉",null==o?void 0:o.data)},p=()=>{h(1,!1),d.value=1,u.value=!1};to((()=>{p()})),br([l],(()=>{p()}));const m=e=>{h(d.value,!0),setTimeout((()=>e.target.complete()),500)},f=async e=>{const o=t?n:i;null!=e&&e.use_landing_page?(await $D.write({string:null==e?void 0:e.url}),lS("Đã lưu link sự kiện.","success")):(await $D.write({string:bC.isEmpty(null==e?void 0:e.link_event)?`${o}/event/${null==e?void 0:e.url}`:null==e?void 0:e.link_event}),lS("Đã lưu link sự kiện.","success"))};return(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white1"},{default:pn((()=>[Wr("div",bue,[Wr("div",vue,[($r(),jr(Dr,null,vo(o,(e=>Wr("div",{key:e.value},[Wr("div",{onClick:t=>{return i=e.value,void(l.value=i);var i},class:We(["px-2.5 py-1.5 rounded-lg text-base font-normal",l.value===e.value?"bg-gray1 ":"bg-white shadow-st"])},Ze(e.label),11,yue)]))),64))]),Jr("",!0)]),Di(bC.isEmpty)(c.value)?($r(),jr("section",wue,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-36"}),t[0]||(t[0]=Wr("div",null,"Chưa có sự kiện nào",-1))])):($r(),jr("section",kue,[($r(!0),jr(Dr,null,vo(c.value,(e=>($r(),jr("div",{key:null==e?void 0:e._id,class:"rounded-lg shadow-st overflow-hidden mb-4"},[Yr(boe,{event:e,"has-setting":"comingSoon"===l.value,onSetting:()=>(async e=>{var t;const i=[{text:"Chỉnh sửa",handler:()=>{}},{text:"Chia sẻ",handler:()=>f(e)},{text:"Huỷ",role:"cancel"}],n=[{text:"Chia sẻ",handler:()=>f(e)},{text:"Huỷ",role:"cancel"}],o=await dx.create({mode:"ios",translucent:!0,buttons:(null===(t=a.value)||void 0===t?void 0:t.role)===rT.Admin?i:n});await o.present()})(e)},null,8,["event","has-setting","onSetting"])])))),128))])),u.value?($r(),Vr(Di(Zk),{key:2,onIonInfinite:m,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1}))}}),_ue={class:"ion-padding"},Eue={class:"mx-auto text-center table-auto"},Cue={class:"py-3 px-2"},Aue={class:"block font-semibold text-sm text-slate-800"},Tue={class:"text-center"},Sue={class:"block font-semibold text-sm text-slate-800"},Iue=jn({__name:"ModalDetaiLevelCommission",setup(e){const t=oT(),i=lT(),{currentLevel:n}=mC(i),{communityLevel:o}=mC(t);return(e,t)=>($r(),jr("div",_ue,[Wr("table",Eue,[t[0]||(t[0]=Wr("thead",{class:"sticky top-0 bg-white"},[Wr("tr",{class:"bg-gray1"},[Wr("th",{class:"p-2 py-3.5 rounded-tl-xl rounded-bl-xl w-1/2"},[Wr("p",{class:"text-sm leading-none text-gray-600 font-bold"},"Level")]),Wr("th",{class:"p-2 py-3.5 rounded-tr-xl rounded-br-xl"},[Wr("p",{class:"text-sm leading-none text-gray-600 font-bold"}," Hoa hồng (%) ")])])],-1)),Wr("tbody",null,[($r(!0),jr(Dr,null,vo(Di(o),(e=>($r(),jr("tr",{key:e._id,class:We([e._id==Di(n)._id?"bg-blue-100":"bg-white","hover:bg-slate-50 border-b border-slate-200"])},[Wr("td",Cue,[Wr("p",Aue,Ze(e.name),1)]),Wr("td",Tue,[Wr("p",Sue,Ze(e.user_commission),1)])],2)))),128))])])]))}}),Pue={class:"ion-padding"},Due={class:"my-6"},Rue={class:"flex justify-start items-center gap-x-2 mt-3"},Lue={class:"border border-gray-400 rounded-md shadow-sm !mb-3 bg-white"},Mue={class:"flex justify-between flex-wrap sm:flex-nowrap max-sm:gap-3 w-full p-2 pr-1"},Oue={class:"w-full"},Nue={class:"md:pl-3 py-2 text-gray-700 whitespace-pre-wrap"},$ue=["textContent"],Fue={class:"flex gap-2 items-center"},Bue={key:0,class:"mx-1"},zue={class:"mt-5"},jue={key:0,class:"mt-5"},Vue={class:"mt-4 text-base"},Uue=jn({__name:"CommunityAffiliateTabGetLink",setup(e){var t,i,n,o;const r=lT(),{currentLevel:s,currentCommission:a}=mC(r),l=EC(),c=oT(),{community:d,packageCommunity:u}=mC(c),{userInfo:h}=mC(l),p=Ti(`https://unica.expert/${(null===(t=d.value)||void 0===t?void 0:t.short_name)||(null===(i=d.value)||void 0===i?void 0:i._id)||""}?ref=`),m=mi({username:Ti((null===(n=h.value)||void 0===n?void 0:n.username)||(null===(o=h.value)||void 0===o?void 0:o._id)).value}),f=`${p.value}${m.username}`,g=Ti(!1),b=async()=>{try{const{data:e,status:t}=await SC.patch("/users/me",{...m,form:C9});200==t?(await l.setUserInfo(e),await lS("Cập nhật mã giới thiệu thành công!","success")):await lS("Cập nhật mã giới thiệu thất bại!","warning")}catch(f1){await lS("Cập nhật mã giới thiệu thất bại!","warning"),console.error(f1)}finally{g.value=!1}g.value=!1},v=async()=>{const e=`${p.value}${m.username}`;await $D.write({string:e}),await lS("Sao chép mã giới thiệu thành công!","success")},y=async()=>{const e=await ax.create({component:Iue,componentProps:{data:[1,2,3]},initialBreakpoint:.5,breakpoints:[0,.5,.75],mode:"ios"});await e.present();const{data:t,role:i}=await e.onWillDismiss();"confirm"===i&&console.log(t)};return(e,t)=>{var i,n,o,r;return $r(),jr("section",Pue,[t[9]||(t[9]=Wr("div",{class:"text-lg font-bold mb-3"},"Lấy link giới thiệu",-1)),Wr("div",null,[t[7]||(t[7]=Wr("p",null," Giới thiệu thành viên mới vào cộng đồng bạn sẽ nhận được 2 điểm để tăng level và nhận được hoa hồng khi thành viên này trả phí ",-1)),Wr("div",Due,[Wr("div",Rue,[Yr(Di(ex),{class:"size-5","aria-hidden":"true",icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M200.66 352H144a96 96 0 010-192h55.41M312.59 160H368a96 96 0 010 192h-56.66M169.07 256h175.86' stroke-linecap='square' stroke-linejoin='round' stroke-width='48' class='ionicon-fill-none'/></svg>")},null,8,["icon"]),t[2]||(t[2]=Wr("span",{class:"font-medium"},"Link giới thiệu của bạn:",-1))]),Wr("div",Lue,[Wr("div",Mue,[Wr("div",Oue,[Wr("span",Nue,Ze(p.value),1),g.value?mn(($r(),jr("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>m.username=e),class:"border-2 border-dashed p-1 rounded-lg mx-1 outline-0 w-auto"},null,512)),[[fa,m.username]]):($r(),jr("span",{key:1,textContent:Ze(m.username)},null,8,$ue))]),Wr("div",Fue,[g.value?($r(),jr("button",{key:1,class:"px-2",type:"button",onClick:b},t[4]||(t[4]=[Wr("svg",{height:"24",viewBox:"0 0 32 32",width:"24",xmlns:"http://www.w3.org/2000/svg"},[Wr("path",{d:"m27.71 9.29l-5-5A1 1 0 0 0 22 4H6a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2V10a1 1 0 0 0-.29-.71M12 6h8v4h-8Zm8 20h-8v-8h8Zm2 0v-8a2 2 0 0 0-2-2h-8a2 2 0 0 0-2 2v8H6V6h4v4a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.41l4 4V26Z",fill:"currentColor"})],-1)]))):($r(),jr("div",Bue,[($r(),jr("svg",{fill:"none",height:"24",viewBox:"0 0 16 17",width:"24",xmlns:"http://www.w3.org/2000/svg",onClick:t[1]||(t[1]=e=>g.value=!0)},t[3]||(t[3]=[Wr("path",{d:"M7.33301 3.1665H2.66634C2.31272 3.1665 1.97358 3.30698 1.72353 3.55703C1.47348 3.80708 1.33301 4.14622 1.33301 4.49984V13.8332C1.33301 14.1868 1.47348 14.5259 1.72353 14.776C1.97358 15.026 2.31272 15.1665 2.66634 15.1665H11.9997C12.3533 15.1665 12.6924 15.026 12.9425 14.776C13.1925 14.5259 13.333 14.1868 13.333 13.8332V9.1665",stroke:"#1782FB","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Wr("path",{d:"M12.333 2.16665C12.5982 1.90144 12.9579 1.75244 13.333 1.75244C13.7081 1.75244 14.0678 1.90144 14.333 2.16665C14.5982 2.43187 14.7472 2.79158 14.7472 3.16665C14.7472 3.54173 14.5982 3.90144 14.333 4.16665L7.99967 10.5L5.33301 11.1667L5.99967 8.49999L12.333 2.16665Z",fill:"#1782FB",stroke:"#1782FB","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))])),Wr("button",{class:"px-2",type:"button",onClick:v},t[5]||(t[5]=[Wr("svg",{height:"24",viewBox:"0 0 32 32",width:"24",xmlns:"http://www.w3.org/2000/svg"},[Wr("path",{d:"M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2",fill:"currentColor"}),Wr("path",{d:"M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z",fill:"currentColor"})],-1)]))])])])]),Wr("i",null,"Bạn có thể gắn mã giới thiệu vào bất kỳ link nào, ví dụ : https://unica.expert/.....?ref="+Ze((null===(i=Di(h))||void 0===i?void 0:i.username)||(null===(n=Di(h))||void 0===n?void 0:n._id)),1),Wr("div",zue,[t[6]||(t[6]=Wr("p",{class:"pb-1 text-base"},"Mã QR giới thiệu bạn",-1)),Yr(fne,{size:120,value:f,level:"L","render-as":"svg"})])]),"START"!==Di(u).code?($r(),jr("div",jue,[Wr("p",Vue,[Xr(" Bạn đang ở level: "+Ze(null!==(o=null===(r=Di(s))||void 0===r?void 0:r.name)&&void 0!==o?o:"")+" - Hoa hồng: ",1),Wr("strong",null,Ze(Di(a))+"%",1)]),Wr("p",{class:"mt-2"},[t[8]||(t[8]=Xr(" Level càng cao thì hoa hồng càng lớn. ")),Wr("button",{onClick:y,class:"text-blue-500"}," Chi tiết ")])])):Jr("",!0)])}}}),Hue={class:"ion-padding-horizontal"},que={key:0},Gue={class:"w-full text-left table-auto"},Wue={class:"py-3 px-2 break-all"},Yue={class:"block font-semibold text-sm text-slate-800"},Kue={class:"text-sm text-slate-500"},Que={class:"text-sm text-slate-500"},Xue={class:""},Jue={class:"text-sm text-center text-slate-500"},Zue={key:1,class:"flex justify-center flex-col items-center text-gray2 mt-[20%]"},ehe=jn({__name:"CommunityAffiliateTabMember",setup(e){var t;const i=oT(),{community:n}=mC(i),o=Ti(!1),r=Ti(1),s=mi({"filter[community_id]":null===(t=n.value)||void 0===t?void 0:t._id,page:r}),a=Ti([]),l=async()=>{const{data:e}=await SC.get("/users/member-introduced-by-me",{params:s});e.meta&&(e.meta.hasNextPage?o.value=!0:o.value=!1),bC.isEmpty(e.data)||a.value.push(...e.data)},c=async e=>{o.value&&(r.value++,await l(),setTimeout((()=>e.target.complete()),500))};return to((async()=>{await l()})),(e,t)=>($r(),jr("div",Hue,[t[2]||(t[2]=Wr("div",{class:"text-lg font-bold mb-3"},"Thành viên tôi giới thiệu",-1)),Di(bC.isEmpty)(a.value)?($r(),jr("div",Zue,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-36"}),t[1]||(t[1]=Wr("div",null,"Chưa có thành viên nào",-1))])):($r(),jr("div",que,[Wr("table",Gue,[t[0]||(t[0]=Wr("thead",{class:"sticky top-0 bg-white"},[Wr("tr",{class:"bg-gray1"},[Wr("th",{class:"p-2 rounded-tl-xl rounded-bl-xl w-2/3"},[Wr("p",{class:"text-sm pl-2 leading-none text-gray-600 font-medium"}," Thành viên ")]),Wr("th",{class:"p-2 rounded-tr-xl rounded-br-xl"},[Wr("p",{class:"text-sm leading-none text-gray-600 font-medium text-nowrap"}," Ngày tham gia ")])])],-1)),Wr("tbody",null,[($r(!0),jr(Dr,null,vo(a.value,(e=>($r(),jr("tr",{key:e._id,class:"hover:bg-slate-50 border-b-[1px] border-gray1"},[Wr("td",Wue,[Wr("p",Yue,Ze(e.full_name),1),Wr("p",Kue,Ze(e.email),1),Wr("p",Que," Ngày tạo: "+Ze(Di(aT)(e.created_at).format("DD/MM/YYYY")),1)]),Wr("td",Xue,[Wr("p",Jue,Ze(null!=e&&e.join_date?Di(aT)(null==e?void 0:e.join_date).format("DD/MM/YYYY"):"-"),1)])])))),128))])]),o.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:c,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)]))]))}}),the={class:"ion-padding"},ihe={class:"h-full p-1 flex gap-3 md:block overflow-x-auto scrollbar-hide"},nhe=["onClick"],ohe=fS(jn({__name:"TabAffiliate",setup(e){const t=Ti("Link"),i=Ti([{title:"Lấy link",key:"Link"},{title:"Thành viên",key:"Member"}]);return(e,n)=>($r(),Vr(Di(Kk),{class:"flex-col scrollbar-hidden",color:"white1"},{default:pn((()=>[Wr("div",the,[Wr("div",ihe,[($r(!0),jr(Dr,null,vo(i.value.filter((e=>!e.hidden)),((e,i)=>($r(),jr("div",{key:i,class:We([{"!bg-blue1-tint1":t.value==e.key},"bg-white px-3 py-1.5 rounded-lg shadow-st"]),onClick:i=>(e=>{e.key&&(t.value=e.key)})(e)},Ze(e.title),11,nhe)))),128))])]),Wr("div",null,["Link"==t.value?($r(),Vr(Uue,{key:0})):Jr("",!0),"Member"==t.value?($r(),Vr(ehe,{key:1})):Jr("",!0)])])),_:1}))}}),[["__scopeId","data-v-2cc5bccf"]]),rhe={class:"flex items-center flex-1"},she=["src"],ahe={class:"text-sm flex-1 font-medium text-black2 mx-2.5"},lhe={key:0,slot:"end",class:"flex items-center gap-2"},che={key:1,class:"flex flex-1 items-center justify-center"},dhe=jn({__name:"CommunityScreen",setup(e){var t;const i=oT(),n=lT(),o=vC(),r=EC(),{isLoggedIn:s}=mC(r),{routeParams:a}=mC(o),{userCommunity:l}=mC(n),c=ks((()=>{var e;return null===(e=mC(i).community.value)||void 0===e?void 0:e._id})),d=ks((()=>{const e=l.value;return(null==e?void 0:e.status)===m4.Joined||(null==e?void 0:e.role)===rT.Admin||(null==e?void 0:e.role)===rT.Sale})),u=Ti(),h=Ti(),p=Ti(),m=Ti(1),f=By(),g=Rw(),b=[{key:"discuss",title:"Thảo luận"},{key:"course",title:"Khóa học"},{key:"event",title:"Sự kiện"},{key:"member",title:"Thành viên"},{key:"rank",title:"Xếp hạng"},{key:"aff",title:"Affiliate"},{key:"about",title:"Giới thiệu"}],v=Ti(!1),y=Ti(null!==(t=f.params.tab)&&void 0!==t?t:b[0].key),k=()=>{g.back(iT)},w=()=>{var e;g.push({name:"CommunitySetting",params:{id:null!==(e=c.value)&&void 0!==e?e:f.params.id}},iT)},x=e=>{y.value=e},_=async()=>{var e;const{data:t}=await SC.get(`user-community/check/${null!==(e=c.value)&&void 0!==e?e:f.params.id}`);return h.value=t,n.setUserCommunity(t),t};br([s],(()=>{_()}));const{isPending:E}=Mce(uce,{queryKey:["user-community-check"],queryFn:_});const C=()=>{v.value=!0,x("member")},A=()=>{v.value=!1};return Pw((()=>{var e;_(),(async()=>{const e={page:m.value,limit:20,"sort[order]":1,"sort[_id]":-1,"filter[community_id]":c.value},{data:t}=await SC.get("community-topic",{params:e});p.value=null==t?void 0:t.data,i.setTopics(null==t?void 0:t.data)})(),(async()=>{var e;const{data:t}=await qE.get(`community/${null!==(e=f.params.id)&&void 0!==e?e:c.value}`);bC.isEmpty(t)||(u.value=t,i.setCommunity(t))})(),(async()=>{const e={community_id:c.value},{data:t}=await SC.get("/community-level",{params:e});i.setCommunityLevel(t)})(),null!=a&&null!==(e=a.value)&&void 0!==e&&e.showSetting&&(o.setRouteParams({...a.value,showSetting:!1}),w())})),(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>{var e,t,i,n;return[Yr(Di(ex),{slot:"start",onClick:k,icon:Di(CT),class:"size-6 p-2"},null,8,["icon"]),Wr("div",rhe,[Wr("img",{src:null!==(e=null===(t=u.value)||void 0===t?void 0:t.icon)&&void 0!==e?e:"/favicon.ico",class:"size-[30px] rounded-lg",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,she),Wr("span",ahe,Ze(null===(i=u.value)||void 0===i?void 0:i.name),1)]),Di(s)&&Di(l)?($r(),jr("div",lhe,[Di(l).status===Di(m4).Joined||(null===(n=Di(l))||void 0===n?void 0:n.role)===Di(rT).Admin?($r(),Vr(Di(ex),{key:0,onClick:w,icon:Di(FT),class:"size-6 p-1"},null,8,["icon"])):Jr("",!0)])):Jr("",!0)]})),_:1})])),_:1}),Di(E)?($r(),jr("div",che,[Yr(Di(vw),{name:"crescent",color:"blue1",class:"size-12"})])):($r(),jr(Dr,{key:0},[!Di(bC.isEmpty)(Di(l))&&d.value&&Di(s)?($r(),Vr(tne,{key:0,routes:b,onChangeTab:x,"tab-key":y.value},{scene:pn((()=>["discuss"===y.value?($r(),Vr(kle,{key:0,topics:p.value,onChangeTab:C},null,8,["topics"])):Jr("",!0),"course"===y.value?($r(),Vr(Yae,{key:1})):Jr("",!0),"event"===y.value?($r(),Vr(xue,{key:2})):Jr("",!0),"member"===y.value?($r(),Vr(zde,{key:3,"to-request-member":v.value,onCallbackUnMount:A},null,8,["to-request-member"])):Jr("",!0),"rank"===y.value?($r(),Vr(gue,{key:4})):Jr("",!0),"about"===y.value?($r(),Vr(Qse,{key:5})):Jr("",!0),"aff"===y.value?($r(),Vr(ohe,{key:6})):Jr("",!0)])),_:1},8,["tab-key"])):($r(),Vr(Qse,{key:1}))],64))])),_:1}))}}),uhe=fS(dhe,[["__scopeId","data-v-d7ce073d"]]),hhe={class:"overflow-y-scroll pb-6 mt-2 h-[50%]"},phe=["onClick"],mhe=jn({__name:"ModalTopicGlobal",props:{topics:{},selectedTopic:{}},setup(e){var t;const i=e,n=Ti(),o=Ti(null!==(t=i.topics)&&void 0!==t?t:[]),r=Ti(null==i?void 0:i.selectedTopic),s=async()=>{const e={"filter[keyword]":n.value},{data:t}=await SC.get("topic",{params:e});var i;bC.isEmpty(t)||(o.value=null!==(i=null==t?void 0:t.data)&&void 0!==i?i:[])};return(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding-vertical shadow-st",color:"white1"},{default:pn((()=>[Wr("form",{onSubmit:Ta(s,["prevent"]),class:"flex items-center gap-2 rounded-lg shadow-st bg-white px-4 ion-margin-horizontal"},[Yr(Di(ex),{icon:Di(nS),class:"text-gray2 size-6"},null,8,["icon"]),mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),class:"bg-white text-black text-base py-2 flex flex-1 mx-auto outline-none",placeholder:"Tìm kiếm"},null,512),[[fa,n.value]])],32),Wr("section",hhe,[($r(!0),jr(Dr,null,vo(o.value,((t,i)=>{var n;return $r(),jr("div",{key:i},[Wr("div",{onClick:e=>(e=>{r.value=e,ax.dismiss(e,"confirm")})(t),class:We(["flex flex-1 py-2.5 rounded-md px-8",{"bg-blue1-tint1":(null==t?void 0:t._id)===(null===(n=e.selectedTopic)||void 0===n?void 0:n._id)}])},Ze(null==t?void 0:t.title),11,phe)])})),128))])])),_:1}))}}),fhe={class:"flex items-baseline gap-8 mb-6 flex-1"},ghe=["src"],bhe={key:1,class:"size-24 bg-[#ddd] rounded-lg flex justify-center items-center"},vhe={class:"flex-1"},yhe=["src"],khe={key:1,class:"h-[140px] w-full bg-[#ddd] rounded-lg flex justify-center items-center"},whe={slot:"label"},xhe={slot:"label"},_he={slot:"end",class:"flex items-center"},Ehe={slot:"label"},Che={slot:"label"},Ahe={class:"mt-2 mb-2"},The={class:"flex items-center gap-2 pb-1"},She={class:"flex items-center gap-2 pb-1"},Ihe={class:"text-base font-medium flex items-center gap-2"},Phe={class:"flex"},Dhe={class:"border-b-[1px] border-gray1 pb-4"},Rhe={slot:"label"},Lhe={class:"flex items-center gap-2"},Mhe={slot:"label"},Ohe=["onClick"],Nhe=jn({__name:"TabBasicInfo",setup(e){var t,i,n,o,r,s,a,l,c,d,u,h,p;const m=oT(),{community:f}=mC(m),g=mi({name:null===(t=f.value)||void 0===t?void 0:t.name,description:null!==(i=null===(n=f.value)||void 0===n?void 0:n.description)&&void 0!==i?i:"",topic_id:null===(o=f.value)||void 0===o?void 0:o.topic_id,icon:null!==(r=null===(s=f.value)||void 0===s?void 0:s.icon)&&void 0!==r?r:"",thumbnail:null!==(a=null===(l=f.value)||void 0===l?void 0:l.thumbnail)&&void 0!==a?a:"",status:null===(c=f.value)||void 0===c?void 0:c.status,short_name:(null===(d=f.value)||void 0===d?void 0:d.short_name)||"",socials:null!==(u=null===(h=f.value)||void 0===h||null===(h=h.socials)||void 0===h?void 0:h.map((({title:e,url:t,id:i})=>({title:e,url:t,id:i}))))&&void 0!==u?u:[]}),b=Ti([]),v=Ti(null===(p=f.value)||void 0===p?void 0:p.topic),y=e=>{g.status=e},k=async()=>{const e=await ax.create({component:mhe,componentProps:{topics:b.value,selectedTopic:v.value},initialBreakpoint:.55,mode:"ios"});await e.present();const{data:t,role:i}=await e.onWillDismiss();"confirm"===i&&(v.value=t,g.topic_id=null==t?void 0:t._id)};to((()=>{var e;m.getCommunityInfo(null===(e=f.value)||void 0===e?void 0:e._id)})),io((()=>{(async()=>{var e;const{data:t}=await SC.get("topic",{params:{page:1,limit:20}});b.value=null!==(e=null==t?void 0:t.data)&&void 0!==e?e:[]})()}));const w=()=>{g.socials=[{title:"",url:"",id:P3()},...g.socials]},x=ks((()=>!(bC.isEmpty(g.name)||bC.isEmpty(g.short_name)||bC.isEmpty(g.topic_id)||bC.isEmpty(g.description)))),_=async()=>{if(bC.isEmpty(g.name)?(lS("Tên cộng đồng không được để trống !","warning"),0):g.short_name.length<4?(lS("Username tối thiểu 4 kí tự !","warning"),0):/^[a-zA-Z0-9]+$/.test(g.short_name)||(lS("Username hỗ trợ định dạng chữ cái và số !","warning"),0))try{var e;const i=await SC.patch(`community/${null===(e=f.value)||void 0===e?void 0:e._id}`,g);if(200===i.status)m.setCommunity(null==i?void 0:i.data),lS("Cập nhật thông tin cộng đồng thành công!","success");else if(409===(null==i?void 0:i.status)){var t;const e=(null==i||null===(t=i.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Username đã được sử dụng.";lS(e,"error")}else lS("Cập nhật thông tin thất bại!","error")}catch(i){lS("Đã có lỗi xảy ra. Vui lòng thử lại sau!","error")}},E=e=>{e.target.src="/upload-user.png"};return(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding"},{default:pn((()=>{var e,i,n,o,r,s,a,l;return[Wr("form",{class:"pb-5 w-full",onSubmit:Ta(_,["prevent"])},[Wr("section",fhe,[Wr("div",null,[t[5]||(t[5]=Wr("span",{class:"text-base font-medium"},"Icon",-1)),t[6]||(t[6]=Wr("div",{class:"text-sm text-gray2 font-medium pb-2"},"56 x 56",-1)),Di(bC.isEmpty)(null===(e=Di(f))||void 0===e?void 0:e.icon)?($r(),jr("div",bhe,[Yr(Di(ex),{icon:Di(zT),class:"size-14 text-gray2"},null,8,["icon"])])):($r(),jr("img",{src:null===(i=Di(f))||void 0===i?void 0:i.icon,key:null===(n=Di(f))||void 0===n?void 0:n.icon,onError:E,class:"size-24 rounded-lg flex bg-[#ddd]"},null,40,ghe))]),Wr("div",vhe,[t[7]||(t[7]=Wr("span",{class:"text-base font-medium"},"Cover",-1)),t[8]||(t[8]=Wr("div",{class:"text-sm text-gray2 font-medium pb-2"},"1200 x 680",-1)),Di(bC.isEmpty)(null===(o=Di(f))||void 0===o?void 0:o.thumbnail)?($r(),jr("div",khe,[Yr(Di(ex),{icon:Di(zT),class:"size-14 text-gray2"},null,8,["icon"])])):($r(),jr("img",{src:null===(r=Di(f))||void 0===r?void 0:r.thumbnail,key:null===(s=Di(f))||void 0===s?void 0:s.thumbnail,onError:E,class:"h-[140px] w-full rounded-lg bg-[#ddd]"},null,40,yhe))])]),Wr("section",null,[Yr(Di(tw),{modelValue:g.name,"onUpdate:modelValue":t[0]||(t[0]=e=>g.name=e),mode:"md",required:"",fill:"outline",placeholder:"Tên cộng đồng",class:"outline-none text-sm font-light mb-1",type:"text","label-placement":"stacked",color:"blue1",counter:!0,maxlength:30},{default:pn((()=>[Wr("div",whe,[t[10]||(t[10]=Xr(" Tên cộng đồng")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[9]||(t[9]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Yr(Di(tw),{value:null!==(a=null===(l=v.value)||void 0===l?void 0:l.title)&&void 0!==a?a:"Chọn mục đăng",mode:"md",fill:"outline",placeholder:"Lĩnh vực",class:"outline-none text-sm font-light mb-6",type:"text","label-placement":"floating",color:"blue1",readonly:"",required:"",onClick:Ta(k,["stop"])},{default:pn((()=>[Wr("div",xhe,[t[12]||(t[12]=Xr("Lĩnh vực")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[11]||(t[11]=[Xr("*")]))),_:1})]),Wr("div",_he,[Yr(Di(ex),{onClick:Ta((()=>{}),["stop"]),icon:Di(TT),slot:"icon-only",class:"text-gray2 size-5","aria-hidden":"true"},null,8,["icon"])])])),_:1},8,["value"]),Yr(Di(tw),{modelValue:g.short_name,"onUpdate:modelValue":t[1]||(t[1]=e=>g.short_name=e),mode:"md",fill:"outline",placeholder:"Username",required:"",class:"outline-none text-sm font-light mb-1",type:"text","label-placement":"stacked",color:"blue1",counter:!0,maxlength:30},{default:pn((()=>[Wr("div",Ehe,[t[14]||(t[14]=Xr("Username")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[13]||(t[13]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"])]),Yr(Di(ww),{modelValue:g.description,"onUpdate:modelValue":t[2]||(t[2]=e=>g.description=e),mode:"md",required:"","label-placement":"stacked",fill:"outline",rows:8,placeholder:"Mô tả cộng đồng",class:"outline-none text-sm font-light mt-1",counter:!0,maxlength:255},{default:pn((()=>[Wr("div",Che,[t[16]||(t[16]=Xr("Mô tả")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[15]||(t[15]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Wr("section",Ahe,[Wr("div",{onClick:t[3]||(t[3]=e=>y(1)),class:We(["border-[1px] rounded-lg p-4 mb-3",1==g.status?"border-blue1 text-black":"border-gray2 text-gray2"])},[Wr("div",The,[Yr(Di(ex),{icon:1==g.status?Di(JT):Di(XT),class:We(["size-6",1==g.status?"text-blue1":"text-gray2"])},null,8,["icon","class"]),t[17]||(t[17]=Wr("span",{class:"text-sm font-medium"},"Cộng đồng công khai",-1))]),t[18]||(t[18]=Wr("div",{class:"text-wrap text-sm font-light w-full"}," Mọi người đều có thể thấy nhóm của bạn ",-1))],2),Wr("div",{onClick:t[4]||(t[4]=e=>y(0)),class:We(["border-[1px] rounded-lg p-4",0==g.status?"border-blue1 text-black":" border-gray2 text-gray2"])},[Wr("div",She,[Yr(Di(ex),{icon:0==g.status?Di(JT):Di(XT),class:We(["size-6",0==g.status?"text-blue1":"text-gray2"])},null,8,["icon","class"]),t[19]||(t[19]=Wr("span",{class:"text-sm font-medium"},"Cộng đồng riêng tư",-1))]),t[20]||(t[20]=Wr("div",{class:"text-wrap text-sm font-light w-full"}," Chỉ thành viên hoặc những người có link mới có thể thấy nhóm của bạn ",-1))],2)]),Wr("section",null,[Wr("div",Ihe,[t[21]||(t[21]=Wr("div",null,"Link",-1)),Wr("div",Phe,[Yr(Di(ex),{onClick:w,icon:Di(mT),class:"size-6 text-blue1"},null,8,["icon"])])]),($r(!0),jr(Dr,null,vo(g.socials,((e,i)=>($r(),jr("div",{key:i},[Wr("div",Dhe,[Yr(Di(tw),{modelValue:e.title,"onUpdate:modelValue":t=>e.title=t,mode:"md",fill:"outline",placeholder:"Tiêu đề",class:"outline-none text-sm font-light my-4",type:"text","label-placement":"stacked",color:"blue1",required:""},{default:pn((()=>[Wr("div",Rhe,[t[23]||(t[23]=Xr("Tiêu đề")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[22]||(t[22]=[Xr("*")]))),_:1})])])),_:2},1032,["modelValue","onUpdate:modelValue"]),Wr("div",Lhe,[Yr(Di(tw),{modelValue:e.url,"onUpdate:modelValue":t=>e.url=t,mode:"md",fill:"outline",placeholder:"URL",class:"outline-none text-sm font-light",type:"text","label-placement":"stacked",color:"blue1",required:""},{default:pn((()=>[Wr("div",Mhe,[t[25]||(t[25]=Xr("URL")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[24]||(t[24]=[Xr("*")]))),_:1})])])),_:2},1032,["modelValue","onUpdate:modelValue"]),Wr("div",{onClick:e=>(e=>{var t;null===(t=g.socials)||void 0===t||t.splice(e,1)})(i),class:"flex items-center"},[Yr(Di(ex),{icon:Di(ZT),class:"size-6 text-gray3"},null,8,["icon"])],8,Ohe)])])])))),128))]),Yr(Di(qk),{disabled:!x.value,type:"submit",color:x.value?"blue1":"gray3",class:"mt-4 h-12 w-full text-base uppercase text-center shadow-st rounded-xl"},{default:pn((()=>t[26]||(t[26]=[Xr(" Lưu Lại ")]))),_:1},8,["disabled","color"])],32)]})),_:1}))}}),$he=fS(Nhe,[["__scopeId","data-v-b83695a2"]]),Fhe={class:"ion-padding"},Bhe={class:"flex items-center text-lg font-medium justify-between"},zhe=jn({__name:"ModalAddPrice",setup(e){const t=()=>ax.dismiss(null,"cancel"),i=()=>{t()};return(e,n)=>($r(),jr("div",Fhe,[Wr("div",Bhe,[n[0]||(n[0]=Xr(" Thêm giá ")),Yr(Di(ex),{onClick:t,icon:Di(LT),class:"size-7 text-black"},null,8,["icon"])]),Wr("form",{onSubmit:Ta(i,["prevent"])},[n[2]||(n[2]=Wr("div",{class:"border flex text-nowrap p-2.5 text-gray2 rounded-lg"},[Wr("span",null,"VND"),Wr("input",{value:99e3,type:"number",pattern:"[0-9]*",title:"Nhập vào ký tự số",class:"text-base text-black font-normal w-full mx-2 px-1 outline-none"}),Wr("span",null,"/ tháng")],-1)),Wr("div",{class:"flex justify-end text-sm font-medium gap-2 uppercase mt-3"},[Wr("div",{class:"py-1.5 px-2.5",onClick:t},"Hủy"),n[1]||(n[1]=Wr("button",{type:"submit",class:"uppercase py-1.5 px-2.5 bg-blue1 text-white rounded-md"}," Thêm ",-1))])],32)]))}}),jhe={class:"bg-[#EBEBEB] my-3.5 text-sm p-2.5 rounded-lg flex flex-1 items-center justify-between"},Vhe={class:"items-center flex gap-1.5"},Uhe={class:"text-blue1"},Hhe=jn({__name:"TabMemberFee",setup(e){const t=[{id:1,price:"99K/tháng",numOfMem:3},{id:2,price:"Miễn phí",numOfMem:3}],i=Ti(t[0]),n=async()=>{const e=await dx.create({mode:"ios",buttons:[{text:"Chỉnh sửa",handler:()=>console.log("asasas")},{text:"Đặt làm giá hiện tại",handler:()=>console.log("asasas")},{text:"Xoá",role:"destructive",handler:()=>console.log("asasas")},{text:"Huỷ",role:"cancel"}],translucent:!0});await e.present();const t=await e.onWillDismiss();console.log(t)},o=async()=>{(await ax.create({id:"add-price",component:zhe})).present()};return(e,r)=>($r(),Vr(Di(Kk),{class:"ion-padding flex-col"},{default:pn((()=>[Wr("div",{class:"flex justify-between items-center mt-2"},[r[0]||(r[0]=Wr("span",{class:"text-xl font-medium"},"Phí thành viên",-1)),Wr("div",{onClick:o,class:"p-1 px-2 rounded-md bg-blue1 text-white text-base font-medium"}," Thêm giá ")]),r[1]||(r[1]=Wr("div",{class:"text-sm font-normal text-black2 my-4"},[Xr(" Kiếm tiền bằng cách tính phí đăng ký hàng tháng để truy cập vào cộng đồng của bạn. "),Wr("span",{class:"text-blue1"},"Tìm hiểu thêm.")],-1)),Wr("section",null,[($r(),jr(Dr,null,vo(t,(e=>Wr("div",{key:e.id},[Wr("div",jhe,[Wr("div",Vhe,[Yr(Di(ex),{src:"/tag.svg",class:"size-4"}),Xr(" "+Ze(e.price),1)]),Wr("span",Uhe,Ze(e.numOfMem)+" thành viên ",1),Wr("span",{class:We(["px-1 py-1",i.value.id===e.id?"block bg-[#0D804F] text-white rounded-md font-normal":"text-transparent"])}," Giá hiện tại",2),Yr(Di(ex),{onClick:n,icon:Di(FT),class:"size-5 text-gray2"},null,8,["icon"])])]))),64))])])),_:1}))}}),qhe={class:"ion-padding"},Ghe={class:"flex items-stretch gap-1.5"},Whe={class:"text-sm"},Yhe={class:"font-medium"},Khe=jn({__name:"ModalConfirmDelTopic",props:{topic:{}},setup(e){const t=e,i=()=>ax.dismiss(null,"cancel"),n=async()=>{try{const{status:e}=await SC.delete(`community-topic/${t.topic._id}`);200===e?(lS("Xoá danh mục thành công","success"),ax.dismiss("done","confirm")):ax.dismiss(null,"confirm")}catch(e){lS("Có lỗi xảy ra khi xoá danh mục. Vui lòng thử lại sau!","error")}};return(e,t)=>{var o;return $r(),jr("div",qhe,[Wr("section",Ghe,[Yr(Di(ex),{onClick:i,icon:Di(gT),class:"size-7 text-orange1"},null,8,["icon"]),Wr("div",null,[t[2]||(t[2]=Wr("div",{class:"flex items-center text-lg font-medium justify-between mb-2.5"}," Xóa danh mục ",-1)),Wr("div",Whe,[t[0]||(t[0]=Xr(" Khi xóa danh mục ")),Wr("span",Yhe,Ze(null===(o=e.topic)||void 0===o?void 0:o.title),1),t[1]||(t[1]=Xr(" toàn bộ đã tạo sẽ bị xóa "))])])]),Wr("div",{class:"flex justify-end uppercase mt-4 text-base gap-2 items-center"},[Wr("div",{onClick:i,class:"px-4 py-1 border-[1px] rounded-lg border-gray3"}," Hủy "),Wr("div",{onClick:n,class:"px-3 py-1.5 bg-blue1 text-white rounded-lg"}," Xác nhận ")])])}}}),Qhe={class:"bg-white1 overflow-y-scroll"},Xhe=["onClick"],Jhe=jn({__name:"ModalPermissionLevel",setup(e){const t=[{value:0,label:"Mọi người"},{value:1,label:"Level 1"},{value:2,label:"Level 2"},{value:3,label:"Level 3"},{value:4,label:"Level 4"},{value:5,label:"Level 5"},{value:6,label:"Level 6"},{value:7,label:"Level 7"},{value:8,label:"Level 8"},{value:9,label:"Level 9"}];return(e,i)=>($r(),Vr(Di(Kk),{color:"white1"},{default:pn((()=>[Wr("section",Qhe,[($r(),jr(Dr,null,vo(t,((e,t)=>Wr("div",{key:t},[Wr("div",{onClick:t=>(async e=>{await ax.dismiss(e,"done")})(e.value),class:"py-2 ion-padding-horizontal"},Ze(e.label),9,Xhe)]))),64))])])),_:1}))}}),Zhe={class:"text-black font-medium text-lg text-center"},epe={slot:"label"},tpe={slot:"label"},ipe={slot:"end",class:"flex items-center"},npe={slot:"end",class:"flex items-center"},ope=jn({__name:"ModalCreateTopic",props:{type:{},topic:{}},setup(e){var t,i,n,o,r,s,a,l,c;const d=e,{community:u}=mC(oT()),h=mi({community_id:null===(t=u.value)||void 0===t?void 0:t._id,description:null!==(i=null==d||null===(n=d.topic)||void 0===n?void 0:n.description)&&void 0!==i?i:"",read_permission:nae[null!==(o=null===(r=d.topic)||void 0===r?void 0:r.read_permission)&&void 0!==o?o:0].value,title:null!==(s=null==d||null===(a=d.topic)||void 0===a?void 0:a.title)&&void 0!==s?s:"",write_permission:nae[null!==(l=null===(c=d.topic)||void 0===c?void 0:c.write_permission)&&void 0!==l?l:0].value}),p=async()=>await ax.dismiss(),m=ks((()=>!bC.isEmpty(h.title))),f=async()=>{const e=await ax.create({component:Jhe,showBackdrop:!0,initialBreakpoint:.55});await e.present();const{data:t,role:i}=await e.onWillDismiss();"done"===i&&(h.read_permission=t)},g=async()=>{const e=await ax.create({component:Jhe,showBackdrop:!0,initialBreakpoint:.55});await e.present();const{data:t,role:i}=await e.onWillDismiss();"done"===i&&(h.write_permission=t)},b=async()=>{if(!bC.isEmpty(h.title))try{if("create"===d.type){const{data:e,status:t}=await SC.post("/community-topic",h);201!==t||bC.isEmpty(e)||(lS("Tạo danh mục thành công","success"),ax.dismiss(e,"created"))}if("edit"===d.type){var e;const{data:t,status:i}=await SC.patch(`/community-topic/${null===(e=d.topic)||void 0===e?void 0:e._id}`,h);200!==i||bC.isEmpty(t)||(lS("Cập nhật danh mục thành công","success"),ax.dismiss(t,"edited"))}}catch(t){lS("Xảy ra lỗi khi tạo danh mục!","error")}};return(e,t)=>($r(),jr(Dr,null,[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{color:"white",mode:"ios"},{default:pn((()=>[Yr(Di(ex),{slot:"start",onClick:p,icon:Di(LT),class:"size-7 text-gray2 mr-4"},null,8,["icon"]),Wr("div",Zhe,Ze("create"===e.type?"Thêm danh mục":"Chỉnh sửa danh mục"),1),Wr("div",{onClick:b,slot:"end",class:We(["text-gray2 uppercase text-sm font-medium px-4 py-1 rounded-lg",m.value?"bg-blue1 text-white":"bg-gray1"])}," Xong ",2)])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding"},{default:pn((()=>[Wr("form",null,[Yr(Di(tw),{modelValue:h.title,"onUpdate:modelValue":t[0]||(t[0]=e=>h.title=e),mode:"md",required:"",fill:"outline",placeholder:"Tên",class:"outline-none text-sm font-light mb-2 mt-2",type:"text","label-placement":"stacked",color:"blue1",counter:!0,maxlength:30},{default:pn((()=>[Wr("div",epe,[t[3]||(t[3]=Xr("Tên")),Yr(Di(ow),{color:"danger"},{default:pn((()=>t[2]||(t[2]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Yr(Di(ww),{modelValue:h.description,"onUpdate:modelValue":t[1]||(t[1]=e=>h.description=e),mode:"md",required:"","label-placement":"stacked",fill:"outline",placeholder:"Mô tả danh mục",class:"outline-none text-sm font-light mt-1 h-28",counter:!0,maxlength:150},{default:pn((()=>[Wr("div",tpe,[t[4]||(t[4]=Xr("Mô tả")),Yr(Di(ow),{color:"danger"})])])),_:1},8,["modelValue"]),Yr(Di(tw),{value:Di(nae)[h.read_permission].label,mode:"md",required:"",fill:"outline",placeholder:"Quyền truy cập",label:"Quyền truy cập",class:"outline-none text-sm font-light mb-4 mt-8","label-placement":"stacked",color:"blue1",readonly:"",onClick:Ta(f,["prevent"])},{default:pn((()=>[Wr("div",ipe,[Yr(Di(ex),{icon:Di(ST),slot:"icon-only",class:"text-gray2 size-5","aria-hidden":"true"},null,8,["icon"])])])),_:1},8,["value"]),Yr(Di(tw),{value:Di(nae)[h.write_permission].label,mode:"md",required:"",fill:"outline",placeholder:"Quyền đăng bài",label:"Quyền đăng bài",class:"outline-none text-sm font-light mb-4 mt-8","label-placement":"stacked",color:"blue1",readonly:"",onClick:Ta(g,["prevent"])},{default:pn((()=>[Wr("div",npe,[Yr(Di(ex),{icon:Di(ST),slot:"icon-only",class:"text-gray2 size-5","aria-hidden":"true"},null,8,["icon"])])])),_:1},8,["value"])])])),_:1})],64))}}),rpe={class:"flex justify-between items-center mt-2 ion-padding"},spe={key:0,class:"flex items-center justify-between text-sm text-orange-400 ion-padding-horizontal"},ape={class:"flex items-center gap-1"},lpe={class:"flex gap-4 items-stretch my-3 flex-1"},cpe={class:"text-base font-medium flex-1 w-full"},dpe={class:"text-sm text-gray2 mt-1.5 font-normal"},upe=jn({__name:"TabDiscussTopic",setup(e){const{community:t}=mC(oT()),i=Ti([]),n=Ti(1),o=Ti(!1),r=Ti(!1),s=Ti([]),a=e=>{i.value=e.detail.complete(i.value)},l=async e=>{const t=await ax.create({mode:"ios",initialBreakpoint:.9,component:ope,componentProps:{type:"edit",topic:e}});await t.present();const{data:n,role:o}=await t.onWillDismiss();"edited"!==o||bC.isEmpty(n)||(i.value=i.value.map((t=>t._id===(null==e?void 0:e._id)?n:t)))},c=async(e,t=!0)=>{t&&await dx.dismiss(null,"cancel");const n=await ax.create({component:Khe,componentProps:{topic:e},cssClass:"confirmtp",mode:"ios"});await n.present();const{data:o,role:r}=await n.onWillDismiss();if("confirm"===r&&"done"===o){const t=i.value.findIndex((t=>t._id===(null==e?void 0:e._id)));i.value.splice(t,1)}},d=async()=>{const e=await ax.create({component:ope,mode:"ios",initialBreakpoint:.9,componentProps:{type:"create"}});await e.present();const{data:t,role:n}=await e.onWillDismiss();"created"!==n||bC.isEmpty(t)||i.value.unshift(t)},u=()=>{i.value=s.value,s.value=[],r.value=!1},h=async()=>{try{var e;const n=i.value.map(((e,t)=>({...e,order:t}))),{status:o}=await SC.patch(`community-topic/${null===(e=t.value)||void 0===e?void 0:e._id}/reorder`,{list:n});200===o&&lS("Cập nhật thứ tự danh mục thành công.","success")}catch(n){lS("Đã có lỗi xảy ra. Vui lòng thử lại sau!","error")}finally{s.value=[],r.value=!1}},p=async(e=1,r=!1)=>{var s;const{data:a}=await SC.get("community-topic",{params:{page:e,limit:20,"filter[community_id]":null===(s=t.value)||void 0===s?void 0:s._id,"sort[order]":1,"sort[_id]":-1}});var l,c,d;bC.isEmpty(a)?o.value=!1:(null!=a&&null!==(l=a.meta)&&void 0!==l&&l.hasNextPage?(n.value++,o.value=!0):o.value=!1,i.value=r?[...i.value,...null!==(c=a.data)&&void 0!==c?c:[]]:null!==(d=null==a?void 0:a.data)&&void 0!==d?d:[])};io((()=>{p(),n.value=1,o.value=!1}));const m=async e=>{p(n.value,!0),setTimeout((()=>e.target.complete()),500)},f=async e=>{p(),n.value=1,o.value=!1,setTimeout((()=>{e.target.complete()}),500)};return(e,t)=>($r(),Vr(Di(Kk),{class:"flex-col"},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:f},{default:pn((()=>[Yr(Di(dw))])),_:1}),Wr("div",rpe,[t[0]||(t[0]=Wr("span",{class:"text-xl font-medium"},"Danh mục thảo luận",-1)),Wr("div",{onClick:d,class:"p-0.5 rounded-full flex bg-blue1"},[Yr(Di(ex),{icon:Di(fT),class:"size-5 text-white"},null,8,["icon"])])]),r.value?($r(),jr("div",spe,[Wr("div",ape,[Yr(Di(ex),{onClick:u,icon:Di(PT),class:"size-6 text-red-400"},null,8,["icon"]),t[1]||(t[1]=Xr(" Di chuyển danh mục để thay đổi thứ tự "))]),Yr(Di(ex),{onClick:h,icon:Di(_T),class:"size-6 text-green-500"},null,8,["icon"])])):Jr("",!0),Yr(Di(hw),{disabled:!1,onIonItemReorder:a},{default:pn((()=>[($r(!0),jr(Dr,null,vo(i.value,(e=>($r(),Vr(Di(nw),{key:e._id},{default:pn((()=>[Wr("div",lpe,[r.value?($r(),Vr(Di(uw),{key:0},{default:pn((()=>[Yr(Di(ex),{icon:Di(eS),class:"size-7 text-gray2"},null,8,["icon"])])),_:1})):Jr("",!0),Wr("div",cpe,[Xr(Ze(e.title)+" ",1),Wr("div",dpe,Ze(e.description),1)]),r.value?Jr("",!0):($r(),Vr(Di(ex),{key:1,onClick:Ta((t=>(async e=>{const t=[{text:"Chỉnh sửa",handler:()=>l(e)},{text:"Di chuyển",id:"move",handler:()=>{r.value=!0,s.value=[...i.value]}},{text:"Xoá",role:"destructive",handler:()=>c(e)},{text:"Huỷ",role:"cancel"}].filter((e=>i.value.length<2?"move"!=e.id:e)),n=await dx.create({mode:"ios",buttons:t,translucent:!0});await n.present()})(e)),["stop"]),icon:Di($T),class:"size-6 px-1 text-gray2"},null,8,["onClick","icon"]))])])),_:2},1024)))),128))])),_:1}),o.value?($r(),Vr(Di(Zk),{key:1,onIonInfinite:m},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1}))}}),hpe={key:0},ppe={class:"flex items-center gap-1 mt-4 mb-2"},mpe={class:"border border-gray1 rounded-md mb-3 bg-white"},fpe={class:"flex justify-between flex-wrap sm:flex-nowrap max-sm:gap-3 w-full p-2 pr-1"},gpe={class:"w-full"},bpe={class:"md:pl-3 py-2 text-gray-700 whitespace-pre-wrap"},vpe=["textContent"],ype={class:"flex gap-2 items-center"},kpe={key:0,class:"mx-1 flex items-center"},wpe={class:"mt-4"},xpe=jn({__name:"TabAffiliate",setup(e){var t,i;const{community:n}=mC(oT()),{userCommunity:o}=mC(lT()),r=EC(),{userInfo:s}=mC(r),a=Ti(!1),l=ks((()=>{var e,t;return`https://unica.expert/${(null==n||null===(e=n.value)||void 0===e?void 0:e.short_name)||(null==n||null===(t=n.value)||void 0===t?void 0:t._id)||""}?ref=`})),c=mi({username:Ti((null===(t=s.value)||void 0===t?void 0:t.username)||(null===(i=s.value)||void 0===i?void 0:i._id)).value}),d=`${l.value}${c.username}`,u=async()=>{try{const{data:e,status:t}=await SC.patch("/users/me",{...c,form:C9});200==t?(await r.setUserInfo(e),await lS("Cập nhật mã giới thiệu thành công!","success")):await lS("Cập nhật mã giới thiệu thất bại!","warning")}catch(f1){await lS("Cập nhật mã giới thiệu thất bại!","warning"),console.error(f1)}finally{a.value=!1}a.value=!1},h=async()=>{const e=`${l.value}${c.username}`;await $D.write({string:e}),await lS("Sao chép mã giới thiệu thành công!","success")};return ks((()=>{var e;return(null===(e=o.value)||void 0===e?void 0:e.role)===rT.Admin})),(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white1"},{default:pn((()=>{var e,i,o,r;return[($r(),jr("div",hpe,[Wr("div",null," Giới thiệu thành viên tham gia cộng đồng nhận "+Ze(null!==(e=null===(i=Di(n))||void 0===i?void 0:i.aff_com_rate)&&void 0!==e?e:0)+"% ",1),Wr("div",ppe,[Yr(Di(ex),{icon:Di(VT),class:"size-6 text-gray2"},null,8,["icon"]),t[2]||(t[2]=Wr("span",null,"Link giới thiệu của bạn:",-1))]),Wr("section",mpe,[Wr("div",fpe,[Wr("div",gpe,[Wr("span",bpe,Ze(l.value),1),a.value?mn(($r(),jr("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>c.username=e),class:"border-2 border-dashed p-1 rounded-lg mx-1 outline-0 w-auto"},null,512)),[[fa,c.username]]):($r(),jr("span",{key:1,textContent:Ze(c.username),class:"text-base font-medium"},null,8,vpe))]),Wr("div",ype,[a.value?($r(),jr("button",{key:1,onClick:u,class:"px-2 flex items-center",type:"button"},[Yr(Di(ex),{icon:Di(tS),class:"size-6 text-gray2"},null,8,["icon"])])):($r(),jr("div",kpe,[Yr(Di(ex),{onClick:t[1]||(t[1]=e=>a.value=!0),icon:Di(OT),class:"size-6 text-blue1"},null,8,["icon"])])),Wr("button",{onClick:h,class:"px-2 flex items-center text-gray2",type:"button"},[Yr(Di(ex),{icon:Di(MT),class:"size-6"},null,8,["icon"])])])])]),Wr("i",null,"Bạn có thể gắn mã giới thiệu vào bất kỳ link nào. ví dụ : https://unica.expert/.....?ref="+Ze((null===(o=Di(s))||void 0===o?void 0:o.username)||(null===(r=Di(s))||void 0===r?void 0:r._id)),1),Wr("div",wpe,[t[3]||(t[3]=Wr("div",{class:"mb-3"},"Mã QR giới thiệu của bạn:",-1)),Yr(fne,{value:d,"render-as":"svg",size:160,level:"Q"})])]))]})),_:1}))}}),_pe={class:"ion-padding"},Epe={class:"font-light pb-5"},Cpe={class:"font-normal pl-1"},Ape={slot:"label"},Tpe={class:"flex justify-end mt-4 gap-2"},Spe=jn({__name:"ModalEditLevel",props:{level:{},index:{default:1}},setup(e){var t;const i=e,{community:n}=mC(oT()),o=Ti(null!==(t=i.level.name)&&void 0!==t?t:""),r=async()=>{try{if(!bC.isEmpty(o.value)){var e,t;const{status:r}=await SC.post("community-level",{name:o.value,level_id:null!==(e=i.level.level_id)&&void 0!==e?e:i.level._id,community_id:null===(t=n.value)||void 0===t?void 0:t._id});201===r&&(lS("Cập nhật level thành công!","success"),ax.dismiss(null,"success"))}}catch(r){lS("Đã có lỗi xảy ra. Vui lòng thử lại sau!","error")}finally{s()}},s=()=>ax.dismiss(null,"cancel");return(e,t)=>($r(),jr("div",_pe,[Wr("div",Epe,[t[1]||(t[1]=Xr(" Chỉnh sửa level: ")),Wr("span",Cpe,Ze(`Level ${e.index}`),1)]),Yr(Di(tw),{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),mode:"md",required:"",fill:"outline",placeholder:"Tên Level",class:"outline-none text-sm font-light",autocomplete:"off",type:"email","label-placement":"floating",color:"blue1",counter:"",maxlength:255},{default:pn((()=>[Wr("div",Ape,[t[3]||(t[3]=Xr("Tên Level")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[2]||(t[2]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Wr("section",Tpe,[Wr("div",{onClick:s,class:"px-5 py-1 rounded-lg font-medium text-[#4a4848]"}," Huỷ "),Wr("div",{onClick:r,class:We(["px-5 py-1 rounded-lg text-white font-medium",Di(bC.isEmpty)(o.value)?"bg-gray3":"bg-blue1"])}," Lưu ",2)])]))}}),Ipe={class:"flex items-center border-b-[1px] border-b-gray1 px-2"},Ppe={key:0,class:"px-2.5"},Dpe={key:1},Rpe=jn({__name:"TabLevelSetting",setup(e){const{community:t}=mC(oT()),i=Ti([]),n=async()=>{var e;const{data:n}=await SC.get("community-level",{params:{community_id:null===(e=t.value)||void 0===e?void 0:e._id}});i.value=null!=n?n:[]};return io((()=>{n()})),(e,t)=>($r(),Vr(Di(Kk),{color:"white",class:"ion-padding"},{default:pn((()=>[Wr("section",null,[($r(!0),jr(Dr,null,vo(i.value,((e,t)=>($r(),jr("div",{key:e._id},[Wr("div",Ipe,[Wr("div",{class:We(["font-medium text-base py-4 flex-1",t===i.value.length-1&&"border-b-[0px]"])},[Xr(Ze(`Level ${t+1}`)+" ",1),Di(bC.isEmpty)(e.name)?Jr("",!0):($r(),jr("span",Ppe,"-")),Di(bC.isEmpty)(e.name)?Jr("",!0):($r(),jr("span",Dpe,Ze(` ${e.name}`),1))],2),Yr(Di(ex),{onClick:i=>(async(e,t)=>{const i=await ax.create({component:Spe,componentProps:{level:e,index:t+""},mode:"ios",cssClass:"confirmlv"});await i.present();const{role:o}=await i.onWillDismiss();"success"===o&&n()})(e,t+1),src:"/icons/icEdit.svg",class:"text-blue1 size-5"},null,8,["onClick"])])])))),128))])])),_:1}))}}),Lpe={class:"ion-padding"},Mpe={class:"flex items-stretch gap-1.5"},Ope={class:"text-sm"},Npe={class:"font-medium"},$pe=jn({__name:"ModalConfirmDelCoupon",props:{coupon:{}},setup(e){const t=e,{community:i}=mC(oT()),n=()=>ax.dismiss(null,"cancel"),o=async()=>{try{var e;const{status:n}=await SC.delete(`community-coupon/${t.coupon._id}`,{data:{community_id:null===(e=i.value)||void 0===e?void 0:e._id}});200===n?(lS("Xoá danh mục thành công","success"),ax.dismiss("done","confirm")):ax.dismiss(null,"confirm")}catch(n){lS("Có lỗi xảy ra khi xoá danh mục. Vui lòng thử lại sau!","error")}};return(e,t)=>($r(),jr("div",Lpe,[Wr("section",Mpe,[Yr(Di(ex),{onClick:n,icon:Di(gT),class:"size-7 text-orange1"},null,8,["icon"]),Wr("div",null,[t[1]||(t[1]=Wr("div",{class:"flex items-center text-lg font-medium justify-between mb-2.5"}," Xóa Coupon ",-1)),Wr("div",Ope,[t[0]||(t[0]=Xr(" Bạn có chắc chắn muốn xoá coupon ")),Wr("span",Npe,Ze(e.coupon.name),1)])])]),Wr("div",{class:"flex justify-end uppercase mt-4 text-base gap-2 items-center"},[Wr("div",{onClick:n,class:"px-4 py-1 border-[1px] rounded-lg border-gray3"}," Hủy "),Wr("div",{onClick:o,class:"px-3 py-1.5 bg-blue1 text-white rounded-lg"}," Xác nhận ")])]))}});var Fpe=(e=>(e[e.Amount=0]="Amount",e[e.Rate=1]="Rate",e))(Fpe||{}),Bpe=(e=>(e.ALL="ALL",e.COURSE="COURSE",e.EVENT="EVENT",e.PRODUCT="PRODUCT",e))(Bpe||{});const zpe={[Bpe.ALL]:"Tất cả",[Bpe.COURSE]:"Khóa học",[Bpe.EVENT]:"Sự kiện",[Bpe.PRODUCT]:"Sản phẩm"},jpe={class:"bg-white1 h-full"},Vpe=["onClick"],Upe=jn({__name:"ModalSelectProductType",props:{selected:{}},setup:e=>(e,t)=>($r(),jr("section",jpe,[($r(!0),jr(Dr,null,vo(Di(zpe),((t,i)=>($r(),jr("div",{key:i},[Wr("div",{onClick:e=>{return t=i,void ax.dismiss(t,"done");var t},class:We(["py-2 ion-padding-horizontal",e.selected===Di(Bpe)[i]&&"bg-blue1-tint1"])},Ze(t),11,Vpe)])))),128))]))}),Hpe={class:"text-black font-medium text-lg text-center"},qpe={slot:"label"},Gpe={slot:"label"},Wpe={class:"mb-4"},Ype={class:"flex gap-8"},Kpe={class:"flex items-center gap-1"},Qpe={class:"flex items-center gap-1"},Xpe={slot:"label"},Jpe={slot:"label"},Zpe={slot:"end",class:"flex items-center"},eme={class:"flex items-center gap-2"},tme={key:0,slot:"start",class:"text-gray2"},ime={key:1,slot:"start",class:"text-base font-normal"},nme={key:2,slot:"end",class:"flex items-center"},ome=jn({__name:"ModalCreateCoupon",props:{type:{},coupon:{}},setup(e){var t,i,n,o,r,s,a,l,c,d,u,h,p,m;const f=()=>ax.dismiss(),g=e;console.log(g.coupon);const{community:b}=mC(oT()),v=mi({community_id:null!==(t=null===(i=b.value)||void 0===i?void 0:i._id)&&void 0!==t?t:"",name:(null==g||null===(n=g.coupon)||void 0===n?void 0:n.name)||"",code:(null==g||null===(o=g.coupon)||void 0===o?void 0:o.code)||"",type_discount:(null==g||null===(r=g.coupon)||void 0===r?void 0:r.type_discount)||Fpe.Amount,discount_price:(null==g||null===(s=g.coupon)||void 0===s?void 0:s.discount_price)||void 0,inventory:null==g||null===(a=g.coupon)||void 0===a?void 0:a.inventory,expiry_date:null!=g&&null!==(l=g.coupon)&&void 0!==l&&l.expiry_date?aT(new Date(null==g||null===(c=g.coupon)||void 0===c?void 0:c.expiry_date)).toISOString():aT(new Date).add(1,"days").format("YYYY-MM-DD"),classify_discount:(null==g||null===(d=g.coupon)||void 0===d?void 0:d.classify_discount)||Bpe.ALL}),y=Ti((null==g||null===(u=g.coupon)||void 0===u?void 0:u.type_discount)||Fpe.Amount),k=Ti(!(null==g||null===(h=g.coupon)||void 0===h||!h.expiry_date)),w=Ti(null!=g&&null!==(p=g.coupon)&&void 0!==p&&p.expiry_date?aT(new Date(null==g||null===(m=g.coupon)||void 0===m?void 0:m.expiry_date)).toISOString():aT(new Date).add(1,"days").toISOString()),x=async()=>{if(!k.value)return;const e=await ax.create({component:b9,componentProps:{selectedDate:aT(w.value).toISOString(),minDate:aT(new Date).add(1,"day").toISOString(),value:w.value},showBackdrop:!0,mode:"ios",initialBreakpoint:.5});await e.present();const{data:t,role:i}=await e.onDidDismiss();"confirm"===i&&(w.value=t,v.expiry_date=aT(t).format("YYYY-MM-DD"))},_=async()=>{const e=await ax.create({component:Upe,componentProps:{selected:v.classify_discount},mode:"ios",initialBreakpoint:.2});await e.present();const{role:t,data:i}=await e.onWillDismiss();"done"!==t||bC.isEmpty(i)||(v.classify_discount=i)},E=ks((()=>!(bC.isEmpty(v.name)||bC.isEmpty(v.code)||bC.isEmpty(v.inventory+"")||bC.isEmpty(v.discount_price+"")))),C=async()=>{if((()=>{const e=Number(v.discount_price);return!(bC.isNaN(e)||e<0||e>100)||(lS("Giá trị phải từ 0 đến 100","warning"),!1)})())try{if("create"===g.type){const{status:e,data:t}=await SC.post("community-coupon",{...v,type_discount:y.value,inventory:bC.isNaN(Number(v.inventory))?0:Number(v.inventory),discount_price:bC.isNaN(Number(v.discount_price))?0:Number(v.discount_price),expiry_date:v.expiry_date&&k.value?aT(v.expiry_date).format("YYYY-MM-DD"):""});201!==e||bC.isEmpty(t)||(lS("Tạo coupon thành công","success"),ax.dismiss(t,"success"))}else if("edit"===g.type){var e;const t={...v,type_discount:y.value,inventory:bC.isNaN(Number(v.inventory))?0:Number(v.inventory),discount_price:bC.isNaN(Number(v.discount_price))?0:Number(v.discount_price),expiry_date:v.expiry_date&&k.value?aT(v.expiry_date).format("YYYY-MM-DD"):""},{status:i,data:n}=await SC.patch(`community-coupon/${null===(e=g.coupon)||void 0===e?void 0:e._id}`,t);200!==i||bC.isEmpty(n)||(lS("Cập nhật coupon thành công","success"),ax.dismiss({...t,expiry_date:aT(new Date(v.expiry_date)).toISOString()},"edited"))}}catch(t){lS("Đã có lỗi xảy ra. Vui lòng thử lại!","error")}else;};return(e,t)=>($r(),jr(Dr,null,[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{color:"white",mode:"ios"},{default:pn((()=>[Yr(Di(ex),{slot:"start",onClick:f,icon:Di(LT),class:"size-7 text-gray2 mr-4"},null,8,["icon"]),Wr("div",Hpe,Ze("create"===e.type?"Thêm Coupon":"Chỉnh sửa Coupon"),1),Wr("div",{onClick:C,slot:"end",class:We(["text-gray2 uppercase text-sm font-medium px-4 py-1 rounded-lg",E.value?"bg-blue1 text-white":"bg-gray1"])}," Xong ",2)])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding"},{default:pn((()=>[Wr("form",null,[Yr(Di(tw),{modelValue:v.name,"onUpdate:modelValue":t[0]||(t[0]=e=>v.name=e),mode:"md",required:"",fill:"outline",placeholder:"Tên",class:"outline-none text-sm font-light mb-4",type:"text","label-placement":"stacked",color:"blue1"},{default:pn((()=>[Wr("div",qpe,[t[7]||(t[7]=Xr("Tên")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[6]||(t[6]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Yr(Di(tw),{modelValue:v.code,"onUpdate:modelValue":t[1]||(t[1]=e=>v.code=e),mode:"md",required:"",fill:"outline",placeholder:"Mã Coupon",class:"outline-none text-sm font-light",type:"text","label-placement":"stacked",color:"blue1",counter:!0,maxlength:20},{default:pn((()=>[Wr("div",Gpe,[t[9]||(t[9]=Xr("Mã Coupon")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[8]||(t[8]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Wr("section",Wpe,[t[15]||(t[15]=Wr("div",{class:"pb-2"},"Loại giảm giá",-1)),Yr(Di(lw),{value:Di(Fpe).Amount,modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=e=>y.value=e)},{default:pn((()=>[Wr("div",Ype,[Wr("div",Kpe,[Yr(Di(aw),{value:Di(Fpe).Amount,mode:"md","label-placement":"end",color:"blue1",justify:"start",alignment:"start"},null,8,["value"]),t[10]||(t[10]=Wr("div",{class:"text-base"},"VNĐ",-1))]),Wr("div",Qpe,[Yr(Di(aw),{value:Di(Fpe).Rate,mode:"md","label-placement":"end",color:"blue1",justify:"start",alignment:"start"},null,8,["value"]),t[11]||(t[11]=Wr("div",{class:"text-base"},"%",-1))])])])),_:1},8,["value","modelValue"]),Yr(Di(tw),{modelValue:v.discount_price,"onUpdate:modelValue":t[3]||(t[3]=e=>v.discount_price=e),mode:"md",required:"",fill:"outline",placeholder:"0",class:"outline-none text-sm font-light mt-4",type:"number","label-placement":"stacked",color:"blue1"},{default:pn((()=>[Wr("div",Xpe,[Xr(Ze(y.value===Di(Fpe).Rate?"Giá trị (%)":"Giá trị"),1),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[12]||(t[12]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"]),Yr(Di(tw),{modelValue:v.inventory,"onUpdate:modelValue":t[4]||(t[4]=e=>v.inventory=e),mode:"md",required:"",fill:"outline",placeholder:"0",class:"outline-none text-sm font-light my-4",type:"number","label-placement":"stacked",color:"blue1",min:0},{default:pn((()=>[Wr("div",Jpe,[t[14]||(t[14]=Xr(" Số lượng sử dụng")),Yr(Di(kw),{color:"danger"},{default:pn((()=>t[13]||(t[13]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"])]),t[17]||(t[17]=Wr("div",null,"Áp dụng với",-1)),Yr(Di(tw),{value:Di(zpe)[v.classify_discount],mode:"md",required:"",fill:"outline",placeholder:"Loại sản phẩm",label:"Loại sản phẩm",class:"outline-none text-sm font-light mb-4 mt-4","label-placement":"stacked",color:"blue1",readonly:"",onClick:Ta(_,["prevent"])},{default:pn((()=>[Wr("div",Zpe,[Yr(Di(ex),{icon:Di(ST),slot:"icon-only",class:"text-gray2 size-5","aria-hidden":"true"},null,8,["icon"])])])),_:1},8,["value"]),Wr("div",null,[Wr("div",eme,[Yr(Di(Wk),{mode:"md",modelValue:k.value,"onUpdate:modelValue":t[5]||(t[5]=e=>k.value=e),alignment:"start",justify:"start","label-placement":"end",color:"blue1"},null,8,["modelValue"]),t[16]||(t[16]=Wr("div",{class:"text-[13px]"},"Thời gian hết hạn",-1))]),Yr(Di(tw),{mode:"md",required:"",fill:"outline",class:We(["outline-none text-sm font-light mb-4 mt-4",!k.value&&"disabled"]),type:"text",color:"blue1",readonly:"",disabled:!k.value,onClick:Ta(x,["prevent"])},{default:pn((()=>[k.value?($r(),jr("div",ime,Ze(Di(aT)(w.value).format("DD/MM/YYYY")),1)):($r(),jr("div",tme," DD/MM/YYYYY ")),k.value?($r(),jr("div",nme,[Yr(Di(ex),{onClick:Ta((()=>{}),["stop"]),icon:Di(vT),slot:"icon-only",class:"text-gray2 size-5","aria-hidden":"true"},null,8,["icon"])])):Jr("",!0)])),_:1},8,["class","disabled"])])])])),_:1})],64))}}),rme=fS(ome,[["__scopeId","data-v-73503b70"]]),sme={class:"pt-4 ion-padding-horizontal flex items-center gap-3"},ame={class:"pb-10"},lme={key:0},cme={class:"bg-white1 p-2.5 rounded-lg"},dme={class:"font-normal text-base pb-1 flex items-start justify-between"},ume={class:"flex items-center gap-2"},hme={class:"font-medium pl-1"},pme={key:0,class:"font-medium pl-1"},mme={key:1,class:"font-medium pl-1"},fme={class:"font-medium pl-1"},gme={key:0},bme={key:1},vme={key:2},yme={key:3},kme={class:"font-medium pl-1"},wme={class:"font-medium pl-1"},xme={key:0,class:"text-red-500 font-normal"},_me={key:1,class:"text-green-500"},Eme={key:1,class:"justify-center items-center flex flex-col mt-[20%]"},Cme=jn({__name:"TabCouponSetting",setup(e){const{community:t}=mC(oT()),i=Ti([]),n=Ti(1),o=Ti(!1),r=Ti(""),s=async(e=1,s=!1)=>{var a;const{data:l}=await SC.get("community-coupon",{params:{"filter[community_id]":null===(a=t.value)||void 0===a?void 0:a._id,"filter[name]":bC.isEmpty(r.value)?null:r.value,limit:15,page:e}});var c,d,u;bC.isEmpty(l)?o.value=!1:(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(n.value++,o.value=!0):o.value=!1,i.value=s?[...i.value,...null!==(d=l.data)&&void 0!==d?d:[]]:null!==(u=null==l?void 0:l.data)&&void 0!==u?u:[])};io((()=>{s(),n.value=1,o.value=!1}));const a=async e=>{s(n.value,!0),setTimeout((()=>e.target.complete()),500)},l=()=>{s(),n.value=1,o.value=!1},c=async()=>{const e=await ax.create({component:rme,mode:"ios",componentProps:{type:"create"}});await e.present();const{data:t,role:n}=await e.onWillDismiss();"success"!==n||bC.isEmpty(t)||i.value.unshift(t)};return(e,t)=>($r(),jr(Dr,null,[Wr("section",sme,[Wr("form",{onSubmit:Ta(l,["prevent"]),class:"flex items-center border-[1px] bg-white flex-1 border-gray3 rounded-lg overflow-hidden"},[Yr(Di(ex),{onClick:l,icon:Di(nS),class:"text-gray2 size-6 pl-2"},null,8,["icon"]),mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),placeholder:"Tìm coupon",class:"py-1.5 px-2 w-full"},null,512),[[fa,r.value]])],32),Yr(Di(ex),{onClick:c,icon:Di(mT),class:"size-7 text-blue1"},null,8,["icon"])]),Yr(Di(Kk),{class:"ion-padding"},{default:pn((()=>[Wr("div",ame,[Di(bC.isEmpty)(i.value)?($r(),jr("div",Eme,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-32"}),t[6]||(t[6]=Wr("p",{class:"text-gray2 text-base"},"Không có dữ liệu",-1))])):($r(),jr("section",lme,[($r(!0),jr(Dr,null,vo(i.value,(e=>{var n;return $r(),jr("div",{class:"text-sm font-light my-2",key:e._id},[Wr("section",cme,[Wr("div",dme,[Xr(Ze(e.name)+" ",1),Wr("div",ume,[Yr(Di(ex),{onClick:t=>(async e=>{const t=await ax.create({component:rme,mode:"ios",componentProps:{type:"edit",coupon:e}});await t.present();const{data:n,role:o}=await t.onWillDismiss();var r;"edited"!==o||bC.isEmpty(n)||(i.value=null===(r=i.value)||void 0===r?void 0:r.map((t=>t._id===(null==e?void 0:e._id)?{...t,...n}:t)))})(e),src:"/icons/icEdit.svg",class:"size-5 text-blue1"},null,8,["onClick"]),Yr(Di(ex),{onClick:t=>(async e=>{const t=await ax.create({component:$pe,componentProps:{coupon:e},mode:"ios",cssClass:"confirmcp"});await t.present();const{data:n,role:o}=await t.onWillDismiss();if("confirm"===o&&"done"===n){const t=i.value.findIndex((t=>t._id===(null==e?void 0:e._id)));i.value.splice(t,1)}})(e),icon:Di(sS),class:"size-5 text-red-500"},null,8,["onClick","icon"])])]),Wr("div",null,[t[1]||(t[1]=Xr(" Code:")),Wr("span",hme,Ze(e.code),1)]),Wr("div",null,[t[2]||(t[2]=Xr(" Giá trị:")),0==e.type_discount?($r(),jr("span",pme,Ze(e.discount_price.toLocaleString("vi-VN",{style:"currency",currency:"VND"})),1)):($r(),jr("span",mme,Ze(e.discount_price)+"%",1))]),Wr("div",null,[t[3]||(t[3]=Xr(" Loại: ")),Wr("span",fme,["ALL"===e.classify_discount?($r(),jr("span",gme,"Tất cả")):Jr("",!0),"COURSE"===e.classify_discount?($r(),jr("span",bme,"Khóa học")):Jr("",!0),"EVENT"===e.classify_discount?($r(),jr("span",vme,"Sự kiện")):Jr("",!0),"PRODUCT"===e.classify_discount?($r(),jr("span",yme,"Sản phẩm")):Jr("",!0)])]),Wr("div",null,[t[5]||(t[5]=Xr(" Đã dùng: ")),Wr("span",kme,Ze(null!==(n=null==e?void 0:e.usage_count)&&void 0!==n?n:0)+"/"+Ze(e.inventory),1),Wr("div",null,[t[4]||(t[4]=Xr(" Hạn sử dụng:")),Wr("span",wme,Ze(e.expiry_date?Di(aT)(e.expiry_date).format("DD/MM/YYYY"):"Không giới hạn"),1)])]),e.expiry_date&&Di(aT)().isAfter(Di(aT)(e.expiry_date))||e.usage_count==e.inventory?($r(),jr("div",xme," Tạm dừng ")):($r(),jr("div",_me,"Hoạt động"))])])})),128))]))]),o.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:a},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})],64))}}),Ame={class:"mt-4"},Tme={key:0,class:"font-medium text-lg mt-3 mb-2"},Sme={class:"text-wrap"},Ime=jn({__name:"TabNotification",setup(e){const{userInfo:t}=mC(EC()),{userCommunity:i}=mC(lT()),{community:n}=mC(oT()),o=Ti(!0),r=ks((()=>{var e;return(null===(e=i.value)||void 0===e?void 0:e.role)===rT.Admin})),s=ks((()=>r.value?u0:h0)),a=ks((()=>[{groupName:void 0,values:s.value},{groupName:"Email",values:d0}])),l=mi(a.value.reduce(((e,t)=>(Object.keys(t.values).forEach((t=>{e[t]=!0})),e)),{})),c=async()=>{try{var e,i;if(o.value)return void lS("Đang lưu cài đặt!","warning");const{data:r,status:s}=await SC.patch("/notification/user-setting",{type_notification_receive:l,community_id:null===(e=n.value)||void 0===e?void 0:e._id,user_id:null===(i=t.value)||void 0===i?void 0:i._id});console.log(r,s),200===s?lS("Cập nhật thông báo thành công!","success"):lS("Đã có lỗi xảy ra. Vui lòng thử lại!","error")}catch(r){console.log(r)}finally{o.value=!1}};return to((()=>{(async()=>{try{var e;const{data:t,status:i}=await SC.get(`/notification/user-setting/${null===(e=n.value)||void 0===e?void 0:e._id}`);if(200===i&&!bC.isEmpty(t)){const e=t.type_notification_receive;Object.keys(e).forEach((t=>{var i;t in l&&(l[t]=null!==(i=e[t])&&void 0!==i&&i)})),o.value=!1}}catch(t){console.log(t)}finally{o.value=!1}})(),o.value=!1})),(e,t)=>($r(),jr(Dr,null,[Yr(Di(Kk),{class:"ion-padding",color:"white1"},{default:pn((()=>[t[0]||(t[0]=Wr("h1",{class:"font-medium"},"Cài đặt thông báo",-1)),Wr("div",Ame,[($r(!0),jr(Dr,null,vo(a.value,((e,t)=>($r(),jr("div",{key:t},[e.groupName?($r(),jr("div",Tme,Ze(e.groupName),1)):Jr("",!0),($r(!0),jr(Dr,null,vo(e.values,((e,t)=>($r(),jr("div",{key:t,class:"flex items-center my-0.5"},[Yr(Di(Wk),{modelValue:l[t],"onUpdate:modelValue":e=>l[t]=e,mode:"md",alignment:"center","label-placement":"end",justify:"start"},{default:pn((()=>[Wr("div",Sme,Ze(e),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])))),128))])))),128))]),Wr("div",{onClick:c,class:"bg-blue1 py-1.5 text-base text-white font-medium rounded-lg text-center mt-8"}," LƯU ")])),_:1}),Yr(dS,{"is-open":o.value,"backdrop-opacity":.2},null,8,["is-open"])],64))}}),Pme={class:"flex items-center flex-1"},Dme=["src"],Rme={class:"flex-1 ml-2.5 mr-1.5"},Lme={class:"text-sm font-medium text-black2"},Mme={class:"text-xs text-gray2"},Ome=jn({__name:"CommunitySetting",setup(e){const t=oT(),i=lT(),n=Ti(),o=Ti(),r=Rw(),s=By(),a=[{key:"info",title:"Thông tin cơ bản"},{key:"topics",title:"Danh mục thảo luận"},{key:"level",title:"Level"},{key:"aff",title:"Affiliate"},{key:"notify",title:"Thông báo"},{key:"coupon",title:"Coupon"}],l=[{key:"aff",title:"Affiliate"},{key:"notify",title:"Thông báo"}],c=ks((()=>{var e;return(null===(e=o.value)||void 0===e?void 0:e.role)===rT.Admin})),d=Ti(a[0].key),u=e=>{d.value=e},h=()=>{r.back()};return io((()=>{(async()=>{const{data:e}=await SC.get(`community/${s.params.id}`);bC.isEmpty(e)?h():(n.value=e,t.setCommunity(e))})(),(async()=>{const{data:e}=await SC.get(`user-community/check/${s.params.id}`);bC.isEmpty(e)?h():(e.role===rT.Admin?d.value=a[0].key:d.value=l[0].key,o.value=e,i.setUserCommunity(e))})()})),(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>{var e,t,i;return[Yr(Di(ex),{slot:"start",onClick:h,icon:Di(CT),class:"size-6 p-2"},null,8,["icon"]),Wr("div",Pme,[Wr("img",{src:null!==(e=null===(t=n.value)||void 0===t?void 0:t.icon)&&void 0!==e?e:"/favicon.ico",class:"size-[30px] rounded-lg"},null,8,Dme),Wr("div",Rme,[Wr("div",Lme,Ze(null===(i=n.value)||void 0===i?void 0:i.name),1),Wr("div",Mme,Ze(c.value?"Cài đặt cộng đồng":"Cài đặt thành viên"),1)])])]})),_:1})])),_:1}),Yr(tne,{routes:c.value?a:l,onChangeTab:u,"tab-key":d.value,"normal-text":""},{scene:pn((()=>["info"===d.value?($r(),Vr($he,{key:0})):Jr("",!0),"topics"===d.value?($r(),Vr(upe,{key:1})):Jr("",!0),"fee"===d.value?($r(),Vr(Hhe,{key:2})):Jr("",!0),"level"===d.value?($r(),Vr(Rpe,{key:3})):Jr("",!0),"aff"===d.value?($r(),Vr(xpe,{key:4})):Jr("",!0),"notify"===d.value?($r(),Vr(Ime,{key:5})):Jr("",!0),"coupon"===d.value?($r(),Vr(Cme,{key:6})):Jr("",!0)])),_:1},8,["routes","tab-key"])])),_:1}))}}),Nme={class:"flex"},$me={class:"flex flex-row overflow-x-scroll ion-text-nowrap py-1 gap-2 scrollbar-hidden items-center"},Fme=["onClick"],Bme={key:0},zme=jn({__name:"TopicsList",props:{topicSelected:{default:void 0},topics:{default:[]},onFilterPress:{type:Function,default:()=>{}}},emits:["onSelectTopic"],setup(e,{emit:t}){const i=t,n=e=>{i("onSelectTopic",e)};return(e,t)=>($r(),jr("div",Nme,[Wr("div",$me,[Wr("div",{onClick:t[0]||(t[0]=e=>n()),class:We(["shadow-st flex flex-1 text-nowrap p-2.5 px-4 gap-2 text-sm rounded-xl",e.topicSelected?"bg-white":"bg-blue1 text-white border-blue1"])}," Tất cả ",2),($r(!0),jr(Dr,null,vo(e.topics,((t,i)=>{var o;return $r(),jr("div",{key:i},[Wr("div",{outline:!0,onClick:e=>n(t._id),class:We(["shadow-st flex flex-1 text-nowrap ion-text-nowrap p-2.5 gap-2 text-sm rounded-xl",e.topicSelected==t.id?"bg-blue1 text-white  border-blue1":"bg-white"])},[t.icon?($r(),jr("span",Bme,Ze(t.prefix),1)):Jr("",!0),Xr(" "+Ze(null!==(o=t.title)&&void 0!==o?o:""),1)],10,Fme)])})),128))]),Wr("div",{onClick:t[1]||(t[1]=(...t)=>e.onFilterPress&&e.onFilterPress(...t)),class:"shadow-st bg-white items-center ml-2 flex my-auto flex-row text-nowrap p-[9.5px] px-2.5 gap-2 text-sm rounded-xl"},[Yr(Di(ex),{icon:Di(WT),class:"size-5",color:"gray2"},null,8,["icon"])])]))}}),jme=["src"],Vme={class:"p-4"},Ume={class:"flex items-center gap-3"},Hme=["src"],qme={class:"text-base text-black2 font-medium"},Gme={class:"line-clamp-3 text-base text-black2 font-light my-3"},Wme={class:"text-base font-medium text-black2"},Yme=jn({__name:"CardCommunity",props:{community:{}},setup(e){const t=Rw(),i=oT(),n=e,o=async()=>{i.setCommunity(n.community),t.push({name:"CommunityScreen",params:{id:n.community.short_name||n.community._id}},iT)};return ks((()=>{var e;const t=(null===(e=n.community)||void 0===e||null===(e=e.communityFee)||void 0===e?void 0:e.price)||0;return t>0?`${t.toLocaleString("vi-VN",{currency:"VND"})}đ/tháng`:"Miễn phí"})),(e,t)=>($r(),Vr(Di(Gk),{onClick:o,class:"rounded-lg overflow-hidden shadow-st bg-white mx-4 my-6"},{default:pn((()=>{var i,n;return[Di(bC.isEmpty)(e.community.thumbnail)?Jr("",!0):($r(),jr("img",{key:0,src:e.community.thumbnail,class:"object-cover w-full aspect-video rounded-t-lg",placeholder:"https://via.placeholder.com/200x200/ddd/ddd"},null,8,jme)),Wr("div",Vme,[Wr("div",Ume,[Wr("img",{src:null!==(i=e.community.icon)&&void 0!==i?i:"/favicon.ico",class:"size-10 rounded-lg",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,Hme),Wr("span",qme,Ze(e.community.name),1)]),Wr("div",Gme,Ze(e.community.description),1),Wr("div",Wme,[Xr(Ze(Di(xse)[e.community.status])+" ",1),t[0]||(t[0]=Wr("span",{class:"mx-1"},"•",-1)),Xr(" "+Ze(null!==(n=e.community.total_member)&&void 0!==n?n:0)+" thành viên ",1)])])]})),_:1}))}}),Kme={key:1,class:"flex items-center",slot:"end"},Qme={class:"mx-4"},Xme={class:"flex bg-white w-full px-4 gap-3 shadow-as items-center rounded-xl mb-4"},Jme={key:1,class:"mt-[30%] justify-center w-full text-center text-gray2 font-normal text-base"},Zme={class:"p-8"},efe={class:"font-bold"},tfe={class:"ion-margin-horizontal py-1 font-normal"},ife={class:"sradio text-base"},nfe=["id","value"],ofe={class:"font-bold mt-1"},rfe={class:"ion-margin-horizontal py-1 font-normal"},sfe={class:"sradio text-base"},afe=["id","value"],lfe=jn({__name:"HomeScreen",setup(e){const t=Rw(),i=EC(),{isLoggedIn:n}=mC(i),o=Ti(),r=Ti(!1),s=Ti(1),a=Ti([]),l=Ti([]),c=Ti(),d=Ti(""),u=mi({filterStatus:void 0,filterFee:"all"}),h=async()=>{await Ff.open("sidemenu")},p=e=>{o.value=e},m=async()=>{const{data:e}=await qE.get("/topic/all");bC.isEmpty(e)||(a.value=e)},f=e=>{g(s.value,!0),setTimeout((()=>e.target.complete()),500)},g=async(e=1,t=!1,i=!1)=>{const n={"filter[topic_id]":o.value,"filter[status]":u.filterStatus,"filter[keyword]":d.value,"filter[fee]":u.filterFee,"filter[type]":2,"w[]":"communityFee","sort[scores]":-1,"sort[_id]":-1,page:e,limit:10},{data:a}=await SC.get("/community",{params:n});bC.isEmpty(a)?(i&&(l.value=[]),r.value=!1):(a.meta.hasNextPage?(s.value++,r.value=!0):r.value=!1,l.value=t?[...l.value,...a.data]:a.data)};br([o,u],(()=>{g(1,!1,!0),s.value=1,r.value=!1})),Pw((()=>{g(1),s.value=1,r.value=!1})),Dw((()=>{m()}));const b=e=>{g(1,!1),m(),s.value=1,r.value=!1,setTimeout((()=>{e.target.complete()}),2e3)},v=async()=>{await c.value.$el.present()},y=()=>{g(1,!1,!0),s.value=1,r.value=!1},k=()=>{t.push({name:"CreateCommunityScreen"},iT)},w=async()=>{t.push({name:"LoginScreen"},iT)},x=ks((()=>Hc("tablet")||Hc("ipad")));return(e,t)=>($r(),Vr(Di(Ow),{id:"sidemenu"},{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white px-3.5"},{default:pn((()=>[t[4]||(t[4]=Wr("div",{slot:"start",class:"flex items-center"},[Wr("img",{src:QE,class:"w-auto size-8"})],-1)),Di(n)?($r(),jr("div",Kme,[Yr(Di(ex),{onClick:h,src:"/icMenu.svg",class:"size-7"})])):($r(),jr("div",{key:0,onClick:w,slot:"end",class:"text-lg text-black font-medium"}," Đăng nhập "))])),_:1})])),_:1}),Yr(Di(Kk),{class:"flex-1",color:"white1"},{default:pn((()=>[Yr(Di(cw),{slot:"fixed",mode:"md",onIonRefresh:b},{default:pn((()=>[Yr(Di(dw))])),_:1}),Wr("div",Qme,[Wr("section",{class:"flex flex-col text-center text-[#050505] my-7"},[t[6]||(t[6]=Wr("div",{class:"text-[32px] font-semibold"},"Khám phá cộng đồng",-1)),Wr("span",{class:"text-lg font-normal"},[t[5]||(t[5]=Xr(" hoặc ")),Wr("span",{onClick:k,class:"text-blue1"},"tạo cộng đồng của bạn ")])]),Wr("div",Xme,[Yr(Di(ex),{src:"/icSearch.svg",class:"size-7",onClick:y}),Wr("form",{onSubmit:Ta(y,["prevent"]),class:"w-full"},[mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),class:"w-full py-4 text-base outline-none bg-white",placeholder:"Tìm kiếm"},null,512),[[fa,d.value]])],32),Di(bC.isEmpty)(d.value)?Jr("",!0):($r(),Vr(Di(ex),{key:0,onClick:t[1]||(t[1]=()=>d.value=""),icon:Di(LT),class:"size-8 text-gray2"},null,8,["icon"]))]),Yr(zme,{topics:a.value,"topic-selected":o.value,onOnSelectTopic:p,onFilterPress:v},null,8,["topics","topic-selected"])]),Di(bC.isEmpty)(l.value)?($r(),jr("div",Jme," Chưa có cộng đồng ")):($r(),jr("div",{key:0,class:We(x.value?"grid grid-cols-2":"")},[($r(!0),jr(Dr,null,vo(l.value,(e=>($r(),Vr(Yme,{community:e,key:e._id},null,8,["community"])))),128))],2)),r.value?($r(),Vr(Di(Zk),{key:2,onIonInfinite:f,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1}),Yr(Di(rx),{id:"filter",ref_key:"refOptionFilter",ref:c},{default:pn((()=>[Wr("div",Zme,[Wr("div",efe,[t[8]||(t[8]=Xr(" Loại ")),Wr("div",tfe,[($r(!0),jr(Dr,null,vo(Di(rae),(e=>{var i;return $r(),jr("div",{key:e.id},[Wr("label",ife,[Xr(Ze(e.label)+" ",1),mn(Wr("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>u.filterStatus=e),id:null===(i=e.id)||void 0===i?void 0:i.toString(),value:e.id,class:"size-[24px] absolute opacity-0 cursor-pointer",type:"radio"},null,8,nfe),[[va,u.filterStatus]]),t[7]||(t[7]=Wr("span",{class:"absolute top-0 left-0 size-6 bg-white rounded-full border-2 border-[#909090]"},null,-1))])])})),128))])]),Wr("div",ofe,[t[10]||(t[10]=Xr(" Giá ")),Wr("div",rfe,[($r(!0),jr(Dr,null,vo(Di(sae),(e=>{var i;return $r(),jr("div",{key:e.id},[Wr("label",sfe,[Xr(Ze(e.label)+" ",1),mn(Wr("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>u.filterFee=e),id:null===(i=e.id)||void 0===i?void 0:i.toString(),value:e.id,class:"size-[24px] absolute opacity-0 cursor-pointer",type:"radio"},null,8,afe),[[va,u.filterFee]]),t[9]||(t[9]=Wr("span",{class:"absolute top-0 left-0 size-6 bg-white rounded-full border-2 border-[#909090]"},null,-1))])])})),128))])])])])),_:1},512)])),_:1}))}}),cfe=fS(lfe,[["__scopeId","data-v-76276a37"]]),dfe={class:"flex items-stretch gap-1.5 my-4"},ufe={class:"size-11 rounded-full flex relative"},hfe=["src"],pfe={class:"flex-1"},mfe=["innerHTML"],ffe={class:"flex gap-5 mt-1.5 text-sm text-gray2 font-normal items-center"},gfe={class:"flex items-center text-sm font-medium text-gray2"},bfe={key:0},vfe={key:0},yfe={key:0,class:"items-center flex gap-2 text-sm text-blue1 mt-2 font-medium"},kfe={key:0,class:"items-center flex gap-2 text-sm text-blue1 mt-2 font-medium"},wfe=jn({__name:"CommentComp",props:{onCommentPress:{type:Function,default:()=>{}},onReply:{type:Function,default:()=>{}},isChild:{type:Boolean,default:!1},comments:{},isSuspend:{type:Boolean,default:!1}},setup(e){var t,i,n,o;const r=e,s=Ti(1),a=Ti(!1),l=Ti(!1),c=Ti([]),d=Ti(null!==(t=null===(i=r.comments)||void 0===i?void 0:i.total_reactions)&&void 0!==t?t:0),u=Ti(0),h=oT(),p=EC(),{isLoggedIn:m,userInfo:f}=mC(p),{community:g}=mC(h),b=lT(),{userCommunity:v}=mC(b),y=Ti((null===(n=r.comments)||void 0===n||null===(n=n.user_reaction)||void 0===n?void 0:n.responder_id)===(null===(o=f.value)||void 0===o?void 0:o._id)&&m),k=ks((()=>{var e,t,i;return!(!v.value||v.value.role!==rT.Member||null===(e=g.value)||void 0===e||!e.member_last_limit_package)&&aT(null===(t=g.value)||void 0===t?void 0:t.member_last_limit_package).isBefore(null===(i=v.value)||void 0===i?void 0:i.created_at)})),w=async()=>{if(5==u.value)return void lS("Bạn đã đạt giới hạn like bài viết này vui lòng load lại trang để tiếp tục","warning");if((v.value&&v.value.status===m4.Joined?!k.value||(lS("Tài khoản bị giới hạn!","warning"),!1):(lS("Bạn phải là thành viên của cộng đồng trước. Hãy đăng ký làm thành viên.","warning"),!1))&&m.value&&u.value<5){var e,t,i,n;const o={comment_id:null===(e=r.comments)||void 0===e?void 0:e._id,responder_id:null===(t=f.value)||void 0===t?void 0:t._id,community_id:null===(i=g.value)||void 0===i?void 0:i._id},{data:s}=await SC.post("/community-reaction",o);(null==s?void 0:s.responder_id)===(null===(n=f.value)||void 0===n?void 0:n._id)?(d.value++,y.value=!0):(d.value>0&&d.value--,y.value=!1),u.value++}},x=()=>{l.value=!0,_()},_=async(e=!1)=>{var t,i;const n={"w[]":["creator","reply_count","total_reactions","user_reaction"],"filter[post_id]":null===(t=r.comments)||void 0===t?void 0:t.post_id,"filter[reply_comment_id]":null===(i=r.comments)||void 0===i?void 0:i._id,page:s.value,limit:5},{data:o}=await SC.get("/community-comment",{params:n});var l,d;bC.isEmpty(o)?(a.value=!1,s.value=1):(null!=o&&null!==(l=o.meta)&&void 0!==l&&l.hasNextPage?(s.value++,a.value=!0):(a.value=!1,s.value=1),c.value=e?[...c.value,...null!==(d=null==o?void 0:o.data)&&void 0!==d?d:[]]:null==o?void 0:o.data)},E=()=>{_(!0)},C=()=>{console.log("USER_NAME")};return(e,t)=>{var i,n,o,r,s,u,h,p,m,f,g,b,v,k;const _=po("CommentComp",!0);return $r(),jr("section",dfe,[Wr("div",ufe,[Wr("img",{src:null!==(i=null===(n=e.comments)||void 0===n||null===(n=n.creator)||void 0===n?void 0:n.avatar)&&void 0!==i?i:"/upload-user.png",class:"w-full rounded-full",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,hfe)]),Wr("div",pfe,[Wr("div",{onClick:t[0]||(t[0]=(...t)=>e.onCommentPress&&e.onCommentPress(...t)),class:"bg-white1 p-2 rounded-lg"},[Wr("span",{onClick:Ta(C,["stop"]),class:"text-base font-medium text-black2"},Ze(null===(o=e.comments)||void 0===o||null===(o=o.creator)||void 0===o?void 0:o.full_name),1),Wr("div",{class:"text-base font-light pt-1",innerHTML:null===(r=e.comments)||void 0===r?void 0:r.content},null,8,mfe)]),Wr("div",ffe,[Wr("div",gfe,[Yr(Di(ex),{onClick:w,src:y.value?"/icons/icThumbupsFill.svg":"/icons/icThumbups.svg",class:"size-4 px-2"},null,8,["src"]),Number(d.value)>0?($r(),jr("span",bfe,Ze(d.value),1)):Jr("",!0)]),Wr("span",null,Ze(Di(aT)(null===(s=e.comments)||void 0===s?void 0:s.created_at).fromNow()),1),e.isSuspend?Jr("",!0):($r(),jr("span",{key:0,onClick:t[1]||(t[1]=t=>e.onReply(e.comments))},"Phản hồi"))]),Di(bC.isEmpty)(null===(u=e.comments)||void 0===u?void 0:u.repliesChild)?Jr("",!0):($r(),jr("div",vfe,[($r(!0),jr(Dr,null,vo(null===(h=e.comments)||void 0===h?void 0:h.repliesChild,(i=>($r(),jr("div",{key:i._id},[Yr(_,{"is-child":"",comments:i,onReply:t[2]||(t[2]=t=>e.onReply(e.comments))},null,8,["comments"])])))),128))])),l.value?($r(),jr(Dr,{key:1},[($r(!0),jr(Dr,null,vo(c.value,(i=>($r(),jr("div",{key:i._id},[Yr(_,{"is-child":!0,comments:i,onReply:t[3]||(t[3]=t=>e.onReply(e.comments))},null,8,["comments"])])))),128)),(null!==(p=null===(m=e.comments)||void 0===m?void 0:m.reply_count)&&void 0!==p?p:0)-c.value.length>0&&a.value&&!e.isSuspend?($r(),jr("div",yfe,[Yr(Di(ex),{src:"/icons/icReturnRight.svg",class:"text-blue1 size-4 pb-1"}),Wr("div",{onClick:E}," Xem "+Ze((null!==(f=null===(g=e.comments)||void 0===g?void 0:g.reply_count)&&void 0!==f?f:0)-c.value.length)+" phản hồi... ",1)])):Jr("",!0)],64)):Jr("",!0),null!==(b=e.comments)&&void 0!==b&&b.reply_count&&(null===(v=e.comments)||void 0===v?void 0:v.reply_count)>0&&!e.isSuspend&&!e.isChild?($r(),jr(Dr,{key:2},[l.value?Jr("",!0):($r(),jr("div",kfe,[Yr(Di(ex),{src:"/icons/icReturnRight.svg",class:"text-blue1 size-4 pb-1"}),Wr("div",{onClick:x}," Xem "+Ze(null===(k=e.comments)||void 0===k?void 0:k.reply_count)+" phản hồi... ",1)]))],64)):Jr("",!0)])])}}}),xfe={slot:"start",class:"flex items-center"},_fe=["src"],Efe={key:1,class:"text-base font-medium text-black2 mx-2.5"},Cfe={key:0,class:"text-black text-sm py-2.5 font-normal bg-gray1 text-center"},Afe={key:2,class:"text-black text-sm py-2.5 font-normal bg-gray1 text-center"},Tfe={key:0,class:"mb-2 flex gap-5"},Sfe={class:"border-l-[3px] border-l-blue1 rounded-lg flex-1"},Ife={class:"bg-[#F0F2F5] rounded-lg px-3 py-1.5 text-sm font-medium"},Pfe=["innerHTML"],Dfe={class:"flex items-end gap-1.5"},Rfe=["src"],Lfe={class:"w-[90%]"},Mfe={class:"gap-1 flex py-1.5 items-center justify-between"},Ofe={class:"flex justify-center text-center items-center gap-2"},Nfe=jn({__name:"PostDetailScreen",setup(e){var t;const{DEV:i,VITE_API_URL_DEV:n,VITE_API_URL:o}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},r=i?n:o,s=By(),a=null==s||null===(t=s.params)||void 0===t?void 0:t.postId,l=oT(),c=EC(),{userInfo:d,accessToken:u}=mC(c),h=lT(),{userCommunity:p,usersLimitedByPackage:m}=mC(h),{community:f}=mC(l),g=Ti(),b=Ti(""),v=mi({comment:void 0}),y=Ti(),k=Rw(),w=Ti([]),x=Ti(1),_=Ti(!1),E=ks((()=>{var e;return(null===(e=p.value)||void 0===e?void 0:e.role)===rT.Admin})),C=ks((()=>{var e;if(null!=oT&&null!==(e=p.value)&&void 0!==e&&e.unlock_message_at){const e=aT(p.value.unlock_message_at),t=aT();return e.isAfter(t)}return!1})),A=()=>{k.back()},T=[nJ,OY,ZY,cQ,YQ,pQ,dJ,uJ,fJ,gJ,mJ,pJ,hJ,vJ],S={feeds:[{marker:"@",feed:async e=>await(async e=>{var t;const{data:i,status:n}=await SC.get(`community/${null===(t=f.value)||void 0===t?void 0:t._id}/users`,{params:{keyword:e}});if(200===n&&null!=i&&i.data)return null==i?void 0:i.data.map((e=>({avatar:null==e?void 0:e.avatar,name:null==e?void 0:e.full_name,id:"@"+(null==e?void 0:e._id),text:null==e?void 0:e.full_name})))})(e),minimumCharacters:0,itemRenderer:function(e){const t=document.createElement("span");t.classList.add("custom-item"),t.classList.add("customItemRenderer"),t.id=`data-id-${e.id}`;const i=document.createElement("div");i.classList.add("flex","items-center");const n=document.createElement("img");n.src=e.avatar||"/icUser.png",n.alt=`${e.text} avatar`,n.style.width="32px",n.style.height="32px",n.style.objectFit="cover",n.style.borderRadius="100%",i.appendChild(n);const o=document.createElement("span");if(o.style.marginLeft="8px",i.appendChild(o),e.text||e.name){const t=document.createTextNode((null==e?void 0:e.text)||"");i.appendChild(t)}return t.appendChild(i),t}}]};const I=e=>{var t;y.value=e,b.value=`<span class="mention" data-mention="@${null==e?void 0:e._id}">${null==e||null===(t=e.creator)||void 0===t?void 0:t.full_name}</span>&nbsp;`},P=()=>{y.value=void 0,b.value=""},D=async()=>{if(!bC.isEmpty(b.value)){var e,t,i,n;const o={post_id:null!=a?a:null===(e=g.value)||void 0===e?void 0:e._id,reply_comment_id:null===(t=y.value)||void 0===t?void 0:t._id,content:b.value,creator_id:null===(i=d.value)||void 0===i?void 0:i._id,community_id:null===(n=f.value)||void 0===n?void 0:n._id,attachments:[],files:[]},s=new FormData,l=(e,t="")=>{e&&("object"!=typeof e||e instanceof File?s.append(t,e):Object.keys(e).forEach((i=>{l(e[i],t?`${t}[${i}]`:i)})))};l(o);const c=await fetch(`${r}/community-comment`,{method:"POST",body:s,headers:{Authorization:`Bearer ${u.value}`}}),h=await c.json();if(!bC.isEmpty(h)&&201===c.status)if(v.comment++,bC.isEmpty(null==h?void 0:h.reply_comment_id)||bC.isEmpty(o.reply_comment_id))w.value=[h,...w.value];else{const e=w.value.map((e=>{var t;return(null==h?void 0:h.reply_comment_id)===e._id?{...e,repliesChild:[h,...null!==(t=null==e?void 0:e.repliesChild)&&void 0!==t?t:[]]}:e}));w.value=e}}y.value=void 0,b.value=""},R=async()=>{const e=await ax.create({component:p4,componentProps:{isPage:!0,post:g.value,onCallback:M},initialBreakpoint:.5,mode:"ios"});e.present();const{data:t,role:i}=await e.onWillDismiss();"confirm"===i&&console.log(t)},L=async()=>{},M=async()=>{const{data:e,status:t}=await SC.get(`/community-post/${a}`,{params:{"w[]":["creator","topic","total_comments","total_reactions","user_reaction","poll"]}});bC.isEmpty(e)||200!==t||(g.value=e,v.comment=null==e?void 0:e.total_comments)},O=async(e=1,t=!1)=>{var i;const n={"w[]":["creator","reply_count","total_reactions","user_reaction"],"filter[post_id]":null!=a?a:null===(i=g.value)||void 0===i?void 0:i._id,"filter[reply_comment_id]":"null",page:e,limit:5},{data:o}=await SC.get("/community-comment",{params:n});var r,s;bC.isEmpty(o)?_.value=!1:(null!=o&&null!==(r=o.meta)&&void 0!==r&&r.hasNextPage?(x.value++,_.value=!0):_.value=!1,w.value=t?[...w.value,...null!==(s=null==o?void 0:o.data)&&void 0!==s?s:[]]:null==o?void 0:o.data)},N=async e=>{var t;null!==(t=g.value)&&void 0!==t&&t.disabled_comment&&!E||O(x.value,!0),setTimeout((()=>e.target.complete()),500)};return to((()=>{var e;M(),null!==(e=g.value)&&void 0!==e&&e.disabled_comment&&!E||O(1,!1),x.value=1,_.value=!1})),(e,t)=>{const i=po("ckeditor");return $r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>{var e,t,i,n,o;return[Wr("div",xfe,[Yr(Di(ex),{onClick:A,icon:Di(CT),class:"size-6 p-2"},null,8,["icon"]),(null===(e=g.value)||void 0===e?void 0:e.type)===Di(z3).Community?($r(),jr("img",{key:0,src:null!==(t=null===(i=Di(f))||void 0===i?void 0:i.icon)&&void 0!==t?t:"/favicon.ico",class:"size-8 rounded-lg",placeholder:"https://via.placeholder.com/100x100/ddd/ddd"},null,8,_fe)):Jr("",!0),(null===(n=g.value)||void 0===n?void 0:n.type)===Di(z3).Community?($r(),jr("span",Efe,Ze(null===(o=Di(f))||void 0===o?void 0:o.name),1)):Jr("",!0)])]})),_:1})])),_:1}),Yr(Di(Kk),null,{default:pn((()=>{var e,t,i,n,o;return[($r(),Vr(k6,{key:null===(e=g.value)||void 0===e?void 0:e._id,"is-a-page":!0,onOptionPress:R,post:g.value,"comment-count":null!==(t=null==v?void 0:v.comment)&&void 0!==t?t:0},null,8,["post","comment-count"])),E.value&&null!==(i=g.value)&&void 0!==i&&i.disabled_comment?($r(),jr("div",Cfe," Đã ẩn bình luận bài viết này! ")):Jr("",!0),E.value||null===(n=g.value)||void 0===n||!n.disabled_comment?($r(!0),jr(Dr,{key:1},vo(w.value,(e=>($r(),jr("section",{class:"px-4",key:e._id},[Yr(wfe,{comments:e,onReply:I,onCommentPress:L},null,8,["comments"])])))),128)):($r(),jr("div",Afe," Đã ẩn bình luận bài viết này! ")),!_.value||!E.value&&null!==(o=g.value)&&void 0!==o&&o.disabled_comment?Jr("",!0):($r(),Vr(Di(Zk),{key:3,onIonInfinite:N,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1}))]})),_:1}),Yr(Di(Xk),{mode:"md"},{default:pn((()=>{var e;return[E.value||null===(e=g.value)||void 0===e||!e.disabled_comment?($r(),jr(Dr,{key:0},[C.value?($r(),Vr(Di(_w),{key:1,color:"white",class:"px-4"},{default:pn((()=>[Wr("div",Ofe,[Yr(Di(ex),{icon:Di(RT),class:"size-5 text-gray2"},null,8,["icon"]),t[2]||(t[2]=Wr("span",{class:"text-sm text-gray2"},"Quản trị viên tạm thời tắt bình luận của bạn",-1))])])),_:1})):($r(),jr(Dr,{key:0},[Di(m)?Jr("",!0):($r(),Vr(Di(_w),{key:0,color:"white",class:"px-4 py-2"},{default:pn((()=>{var e,n,o;return[Di(bC.isEmpty)(y.value)?Jr("",!0):($r(),jr("section",Tfe,[Wr("div",Sfe,[Wr("div",Ife,[Xr(Ze(null===(e=y.value.creator)||void 0===e?void 0:e.full_name)+" ",1),Wr("div",{class:"text-sm text-gray2 font-light pt-1 line-clamp-1",innerHTML:y.value.content},null,8,Pfe)])]),Yr(Di(ex),{onClick:P,icon:Di(LT),class:"size-6 text-gray2"},null,8,["icon"])])),Wr("section",Dfe,[Wr("img",{src:null!==(n=null===(o=Di(d))||void 0===o?void 0:o.avatar)&&void 0!==n?n:"/upload-user.png",class:"size-9 rounded-full mb-0.5"},null,8,Rfe),Wr("div",Lfe,[Yr(i,{modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),editor:Di(WK),config:{plugins:T,removePlugins:["MediaEmbedToolbar"],placeholder:"Nhập bình luận",mention:S}},null,8,["modelValue","editor","config"])])]),Wr("div",Mfe,[t[1]||(t[1]=Wr("div",{class:"gap-1.5 flex"},null,-1)),Wr("div",null,[Wr("div",{onClick:D,class:We(["p-1 px-2 rounded-md text-sm",Di(bC.isEmpty)(b.value)?"text-gray2 bg-gray1":"bg-blue1 text-white"])}," Phản hồi ",2)])])]})),_:1}))],64))],64)):Jr("",!0)]})),_:1})])),_:1})}}}),$fe=fS(Nfe,[["__scopeId","data-v-e16c547c"]]),Ffe={class:"p-2"},Bfe={key:0},zfe={key:1},jfe={key:2},Vfe=jn({__name:"PopoverCreateCommunity",props:{code:{}},setup(e){const t=["10 khóa học miễn phí","10 sự kiện miễn phí","1.000 thành viên"],i=["Không giới hạn khóa học","Không giới hạn sự kiện","Không giới hạn thành viên","4.9% phí giao dịch","10 mức hoa hồng"],n=["Không giới hạn khóa học","Không giới hạn sự kiện","Không giới hạn thành viên","2.9% phí giao dịch","10 mức hoa hồng","Khóa học VIP","Landing page","Tên miền riêng","Expert Club"];return(e,o)=>($r(),Vr(Di(Kk),null,{default:pn((()=>[Wr("div",Ffe,["START"===e.code?($r(),jr("ul",Bfe,[($r(),jr(Dr,null,vo(t,((e,t)=>Wr("li",{key:t},Ze(e),1))),64))])):"PRO_MONTHLY"===e.code||"PRO_ANNUALY"===e.code?($r(),jr("ul",zfe,[($r(),jr(Dr,null,vo(i,((e,t)=>Wr("li",{key:t},Ze(e),1))),64))])):"VIP_MONTHLY"===e.code||"VIP_ANNUALY"===e.code?($r(),jr("ul",jfe,[($r(),jr(Dr,null,vo(n,((e,t)=>Wr("li",{key:t},Ze(e),1))),64))])):Jr("",!0)])])),_:1}))}}),Ufe={class:"text-black"},Hfe=["onClick"],qfe={key:1,class:"flex-1 flex justify-center mt-[25%]"},Gfe=jn({__name:"ModalTopicDropdown",props:{selectedItem:{}},setup(e){const t=Ti([]),i=async e=>{const i={"filter[keyword]":null!=e?e:"",limit:8},{data:n}=await qE.get("/topic",{params:i});var o;bC.isEmpty(n)||(t.value=null!==(o=null==n?void 0:n.data)&&void 0!==o?o:[])};io((()=>{i("")}));const n=Ti(""),o=()=>{i(n.value)};return(e,i)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white1"},{default:pn((()=>[Wr("form",{onSubmit:Ta(o,["prevent"])},[mn(Wr("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>n.value=e),class:"w-full px-3.5 py-2 border-gray3 text-black bg-white border-[1.5px] rounded-lg",placeholder:"Tìm kiếm"},null,512),[[fa,n.value]])],32),i[1]||(i[1]=Wr("div",{class:"w-full h-[1.5px] bg-gray1 my-2.5"},null,-1)),Wr("section",Ufe,[Di(bC.isEmpty)(t.value)?($r(),jr("div",qfe,[Yr(Di(vw),{name:"crescent",color:"blue1",class:"size-8"})])):($r(!0),jr(Dr,{key:0},vo(t.value,((t,i)=>{var n;return $r(),jr("div",{onClick:e=>(e=>{ax.dismiss(e,"confirm")})(t),key:i,class:We(["py-2 my-1 text-base font-normal px-3 rounded-lg",{"bg-blue1-tint1":t.id===(null===(n=e.selectedItem)||void 0===n?void 0:n.id)}])},Ze(null==t?void 0:t.title),11,Hfe)})),128))])])),_:1}))}});var Wfe={exports:{}};
/*! @preserve
             * numeral.js
             * version : 2.0.6
             * author : Adam Draper
             * license : MIT
             * http://adamwdraper.github.com/Numeral-js/
             */!function(e){!function(t,i){e.exports?e.exports=i():t.numeral=i()}(hx,(function(){var e,t,i,n,o,r={},s={},a={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:a.currentLocale,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat,scalePercentBy100:a.scalePercentBy100};function c(e,t){this._input=e,this._value=t}return e=function(i){var n,o,s,a;if(e.isNumeral(i))n=i.value();else if(0===i||void 0===i)n=0;else if(null===i||t.isNaN(i))n=null;else if("string"==typeof i)if(l.zeroFormat&&i===l.zeroFormat)n=0;else if(l.nullFormat&&i===l.nullFormat||!i.replace(/[^0-9]+/g,"").length)n=null;else{for(o in r)if((a="function"==typeof r[o].regexps.unformat?r[o].regexps.unformat():r[o].regexps.unformat)&&i.match(a)){s=r[o].unformat;break}n=(s=s||e._.stringToNumber)(i)}else n=Number(i)||null;return new c(i,n)},e.version="2.0.6",e.isNumeral=function(e){return e instanceof c},e._=t={numberToFormat:function(t,i,n){var o,r,a,l,c,d,u,h,p=s[e.options.currentLocale],m=!1,f=!1,g="",b=1e12,v=1e9,y=1e6,k="",w=!1;if(t=t||0,a=Math.abs(t),e._.includes(i,"(")?(m=!0,i=i.replace(/[\(|\)]/g,"")):(e._.includes(i,"+")||e._.includes(i,"-"))&&(d=e._.includes(i,"+")?i.indexOf("+"):t<0?i.indexOf("-"):-1,i=i.replace(/[\+|\-]/g,"")),e._.includes(i,"a")&&(r=!!(r=i.match(/a(k|m|b|t)?/))&&r[1],e._.includes(i," a")&&(g=" "),i=i.replace(new RegExp(g+"a[kmbt]?"),""),a>=b&&!r||"t"===r?(g+=p.abbreviations.trillion,t/=b):a<b&&a>=v&&!r||"b"===r?(g+=p.abbreviations.billion,t/=v):a<v&&a>=y&&!r||"m"===r?(g+=p.abbreviations.million,t/=y):(a<y&&a>=1e3&&!r||"k"===r)&&(g+=p.abbreviations.thousand,t/=1e3)),e._.includes(i,"[.]")&&(f=!0,i=i.replace("[.]",".")),l=t.toString().split(".")[0],c=i.split(".")[1],u=i.indexOf(","),o=(i.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(e._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),k=e._.toFixed(t,c[0].length+c[1].length,n,c[1].length)):k=e._.toFixed(t,c.length,n),l=k.split(".")[0],k=e._.includes(k,".")?p.delimiters.decimal+k.split(".")[1]:"",f&&0===Number(k.slice(1))&&(k="")):l=e._.toFixed(t,0,n),g&&!r&&Number(l)>=1e3&&g!==p.abbreviations.trillion)switch(l=String(Number(l)/1e3),g){case p.abbreviations.thousand:g=p.abbreviations.million;break;case p.abbreviations.million:g=p.abbreviations.billion;break;case p.abbreviations.billion:g=p.abbreviations.trillion}if(e._.includes(l,"-")&&(l=l.slice(1),w=!0),l.length<o)for(var x=o-l.length;x>0;x--)l="0"+l;return u>-1&&(l=l.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===i.indexOf(".")&&(l=""),h=l+k+(g||""),m?h=(m&&w?"(":"")+h+(m&&w?")":""):d>=0?h=0===d?(w?"-":"+")+h:h+(w?"-":"+"):w&&(h="-"+h),h},stringToNumber:function(e){var t,i,n,o=s[l.currentLocale],r=e,a={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&e===l.zeroFormat)i=0;else if(l.nullFormat&&e===l.nullFormat||!e.replace(/[^0-9]+/g,"").length)i=null;else{for(t in i=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,".")),a)if(n=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),r.match(n)){i*=Math.pow(10,a[t]);break}i*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),i*=Number(e)}return i},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,i){return e.slice(0,i)+t+e.slice(i)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var i,n=Object(e),o=n.length>>>0,r=0;if(3===arguments.length)i=arguments[2];else{for(;r<o&&!(r in n);)r++;if(r>=o)throw new TypeError("Reduce of empty array with no initial value");i=n[r++]}for(;r<o;r++)r in n&&(i=t(i,n[r],r,n));return i},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(e,i){var n=t.multiplier(i);return e>n?e:n}),1)},toFixed:function(e,t,i,n){var o,r,s,a,l=e.toString().split("."),c=t-(n||0);return o=2===l.length?Math.min(Math.max(l[1].length,c),t):c,s=Math.pow(10,o),a=(i(e+"e+"+o)/s).toFixed(o),n>t-o&&(r=new RegExp("\\.?0{1,"+(n-(t-o))+"}$"),a=a.replace(r,"")),a}},e.options=l,e.formats=r,e.locales=s,e.locale=function(e){return e&&(l.currentLocale=e.toLowerCase()),l.currentLocale},e.localeData=function(e){if(!e)return s[l.currentLocale];if(e=e.toLowerCase(),!s[e])throw new Error("Unknown locale : "+e);return s[e]},e.reset=function(){for(var e in a)l[e]=a[e]},e.zeroFormat=function(e){l.zeroFormat="string"==typeof e?e:null},e.nullFormat=function(e){l.nullFormat="string"==typeof e?e:null},e.defaultFormat=function(e){l.defaultFormat="string"==typeof e?e:"0.0"},e.register=function(e,t,i){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=i,i},e.validate=function(t,i){var n,o,r,s,a,l,c,d;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=e.localeData(i)}catch(f1){c=e.localeData(e.locale())}return r=c.currency.symbol,a=c.abbreviations,n=c.delimiters.decimal,o="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(d=t.match(/^[^\d]+/))||(t=t.substr(1),d[0]===r))&&((null===(d=t.match(/[^\d]+$/))||(t=t.slice(0,-1),d[0]===a.thousand||d[0]===a.million||d[0]===a.billion||d[0]===a.trillion))&&(l=new RegExp(o+"{2}"),!t.match(/[^\d.,]/g)&&(!((s=t.split(n)).length>2)&&(s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/)))))},e.fn=c.prototype={clone:function(){return e(this)},format:function(t,i){var n,o,s,a=this._value,c=t||l.defaultFormat;if(i=i||Math.round,0===a&&null!==l.zeroFormat)o=l.zeroFormat;else if(null===a&&null!==l.nullFormat)o=l.nullFormat;else{for(n in r)if(c.match(r[n].regexps.format)){s=r[n].format;break}o=(s=s||e._.numberToFormat)(a,c,i)}return o},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var i=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([this._value,e],(function(e,t,n,o){return e+Math.round(i*t)}),0)/i,this},subtract:function(e){var i=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([e],(function(e,t,n,o){return e-Math.round(i*t)}),Math.round(this._value*i))/i,this},multiply:function(e){return this._value=t.reduce([this._value,e],(function(e,i,n,o){var r=t.correctionFactor(e,i);return Math.round(e*r)*Math.round(i*r)/Math.round(r*r)}),1),this},divide:function(e){return this._value=t.reduce([this._value,e],(function(e,i,n,o){var r=t.correctionFactor(e,i);return Math.round(e*r)/Math.round(i*r)})),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,i,n){var o,r=e._.includes(i," BPS")?" ":"";return t*=1e4,i=i.replace(/\s?BPS/,""),o=e._.numberToFormat(t,i,n),e._.includes(o,")")?((o=o.split("")).splice(-1,0,r+"BPS"),o=o.join("")):o=o+r+"BPS",o},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},o="("+(o=(i={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(n.suffixes.filter((function(e){return i.suffixes.indexOf(e)<0}))).join("|")).replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(o)},format:function(t,o,r){var s,a,l,c=e._.includes(o,"ib")?n:i,d=e._.includes(o," b")||e._.includes(o," ib")?" ":"";for(o=o.replace(/\s?i?b/,""),s=0;s<=c.suffixes.length;s++)if(a=Math.pow(c.base,s),l=Math.pow(c.base,s+1),null===t||0===t||t>=a&&t<l){d+=c.suffixes[s],a>0&&(t/=a);break}return e._.numberToFormat(t,o,r)+d},unformat:function(t){var o,r,s=e._.stringToNumber(t);if(s){for(o=i.suffixes.length-1;o>=0;o--){if(e._.includes(t,i.suffixes[o])){r=Math.pow(i.base,o);break}if(e._.includes(t,n.suffixes[o])){r=Math.pow(n.base,o);break}}s*=r||1}return s}}),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,i,n){var o,r,s=e.locales[e.options.currentLocale],a={before:i.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:i.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(i=i.replace(/\s?\$\s?/,""),o=e._.numberToFormat(t,i,n),t>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(a.before,"-")&&!e._.includes(a.before,"(")&&(a.before="-"+a.before),r=0;r<a.before.length;r++)switch(a.before[r]){case"$":o=e._.insert(o,s.currency.symbol,r);break;case" ":o=e._.insert(o," ",r+s.currency.symbol.length-1)}for(r=a.after.length-1;r>=0;r--)switch(a.after[r]){case"$":o=r===a.after.length-1?o+s.currency.symbol:e._.insert(o,s.currency.symbol,-(a.after.length-(1+r)));break;case" ":o=r===a.after.length-1?o+" ":e._.insert(o," ",-(a.after.length-(1+r)+s.currency.symbol.length-1))}return o}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,i,n){var o=("number"!=typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return i=i.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(o[0]),i,n)+"e"+o[1]},unformat:function(t){var i=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),n=Number(i[0]),o=Number(i[1]);return o=e._.includes(t,"e-")?o*=-1:o,e._.reduce([n,Math.pow(10,o)],(function(t,i,n,o){var r=e._.correctionFactor(t,i);return t*r*(i*r)/(r*r)}),1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,i,n){var o=e.locales[e.options.currentLocale],r=e._.includes(i," o")?" ":"";return i=i.replace(/\s?o/,""),r+=o.ordinal(t),e._.numberToFormat(t,i,n)+r}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,i,n){var o,r=e._.includes(i," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),i=i.replace(/\s?\%/,""),o=e._.numberToFormat(t,i,n),e._.includes(o,")")?((o=o.split("")).splice(-1,0,r+"%"),o=o.join("")):o=o+r+"%",o},unformat:function(t){var i=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*i:i}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,i){var n=Math.floor(e/60/60),o=Math.floor((e-60*n*60)/60),r=Math.round(e-60*n*60-60*o);return n+":"+(o<10?"0"+o:o)+":"+(r<10?"0"+r:r)},unformat:function(e){var t=e.split(":"),i=0;return 3===t.length?(i+=60*Number(t[0])*60,i+=60*Number(t[1]),i+=Number(t[2])):2===t.length&&(i+=60*Number(t[0]),i+=Number(t[1])),Number(i)}}),e}))}(Wfe);const Yfe=px(Wfe.exports),Kfe={class:"ion-padding"},Qfe={class:"py-3.5 font-normal text-lg"},Xfe={class:"gap-y-4 flex flex-col"},Jfe={class:"flex justify-between"},Zfe={class:"flex justify-between"},ege={class:"flex justify-between"},tge={class:"flex justify-between"},ige={class:"flex font-medium text-lg justify-between py-4 mt-3.5 border-t-2"},nge=jn({__name:"ModalCreateCommunityPayment",props:{payload:{},package:{},community_id:{}},setup(e){const t=e,{loadingIAP:i,buyCreateCommunity:n}=gae("create-community",(()=>ax.dismiss())),o=()=>{var e,i,o,r,s,a,l,c;const d={total_amount:null!==(e=null===(i=t.package)||void 0===i?void 0:i.price)&&void 0!==e?e:0,period:null!==(o=null===(r=t.package)||void 0===r?void 0:r.duration)&&void 0!==o?o:3,package_name:null!==(s=null===(a=t.package)||void 0===a?void 0:a.packageName)&&void 0!==s?s:"PRO",unit_price:null!==(l=null===(c=t.package)||void 0===c?void 0:c.unit)&&void 0!==l?l:0,community_id:t.community_id};var u;Hc("ios")&&n(null===(u=t.package)||void 0===u?void 0:u.sku,d)},r=()=>ax.dismiss();return(e,t)=>{var n,s,a,l;return $r(),jr(Dr,null,[Wr("div",Kfe,[t[6]||(t[6]=Wr("h1",{class:"uppercase text-lg text-center font-medium"}," Nâng cấp cộng đồng ",-1)),Wr("div",Qfe,Ze(e.payload.name),1),Wr("section",Xfe,[Wr("div",Jfe,[t[0]||(t[0]=Wr("div",null,"Gói phần mềm",-1)),Wr("div",null,Ze(e.package.packageName),1)]),Wr("div",Zfe,[t[1]||(t[1]=Wr("div",null,"Thời hạn",-1)),Wr("div",null,Ze(null===(n=e.package)||void 0===n?void 0:n.duration)+" tháng",1)]),Wr("div",ege,[t[2]||(t[2]=Wr("div",null,"Đơn giá /tháng",-1)),Wr("div",null,Ze(Di(Yfe)(null===(s=e.package)||void 0===s?void 0:s.unit).format())+"đ",1)]),Wr("div",tge,[t[3]||(t[3]=Wr("div",null,"Tổng tiền",-1)),Wr("div",null,Ze(Di(Yfe)(null===(a=e.package)||void 0===a?void 0:a.price).format())+"đ",1)])]),Wr("section",ige,[t[4]||(t[4]=Wr("div",null,"Thanh toán",-1)),Wr("div",null,Ze(Di(Yfe)(null===(l=e.package)||void 0===l?void 0:l.price).format())+"đ",1)]),Wr("div",{onClick:o,class:"uppercase text-lg py-2 rounded-lg text-center mb-1 font-medium bg-blue1 text-white"}," Đăng ký ngay "),Wr("div",{onClick:r,class:"text-gray2 text-sm text-center w-fit px-3 py-1 mx-auto"},t[5]||(t[5]=[Wr("div",{class:""},"Huỷ",-1)]))]),Yr(dS,{"is-open":Di(i),"backdrop-opacity":.2},null,8,["is-open"])],64)}}}),oge={class:"mt-8"},rge={class:"mt-2 mx-2"},sge=["src"],age={class:"text-lg font-medium py-3"},lge={class:"bg-white rounded-lg shadow-st mt-2 mb-16 flex flex-col items-center ion-padding text-base"},cge={class:"w-full relative my-1 mt-8"},dge={slot:"label"},uge={class:"w-full relative mb-2"},hge={slot:"label"},pge={class:"w-full relative mb-4"},mge={slot:"label"},fge={slot:"end"},gge={key:0,class:"w-full"},bge=jn({__name:"CreateCommunityScreen",setup(e){const t=[{name:"Tỉ lệ tương tác cao",icon:"/images/ic_chart.png"},{name:"Khởi tạo đơn giản",icon:"/images/ic_simple.png"},{name:"Thú vị khi sử dụng",icon:"/images/ic_interesting.png"},{name:"Thu phí thành viên",icon:"/images/ic_feem.png"},{name:"1000+ users online mỗi ngày",icon:"/images/ic_earth.png"},{name:"Tích hợp affiliate 2 tầng",icon:"/images/ic_aff.png"},{name:"Hỗ trợ gắn tên miền riêng",icon:"/images/ic_domain.png"}],i=Rw(),n=Ti({}),o=Ti(!1),{userInfo:r}=mC(EC()),s=mi({communityName:"",username:"",pack_code_idx:0,isAcceptPrivacy:!1}),a=ks((()=>s.isAcceptPrivacy&&!bC.isEmpty(s.username)&&!bC.isEmpty(s.communityName)&&!bC.isEmpty(n.value))),l=()=>{i.back()},c=async(e,t)=>{if(e){const i=await ux.create({message:null!=e?e:"",duration:1500,position:"top",swipeGesture:"vertical",mode:"ios",cssClass:t});await i.present()}},d=async()=>{if(bC.isEmpty(s.communityName)?(c("Tên cộng đồng không được để trống !","warning"),0):s.username.length<4?(c("Username tối thiểu 4 kí tự !","warning"),0):/^[a-zA-Z0-9]+$/.test(s.username)||(c("Username hỗ trợ định dạng chữ cái và số !","warning"),0))try{const t={name:s.communityName,short_name:s.username,topic_id:n.value._id,package_code:aae[s.pack_code_idx].code,terms_of_service:s.isAcceptPrivacy},{data:o}=await SC.get(`/community/${t.short_name}`);if(bC.isEmpty(o)){const e={...t,package_code:"START"},{data:n,status:o}=await SC.post("/community",e);201===o&&("START"===t.package_code?(c("Tạo cộng đồng thành công!","success"),i.replace({name:"CommunityScreen",params:{id:n.short_name||n._id}},iT)):u(t,n._id))}else{var e;if("START"===t.package_code)c("Username đã tồn tại trên hệ thống!","warning");else o.owner_id===(null===(e=r.value)||void 0===e?void 0:e._id)?u(t,null==o?void 0:o._id):c("Username đã tồn tại trên hệ thống!","warning")}}catch(t){console.log("🌸  error 👉",t)}},u=async(e,t)=>{(await ax.create({component:nge,componentProps:{payload:e,package:aae[s.pack_code_idx],community_id:t},mode:"ios",cssClass:"modalNoTrans",backdropDismiss:!1})).present()},h=async()=>{if(!0===o.value)return;o.value=!0;const e=await ax.create({component:Gfe,initialBreakpoint:.5,mode:"ios",componentProps:{selectedItem:n.value}});e.onDidDismiss().then((()=>{o.value=!1})),e.present();const{data:t,role:i}=await e.onWillDismiss();"confirm"===i&&(n.value=t)},p=async()=>{await bS.open({url:"https://unica.expert/policy/terms.html"})};return(e,i)=>($r(),Vr(Di(Ow),{class:"bg-white1"},{default:pn((()=>[Yr(Di(Kk),{class:"ion-padding noscroll",color:"white1"},{default:pn((()=>{var e,o;return[Wr("div",oge,[Yr(Di(ex),{onClick:l,icon:Di(bT),class:"size-6"},null,8,["icon"])]),Wr("section",rge,[i[4]||(i[4]=Wr("div",{class:"items-center mb-6"},[Wr("img",{src:QE,class:"w-auto size-10"})],-1)),i[5]||(i[5]=Wr("div",{class:"text-xl font-medium mb-4"}," Mọi thứ bạn cần để xây dựng cộng đồng và kiếm tiền trực tuyến. ",-1)),($r(),jr(Dr,null,vo(t,((e,t)=>Wr("div",{key:t,class:"flex items-center gap-4"},[Wr("img",{src:e.icon,class:"size-7"},null,8,sge),Wr("div",age,Ze(e.name),1)]))),64))]),Wr("section",lge,[i[15]||(i[15]=Wr("div",{class:"text-2xl font-medium mt-5"},"Tạo cộng đồng của bạn",-1)),Wr("form",{class:"w-full",onSubmit:Ta(d,["prevent"])},[Wr("div",cge,[Yr(Di(tw),{modelValue:s.communityName,"onUpdate:modelValue":i[0]||(i[0]=e=>s.communityName=e),mode:"md",fill:"outline",required:"",placeholder:"Tên cộng đồng",class:"outline-none text-sm font-light",type:"text","label-placement":"floating",color:"blue1",counter:"",maxlength:30},{default:pn((()=>[Wr("div",dge,[i[7]||(i[7]=Xr(" Tên cộng đồng")),Yr(Di(kw),{color:"danger"},{default:pn((()=>i[6]||(i[6]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"])]),Wr("div",uge,[Yr(Di(tw),{modelValue:s.username,"onUpdate:modelValue":i[1]||(i[1]=e=>s.username=e),mode:"md",fill:"outline",required:"",placeholder:"Username (Tên người dùng)",class:"outline-none text-sm font-light",type:"text","label-placement":"floating",color:"blue1",counter:"",maxlength:30},{default:pn((()=>[Wr("div",hge,[i[9]||(i[9]=Xr(" Username (Tên người dùng) ")),Yr(Di(kw),{color:"danger"},{default:pn((()=>i[8]||(i[8]=[Xr("*")]))),_:1})])])),_:1},8,["modelValue"])]),Wr("div",pge,[Yr(Di(tw),{mode:"md",fill:"outline",required:"",placeholder:"Lĩnh vực",class:"select-none outline-none text-sm font-light",type:"text","label-placement":"floating",color:"blue1",value:null!==(e=null===(o=n.value)||void 0===o?void 0:o.title)&&void 0!==e?e:"Chọn lĩnh vực",readonly:"",onClick:h},{default:pn((()=>[Wr("div",mge,[i[11]||(i[11]=Xr(" Lĩnh vực ")),Yr(Di(kw),{color:"danger"},{default:pn((()=>i[10]||(i[10]=[Xr("*")]))),_:1})]),Wr("div",fge,[Yr(Di(ex),{icon:Di(ST)},null,8,["icon"])])])),_:1},8,["value"])]),Di(Hc)("ios")?($r(),jr("div",gge,[Yr(Di(lw),{modelValue:s.pack_code_idx,"onUpdate:modelValue":i[2]||(i[2]=e=>s.pack_code_idx=e)},{default:pn((()=>[($r(!0),jr(Dr,null,vo(Di(aae),((e,t)=>($r(),jr("div",{key:t,class:"py-2.5 flex items-center gap-1"},[Yr(Di(aw),{alignment:"start",mode:"md",value:t,"label-placement":"end",color:"blue1",justify:"start"},{default:pn((()=>[Yr(Di(ow),{class:"text-wrap text-base"},{default:pn((()=>[Xr(Ze(e.name),1)])),_:2},1024)])),_:2},1032,["value"]),Yr(Di(ex),{onClick:t=>(async(e,t)=>{const i=await lx.create({component:Vfe,componentProps:{code:t},event:e});await i.present()})(t,e.code),icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M220 220h32v116' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M208 340h88' class='ionicon-fill-none ionicon-stroke-width'/><path d='M248 130a26 26 0 1026 26 26 26 0 00-26-26z'/></svg>"),class:"size-5"},null,8,["onClick","icon"])])))),128))])),_:1},8,["modelValue"])])):Jr("",!0),Yr(Di(qk),{type:"submit",color:a.value?"blue1":"gray1",strong:"",disabled:!a.value,class:"mt-5 w-full text-base uppercase text-center shadow-st rounded-xl"},{default:pn((()=>i[12]||(i[12]=[Xr(" TIẾP TỤC ")]))),_:1},8,["color","disabled"]),Yr(Di(Wk),{modelValue:s.isAcceptPrivacy,"onUpdate:modelValue":i[3]||(i[3]=e=>s.isAcceptPrivacy=e),"label-placement":"end",mode:"md",class:"my-2 items-center",color:"blue1"},{default:pn((()=>[Wr("div",{class:"text-xs text-wrap"},[i[13]||(i[13]=Xr(" Tôi đồng ý với ")),Wr("span",{onClick:p,class:"font-semibold"},"điều khoản dịch vụ của"),i[14]||(i[14]=Xr(" Unica.expert "))])])),_:1},8,["modelValue"])],32)])]})),_:1})])),_:1}))}}),vge={class:"mt-8"},yge=["onClick"],kge={class:"text-base font-medium pb-1"},wge={class:"text-sm font-normal"},xge={key:0},_ge={class:"flex items-center shadow-st rounded-lg bg-white"},Ege={key:0,class:"my-4"},Cge=["onClick"],Age=["src"],Tge={class:"my-4"},Sge=jn({__name:"PaymentMethodSelectScreen",setup(e){const t=Rw(),i=Ti(tae[0].type),n=Ti(oae[0].id),o=()=>{t.back()},r=mi({cardNumber:"",expirationDate:"",cvc:""}),s=e=>{"deleteContentBackward"!=e.inputType&&[4,9,14].includes(e.target.value.length)&&(r.cardNumber+=" ")},a=e=>{"deleteContentBackward"!=e.inputType?(1===e.target.value.length&&Number(e.target.value)>1?r.expirationDate=`0${e.target.value} / `:2===e.target.value.length&&1==e.target.value[0]&&e.target.value[1]>2&&(r.expirationDate="01 / "),2===e.target.value.length&&(r.expirationDate+=" / "),3===e.target.value.length&&bC.isNumber(Number(e.target.value[2]))&&(r.expirationDate=`${e.target.value.slice(0,2)} / ${e.target.value[2]}`)):5!=e.target.value.length&&4!=e.target.value.length||(r.expirationDate=e.target.value.replace("/","").trim())};return(e,t)=>($r(),Vr(Di(Ow),{class:"bg-white1"},{default:pn((()=>[Yr(Di(Kk),{class:"ion-padding",color:"white1"},{default:pn((()=>[Wr("div",vge,[Yr(Di(ex),{onClick:o,icon:Di(bT),class:"size-6"},null,8,["icon"])]),Wr("section",null,[($r(!0),jr(Dr,null,vo(Di(tae),(e=>($r(),jr("div",{key:e.type},[Wr("div",{onClick:t=>{return n=e.type,void(i.value=n);var n},class:"flex gap-2 bg-white my-2 mb-4 shadow-st p-3.5 rounded-lg"},[Yr(Di(ex),{class:We(["size-7",e.type==i.value?"text-blue1":"text-gray2"]),icon:e.type===i.value?Di(JT):Di(XT)},null,8,["icon","class"]),Wr("div",{class:We(["flex-1",e.type==i.value?"text-black2":"text-gray2"])},[Wr("div",kge,Ze(e.title),1),Wr("p",wge,Ze(e.description),1)],2)],8,yge)])))),128))]),Wr("section",null,[t[3]||(t[3]=Wr("div",{class:"text-lg font-medium mb-4"},"Phương thức thanh toán",-1)),"auto"===i.value?($r(),jr("form",xge,[Wr("div",_ge,[mn(Wr("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.cardNumber=e),onInput:s,placeholder:"Số thẻ",pattern:"\\d*",class:"flex-1 py-4 px-4 rounded-s-lg",maxlength:19},null,544),[[fa,r.cardNumber]]),mn(Wr("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.expirationDate=e),onInput:a,placeholder:"MM / YY",pattern:"\\d*",class:"w-full py-4 text-start",maxlength:7},null,544),[[fa,r.expirationDate]]),t[2]||(t[2]=Wr("input",{placeholder:"CVC",pattern:"\\d*",class:"w-full py-4 rounded-e-lg text-center",maxlength:3},null,-1))])])):Jr("",!0)]),"manual"==i.value?($r(),jr("section",Ege,[($r(!0),jr(Dr,null,vo(Di(oae),((e,t)=>($r(),jr("div",{key:t},[Wr("div",{onClick:t=>{return i=e.id,void(n.value=i);var i},class:We(["border my-3 py-4 px-2 rounded-lg text-sm font-normal text-wrap flex items-center gap-2.5",n.value==e.id?"bg-white border border-blue1":" border-gray2"])},[Yr(Di(ex),{class:We(["size-7",n.value===e.id?"text-blue1":"text-gray2"]),icon:n.value===e.id?Di(JT):Di(XT)},null,8,["icon","class"]),Wr("img",{src:e.logoSrc,class:"h-6"},null,8,Age),Xr(" "+Ze(e.name),1)],10,Cge)])))),128))])):Jr("",!0),Wr("section",Tge,[t[5]||(t[5]=Wr("div",{class:"text-lg font-medium"},"Đơn hàng",-1)),t[6]||(t[6]=Wr("div",{class:"flex text-base font-normal justify-between mt-2 border-b-2 border-gray1 pb-3"},[Xr(" Gói 3 tháng: "),Wr("div",null,"599.000đ/tháng")],-1)),t[7]||(t[7]=Wr("div",{class:"flex justify-between mt-4 text-xl font-medium"},[Xr(" Tổng "),Wr("div",null,"1.798.000đ")],-1)),Yr(Di(qk),{type:"submit",color:"blue1",class:"mt-8 w-full text-sm uppercase text-center shadow-st rounded-xl"},{default:pn((()=>t[4]||(t[4]=[Xr(" Thanh toán ")]))),_:1})])])),_:1})])),_:1}))}}),Ige=fS(Sge,[["__scopeId","data-v-38579d14"]]),Pge=jn({__name:"TabCourseInfo",setup:e=>(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white1"},{default:pn((()=>t[0]||(t[0]=[Xr(" info ")]))),_:1}))}),Dge={slot:"start",class:"text-xl font-medium"},Rge={class:"mt-6"},Lge={class:"flex items-center gap-2"},Mge=jn({__name:"ModalNewLesson",props:{data:{}},setup(e){const t=()=>ax.dismiss(null,"cancel");return(e,i)=>($r(),jr(Dr,null,[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",Dge," Thêm bài học "+Ze("video"==e.data.type?"video":"văn bản"),1),Yr(Di(ex),{slot:"end",onClick:t,icon:Di(LT),class:"size-8 text-black"},null,8,["icon"])])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding"},{default:pn((()=>[Wr("section",null,[Yr(Di(tw),{mode:"md",fill:"outline",placeholder:"Tên khoá học",class:"outline-none text-sm font-light mb-2",label:"Tên khoá học",type:"text","label-placement":"floating",color:"blue1",counter:!0,maxlength:80}),Yr(Di(ww),{mode:"md",label:"Mô tả ngắn","label-placement":"floating",fill:"outline",placeholder:"Mô tả ngắn",rows:5,class:"outline-none text-sm font-light",counter:!0,maxlength:200}),"video"===e.data.type?($r(),Vr(Di(tw),{key:0,mode:"md",fill:"outline",placeholder:"https://...",class:"outline-none text-sm font-light mt-4",label:"Link youtube hoặc vimeo",type:"text","label-placement":"stacked",color:"blue1"})):Jr("",!0),"video"!==e.data.type?($r(),Vr(Di(ww),{key:1,mode:"md",label:"Văn bản","label-placement":"floating",fill:"outline",placeholder:"Văn bản",class:"outline-none text-sm font-light mt-2 min-h-28",rows:10})):Jr("",!0)]),Wr("section",Rge,[i[1]||(i[1]=Wr("div",{class:"text-sm font-normal mb-2.5"},"Tài liệu",-1)),Wr("div",Lge,[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-5"},null,8,["icon"]),i[0]||(i[0]=Wr("span",{class:"flex-1 text-sm break-words overflow-hidden text-nowrap text-ellipsis"}," Meeting aligment nhà bằng mọi giá ngoài 1234567.pdf ",-1)),Yr(Di(ex),{icon:Di(sS),class:"flex size-5 text-red-500"},null,8,["icon"])])]),i[2]||(i[2]=Wr("section",{class:"mt-10 flex items-center justify-between"},[Wr("div",{class:"p-2 text-gray2 border border-gray2 rounded-lg"}," Thêm tài liệu "),Wr("div",{class:"flex items-center uppercase"},[Wr("div",{class:"p-2"},"Đóng"),Wr("div",{class:"ml-3 p-2 bg-blue1 px-3.5 text-white rounded-lg"}," Lưu lại ")])],-1))])),_:1})],64))}}),Oge={section:"",class:"px-6 py-3 bg-white justify-center mt-1 rounded-md flex flex-col gap-4"},Nge=jn({__name:"ModalLessonType",props:{data:{}},setup(e){const t=e=>ax.dismiss(null,e);return(e,i)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white1","scroll-y":!1},{default:pn((()=>[Wr("section",Oge,[Wr("div",{onClick:i[0]||(i[0]=e=>t("video")),class:"flex items-center gap-3 text-base font-medium border-b pb-3"},[Yr(Di(ex),{icon:Di(KT),class:"size-7"},null,8,["icon"]),i[2]||(i[2]=Xr(" Video "))]),Wr("div",{onClick:i[1]||(i[1]=e=>t("document")),class:"flex items-center gap-3 text-base font-medium"},[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120M176 288h160M176 368h160' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-7"},null,8,["icon"]),i[3]||(i[3]=Xr(" Văn bản "))])])])),_:1}))}}),$ge={class:"bg-white ion-padding-horizontal pt-4 pb-6"},Fge={key:0,class:"flex items-center justify-between text-sm text-red-500"},Bge={class:"flex text-base items-stretch gap-2 font-medium justify-between px-4 py-2",slot:"header"},zge={class:"flex gap-2 items-stretch"},jge={class:"flex-1"},Vge={class:"flex"},Uge={slot:"content",class:"p-4 pt-0"},Hge={class:"my-3"},qge={key:0,class:"flex items-center justify-between text-sm text-red-500"},Gge={class:"flex items-stretch justify-between bg-white border border-gray2 p-2 py-3 my-2 rounded-lg gap-2"},Wge={class:"flex flex-1 items-stretch gap-2"},Yge={class:"flex-1 text-base font-light"},Kge={class:"flex items-baseline"},Qge=["onClick"],Xge={id:"open-lesson-part",class:"flex items-center mt-3 w-fit bg-white p-2 rounded-lg text-sm font-medium gap-2 outline outline-1 outline-gray2"},Jge={class:"ion-padding bg-white rounded-lg flex flex-col"},Zge={class:"flex items-center justify-between text-lg font-medium"},ebe=jn({__name:"TabCourseContent",setup(e){const t=Ti(),i=Ti(!1),n=Ti(!1),o=Ti(""),r=Ti([{part_id:"p1",name:"Phần 1: Tổng quan về khoá học",lessons:[{id:1,name:"Bài 1: Giới thiệu chung về khoá học"},{id:2,name:"Bài 2: Giới thiệu chung về khoá học"},{id:3,name:"Bài 3: Giới thiệu chung về khoá học"}]},{part_id:"p2",name:"Phần 2: Tổng quan về khoá học",lessons:[{id:4,name:"Bài 1: Bắt đầu học"},{id:5,name:"Bài 2: Bắt đầu học"},{id:6,name:"Bài 3: Bắt đầu học"}]}]),s=Ti(),a=e=>{r.value=e.detail.complete(r.value)},l=()=>{s.value=null,i.value=!1},c=()=>{t.value.$el.dismiss(null,"cancel")},d=()=>{o.value="",c()},u=async e=>{const t=await dx.create({mode:"ios",buttons:[{text:"Chỉnh sửa"},{text:"Di chuyển",handler:()=>(e=>{s.value=e,i.value=!0})(e)},{text:"Xoá",role:"destructive"},{text:"Huỷ",role:"cancel"}],translucent:!0});await t.present();const n=await t.onWillDismiss();console.log("x :",n)},h=async()=>{const e=await dx.create({mode:"ios",buttons:[{text:"Chỉnh sửa"},{text:"Di chuyển",handler:()=>n.value=!0},{text:"Xoá",role:"destructive"},{text:"Huỷ",role:"cancel"}],translucent:!0});await e.present();const t=await e.onWillDismiss();console.log("🚀 ~ onOptionPartPress ~ x:",t)},p=()=>{console.log(r)},m=async e=>{(await ax.create({component:Mge,componentProps:{data:{type:e}},mode:"ios",cssClass:"bdr"})).present()};return(e,f)=>($r(),jr(Dr,null,[Yr(Di(Kk),{class:"ion-padding-vertical",color:"white1"},{default:pn((()=>[Wr("div",$ge,[Wr("section",null,[Wr("div",{class:"flex justify-between items-center mb-4 text-base font-medium"},[f[3]||(f[3]=Xr(" Thêm bài học ")),Wr("span",{onClick:p,class:"border border-gray2 p-1.5 rounded-lg text-sm font-medium"},"Xem trước")]),n.value?($r(),jr("section",Fge,[f[4]||(f[4]=Xr(" Di chuyển bài học để thay đổi thứ tự ")),Yr(Di(ex),{onClick:f[0]||(f[0]=e=>n.value=!1),icon:Di(_T),class:"size-6 text-blue1"},null,8,["icon"])])):Jr("",!0),Yr(Di(hw),{disabled:!n.value,onIonItemReorder:a},{default:pn((()=>[($r(!0),jr(Dr,null,vo(r.value,(e=>($r(),Vr(Di(Uk),{key:null==e?void 0:e.part_id,class:"mb-4 mt-3"},{default:pn((()=>[Yr(Di(Vk),{value:null==e?void 0:e.part_id,class:"border border-gray2 bg-white1 rounded-lg py-2"},{default:pn((()=>{var t,o;return[Wr("div",Bge,[Wr("div",zge,[Yr(Di(ex),{icon:Di(ST),class:"size-6"},null,8,["icon"]),Wr("div",jge,Ze(null==e?void 0:e.name),1)]),Wr("div",Vge,[n.value?Jr("",!0):($r(),Vr(Di(ex),{key:0,onClick:Ta(h,["stop"]),icon:Di($T),class:"size-6"},null,8,["icon"])),n.value?($r(),Vr(Di(uw),{key:1},{default:pn((()=>[Yr(Di(ex),{icon:Di(eS),class:"size-6 text-gray2"},null,8,["icon"])])),_:1})):Jr("",!0)])]),Wr("div",Uge,[Wr("section",Hge,[i.value&&(null===(t=s.value)||void 0===t?void 0:t.part_id)==(null==e?void 0:e.part_id)?($r(),jr("div",qge,[f[5]||(f[5]=Xr(" Di chuyển bài học để thay đổi thứ tự ")),Yr(Di(ex),{onClick:l,icon:Di(_T),class:"size-6 text-blue1"},null,8,["icon"])])):Jr("",!0),Yr(Di(hw),{disabled:!i.value&&(null===(o=s.value)||void 0===o?void 0:o.part_id)==(null==e?void 0:e.part_id),onIonItemReorder:f[1]||(f[1]=e=>(e=>{const t=r.value.map((t=>t.part_id==s.value.part_id?{...t,lessons:e.detail.complete(t.lessons)}:t));r.value=t})(e))},{default:pn((()=>[($r(!0),jr(Dr,null,vo(null==e?void 0:e.lessons,(t=>{var n,o;return $r(),jr("div",{key:t.id,class:"rounded-lg"},[Wr("div",Gge,[Wr("div",Wge,[Yr(Di(ex),{icon:Di(KT),class:"size-6 flex"},null,8,["icon"]),Wr("div",Yge,Ze(t.name),1)]),Wr("div",Kge,[Yr(Di(ex),{onClick:t=>u(e),icon:Di($T),class:We(["size-6 text-gray2",i.value&&(null===(n=s.value)||void 0===n?void 0:n.part_id)==(null==e?void 0:e.part_id)&&"hidden"])},null,8,["onClick","icon","class"]),i.value&&(null===(o=s.value)||void 0===o?void 0:o.part_id)==(null==e?void 0:e.part_id)?($r(),Vr(Di(uw),{key:0,slot:"end"},{default:pn((()=>[Yr(Di(ex),{icon:Di(eS),class:"size-6 text-gray2"},null,8,["icon"])])),_:1})):Jr("",!0)])])])})),128))])),_:2},1032,["disabled"])]),Wr("button",{onClick:t=>(async e=>{const t=await ax.create({component:Nge,componentProps:{data:{part_id:e}},mode:"ios",initialBreakpoint:.2,cssClass:"bdr"});t.present();const{role:i}=await t.onDidDismiss();["video","document"].includes(i)&&m(i)})(null==e?void 0:e.part_id),class:"flex items-center w-fit bg-white p-2 rounded-lg text-sm font-medium gap-2 outline outline-1 outline-gray2"},[Yr(Di(ex),{icon:Di(fT),class:"size-5 text-blue1"},null,8,["icon"]),f[6]||(f[6]=Xr(" Bài học "))],8,Qge)])]})),_:2},1032,["value"])])),_:2},1024)))),128))])),_:1},8,["disabled"]),Wr("button",Xge,[Yr(Di(ex),{icon:Di(fT),class:"size-5 text-blue1"},null,8,["icon"]),f[7]||(f[7]=Xr(" Phần học "))])])])])),_:1}),Yr(Di(rx),{ref_key:"refModalAddPart",ref:t,trigger:"open-lesson-part",id:"add-lesson-part"},{default:pn((()=>[Wr("template",Jge,[Wr("div",Zge,[f[8]||(f[8]=Xr(" Thêm phần học ")),Yr(Di(ex),{onClick:c,icon:Di(LT),class:"size-7"},null,8,["icon"])]),Yr(Di(tw),{modelValue:o.value,"onUpdate:modelValue":f[2]||(f[2]=e=>o.value=e),mode:"md",fill:"outline",placeholder:"Tên phần học",class:"outline-none text-base font-light mb-2 mt-4",label:"Tên phần học",type:"text","label-placement":"stacked",color:"blue1",counter:!0,maxlength:80},null,8,["modelValue"]),Wr("div",{class:"flex items-center justify-end gap-3 uppercase"},[Wr("div",{onClick:c,class:"text-base font-medium"},"Đóng"),Wr("div",{onClick:d,class:"text-sm font-medium bg-blue1 p-2 px-3 rounded-lg text-white"}," Lưu lại ")])])])),_:1},512)],64))}}),tbe=jn({__name:"CourseEditInfomationScreen",setup(e){const t=Rw(),i=mi([{key:"info",title:"Thông tin"},{key:"content",title:"Danh sách bài học"}]),n=Ti(i[0].key),o=()=>t.back(),r=e=>{n.value=e};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Yr(Di(ex),{slot:"start",onClick:o,icon:Di(CT),class:"size-6 p-2"},null,8,["icon"]),t[0]||(t[0]=Wr("div",{class:"text-lg mr-4 font-medium text-ellipsis flex-1 overflow-hidden break-words text-nowrap"}," Bán hàng đỉnh cao ",-1))])),_:1})])),_:1}),Yr(tne,{routes:i,onChangeTab:r,"tab-key":n.value,slot:"start"},{scene:pn((()=>["info"===n.value?($r(),Vr(Di(Pge),{key:0})):Jr("",!0),"content"===n.value?($r(),Vr(Di(ebe),{key:1})):Jr("",!0)])),_:1},8,["routes","tab-key"])])),_:1}))}}),ibe=pC("course",(()=>{const{userCommunity:e}=mC(lT()),{community:t}=mC(oT()),i=Ti(),n=Ti();return{course:i,userCourse:n,setCourse:async e=>{i.value=e},setUserCourse:async e=>{n.value=e},checkAccessCourse:async()=>{if(lT().checkUserAdminCommunity(t.value,e.value))return"";if(i.value&&i.value.status===eae.Publish){var o;if(!bC.isEmpty(null===(o=n.value)||void 0===o?void 0:o.expired_at)){var r;if(new Date(null===(r=n.value)||void 0===r?void 0:r.expired_at)<=new Date)return"Khóa học của bạn đã hết hạn"}let t=!1;if(bC.isEmpty(n.value))return"Bạn chưa được gắn khóa học này";if(bC.isEmpty(n.value)||(i.value.type!==Zse&&n.value.paid||i.value.type===Xse&&n.value.is_attached)&&(t=!0),!bC.isEmpty(n.value)){var s,a,l;const o=i.value.level_point||0,r=(null===(s=e.value)||void 0===s?void 0:s.point)||0;let c=!1;if(i.value.type!==Zse&&r<o&&!t)return"Bạn chưa đủ cấp để học";if(c=!0,!((null===(a=i.value)||void 0===a?void 0:a.type)!=Jse||null!==(l=n.value)&&void 0!==l&&l.paid||c))return"Bạn cần mua khóa học để truy cập"}}return""},checkUserCourseExpired:(e,t)=>{if(bC.isEmpty(e)||bC.isEmpty(t))return!1;if(bC.isEmpty(null==t?void 0:t.expired_at))return!0;const i=new Date(null==t?void 0:t.expired_at),n=new Date;return(e.status==eae.Publish||e.status==eae.StopSelling)&&i>n},checkUserCourse:()=>{var e,t;return!(bC.isEmpty(i.value)||(null===(e=i.value)||void 0===e?void 0:e.status)!=eae.Publish&&(null===(t=i.value)||void 0===t?void 0:t.status)!=eae.StopSelling||bC.isEmpty(n.value))},checkLevelUserCommunitySatisfy:(e,t)=>!bC.isEmpty(e)&&!bC.isEmpty(t)&&(!bC.isEmpty(e)&&!bC.isUndefined(t)&&!bC.isUndefined(e.level)&&(e.status==eae.Publish||e.status==eae.StopSelling)&&t.point>=e.level),checkUserCoursePaid:(e,t)=>!bC.isEmpty(e)&&!bC.isEmpty(t)&&(!bC.isEmpty(e)&&(e.status==eae.Publish||e.status==eae.StopSelling)&&e.type==Jse&&t.paid)}}));function nbe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var obe={exports:{}};!function(e){var t,i,n,o,r;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,r={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var o=r.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");return o.path=r.normalizePath(o.path),r.buildURLFromParts(o)}var s=r.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return n.alwaysNormalize?(s.path=r.normalizePath(s.path),r.buildURLFromParts(s)):t;var a=r.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=i.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(c.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var d=a.path,u=d.substring(0,d.lastIndexOf("/")+1)+s.path;c.path=r.normalizePath(u)}else c.path=a.path,s.params||(c.params=a.params,s.query||(c.query=a.query));return null===c.path&&(c.path=n.alwaysNormalize?r.normalizePath(s.path):s.path),r.buildURLFromParts(c)},parseURL:function(e){var i=t.exec(e);return i?{scheme:i[1]||"",netLoc:i[2]||"",path:i[3]||"",params:i[4]||"",query:i[5]||"",fragment:i[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=r}(obe);var rbe=obe.exports;function sbe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function abe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?sbe(Object(i),!0).forEach((function(t){cbe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sbe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function lbe(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function cbe(e,t,i){return(t=lbe(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function dbe(){return dbe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dbe.apply(this,arguments)}const ube=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},hbe=Number.isSafeInteger||function(e){return"number"==typeof e&&Math.abs(e)<=pbe},pbe=Number.MAX_SAFE_INTEGER||9007199254740991;let mbe=function(e){return e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",e}({}),fbe=function(e){return e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError",e}({}),gbe=function(e){return e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",e.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",e.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_PARSING_ERROR="levelParsingError",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.FRAG_GAP="fragGap",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown",e}({});const bbe=function(){},vbe={trace:bbe,debug:bbe,log:bbe,warn:bbe,info:bbe,error:bbe};let ybe=vbe;function kbe(e,...t){t.forEach((function(t){ybe[t]=e[t]?e[t].bind(e):function(e){const t=self.console[e];return t?t.bind(self.console,`[${e}] >`):bbe}(t)}))}const wbe=ybe,xbe=/^(\d+)x(\d+)$/,_be=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Ebe{constructor(e){"string"==typeof e&&(e=Ebe.parseAttrList(e)),dbe(this,e)}get clientAttrs(){return Object.keys(this).filter((e=>"X-"===e.substring(0,2)))}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;const i=new Uint8Array(t.length/2);for(let e=0;e<t.length/2;e++)i[e]=parseInt(t.slice(2*e,2*e+2),16);return i}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const i=this[e];return i?parseFloat(i):t}enumeratedString(e){return this[e]}bool(e){return"YES"===this[e]}decimalResolution(e){const t=xbe.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e){let t;const i={};for(_be.lastIndex=0;null!==(t=_be.exec(e));){let e=t[2];0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1&&(e=e.slice(1,-1));i[t[1].trim()]=e}return i}}function Cbe(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}class Abe{constructor(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){const i=t.attr;for(const t in i)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==i[t]){wbe.warn(`DATERANGE tag attribute: "${t}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=t;break}e=dbe(new Ebe({}),i,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const e=new Date(this.attr["END-DATE"]);ube(e.getTime())&&(this._endDate=e)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(ube(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&ube(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Tbe{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Sbe="audio",Ibe="video",Pbe="audiovideo";class Dbe{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Sbe]:null,[Ibe]:null,[Pbe]:null},this.baseurl=e}setByteRange(e,t){const i=e.split("@",2);let n;n=1===i.length?(null==t?void 0:t.byteRangeEndOffset)||0:parseInt(i[1]),this._byteRange=[n,parseInt(i[0])+n]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=rbe.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class Rbe extends Dbe{constructor(e,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Tbe,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const e=Object.keys(this.levelkeys);if(1===e.length)return this._decryptdata=this.levelkeys[e[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;if(!ube(this.programDateTime))return null;const e=ube(this.duration)?this.duration:0;return this.programDateTime+1e3*e}get encrypted(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),t=e.length;if(t>1||1===t&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()}setElementaryStreamInfo(e,t,i,n,o,r=!1){const{elementaryStreams:s}=this,a=s[e];a?(a.startPTS=Math.min(a.startPTS,t),a.endPTS=Math.max(a.endPTS,i),a.startDTS=Math.min(a.startDTS,n),a.endDTS=Math.max(a.endDTS,o)):s[e]={startPTS:t,endPTS:i,startDTS:n,endDTS:o,partial:r}}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Sbe]=null,e[Ibe]=null,e[Pbe]=null}}class Lbe extends Dbe{constructor(e,t,i,n,o){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Tbe,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=n;const r=e.enumeratedString("BYTERANGE");r&&this.setByteRange(r,o),o&&(this.fragOffset=o.fragOffset+o.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}class Mbe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e)return this.advanced=!0,void(this.updated=!0);const t=this.lastPartSn-e.lastPartSn,i=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!i||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||0===t&&i>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&ube(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const e=this.driftEndTime-this.driftStartTime;if(e>0){return 1e3*(this.driftEnd-this.driftStart)/e}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Obe(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}function Nbe(e){const t=e.split(":");let i=null;if("data"===t[0]&&2===t.length){const e=t[1].split(";"),n=e[e.length-1].split(",");if(2===n.length){const t="base64"===n[0],o=n[1];t?(e.splice(-1,1),i=Obe(o)):i=function(e){const t=$be(e).subarray(0,16),i=new Uint8Array(16);return i.set(t,16-t.length),i}(o)}}return i}function $be(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(e=>e.charCodeAt(0)))}const Fbe="undefined"!=typeof self?self:void 0;var Bbe={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},zbe="org.w3.clearkey",jbe="com.apple.streamingkeydelivery",Vbe="com.microsoft.playready",Ube="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Hbe(e){switch(e){case jbe:return Bbe.FAIRPLAY;case Vbe:return Bbe.PLAYREADY;case Ube:return Bbe.WIDEVINE;case zbe:return Bbe.CLEARKEY}}var qbe="1077efecc0b24d02ace33c1e52e2fb4b",Gbe="e2719d58a985b3c9781ab030af78d30e",Wbe="9a04f07998404286ab92e65be0885f95",Ybe="edef8ba979d64acea3c827dcd51d21ed";function Kbe(e){return e===Ybe?Bbe.WIDEVINE:e===Wbe?Bbe.PLAYREADY:e===qbe||e===Gbe?Bbe.CLEARKEY:void 0}function Qbe(e){switch(e){case Bbe.FAIRPLAY:return jbe;case Bbe.PLAYREADY:return Vbe;case Bbe.WIDEVINE:return Ube;case Bbe.CLEARKEY:return zbe}}function Xbe(e){const{drmSystems:t,widevineLicenseUrl:i}=e,n=t?[Bbe.FAIRPLAY,Bbe.WIDEVINE,Bbe.PLAYREADY,Bbe.CLEARKEY].filter((e=>!!t[e])):[];return!n[Bbe.WIDEVINE]&&i&&n.push(Bbe.WIDEVINE),n}const Jbe=null!=Fbe&&null!=(Zbe=Fbe.navigator)&&Zbe.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var Zbe;function eve(e,t,i){return Uint8Array.prototype.slice?e.slice(t,i):new Uint8Array(Array.prototype.slice.call(e,t,i))}const tve=(e,t)=>t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128,ive=(e,t)=>t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128,nve=(e,t)=>{const i=t;let n=0;for(;tve(e,t);){n+=10;n+=ove(e,t+6),ive(e,t+10)&&(n+=10),t+=n}if(n>0)return e.subarray(i,i+n)},ove=(e,t)=>{let i=0;return i=(127&e[t])<<21,i|=(127&e[t+1])<<14,i|=(127&e[t+2])<<7,i|=127&e[t+3],i},rve=(e,t)=>tve(e,t)&&ove(e,t+6)+10<=e.length-t,sve=e=>{const t=cve(e);for(let i=0;i<t.length;i++){const e=t[i];if(ave(e))return mve(e)}},ave=e=>e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info,lve=e=>{const t=String.fromCharCode(e[0],e[1],e[2],e[3]),i=ove(e,4);return{type:t,size:i,data:e.subarray(10,10+i)}},cve=e=>{let t=0;const i=[];for(;tve(e,t);){const n=ove(e,t+6);t+=10;const o=t+n;for(;t+8<o;){const n=lve(e.subarray(t)),o=dve(n);o&&i.push(o),t+=n.size+10}ive(e,t)&&(t+=10)}return i},dve=e=>"PRIV"===e.type?uve(e):"W"===e.type[0]?pve(e):hve(e),uve=e=>{if(e.size<2)return;const t=fve(e.data,!0),i=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:i.buffer}},hve=e=>{if(e.size<2)return;if("TXXX"===e.type){let t=1;const i=fve(e.data.subarray(t),!0);t+=i.length+1;const n=fve(e.data.subarray(t));return{key:e.type,info:i,data:n}}const t=fve(e.data.subarray(1));return{key:e.type,data:t}},pve=e=>{if("WXXX"===e.type){if(e.size<2)return;let t=1;const i=fve(e.data.subarray(t),!0);t+=i.length+1;const n=fve(e.data.subarray(t));return{key:e.type,info:i,data:n}}const t=fve(e.data);return{key:e.type,data:t}},mve=e=>{if(8===e.data.byteLength){const t=new Uint8Array(e.data),i=1&t[3];let n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,i&&(n+=47721858.84),Math.round(n)}},fve=(e,t=!1)=>{const i=bve();if(i){const n=i.decode(e);if(t){const e=n.indexOf("\0");return-1!==e?n.substring(0,e):n}return n.replace(/\0/g,"")}const n=e.length;let o,r,s,a="",l=0;for(;l<n;){if(o=e[l++],0===o&&t)return a;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(o);break;case 12:case 13:r=e[l++],a+=String.fromCharCode((31&o)<<6|63&r);break;case 14:r=e[l++],s=e[l++],a+=String.fromCharCode((15&o)<<12|(63&r)<<6|63&s)}}return a};let gve;function bve(){if(!navigator.userAgent.includes("PlayStation 4"))return gve||void 0===self.TextDecoder||(gve=new self.TextDecoder("utf-8")),gve}const vve=function(e){let t="";for(let i=0;i<e.length;i++){let n=e[i].toString(16);n.length<2&&(n="0"+n),t+=n}return t},yve=Math.pow(2,32)-1,kve=[].push,wve={video:1,audio:2,id3:3,text:4};function xve(e){return String.fromCharCode.apply(null,e)}function _ve(e,t){const i=e[t]<<8|e[t+1];return i<0?65536+i:i}function Eve(e,t){const i=Ave(e,t);return i<0?4294967296+i:i}function Cve(e,t){let i=Eve(e,t);return i*=Math.pow(2,32),i+=Eve(e,t+4),i}function Ave(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function Tve(e,t,i){e[t]=i>>24,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i}function Sve(e,t){const i=[];if(!t.length)return i;const n=e.byteLength;for(let o=0;o<n;){const r=Eve(e,o),s=r>1?o+r:n;if(xve(e.subarray(o+4,o+8))===t[0])if(1===t.length)i.push(e.subarray(o+8,s));else{const n=Sve(e.subarray(o+8,s),t.slice(1));n.length&&kve.apply(i,n)}o=s}return i}function Ive(e){const t=[],i=e[0];let n=8;const o=Eve(e,n);n+=4;let r=0,s=0;0===i?(r=Eve(e,n),s=Eve(e,n+4),n+=8):(r=Cve(e,n),s=Cve(e,n+8),n+=16),n+=2;let a=e.length+s;const l=_ve(e,n);n+=2;for(let c=0;c<l;c++){let i=n;const r=Eve(e,i);i+=4;const s=2147483647&r;if(1===(2147483648&r)>>>31)return wbe.warn("SIDX has hierarchical references (not supported)"),null;const l=Eve(e,i);i+=4,t.push({referenceSize:s,subsegmentDuration:l,info:{duration:l/o,start:a,end:a+s-1}}),a+=s,i+=4,n=i}return{earliestPresentationTime:r,timescale:o,version:i,referencesCount:l,references:t}}function Pve(e){const t=[],i=Sve(e,["moov","trak"]);for(let n=0;n<i.length;n++){const e=i[n],o=Sve(e,["tkhd"])[0];if(o){let i=o[0];const n=Eve(o,0===i?12:20),r=Sve(e,["mdia","mdhd"])[0];if(r){i=r[0];const o=Eve(r,0===i?12:20),s=Sve(e,["mdia","hdlr"])[0];if(s){const i=xve(s.subarray(8,12)),r={soun:Sbe,vide:Ibe}[i];if(r){const i=Dve(Sve(e,["mdia","minf","stbl","stsd"])[0]);t[n]={timescale:o,type:r},t[r]=abe({timescale:o,id:n},i)}}}}}return Sve(e,["moov","mvex","trex"]).forEach((e=>{const i=Eve(e,4),n=t[i];n&&(n.default={duration:Eve(e,12),flags:Eve(e,20)})})),t}function Dve(e){const t=e.subarray(8),i=t.subarray(86),n=xve(t.subarray(4,8));let o=n;const r="enca"===n||"encv"===n;if(r){const e=Sve(t,[n])[0];Sve(e.subarray("enca"===n?28:78),["sinf"]).forEach((e=>{const t=Sve(e,["schm"])[0];if(t){const i=xve(t.subarray(4,8));if("cbcs"===i||"cenc"===i){const t=Sve(e,["frma"])[0];t&&(o=xve(t))}}}))}switch(o){case"avc1":case"avc2":case"avc3":case"avc4":{const e=Sve(i,["avcC"])[0];o+="."+Lve(e[1])+Lve(e[2])+Lve(e[3]);break}case"mp4a":{const e=Sve(t,[n])[0],i=Sve(e.subarray(28),["esds"])[0];if(i&&i.length>12){let e=4;if(3!==i[e++])break;e=Rve(i,e),e+=2;const t=i[e++];if(128&t&&(e+=2),64&t&&(e+=i[e++]),4!==i[e++])break;e=Rve(i,e);const n=i[e++];if(64!==n)break;if(o+="."+Lve(n),e+=12,5!==i[e++])break;e=Rve(i,e);const r=i[e++];let s=(248&r)>>3;31===s&&(s+=1+((7&r)<<3)+((224&i[e])>>5)),o+="."+s}break}case"hvc1":case"hev1":{const e=Sve(i,["hvcC"])[0],t=e[1],n=["","A","B","C"][t>>6],r=31&t,s=Eve(e,2),a=(32&t)>>5?"H":"L",l=e[12],c=e.subarray(6,12);o+="."+n+r,o+="."+s.toString(16).toUpperCase(),o+="."+a+l;let d="";for(let i=c.length;i--;){const e=c[i];if(e||d){d="."+e.toString(16).toUpperCase()+d}}o+=d;break}case"dvh1":case"dvhe":{const e=Sve(i,["dvcC"])[0],t=e[2]>>1&127,n=e[2]<<5&32|e[3]>>3&31;o+="."+Mve(t)+"."+Mve(n);break}case"vp09":{const e=Sve(i,["vpcC"])[0],t=e[4],n=e[5],r=e[6]>>4&15;o+="."+Mve(t)+"."+Mve(n)+"."+Mve(r);break}case"av01":{const e=Sve(i,["av1C"])[0],t=e[1]>>>5,n=31&e[1],r=e[2]>>>7?"H":"M",s=(64&e[2])>>6,a=(32&e[2])>>5,l=2===t&&s?a?12:10:s?10:8,c=(16&e[2])>>4,d=(8&e[2])>>3,u=(4&e[2])>>2,h=3&e[2],p=1,m=1,f=1,g=0;o+="."+t+"."+Mve(n)+r+"."+Mve(l)+"."+c+"."+d+u+h+"."+Mve(p)+"."+Mve(m)+"."+Mve(f)+"."+g;break}}return{codec:o,encrypted:r}}function Rve(e,t){const i=t+5;for(;128&e[t++]&&t<i;);return t}function Lve(e){return("0"+e.toString(16).toUpperCase()).slice(-2)}function Mve(e){return(e<10?"0":"")+e}function Ove(e){const t=Sve(e,["schm"])[0];if(t){const i=xve(t.subarray(4,8));if("cbcs"===i||"cenc"===i)return Sve(e,["schi","tenc"])[0]}return null}function Nve(e){const t=Eve(e,0);let i=8;1&t&&(i+=4),4&t&&(i+=4);let n=0;const o=Eve(e,4);for(let r=0;r<o;r++){if(256&t){n+=Eve(e,i),i+=4}512&t&&(i+=4),1024&t&&(i+=4),2048&t&&(i+=4)}return n}function $ve(e,t){const i=new Uint8Array(e.length+t.length);return i.set(e),i.set(t,e.length),i}function Fve(e,t){const i=[],n=t.samples,o=t.timescale,r=t.id;let s=!1;return Sve(n,["moof"]).map((a=>{const l=a.byteOffset-8;Sve(a,["traf"]).map((a=>{const c=Sve(a,["tfdt"]).map((e=>{const t=e[0];let i=Eve(e,4);return 1===t&&(i*=Math.pow(2,32),i+=Eve(e,8)),i/o}))[0];return void 0!==c&&(e=c),Sve(a,["tfhd"]).map((c=>{const d=Eve(c,4),u=16777215&Eve(c,0);let h=0;const p=!!(16&u);let m=0;const f=!!(32&u);let g=8;d===r&&(!!(1&u)&&(g+=8),!!(2&u)&&(g+=4),!!(8&u)&&(h=Eve(c,g),g+=4),p&&(m=Eve(c,g),g+=4),f&&(g+=4),"video"===t.type&&(s=function(e){if(!e)return!1;const t=e.indexOf("."),i=t<0?e:e.substring(0,t);return"hvc1"===i||"hev1"===i||"dvh1"===i||"dvhe"===i}(t.codec)),Sve(a,["trun"]).map((r=>{const a=r[0],c=16777215&Eve(r,0),d=!!(1&c);let u=0;const p=!!(4&c),f=!!(256&c);let g=0;const b=!!(512&c);let v=0;const y=!!(1024&c),k=!!(2048&c);let w=0;const x=Eve(r,4);let _=8;d&&(u=Eve(r,_),_+=4),p&&(_+=4);let E=u+l;for(let l=0;l<x;l++){if(f?(g=Eve(r,_),_+=4):g=h,b?(v=Eve(r,_),_+=4):v=m,y&&(_+=4),k&&(w=0===a?Eve(r,_):Ave(r,_),_+=4),t.type===Ibe){let t=0;for(;t<v;){const r=Eve(n,E);if(E+=4,Bve(s,n[E])){zve(n.subarray(E,E+r),s?2:1,e+w/o,i)}E+=r,t+=r+4}}e+=g/o}})))}))}))})),i}function Bve(e,t){if(e){const e=t>>1&63;return 39===e||40===e}return 6===(31&t)}function zve(e,t,i,n){const o=jve(e);let r=0;r+=t;let s=0,a=0,l=0;for(;r<o.length;){s=0;do{if(r>=o.length)break;l=o[r++],s+=l}while(255===l);a=0;do{if(r>=o.length)break;l=o[r++],a+=l}while(255===l);const e=o.length-r;let t=r;if(a<e)r+=a;else if(a>e){wbe.error(`Malformed SEI payload. ${a} is too small, only ${e} bytes left to parse.`);break}if(4===s){if(181===o[t++]){const e=_ve(o,t);if(t+=2,49===e){const e=Eve(o,t);if(t+=4,1195456820===e){const e=o[t++];if(3===e){const r=o[t++],a=64&r,l=a?2+3*(31&r):0,c=new Uint8Array(l);if(a){c[0]=r;for(let e=1;e<l;e++)c[e]=o[t++]}n.push({type:e,payloadType:s,pts:i,bytes:c})}}}}}else if(5===s&&a>16){const e=[];for(let i=0;i<16;i++){const n=o[t++].toString(16);e.push(1==n.length?"0"+n:n),3!==i&&5!==i&&7!==i&&9!==i||e.push("-")}const r=a-16,l=new Uint8Array(r);for(let i=0;i<r;i++)l[i]=o[t++];n.push({payloadType:s,pts:i,uuid:e.join(""),userData:fve(l),userDataBytes:l})}}}function jve(e){const t=e.byteLength,i=[];let n=1;for(;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return e;const o=t-i.length,r=new Uint8Array(o);let s=0;for(n=0;n<o;s++,n++)s===i[0]&&(s++,i.shift()),r[n]=e[s];return r}function Vve(e,t,i){if(16!==e.byteLength)throw new RangeError("Invalid system id");let n,o,r;n=0,o=new Uint8Array,r=new Uint8Array;const s=new Uint8Array(4);return i&&i.byteLength>0&&new DataView(s.buffer).setUint32(0,i.byteLength,!1),function(e,...t){const i=t.length;let n=8,o=i;for(;o--;)n+=t[o].byteLength;const r=new Uint8Array(n);for(r[0]=n>>24&255,r[1]=n>>16&255,r[2]=n>>8&255,r[3]=255&n,r.set(e,4),o=0,n=8;o<i;o++)r.set(t[o],n),n+=t[o].byteLength;return r}([112,115,115,104],new Uint8Array([0,0,0,0]),e,r,o,s,i||new Uint8Array)}function Uve(e){const t=e.getUint32(0),i=e.byteOffset,n=e.byteLength;if(n<t)return{offset:i,size:n};if(1886614376!==e.getUint32(4))return{offset:i,size:t};const o=e.getUint32(8)>>>24;if(0!==o&&1!==o)return{offset:i,size:t};const r=e.buffer,s=vve(new Uint8Array(r,i+12,16)),a=e.getUint32(28);let l=null,c=null;if(0===o){if(t-32<a||a<22)return{offset:i,size:t};c=new Uint8Array(r,i+32,a)}else if(1===o){if(!a||n<i+32+16*a+16)return{offset:i,size:t};l=[];for(let e=0;e<a;e++)l.push(new Uint8Array(r,i+32+16*e,16))}return{version:o,systemId:s,kids:l,data:c,offset:i,size:t}}let Hve={};class qve{static clearKeyUriToKeyIdMap(){Hve={}}constructor(e,t,i,n=[1],o=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=i,this.keyFormatVersions=n,this.iv=o,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&"AES-128"!==e}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case jbe:case Ube:case Vbe:case zbe:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof e&&("AES-128"!==this.method||this.iv||wbe.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const t=function(e){const t=new Uint8Array(16);for(let i=12;i<16;i++)t[i]=e>>8*(15-i)&255;return t}(e);return new qve(this.method,this.uri,"identity",this.keyFormatVersions,t)}const t=Nbe(this.uri);if(t)switch(this.keyFormat){case Ube:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case Vbe:{const e=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Vve(e,0,t);const i=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(i)),o=n.substring(n.indexOf("<"),n.length),r=(new DOMParser).parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(r){const e=r.childNodes[0]?r.childNodes[0].nodeValue:r.getAttribute("VALUE");if(e){const t=Obe(e).subarray(0,16);!function(e){const t=function(e,t,i){const n=e[t];e[t]=e[i],e[i]=n};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}(t),this.keyId=t}}break}default:{let e=t.subarray(0,16);if(16!==e.length){const t=new Uint8Array(16);t.set(e,16-e.length),e=t}this.keyId=e;break}}if(!this.keyId||16!==this.keyId.byteLength){let e=Hve[this.uri];if(!e){const t=Object.keys(Hve).length%Number.MAX_SAFE_INTEGER;e=new Uint8Array(16);new DataView(e.buffer,12,4).setUint32(0,t),Hve[this.uri]=e}this.keyId=e}return this}}const Gve=/\{\$([a-zA-Z0-9-_]+)\}/g;function Wve(e){return Gve.test(e)}function Yve(e,t,i){if(null!==e.variableList||e.hasVariableRefs)for(let n=i.length;n--;){const o=i[n],r=t[o];r&&(t[o]=Kve(e,r))}}function Kve(e,t){if(null!==e.variableList||e.hasVariableRefs){const i=e.variableList;return t.replace(Gve,(t=>{const n=t.substring(2,t.length-1),o=null==i?void 0:i[n];return void 0===o?(e.playlistParsingError||(e.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${n}"`)),t):o}))}return t}function Qve(e,t,i){let n,o,r=e.variableList;if(r||(e.variableList=r={}),"QUERYPARAM"in t){n=t.QUERYPARAM;try{const e=new self.URL(i).searchParams;if(!e.has(n))throw new Error(`"${n}" does not match any query parameter in URI: "${i}"`);o=e.get(n)}catch(s){e.playlistParsingError||(e.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${s.message}`))}}else n=t.NAME,o=t.VALUE;n in r?e.playlistParsingError||(e.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${n}"`)):r[n]=o||""}function Xve(e,t,i){const n=t.IMPORT;if(i&&n in i){let t=e.variableList;t||(e.variableList=t={}),t[n]=i[n]}else e.playlistParsingError||(e.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}function Jve(e=!0){if("undefined"==typeof self)return;return(e||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}const Zve={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function eye(e,t,i=!0){return!e.split(",").some((e=>!tye(e,t,i)))}function tye(e,t,i=!0){var n;const o=Jve(i);return null!=(n=null==o?void 0:o.isTypeSupported(iye(e,t)))&&n}function iye(e,t){return`${t}/mp4;codecs="${e}"`}function nye(e){if(e){const t=e.substring(0,4);return Zve.video[t]}return 2}function oye(e){return e.split(",").reduce(((e,t)=>{const i=Zve.video[t];return i?(2*i+e)/(e?3:2):(Zve.audio[t]+e)/(e?2:1)}),0)}const rye={};const sye=/flac|opus/i;function aye(e,t=!0){return e.replace(sye,(e=>function(e,t=!0){if(rye[e])return rye[e];const i={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[e];for(let n=0;n<i.length;n++)if(tye(i[n],"audio",t))return rye[e]=i[n],i[n];return e}(e.toLowerCase(),t)))}function lye(e,t){return e&&"mp4a"!==e?e:t?t.split(",")[0]:t}const cye=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,dye=/#EXT-X-MEDIA:(.*)/g,uye=/^#EXT(?:INF|-X-TARGETDURATION):/m,hye=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),pye=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class mye{static findGroup(e,t){for(let i=0;i<e.length;i++){const n=e[i];if(n.id===t)return n}}static resolve(e,t){return rbe.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return uye.test(e)}static parseMasterPlaylist(e,t){const i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Wve(e)},n=[];let o;for(cye.lastIndex=0;null!=(o=cye.exec(e));)if(o[1]){var r;const e=new Ebe(o[1]);Yve(i,e,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const s=Kve(i,o[2]),a={attrs:e,bitrate:e.decimalInteger("BANDWIDTH")||e.decimalInteger("AVERAGE-BANDWIDTH"),name:e.NAME,url:mye.resolve(s,t)},l=e.decimalResolution("RESOLUTION");l&&(a.width=l.width,a.height=l.height),bye(e.CODECS,a),null!=(r=a.unknownCodecs)&&r.length||n.push(a),i.levels.push(a)}else if(o[3]){const e=o[3],n=o[4];switch(e){case"SESSION-DATA":{const e=new Ebe(n);Yve(i,e,["DATA-ID","LANGUAGE","VALUE","URI"]);const t=e["DATA-ID"];t&&(null===i.sessionData&&(i.sessionData={}),i.sessionData[t]=e);break}case"SESSION-KEY":{const e=fye(n,t,i);e.encrypted&&e.isSupported()?(null===i.sessionKeys&&(i.sessionKeys=[]),i.sessionKeys.push(e)):wbe.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${n}"`);break}case"DEFINE":{const e=new Ebe(n);Yve(i,e,["NAME","VALUE","QUERYPARAM"]),Qve(i,e,t)}break;case"CONTENT-STEERING":{const e=new Ebe(n);Yve(i,e,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:mye.resolve(e["SERVER-URI"],t),pathwayId:e["PATHWAY-ID"]||"."};break}case"START":i.startTimeOffset=gye(n)}}const s=n.length>0&&n.length<i.levels.length;return i.levels=s?n:i.levels,0===i.levels.length&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,t,i){let n;const o={},r=i.levels,s={AUDIO:r.map((e=>({id:e.attrs.AUDIO,audioCodec:e.audioCodec}))),SUBTITLES:r.map((e=>({id:e.attrs.SUBTITLES,textCodec:e.textCodec}))),"CLOSED-CAPTIONS":[]};let a=0;for(dye.lastIndex=0;null!==(n=dye.exec(e));){const e=new Ebe(n[1]),r=e.TYPE;if(r){const n=s[r],l=o[r]||[];o[r]=l,Yve(i,e,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const c=e.LANGUAGE,d=e["ASSOC-LANGUAGE"],u=e.CHANNELS,h=e.CHARACTERISTICS,p=e["INSTREAM-ID"],m={attrs:e,bitrate:0,id:a++,groupId:e["GROUP-ID"]||"",name:e.NAME||c||"",type:r,default:e.bool("DEFAULT"),autoselect:e.bool("AUTOSELECT"),forced:e.bool("FORCED"),lang:c,url:e.URI?mye.resolve(e.URI,t):""};if(d&&(m.assocLang=d),u&&(m.channels=u),h&&(m.characteristics=h),p&&(m.instreamId=p),null!=n&&n.length){const e=mye.findGroup(n,m.groupId)||n[0];vye(m,e,"audioCodec"),vye(m,e,"textCodec")}l.push(m)}}return o}static parseLevelPlaylist(e,t,i,n,o,r){const s=new Mbe(t),a=s.fragments;let l,c,d,u=null,h=0,p=0,m=0,f=0,g=null,b=new Rbe(n,t),v=-1,y=!1,k=null;for(hye.lastIndex=0,s.m3u8=e,s.hasVariableRefs=Wve(e);null!==(l=hye.exec(e));){y&&(y=!1,b=new Rbe(n,t),b.start=m,b.sn=h,b.cc=f,b.level=i,u&&(b.initSegment=u,b.rawProgramDateTime=u.rawProgramDateTime,u.rawProgramDateTime=null,k&&(b.setByteRange(k),k=null)));const e=l[1];if(e){b.duration=parseFloat(e);const t=(" "+l[2]).slice(1);b.title=t||null,b.tagList.push(t?["INF",e,t]:["INF",e])}else if(l[3]){if(ube(b.duration)){b.start=m,d&&wye(b,d,s),b.sn=h,b.level=i,b.cc=f,a.push(b);const e=(" "+l[3]).slice(1);b.relurl=Kve(s,e),yye(b,g),g=b,m+=b.duration,h++,p=0,y=!0}}else if(l[4]){const e=(" "+l[4]).slice(1);g?b.setByteRange(e,g):b.setByteRange(e)}else if(l[5])b.rawProgramDateTime=(" "+l[5]).slice(1),b.tagList.push(["PROGRAM-DATE-TIME",b.rawProgramDateTime]),-1===v&&(v=a.length);else{if(l=l[0].match(pye),!l){wbe.warn("No matches on slow regex match for level playlist!");continue}for(c=1;c<l.length&&void 0===l[c];c++);const e=(" "+l[c]).slice(1),o=(" "+l[c+1]).slice(1),m=l[c+2]?(" "+l[c+2]).slice(1):"";switch(e){case"PLAYLIST-TYPE":s.type=o.toUpperCase();break;case"MEDIA-SEQUENCE":h=s.startSN=parseInt(o);break;case"SKIP":{const e=new Ebe(o);Yve(s,e,["RECENTLY-REMOVED-DATERANGES"]);const t=e.decimalInteger("SKIPPED-SEGMENTS");if(ube(t)){s.skippedSegments=t;for(let e=t;e--;)a.unshift(null);h+=t}const i=e.enumeratedString("RECENTLY-REMOVED-DATERANGES");i&&(s.recentlyRemovedDateranges=i.split("\t"));break}case"TARGETDURATION":s.targetduration=Math.max(parseInt(o),1);break;case"VERSION":s.version=parseInt(o);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":s.live=!1;break;case"#":(o||m)&&b.tagList.push(m?[o,m]:[o]);break;case"DISCONTINUITY":f++,b.tagList.push(["DIS"]);break;case"GAP":b.gap=!0,b.tagList.push([e]);break;case"BITRATE":b.tagList.push([e,o]);break;case"DATERANGE":{const e=new Ebe(o);Yve(s,e,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Yve(s,e,e.clientAttrs);const t=new Abe(e,s.dateRanges[e.ID]);t.isValid||s.skippedSegments?s.dateRanges[t.id]=t:wbe.warn(`Ignoring invalid DATERANGE tag: "${o}"`),b.tagList.push(["EXT-X-DATERANGE",o]);break}case"DEFINE":{const e=new Ebe(o);Yve(s,e,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in e?Xve(s,e,r):Qve(s,e,t)}break;case"DISCONTINUITY-SEQUENCE":f=parseInt(o);break;case"KEY":{const e=fye(o,t,s);if(e.isSupported()){if("NONE"===e.method){d=void 0;break}d||(d={}),d[e.keyFormat]&&(d=dbe({},d)),d[e.keyFormat]=e}else wbe.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${o}"`);break}case"START":s.startTimeOffset=gye(o);break;case"MAP":{const e=new Ebe(o);if(Yve(s,e,["BYTERANGE","URI"]),b.duration){const o=new Rbe(n,t);kye(o,e,i,d),u=o,b.initSegment=u,u.rawProgramDateTime&&!b.rawProgramDateTime&&(b.rawProgramDateTime=u.rawProgramDateTime)}else{const t=b.byteRangeEndOffset;if(t){const e=b.byteRangeStartOffset;k=`${t-e}@${e}`}else k=null;kye(b,e,i,d),u=b,y=!0}break}case"SERVER-CONTROL":{const e=new Ebe(o);s.canBlockReload=e.bool("CAN-BLOCK-RELOAD"),s.canSkipUntil=e.optionalFloat("CAN-SKIP-UNTIL",0),s.canSkipDateRanges=s.canSkipUntil>0&&e.bool("CAN-SKIP-DATERANGES"),s.partHoldBack=e.optionalFloat("PART-HOLD-BACK",0),s.holdBack=e.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const e=new Ebe(o);s.partTarget=e.decimalFloatingPoint("PART-TARGET");break}case"PART":{let e=s.partList;e||(e=s.partList=[]);const i=p>0?e[e.length-1]:void 0,n=p++,r=new Ebe(o);Yve(s,r,["BYTERANGE","URI"]);const a=new Lbe(r,b,t,n,i);e.push(a),b.duration+=a.duration;break}case"PRELOAD-HINT":{const e=new Ebe(o);Yve(s,e,["URI"]),s.preloadHint=e;break}case"RENDITION-REPORT":{const e=new Ebe(o);Yve(s,e,["URI"]),s.renditionReports=s.renditionReports||[],s.renditionReports.push(e);break}default:wbe.warn(`line parsed but not handled: ${l}`)}}}g&&!g.relurl?(a.pop(),m-=g.duration,s.partList&&(s.fragmentHint=g)):s.partList&&(yye(b,g),b.cc=f,s.fragmentHint=b,d&&wye(b,d,s));const w=a.length,x=a[0],_=a[w-1];if(m+=s.skippedSegments*s.targetduration,m>0&&w&&_){s.averagetargetduration=m/w;const e=_.sn;s.endSN="initSegment"!==e?e:0,s.live||(_.endList=!0),x&&(s.startCC=x.cc)}else s.endSN=0,s.startCC=0;return s.fragmentHint&&(m+=s.fragmentHint.duration),s.totalduration=m,s.endCC=f,v>0&&function(e,t){let i=e[t];for(let n=t;n--;){const t=e[n];if(!t)return;t.programDateTime=i.programDateTime-1e3*t.duration,i=t}}(a,v),s}}function fye(e,t,i){var n,o;const r=new Ebe(e);Yve(i,r,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const s=null!=(n=r.METHOD)?n:"",a=r.URI,l=r.hexadecimalInteger("IV"),c=r.KEYFORMATVERSIONS,d=null!=(o=r.KEYFORMAT)?o:"identity";a&&r.IV&&!l&&wbe.error(`Invalid IV: ${r.IV}`);const u=a?mye.resolve(a,t):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new qve(s,u,d,h,l)}function gye(e){const t=new Ebe(e).decimalFloatingPoint("TIME-OFFSET");return ube(t)?t:null}function bye(e,t){let i=(e||"").split(/[ ,]+/).filter((e=>e));["video","audio","text"].forEach((e=>{const n=i.filter((t=>function(e,t){const i=Zve[t];return!!i&&!!i[e.slice(0,4)]}(t,e)));n.length&&(t[`${e}Codec`]=n.join(","),i=i.filter((e=>-1===n.indexOf(e))))})),t.unknownCodecs=i}function vye(e,t,i){const n=t[i];n&&(e[i]=n)}function yye(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),ube(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function kye(e,t,i,n){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=i,e.sn="initSegment",n&&(e.levelkeys=n),e.initSegment=null}function wye(e,t,i){e.levelkeys=t;const{encryptedFragments:n}=i;n.length&&n[n.length-1].levelkeys===t||!Object.keys(t).some((e=>t[e].isCommonEncryption))||n.push(e)}var xye="manifest",_ye="level",Eye="audioTrack",Cye="subtitleTrack",Aye="main",Tye="audio",Sye="subtitle";function Iye(e){const{type:t}=e;switch(t){case Eye:return Tye;case Cye:return Sye;default:return Aye}}function Pye(e,t){let i=e.url;return void 0!==i&&0!==i.indexOf("data:")||(i=t.url),i}class Dye{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.LEVEL_LOADING,this.onLevelLoading,this),e.on(mbe.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(mbe.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.LEVEL_LOADING,this.onLevelLoading,this),e.off(mbe.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(mbe.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const t=this.hls.config,i=t.pLoader,n=t.loader,o=new(i||n)(t);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:i}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:xye,url:i,deliveryDirectives:null})}onLevelLoading(e,t){const{id:i,level:n,pathwayId:o,url:r,deliveryDirectives:s}=t;this.load({id:i,level:n,pathwayId:o,responseType:"text",type:_ye,url:r,deliveryDirectives:s})}onAudioTrackLoading(e,t){const{id:i,groupId:n,url:o,deliveryDirectives:r}=t;this.load({id:i,groupId:n,level:null,responseType:"text",type:Eye,url:o,deliveryDirectives:r})}onSubtitleTrackLoading(e,t){const{id:i,groupId:n,url:o,deliveryDirectives:r}=t;this.load({id:i,groupId:n,level:null,responseType:"text",type:Cye,url:o,deliveryDirectives:r})}load(e){var t;const i=this.hls.config;let n,o=this.getInternalLoader(e);if(o){const t=o.context;if(t&&t.url===e.url&&t.level===e.level)return void wbe.trace("[playlist-loader]: playlist request ongoing");wbe.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),o.abort()}if(n=e.type===xye?i.manifestLoadPolicy.default:dbe({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(e),ube(null==(t=e.deliveryDirectives)?void 0:t.part)){let t;if(e.type===_ye&&null!==e.level?t=this.hls.levels[e.level].details:e.type===Eye&&null!==e.id?t=this.hls.audioTracks[e.id].details:e.type===Cye&&null!==e.id&&(t=this.hls.subtitleTracks[e.id].details),t){const e=t.partTarget,i=t.targetduration;if(e&&i){const t=1e3*Math.max(3*e,.8*i);n=dbe({},n,{maxTimeToFirstByteMs:Math.min(t,n.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(t,n.maxTimeToFirstByteMs)})}}}const r=n.errorRetry||n.timeoutRetry||{},s={loadPolicy:n,timeout:n.maxLoadTimeMs,maxRetry:r.maxNumRetry||0,retryDelay:r.retryDelayMs||0,maxRetryDelay:r.maxRetryDelayMs||0},a={onSuccess:(e,t,i,n)=>{const o=this.getInternalLoader(i);this.resetInternalLoader(i.type);const r=e.data;0===r.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),mye.isMediaPlaylist(r)?this.handleTrackOrLevelPlaylist(e,t,i,n||null,o):this.handleMasterPlaylist(e,t,i,n)):this.handleManifestParsingError(e,i,new Error("no EXTM3U delimiter"),n||null,t)},onError:(e,t,i,n)=>{this.handleNetworkError(t,i,!1,e,n)},onTimeout:(e,t,i)=>{this.handleNetworkError(t,i,!0,void 0,e)}};o.load(e,s,a)}handleMasterPlaylist(e,t,i,n){const o=this.hls,r=e.data,s=Pye(e,i),a=mye.parseMasterPlaylist(r,s);if(a.playlistParsingError)return void this.handleManifestParsingError(e,i,a.playlistParsingError,n,t);const{contentSteering:l,levels:c,sessionData:d,sessionKeys:u,startTimeOffset:h,variableList:p}=a;this.variableList=p;const{AUDIO:m=[],SUBTITLES:f,"CLOSED-CAPTIONS":g}=mye.parseMasterPlaylistMedia(r,s,a);if(m.length){m.some((e=>!e.url))||!c[0].audioCodec||c[0].attrs.AUDIO||(wbe.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Ebe({}),bitrate:0,url:""}))}o.trigger(mbe.MANIFEST_LOADED,{levels:c,audioTracks:m,subtitles:f,captions:g,contentSteering:l,url:s,stats:t,networkDetails:n,sessionData:d,sessionKeys:u,startTimeOffset:h,variableList:p})}handleTrackOrLevelPlaylist(e,t,i,n,o){const r=this.hls,{id:s,level:a,type:l}=i,c=Pye(e,i),d=ube(a)?a:ube(s)?s:0,u=Iye(i),h=mye.parseLevelPlaylist(e.data,c,d,u,0,this.variableList);if(l===xye){const e={attrs:new Ebe({}),bitrate:0,details:h,name:"",url:c};r.trigger(mbe.MANIFEST_LOADED,{levels:[e],audioTracks:[],url:c,stats:t,networkDetails:n,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),i.levelDetails=h,this.handlePlaylistLoaded(h,e,t,i,n,o)}handleManifestParsingError(e,t,i,n,o){this.hls.trigger(mbe.ERROR,{type:fbe.NETWORK_ERROR,details:gbe.MANIFEST_PARSING_ERROR,fatal:t.type===xye,url:e.url,err:i,error:i,reason:i.message,response:e,context:t,networkDetails:n,stats:o})}handleNetworkError(e,t,i=!1,n,o){let r=`A network ${i?"timeout":"error"+(n?" (status "+n.code+")":"")} occurred while loading ${e.type}`;e.type===_ye?r+=`: ${e.level} id: ${e.id}`:e.type!==Eye&&e.type!==Cye||(r+=` id: ${e.id} group-id: "${e.groupId}"`);const s=new Error(r);wbe.warn(`[playlist-loader]: ${r}`);let a=gbe.UNKNOWN,l=!1;const c=this.getInternalLoader(e);switch(e.type){case xye:a=i?gbe.MANIFEST_LOAD_TIMEOUT:gbe.MANIFEST_LOAD_ERROR,l=!0;break;case _ye:a=i?gbe.LEVEL_LOAD_TIMEOUT:gbe.LEVEL_LOAD_ERROR,l=!1;break;case Eye:a=i?gbe.AUDIO_TRACK_LOAD_TIMEOUT:gbe.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case Cye:a=i?gbe.SUBTITLE_TRACK_LOAD_TIMEOUT:gbe.SUBTITLE_LOAD_ERROR,l=!1}c&&this.resetInternalLoader(e.type);const d={type:fbe.NETWORK_ERROR,details:a,fatal:l,url:e.url,loader:c,context:e,error:s,networkDetails:t,stats:o};if(n){const i=(null==t?void 0:t.url)||e.url;d.response=abe({url:i,data:void 0},n)}this.hls.trigger(mbe.ERROR,d)}handlePlaylistLoaded(e,t,i,n,o,r){const s=this.hls,{type:a,level:l,id:c,groupId:d,deliveryDirectives:u}=n,h=Pye(t,n),p=Iye(n),m="number"==typeof n.level&&p===Aye?l:void 0;if(!e.fragments.length){const e=new Error("No Segments found in Playlist");return void s.trigger(mbe.ERROR,{type:fbe.NETWORK_ERROR,details:gbe.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:e,reason:e.message,response:t,context:n,level:m,parent:p,networkDetails:o,stats:i})}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const f=e.playlistParsingError;if(f)s.trigger(mbe.ERROR,{type:fbe.NETWORK_ERROR,details:gbe.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:f,reason:f.message,response:t,context:n,level:m,parent:p,networkDetails:o,stats:i});else switch(e.live&&r&&(r.getCacheAge&&(e.ageHeader=r.getCacheAge()||0),r.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),a){case xye:case _ye:s.trigger(mbe.LEVEL_LOADED,{details:e,level:m||0,id:c||0,stats:i,networkDetails:o,deliveryDirectives:u});break;case Eye:s.trigger(mbe.AUDIO_TRACK_LOADED,{details:e,id:c||0,groupId:d||"",stats:i,networkDetails:o,deliveryDirectives:u});break;case Cye:s.trigger(mbe.SUBTITLE_TRACK_LOADED,{details:e,id:c||0,groupId:d||"",stats:i,networkDetails:o,deliveryDirectives:u})}}}function Rye(e,t){let i;try{i=new Event("addtrack")}catch(N0){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=e,t.dispatchEvent(i)}function Lye(e,t){const i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error(`addCue is failed for: ${t}`)}catch(N0){wbe.debug(`[texttrack-utils]: ${N0}`);try{const i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}catch(n){wbe.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${n}`)}}"disabled"===i&&(e.mode=i)}function Mye(e){const t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(let i=e.cues.length;i--;)e.removeCue(e.cues[i]);"disabled"===t&&(e.mode=t)}function Oye(e,t,i,n){const o=e.mode;if("disabled"===o&&(e.mode="hidden"),e.cues&&e.cues.length>0){const o=function(e,t,i){const n=[],o=function(e,t){if(t<e[0].startTime)return 0;const i=e.length-1;if(t>e[i].endTime)return-1;let n=0,o=i;for(;n<=o;){const r=Math.floor((o+n)/2);if(t<e[r].startTime)o=r-1;else{if(!(t>e[r].startTime&&n<i))return r;n=r+1}}return e[n].startTime-t<t-e[o].startTime?n:o}(e,t);if(o>-1)for(let r=o,s=e.length;r<s;r++){const o=e[r];if(o.startTime>=t&&o.endTime<=i)n.push(o);else if(o.startTime>i)return n}return n}(e.cues,t,i);for(let t=0;t<o.length;t++)n&&!n(o[t])||e.removeCue(o[t])}"disabled"===o&&(e.mode=o)}function Nye(e){const t=[];for(let i=0;i<e.length;i++){const n=e[i];"subtitles"!==n.kind&&"captions"!==n.kind||!n.label||t.push(e[i])}return t}var $ye="org.id3",Fye="com.apple.quicktime.HLS",Bye="https://aomedia.org/emsg/ID3";function zye(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function jye(e,t,i,n,o){let r=new e(t,i,"");try{r.value=n,o&&(r.type=o)}catch(f1){r=new e(t,i,JSON.stringify(o?abe({type:o},n):n))}return r}const Vye=(()=>{const e=zye();try{e&&new e(0,Number.POSITIVE_INFINITY,"")}catch(f1){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Uye(e,t){return e.getTime()/1e3-t}class Hye{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(mbe.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(mbe.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,t){this.media=t.media}onMediaDetaching(){this.id3Track&&(Mye(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const i=e[t];if("metadata"===i.kind&&"id3"===i.label)return Rye(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:n}}}=this;if(!i&&!n)return;const{samples:o}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const r=zye();if(r)for(let s=0;s<o.length;s++){const e=o[s].type;if(e===Bye&&!i||!n)continue;const t=cve(o[s].data);if(t){const i=o[s].pts;let n=i+o[s].duration;n>Vye&&(n=Vye);n-i<=0&&(n=i+.25);for(let o=0;o<t.length;o++){const s=t[o];if(!ave(s)){this.updateId3CueEnds(i,e);const t=jye(r,i,n,s,e);t&&this.id3Track.addCue(t)}}}}}updateId3CueEnds(e,t){var i;const n=null==(i=this.id3Track)?void 0:i.cues;if(n)for(let o=n.length;o--;){const i=n[o];i.type===t&&i.startTime<e&&i.endTime===Vye&&(i.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:i,type:n}){const{id3Track:o,hls:r}=this;if(!r)return;const{config:{enableEmsgMetadataCues:s,enableID3MetadataCues:a}}=r;if(o&&(s||a)){let e;e="audio"===n?e=>e.type===$ye&&a:"video"===n?e=>e.type===Bye&&s:e=>e.type===$ye&&a||e.type===Bye&&s,Oye(o,t,i,e)}}onLevelUpdated(e,{details:t}){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:i,id3Track:n}=this,{dateRanges:o}=t,r=Object.keys(o);if(n){const e=Object.keys(i).filter((e=>!r.includes(e)));for(let t=e.length;t--;){const o=e[t];Object.keys(i[o].cues).forEach((e=>{n.removeCue(i[o].cues[e])})),delete i[o]}}const s=t.fragments[t.fragments.length-1];if(0===r.length||!ube(null==s?void 0:s.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=s.programDateTime/1e3-s.start,l=zye();for(let u=0;u<r.length;u++){const e=r[u],t=o[e],n=Uye(t.startDate,a),s=i[e],h=(null==s?void 0:s.cues)||{};let p=(null==s?void 0:s.durationKnown)||!1,m=Vye;const f=t.endDate;if(f)m=Uye(f,a),p=!0;else if(t.endOnNext&&!p){const e=r.reduce(((e,i)=>{if(i!==t.id){const n=o[i];if(n.class===t.class&&n.startDate>t.startDate&&(!e||t.startDate<e.startDate))return n}return e}),null);e&&(m=Uye(e.startDate,a),p=!0)}const g=Object.keys(t.attr);for(let i=0;i<g.length;i++){const o=g[i];if("ID"===(d=o)||"CLASS"===d||"START-DATE"===d||"DURATION"===d||"END-DATE"===d||"END-ON-NEXT"===d)continue;const r=h[o];if(r)p&&!s.durationKnown&&(r.endTime=m);else if(l){let i=t.attr[o];Cbe(o)&&(c=i,i=Uint8Array.from(c.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);const r=jye(l,n,m,{key:o,data:i},Fye);r&&(r.id=e,this.id3Track.addCue(r),h[o]=r)}}i[e]={cues:h,dateRange:t,durationKnown:p}}var c,d}}class qye{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:t}=this;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(null===e)return null;const{holdBack:t,partHoldBack:i,targetduration:n}=e,{liveSyncDuration:o,liveSyncDurationCount:r,lowLatencyMode:s}=this.config,a=this.hls.userConfig;let l=s&&i||t;(a.liveSyncDuration||a.liveSyncDurationCount||0===l)&&(l=void 0!==o?o:r*n);const c=n;return l+Math.min(1*this.stallCount,c)}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency,i=this.levelDetails;if(null===e||null===t||null===i)return null;const n=i.edge,o=e-t-this.edgeStalled,r=n-i.totalduration,s=n-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(r,o),s)}get drift(){const{levelDetails:e}=this;return null===e?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(null===e)return 0;const t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e,levelDetails:t}=this;if(!e||!t)return 0;const i=e.buffered.length;return(i?e.buffered.end(i-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(mbe.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(mbe.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(mbe.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(mbe.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){this.levelDetails=t,t.advanced&&this.timeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,t){var i;t.details===gbe.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(i=this.levelDetails)&&i.live&&wbe.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:t}=this;if(!e||!t)return;this.currentTime=e.currentTime;const i=this.computeLatency();if(null===i)return;this._latency=i;const{lowLatencyMode:n,maxLiveSyncPlaybackRate:o}=this.config;if(!n||1===o||!t.live)return;const r=this.targetLatency;if(null===r)return;const s=i-r;if(s<Math.min(this.maxLatency,r+t.targetduration)&&s>.05&&this.forwardBufferLength>1){const t=Math.min(2,Math.max(1,o)),i=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(t,Math.max(1,i))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return null===e?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return null===e?null:e-this.currentTime}}const Gye=["NONE","TYPE-0","TYPE-1",null];const Wye=["SDR","PQ","HLG"];var Yye="",Kye="YES",Qye="v2";function Xye(e){const{canSkipUntil:t,canSkipDateRanges:i,age:n}=e;return t&&n<t/2?i?Qye:Kye:Yye}class Jye{constructor(e,t,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=i}addDirectives(e){const t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Zye{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter((e=>!!e)).map((e=>e.substring(0,4))).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return eke(this._audioGroups,e)}hasSubtitleGroup(e){return eke(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t)if("audio"===e){let e=this._audioGroups;e||(e=this._audioGroups=[]),-1===e.indexOf(t)&&e.push(t)}else if("text"===e){let e=this._subtitleGroups;e||(e=this._subtitleGroups=[]),-1===e.indexOf(t)&&e.push(t)}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return null==(e=this.audioGroups)?void 0:e[0]}get textGroupId(){var e;return null==(e=this.subtitleGroups)?void 0:e[0]}addFallback(){}}function eke(e,t){return!(!t||!e)&&-1!==e.indexOf(t)}function tke(e,t){const i=t.startPTS;if(ube(i)){let n,o=0;t.sn>e.sn?(o=i-e.start,n=e):(o=e.start-i,n=t),n.duration!==o&&(n.duration=o)}else if(t.sn>e.sn){e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function ike(e,t,i,n,o,r){n-i<=0&&(wbe.warn("Fragment should have a positive duration",t),n=i+t.duration,r=o+t.duration);let s=i,a=n;const l=t.startPTS,c=t.endPTS;if(ube(l)){const e=Math.abs(l-i);ube(t.deltaPTS)?t.deltaPTS=Math.max(e,t.deltaPTS):t.deltaPTS=e,s=Math.max(i,l),i=Math.min(i,l),o=Math.min(o,t.startDTS),a=Math.min(n,c),n=Math.max(n,c),r=Math.max(r,t.endDTS)}const d=i-t.start;0!==t.start&&(t.start=i),t.duration=n-t.start,t.startPTS=i,t.maxStartPTS=s,t.startDTS=o,t.endPTS=n,t.minEndPTS=a,t.endDTS=r;const u=t.sn;if(!e||u<e.startSN||u>e.endSN)return 0;let h;const p=u-e.startSN,m=e.fragments;for(m[p]=t,h=p;h>0;h--)tke(m[h],m[h-1]);for(h=p;h<m.length-1;h++)tke(m[h],m[h+1]);return e.fragmentHint&&tke(m[m.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,d}function nke(e,t){let i=null;const n=e.fragments;for(let l=n.length-1;l>=0;l--){const e=n[l].initSegment;if(e){i=e;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;let o,r=0;if(function(e,t,i){const n=t.skippedSegments,o=Math.max(e.startSN,t.startSN)-t.startSN,r=(e.fragmentHint?1:0)+(n?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,s=t.startSN-e.startSN,a=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments;for(let c=o;c<=r;c++){const e=l[s+c];let o=a[c];n&&!o&&c<n&&(o=t.fragments[c]=e),e&&o&&i(e,o)}}(e,t,((e,n)=>{e.relurl&&(r=e.cc-n.cc),ube(e.startPTS)&&ube(e.endPTS)&&(n.start=n.startPTS=e.startPTS,n.startDTS=e.startDTS,n.maxStartPTS=e.maxStartPTS,n.endPTS=e.endPTS,n.endDTS=e.endDTS,n.minEndPTS=e.minEndPTS,n.duration=e.endPTS-e.startPTS,n.duration&&(o=n),t.PTSKnown=t.alignedSliding=!0),n.elementaryStreams=e.elementaryStreams,n.loader=e.loader,n.stats=e.stats,e.initSegment&&(n.initSegment=e.initSegment,i=e.initSegment)})),i){(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((e=>{var t;!e||e.initSegment&&e.initSegment.relurl!==(null==(t=i)?void 0:t.relurl)||(e.initSegment=i)}))}if(t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((e=>!e)),t.deltaUpdateFailed){wbe.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let e=t.skippedSegments;e--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=function(e,t,i){const n=dbe({},e);i&&i.forEach((e=>{delete n[e]}));return Object.keys(t).forEach((e=>{const i=new Abe(t[e].attr,n[e]);i.isValid?n[e]=i:wbe.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(t[e].attr)}"`)})),n}(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));const s=t.fragments;if(r){wbe.warn("discontinuity sliding from playlist, take drift into account");for(let e=0;e<s.length;e++)s[e].cc+=r}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,i){if(e&&t){let n=0;for(let o=0,r=e.length;o<=r;o++){const r=e[o],s=t[o+n];r&&s&&r.index===s.index&&r.fragment.sn===s.fragment.sn?i(r,s):n--}}}(e.partList,t.partList,((e,t)=>{t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),o?ike(t,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):oke(e,t),s.length&&(t.totalduration=t.edge-s[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;const a=t.advancedDateTime;if(t.advanced&&a){const e=t.edge;t.driftStart||(t.driftStartTime=a,t.driftStart=e),t.driftEndTime=a,t.driftEnd=e}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function oke(e,t){const i=t.startSN+t.skippedSegments-e.startSN,n=e.fragments;i<0||i>=n.length||rke(t,n[i].start)}function rke(e,t){if(t){const i=e.fragments;for(let n=e.skippedSegments;n<i.length;n++)i[n].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function ske(e,t,i){var n;return null!=e&&e.details?ake(null==(n=e.details)?void 0:n.partList,t,i):null}function ake(e,t,i){if(e)for(let n=e.length;n--;){const o=e[n];if(o.index===i&&o.fragment.sn===t)return o}return null}function lke(e){e.forEach(((e,t)=>{const{details:i}=e;null!=i&&i.fragments&&i.fragments.forEach((e=>{e.level=t}))}))}function cke(e){switch(e.details){case gbe.FRAG_LOAD_TIMEOUT:case gbe.KEY_LOAD_TIMEOUT:case gbe.LEVEL_LOAD_TIMEOUT:case gbe.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function dke(e,t){const i=cke(t);return e.default[(i?"timeout":"error")+"Retry"]}function uke(e,t){const i="linear"===e.backoff?1:Math.pow(2,t);return Math.min(i*e.retryDelayMs,e.maxRetryDelayMs)}function hke(e){return abe(abe({},e),{errorRetry:null,timeoutRetry:null})}function pke(e,t,i,n){if(!e)return!1;const o=null==n?void 0:n.code,r=t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(o)||!!i);return e.shouldRetry?e.shouldRetry(e,t,i,n,r):r}const mke=function(e,t){let i=0,n=e.length-1,o=null,r=null;for(;i<=n;){o=(i+n)/2|0,r=e[o];const s=t(r);if(s>0)i=o+1;else{if(!(s<0))return r;n=o-1}}return null};function fke(e,t,i=0,n=0,o=.005){let r=null;if(e){r=t[e.sn-t[0].sn+1]||null;const n=e.endDTS-i;n>0&&n<15e-7&&(i+=15e-7)}else 0===i&&0===t[0].start&&(r=t[0]);if(r&&((!e||e.level===r.level)&&0===gke(i,n,r)||function(e,t,i){if(t&&0===t.start&&t.level<e.level&&(t.endPTS||0)>0){const n=t.tagList.reduce(((e,t)=>("INF"===t[0]&&(e+=parseFloat(t[1])),e)),i);return e.start<=n}return!1}(r,e,Math.min(o,n))))return r;const s=mke(t,gke.bind(null,i,n));return!s||s===e&&r?r:s}function gke(e=0,t=0,i){if(i.start<=e&&i.start+i.duration>e)return 0;const n=Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-n<=e?1:i.start-n>e&&i.start?-1:0}function bke(e,t,i){const n=1e3*Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return(i.endProgramDateTime||0)-n>e}var vke=0,yke=2,kke=3,wke=5,xke=0,_ke=1,Eke=2;class Cke{constructor(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=wbe.log.bind(wbe,`${t}:`),this.warn=wbe.warn.bind(wbe,`${t}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,i){const n=null==t?void 0:t.renditionReports;if(n){let r=-1;for(let i=0;i<n.length;i++){const s=n[i];let a;try{a=new self.URL(s.URI,t.url).href}catch(o){wbe.warn(`Could not construct new URL for Rendition Report: ${o}`),a=s.URI||""}if(a===e){r=i;break}a===e.substring(0,a.length)&&(r=i)}if(-1!==r){const e=n[r],o=parseInt(e["LAST-MSN"])||(null==t?void 0:t.lastPartSn);let s=parseInt(e["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){const e=Math.min(t.age-t.partTarget,t.targetduration);s>=0&&e>t.partTarget&&(s+=1)}const a=i&&Xye(i);return new Jye(o,s>=0?s:void 0,a)}}}loadPlaylist(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)}playlistLoaded(e,t,i){const{details:n,stats:o}=t,r=self.performance.now(),s=o.loading.first?Math.max(0,r-o.loading.first):0;if(n.advancedDateTime=Date.now()-s,n.live||null!=i&&i.live){if(n.reloaded(i),i&&this.log(`live playlist ${e} ${n.advanced?"REFRESHED "+n.lastPartSn+"-"+n.lastPartIndex:n.updated?"UPDATED":"MISSED"}`),i&&n.fragments.length>0&&nke(i,n),!this.canLoad||!n.live)return;let s,a,l;if(n.canBlockReload&&n.endSN&&n.advanced){const e=this.hls.config.lowLatencyMode,o=n.lastPartSn,r=n.endSN,c=n.lastPartIndex,d=o===r;-1!==c?(a=d?r+1:o,l=d?e?0:c:c+1):a=r+1;const u=n.age,h=u+n.ageHeader;let p=Math.min(h-n.partTarget,1.5*n.targetduration);if(p>0){if(i&&p>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${p} with playlist age: ${n.age}`),p=0;else{const e=Math.floor(p/n.targetduration);if(a+=e,void 0!==l){l+=Math.round(p%n.targetduration/n.partTarget)}this.log(`CDN Tune-in age: ${n.ageHeader}s last advanced ${u.toFixed(2)}s goal: ${p} skip sn ${e} to part ${l}`)}n.tuneInGoal=p}if(s=this.getDeliveryDirectives(n,t.deliveryDirectives,a,l),e||!d)return void this.loadPlaylist(s)}else(n.canBlockReload||n.canSkipUntil)&&(s=this.getDeliveryDirectives(n,t.deliveryDirectives,a,l));const c=this.hls.mainForwardBufferInfo,d=c?c.end-c.len:0,u=function(e,t=1/0){let i=1e3*e.targetduration;if(e.updated){const n=e.fragments,o=4;if(n.length&&i*o>t){const e=1e3*n[n.length-1].duration;e<i&&(i=e)}}else i/=2;return Math.round(i)}(n,1e3*(n.edge-d));n.updated&&r>this.requestScheduled+u&&(this.requestScheduled=o.loading.start),void 0!==a&&n.canBlockReload?this.requestScheduled=o.loading.first+u-(1e3*n.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+u<r?this.requestScheduled=r:this.requestScheduled-r<=0&&(this.requestScheduled+=u);let h=this.requestScheduled-r;h=Math.max(0,h),this.log(`reload live playlist ${e} in ${Math.round(h)} ms`),this.timer=self.setTimeout((()=>this.loadPlaylist(s)),h)}else this.clearTimer()}getDeliveryDirectives(e,t,i,n){let o=Xye(e);return null!=t&&t.skip&&e.deltaUpdateFailed&&(i=t.msn,n=t.part,o=Yye),new Jye(i,n,o)}checkRetry(e){const t=e.details,i=cke(e),n=e.errorAction,{action:o,retryCount:r=0,retryConfig:s}=n||{},a=!!n&&!!s&&(o===wke||!n.resolved&&o===yke);if(a){var l;if(this.requestScheduled=-1,r>=s.maxNumRetry)return!1;if(i&&null!=(l=e.context)&&l.deliveryDirectives)this.warn(`Retrying playlist loading ${r+1}/${s.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const e=uke(s,r);this.timer=self.setTimeout((()=>this.loadPlaylist()),e),this.warn(`Retrying playlist loading ${r+1}/${s.maxNumRetry} after "${t}" in ${e}ms`)}e.levelRetry=!0,n.resolved=!0}return a}}class Ake{constructor(e,t=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=i}sample(e,t){const i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Tke{constructor(e,t,i,n=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ake(e),this.fast_=new Ake(t),this.defaultTTFB_=n,this.ttfb_=new Ake(e)}update(e,t){const{slow_:i,fast_:n,ttfb_:o}=this;i.halfLife!==e&&(this.slow_=new Ake(e,i.getEstimate(),i.getTotalWeight())),n.halfLife!==t&&(this.fast_=new Ake(t,n.getEstimate(),n.getTotalWeight())),o.halfLife!==e&&(this.ttfb_=new Ake(e,o.getEstimate(),o.getTotalWeight()))}sample(e,t){const i=(e=Math.max(e,this.minDelayMs_))/1e3,n=8*t/i;this.fast_.sample(i,n),this.slow_.sample(i,n)}sampleTTFB(e){const t=e/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(i,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const Ske={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},Ike={};function Pke(e,t,i,n,o,r){const s=e.audioCodec?e.audioGroups:null,a=null==r?void 0:r.audioCodec,l=null==r?void 0:r.channels,c=l?parseInt(l):a?1/0:2;let d=null;if(null!=s&&s.length)try{d=1===s.length&&s[0]?t.groups[s[0]].channels:s.reduce(((e,i)=>{if(i){const n=t.groups[i];if(!n)throw new Error(`Audio track group ${i} not found`);Object.keys(n.channels).forEach((t=>{e[t]=(e[t]||0)+n.channels[t]}))}return e}),{2:0})}catch(u){return!0}return void 0!==e.videoCodec&&(e.width>1920&&e.height>1088||e.height>1920&&e.width>1088||e.frameRate>Math.max(n,30)||"SDR"!==e.videoRange&&e.videoRange!==i||e.bitrate>Math.max(o,8e6))||!!d&&ube(c)&&Object.keys(d).some((e=>parseInt(e)>c))}function Dke(e,t,i){const n=e.videoCodec,o=e.audioCodec;if(!n||!o||!i)return Promise.resolve(Ske);const r={width:e.width,height:e.height,bitrate:Math.ceil(Math.max(.9*e.bitrate,e.averageBitrate)),framerate:e.frameRate||30},s=e.videoRange;"SDR"!==s&&(r.transferFunction=s.toLowerCase());const a=n.split(",").map((e=>({type:"media-source",video:abe(abe({},r),{},{contentType:iye(e,"video")})})));return o&&e.audioGroups&&e.audioGroups.forEach((e=>{var i;e&&(null==(i=t.groups[e])||i.tracks.forEach((t=>{if(t.groupId===e){const e=t.channels||"",i=parseFloat(e);ube(i)&&i>2&&a.push.apply(a,o.split(",").map((e=>({type:"media-source",audio:{contentType:iye(e,"audio"),channels:""+i}}))))}})))})),Promise.all(a.map((e=>{const t=function(e){const{audio:t,video:i}=e,n=i||t;if(n){const e=n.contentType.split('"')[1];if(i)return`r${i.height}x${i.width}f${Math.ceil(i.framerate)}${i.transferFunction||"sd"}_${e}_${Math.ceil(i.bitrate/1e5)}`;if(t)return`c${t.channels}${t.spatialRendering?"s":"n"}_${e}`}return""}(e);return Ike[t]||(Ike[t]=i.decodingInfo(e))}))).then((e=>({supported:!e.some((e=>!e.supported)),configurations:a,decodingInfoResults:e}))).catch((e=>({supported:!1,configurations:a,decodingInfoResults:[],error:e})))}function Rke(e,t){let i=!1,n=[];return e&&(i="SDR"!==e,n=[e]),t&&(n=t.allowedVideoRanges||Wye.slice(0),i=void 0!==t.preferHDR?t.preferHDR:function(){if("function"==typeof matchMedia){const e=matchMedia("(dynamic-range: high)"),t=matchMedia("bad query");if(e.media!==t.media)return!0===e.matches}return!1}(),n=i?n.filter((e=>"SDR"!==e)):["SDR"]),{preferHDR:i,allowedVideoRanges:n}}function Lke(e,t){wbe.log(`[abr] start candidates with "${e}" ignored because ${t}`)}function Mke(e,t,i){if("attrs"in e){const i=t.indexOf(e);if(-1!==i)return i}for(let n=0;n<t.length;n++){if(Oke(e,t[n],i))return n}return-1}function Oke(e,t,i){const{groupId:n,name:o,lang:r,assocLang:s,characteristics:a,default:l}=e,c=e.forced;return(void 0===n||t.groupId===n)&&(void 0===o||t.name===o)&&(void 0===r||t.lang===r)&&(void 0===r||t.assocLang===s)&&(void 0===l||t.default===l)&&(void 0===c||t.forced===c)&&(void 0===a||function(e,t=""){const i=e.split(","),n=t.split(",");return i.length===n.length&&!i.some((e=>-1===n.indexOf(e)))}(a,t.characteristics))&&(void 0===i||i(e,t))}function Nke(e,t){const{audioCodec:i,channels:n}=e;return!(void 0!==i&&(t.audioCodec||"").substring(0,4)!==i.substring(0,4)||void 0!==n&&n!==(t.channels||"2"))}function $ke(e,t,i){for(let n=t;n>-1;n--)if(i(e[n]))return n;for(let n=t+1;n<e.length;n++)if(i(e[n]))return n;return-1}class Fke{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var Bke="NOT_LOADED",zke="APPENDING",jke="PARTIAL",Vke="OK";class Uke{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(mbe.BUFFER_APPENDED,this.onBufferAppended,this),e.on(mbe.FRAG_BUFFERED,this.onFragBuffered,this),e.on(mbe.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(mbe.BUFFER_APPENDED,this.onBufferAppended,this),e.off(mbe.FRAG_BUFFERED,this.onFragBuffered,this),e.off(mbe.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const i=this.activePartLists[t];if(i)for(let n=i.length;n--;){const t=i[n];if(!t)break;const o=t.end;if(t.start<=e&&null!==o&&e<=o)return t}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){const{fragments:i}=this,n=Object.keys(i);for(let o=n.length;o--;){const r=i[n[o]];if((null==r?void 0:r.body.type)===t&&r.buffered){const t=r.body;if(t.start<=e&&e<=t.end)return t}}return null}detectEvictedFragments(e,t,i,n){this.timeRanges&&(this.timeRanges[e]=t);const o=(null==n?void 0:n.fragment.sn)||-1;Object.keys(this.fragments).forEach((n=>{const r=this.fragments[n];if(!r)return;if(o>=r.body.sn)return;if(!r.buffered&&!r.loaded)return void(r.body.type===i&&this.removeFragment(r.body));const s=r.range[e];s&&s.time.some((e=>{const i=!this.isTimeBuffered(e.startPTS,e.endPTS,t);return i&&this.removeFragment(r.body),i}))}))}detectPartialFragments(e){const t=this.timeRanges,{frag:i,part:n}=e;if(!t||"initSegment"===i.sn)return;const o=qke(i),r=this.fragments[o];if(!r||r.buffered&&i.gap)return;const s=!i.relurl;if(Object.keys(t).forEach((e=>{const o=i.elementaryStreams[e];if(!o)return;const a=t[e],l=s||!0===o.partial;r.range[e]=this.getBufferedTimes(i,n,l,a)})),r.loaded=null,Object.keys(r.range).length){r.buffered=!0;(r.body.endList=i.endList||r.body.endList)&&(this.endListFragments[r.body.type]=r),Hke(r)||this.removeParts(i.sn-1,i.type)}else this.removeFragment(r.body)}removeParts(e,t){const i=this.activePartLists[t];i&&(this.activePartLists[t]=i.filter((t=>t.fragment.sn>=e)))}fragBuffered(e,t){const i=qke(e);let n=this.fragments[i];!n&&t&&(n=this.fragments[i]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),n&&(n.loaded=null,n.buffered=!0)}getBufferedTimes(e,t,i,n){const o={time:[],partial:i},r=e.start,s=e.end,a=e.minEndPTS||s,l=e.maxStartPTS||r;for(let c=0;c<n.length;c++){const e=n.start(c)-this.bufferPadding,t=n.end(c)+this.bufferPadding;if(l>=e&&a<=t){o.time.push({startPTS:Math.max(r,n.start(c)),endPTS:Math.min(s,n.end(c))});break}if(r<t&&s>e){const e=Math.max(r,n.start(c)),t=Math.min(s,n.end(c));t>e&&(o.partial=!0,o.time.push({startPTS:e,endPTS:t}))}else if(s<=e)break}return o}getPartialFragment(e){let t,i,n,o=null,r=0;const{bufferPadding:s,fragments:a}=this;return Object.keys(a).forEach((l=>{const c=a[l];c&&Hke(c)&&(i=c.body.start-s,n=c.body.end+s,e>=i&&e<=n&&(t=Math.min(e-i,n-e),r<=t&&(o=c.body,r=t)))})),o}isEndListAppended(e){const t=this.endListFragments[e];return void 0!==t&&(t.buffered||Hke(t))}getState(e){const t=qke(e),i=this.fragments[t];return i?i.buffered?Hke(i)?jke:Vke:zke:Bke}isTimeBuffered(e,t,i){let n,o;for(let r=0;r<i.length;r++){if(n=i.start(r)-this.bufferPadding,o=i.end(r)+this.bufferPadding,e>=n&&t<=o)return!0;if(t<=n)return!1}return!1}onFragLoaded(e,t){const{frag:i,part:n}=t;if("initSegment"===i.sn||i.bitrateTest)return;const o=n?null:t,r=qke(i);this.fragments[r]={body:i,appendedPTS:null,loaded:o,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:i,part:n,timeRanges:o}=t;if("initSegment"===i.sn)return;const r=i.type;if(n){let e=this.activePartLists[r];e||(this.activePartLists[r]=e=[]),e.push(n)}this.timeRanges=o,Object.keys(o).forEach((e=>{const t=o[e];this.detectEvictedFragments(e,t,r,n)}))}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=qke(e);return!!this.fragments[t]}hasParts(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)}removeFragmentsInRange(e,t,i,n,o){n&&!this.hasGaps||Object.keys(this.fragments).forEach((r=>{const s=this.fragments[r];if(!s)return;const a=s.body;a.type!==i||n&&!a.gap||a.start<t&&a.end>e&&(s.buffered||o)&&this.removeFragment(a)}))}removeFragment(e){const t=qke(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const i=this.activePartLists[e.type];if(i){const t=e.sn;this.activePartLists[e.type]=i.filter((e=>e.fragment.sn!==t))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Hke(e){var t,i,n;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(i=e.range.audio)?void 0:i.partial)||(null==(n=e.range.audiovideo)?void 0:n.partial))}function qke(e){return`${e.type}_${e.level}_${e.sn}`}const Gke={length:0,start:()=>0,end:()=>0};class Wke{static isBuffered(e,t){try{if(e){const i=Wke.getBuffered(e);for(let e=0;e<i.length;e++)if(t>=i.start(e)&&t<=i.end(e))return!0}}catch(i){}return!1}static bufferInfo(e,t,i){try{if(e){const n=Wke.getBuffered(e),o=[];let r;for(r=0;r<n.length;r++)o.push({start:n.start(r),end:n.end(r)});return this.bufferedInfo(o,t,i)}}catch(n){}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(e,t,i){t=Math.max(0,t),e.sort((function(e,t){const i=e.start-t.start;return i||t.end-e.end}));let n=[];if(i)for(let l=0;l<e.length;l++){const t=n.length;if(t){const o=n[t-1].end;e[l].start-o<i?e[l].end>o&&(n[t-1].end=e[l].end):n.push(e[l])}else n.push(e[l])}else n=e;let o,r=0,s=t,a=t;for(let l=0;l<n.length;l++){const e=n[l].start,c=n[l].end;if(t+i>=e&&t<c)s=e,a=c,r=a-t;else if(t+i<e){o=e;break}}return{len:r,start:s||0,end:a||0,nextStart:o}}static getBuffered(e){try{return e.buffered}catch(f1){return wbe.log("failed to get media.buffered",f1),Gke}}}class Yke{constructor(e,t,i,n=0,o=-1,r=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=i,this.size=n,this.part=o,this.partial=r}}function Kke(e,t){for(let n=0,o=e.length;n<o;n++){var i;if((null==(i=e[n])?void 0:i.cc)===t)return e[n]}return null}function Qke(e,t){if(e){const i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}}function Xke(e,t){const i=t.fragments;for(let n=0,o=i.length;n<o;n++)Qke(i[n],e);t.fragmentHint&&Qke(t.fragmentHint,e),t.alignedSliding=!0}function Jke(e,t,i){t&&(!function(e,t,i){if(function(e,t,i){return!(!t||!(i.endCC>i.startCC||e&&e.cc<i.startCC))}(e,i,t)){const e=function(e,t){const i=e.fragments,n=t.fragments;if(!n.length||!i.length)return void wbe.log("No fragments to align");const o=Kke(i,n[0].cc);if(o&&(!o||o.startPTS))return o;wbe.log("No frag in previous level to align on")}(i,t);e&&ube(e.start)&&(wbe.log(`Adjusting PTS using last level due to CC increase within current level ${t.url}`),Xke(e.start,t))}}(e,i,t),!i.alignedSliding&&t&&Zke(i,t),i.alignedSliding||!t||i.skippedSegments||oke(t,i))}function Zke(e,t){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;const i=e.fragments,n=t.fragments;if(!i.length||!n.length)return;let o,r;const s=Math.min(t.endCC,e.endCC);t.startCC<s&&e.startCC<s&&(o=Kke(n,s),r=Kke(i,s)),o&&r||(o=n[Math.floor(n.length/2)],r=Kke(i,o.cc)||i[Math.floor(i.length/2)]);const a=o.programDateTime,l=r.programDateTime;if(!a||!l)return;Xke((l-a)/1e3-(r.start-o.start),e)}const ewe=Math.pow(2,17);class twe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const i=e.url;if(!i)return Promise.reject(new owe({type:fbe.NETWORK_ERROR,details:gbe.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a "+(i?"part list":"url")),networkDetails:null}));this.abort();const n=this.config,o=n.fLoader,r=n.loader;return new Promise(((s,a)=>{if(this.loader&&this.loader.destroy(),e.gap){if(e.tagList.some((e=>"GAP"===e[0])))return void a(nwe(e));e.gap=!1}const l=this.loader=e.loader=o?new o(n):new r(n),c=iwe(e),d=hke(n.fragLoadPolicy.default),u={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:ewe};e.stats=l.stats,l.load(c,u,{onSuccess:(t,i,n,o)=>{this.resetLoader(e,l);let r=t.data;n.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(r.slice(0,16)),r=r.slice(16)),s({frag:e,part:null,payload:r,networkDetails:o})},onError:(t,n,o,r)=>{this.resetLoader(e,l),a(new owe({type:fbe.NETWORK_ERROR,details:gbe.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:abe({url:i,data:void 0},t),error:new Error(`HTTP Error ${t.code} ${t.text}`),networkDetails:o,stats:r}))},onAbort:(t,i,n)=>{this.resetLoader(e,l),a(new owe({type:fbe.NETWORK_ERROR,details:gbe.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:n,stats:t}))},onTimeout:(t,i,n)=>{this.resetLoader(e,l),a(new owe({type:fbe.NETWORK_ERROR,details:gbe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${u.timeout}ms`),networkDetails:n,stats:t}))},onProgress:(i,n,o,r)=>{t&&t({frag:e,part:null,payload:o,networkDetails:r})}})}))}loadPart(e,t,i){this.abort();const n=this.config,o=n.fLoader,r=n.loader;return new Promise(((s,a)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap)return void a(nwe(e,t));const l=this.loader=e.loader=o?new o(n):new r(n),c=iwe(e,t),d=hke(n.fragLoadPolicy.default),u={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:ewe};t.stats=l.stats,l.load(c,u,{onSuccess:(n,o,r,a)=>{this.resetLoader(e,l),this.updateStatsFromPart(e,t);const c={frag:e,part:t,payload:n.data,networkDetails:a};i(c),s(c)},onError:(i,n,o,r)=>{this.resetLoader(e,l),a(new owe({type:fbe.NETWORK_ERROR,details:gbe.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:abe({url:c.url,data:void 0},i),error:new Error(`HTTP Error ${i.code} ${i.text}`),networkDetails:o,stats:r}))},onAbort:(i,n,o)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,l),a(new owe({type:fbe.NETWORK_ERROR,details:gbe.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:o,stats:i}))},onTimeout:(i,n,o)=>{this.resetLoader(e,l),a(new owe({type:fbe.NETWORK_ERROR,details:gbe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${u.timeout}ms`),networkDetails:o,stats:i}))}})}))}updateStatsFromPart(e,t){const i=e.stats,n=t.stats,o=n.total;if(i.loaded+=n.loaded,o){const n=Math.round(e.duration/t.duration),r=Math.min(Math.round(i.loaded/o),n),s=(n-r)*Math.round(i.loaded/r);i.total=i.loaded+s}else i.total=Math.max(i.loaded,i.total);const r=i.loading,s=n.loading;r.start?r.first+=s.first-s.start:(r.start=s.start,r.first=s.first),r.end=s.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function iwe(e,t=null){const i=t||e,n={frag:e,part:t,responseType:"arraybuffer",url:i.url,headers:{},rangeStart:0,rangeEnd:0},o=i.byteRangeStartOffset,r=i.byteRangeEndOffset;if(ube(o)&&ube(r)){var s;let t=o,i=r;if("initSegment"===e.sn&&"AES-128"===(null==(s=e.decryptdata)?void 0:s.method)){const e=r-o;e%16&&(i=r+(16-e%16)),0!==o&&(n.resetIV=!0,t=o-16)}n.rangeStart=t,n.rangeEnd=i}return n}function nwe(e,t){const i=new Error(`GAP ${e.gap?"tag":"attribute"} found`),n={type:fbe.MEDIA_ERROR,details:gbe.FRAG_GAP,fatal:!1,frag:e,error:i,networkDetails:null};return t&&(n.part=t),(t||e).stats.aborted=!0,new owe(n)}class owe extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class rwe{constructor(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}decrypt(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}class swe{constructor(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class awe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),i=new Uint32Array(4);for(let n=0;n<4;n++)i[n]=t.getUint32(4*n);return i}initTable(){const e=this.sBox,t=this.invSBox,i=this.subMix,n=i[0],o=i[1],r=i[2],s=i[3],a=this.invSubMix,l=a[0],c=a[1],d=a[2],u=a[3],h=new Uint32Array(256);let p=0,m=0,f=0;for(f=0;f<256;f++)h[f]=f<128?f<<1:f<<1^283;for(f=0;f<256;f++){let i=m^m<<1^m<<2^m<<3^m<<4;i=i>>>8^255&i^99,e[p]=i,t[i]=p;const a=h[p],f=h[a],g=h[f];let b=257*h[i]^16843008*i;n[p]=b<<24|b>>>8,o[p]=b<<16|b>>>16,r[p]=b<<8|b>>>24,s[p]=b,b=16843009*g^65537*f^257*a^16843008*p,l[i]=b<<24|b>>>8,c[i]=b<<16|b>>>16,d[i]=b<<8|b>>>24,u[i]=b,p?(p=a^h[h[h[g^a]]],m^=h[h[m]]):p=m=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let i=!0,n=0;for(;n<t.length&&i;)i=t[n]===this.key[n],n++;if(i)return;this.key=t;const o=this.keySize=t.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);const r=this.ksRows=4*(o+6+1);let s,a;const l=this.keySchedule=new Uint32Array(r),c=this.invKeySchedule=new Uint32Array(r),d=this.sBox,u=this.rcon,h=this.invSubMix,p=h[0],m=h[1],f=h[2],g=h[3];let b,v;for(s=0;s<r;s++)s<o?b=l[s]=t[s]:(v=b,s%o==0?(v=v<<8|v>>>24,v=d[v>>>24]<<24|d[v>>>16&255]<<16|d[v>>>8&255]<<8|d[255&v],v^=u[s/o|0]<<24):o>6&&s%o==4&&(v=d[v>>>24]<<24|d[v>>>16&255]<<16|d[v>>>8&255]<<8|d[255&v]),l[s]=b=(l[s-o]^v)>>>0);for(a=0;a<r;a++)s=r-a,v=3&a?l[s]:l[s-4],c[a]=a<4||s<=4?v:p[d[v>>>24]]^m[d[v>>>16&255]]^f[d[v>>>8&255]]^g[d[255&v]],c[a]=c[a]>>>0}networkToHostOrderSwap(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}decrypt(e,t,i){const n=this.keySize+6,o=this.invKeySchedule,r=this.invSBox,s=this.invSubMix,a=s[0],l=s[1],c=s[2],d=s[3],u=this.uint8ArrayToUint32Array_(i);let h=u[0],p=u[1],m=u[2],f=u[3];const g=new Int32Array(e),b=new Int32Array(g.length);let v,y,k,w,x,_,E,C,A,T,S,I,P,D;const R=this.networkToHostOrderSwap;for(;t<g.length;){for(A=R(g[t]),T=R(g[t+1]),S=R(g[t+2]),I=R(g[t+3]),x=A^o[0],_=I^o[1],E=S^o[2],C=T^o[3],P=4,D=1;D<n;D++)v=a[x>>>24]^l[_>>16&255]^c[E>>8&255]^d[255&C]^o[P],y=a[_>>>24]^l[E>>16&255]^c[C>>8&255]^d[255&x]^o[P+1],k=a[E>>>24]^l[C>>16&255]^c[x>>8&255]^d[255&_]^o[P+2],w=a[C>>>24]^l[x>>16&255]^c[_>>8&255]^d[255&E]^o[P+3],x=v,_=y,E=k,C=w,P+=4;v=r[x>>>24]<<24^r[_>>16&255]<<16^r[E>>8&255]<<8^r[255&C]^o[P],y=r[_>>>24]<<24^r[E>>16&255]<<16^r[C>>8&255]<<8^r[255&x]^o[P+1],k=r[E>>>24]<<24^r[C>>16&255]<<16^r[x>>8&255]<<8^r[255&_]^o[P+2],w=r[C>>>24]<<24^r[x>>16&255]<<16^r[_>>8&255]<<8^r[255&E]^o[P+3],b[t]=R(v^h),b[t+1]=R(w^p),b[t+2]=R(k^m),b[t+3]=R(y^f),h=A,p=T,m=S,f=I,t+=4}return b.buffer}}class lwe{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const e=self.crypto;e&&(this.subtle=e.subtle||e.webkitSubtle)}catch(f1){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const i=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?function(e){const t=e.byteLength,i=t&&new DataView(e.buffer).getUint8(t-1);return i?eve(e,0,t-i):e}(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,i){return this.useSoftware?new Promise(((n,o)=>{this.softwareDecrypt(new Uint8Array(e),t,i);const r=this.flush();r?n(r.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,i)}softwareDecrypt(e,t,i){const{currentIV:n,currentResult:o,remainderData:r}=this;this.logOnce("JS AES decrypt"),r&&(e=$ve(r,e),this.remainderData=null);const s=this.getValidChunk(e);if(!s.length)return null;n&&(i=n);let a=this.softwareDecrypter;a||(a=this.softwareDecrypter=new awe),a.expandKey(t);const l=o;return this.currentResult=a.decrypt(s.buffer,0,i),this.currentIV=eve(s,-16).buffer,l||null}webCryptoDecrypt(e,t,i){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,i));this.key=t,this.fastAesKey=new swe(this.subtle,t)}return this.fastAesKey.expandKey().then((t=>{if(!this.subtle)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new rwe(this.subtle,new Uint8Array(i)).decrypt(e.buffer,t)})).catch((n=>(wbe.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${n.name}: ${n.message}`),this.onWebCryptoError(e,t,i))))}onWebCryptoError(e,t,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,i);const n=this.flush();if(n)return n.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let t=e;const i=e.length-e.length%16;return i!==e.length&&(t=eve(e,0,i),this.remainderData=eve(e,i)),t}logOnce(e){this.logEnabled&&(wbe.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const cwe=function(e){let t="";const i=e.length;for(let n=0;n<i;n++)t+=`[${e.start(n).toFixed(3)}-${e.end(n).toFixed(3)}]`;return t},dwe="STOPPED",uwe="IDLE",hwe="KEY_LOADING",pwe="FRAG_LOADING",mwe="FRAG_LOADING_WAITING_RETRY",fwe="WAITING_TRACK",gwe="PARSING",bwe="PARSED",vwe="ENDED",ywe="ERROR",kwe="WAITING_INIT_PTS",wwe="WAITING_LEVEL";class xwe extends Fke{constructor(e,t,i,n,o){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=dwe,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=o,this.logPrefix=n,this.log=wbe.log.bind(wbe,`${n}:`),this.warn=wbe.warn.bind(wbe,`${n}:`),this.hls=e,this.fragmentLoader=new twe(e.config),this.keyLoader=i,this.fragmentTracker=t,this.config=e.config,this.decrypter=new lwe(e.config),e.on(mbe.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=dwe}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}_streamEnded(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;const i=t.partList;if(null!=i&&i.length){const e=i[i.length-1];return Wke.isBuffered(this.media,e.start+e.duration/2)}const n=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(n)}getLevelDetails(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levelLastLoaded)?void 0:e.details}onMediaAttached(e,t){const i=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);const n=this.config;this.levels&&n.autoStartLoad&&this.state===dwe&&this.startLoad(n.startPosition)}onMediaDetaching(){const e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:t,media:i,mediaBuffer:n,state:o}=this,r=i?i.currentTime:0,s=Wke.bufferInfo(n||i,r,e.maxBufferHole);if(this.log(`media seeking to ${ube(r)?r.toFixed(3):r}, state: ${o}`),this.state===vwe)this.resetLoadingState();else if(t){const i=e.maxFragLookUpTolerance,n=t.start-i,o=t.start+t.duration+i;if(!s.len||o<s.start||n>s.end){const e=r>o;(r<n||e)&&(e&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(r,1/0,this.playlistType,!0),this.lastCurrentTime=r),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=r),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(mbe.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=dwe,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,i){this._loadFragForPlayback(e,t,i)}_loadFragForPlayback(e,t,i){this._doFragLoad(e,t,i,(t=>{if(this.fragContextChanged(e))return this.warn(`Fragment ${e.sn}${t.part?" p: "+t.part.index:""} of level ${e.level} was dropped during download.`),void this.fragmentTracker.removeFragment(e);e.stats.chunkCount++,this._handleFragmentLoadProgress(t)})).then((t=>{if(!t)return;const i=this.state;this.fragContextChanged(e)?(i===pwe||!this.fragCurrent&&i===gwe)&&(this.fragmentTracker.removeFragment(e),this.state=uwe):("payload"in t&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(mbe.FRAG_LOADED,t)),this._handleFragmentLoadComplete(t))})).catch((t=>{this.state!==dwe&&this.state!==ywe&&(this.warn(`Frag error: ${(null==t?void 0:t.message)||t}`),this.resetFragmentLoading(e))}))}clearTrackerIfNeeded(e){var t;const{fragmentTracker:i}=this;if(i.getState(e)===zke){const t=e.type,n=this.getFwdBufferInfo(this.mediaBuffer,t),o=Math.max(e.duration,n?n.len:this.config.maxBufferLength),r=this.backtrackFragment;(1===(r?e.sn-r.sn:0)||this.reduceMaxBufferLength(o,e.duration))&&i.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?i.removeAllFragments():i.hasParts(e.type)&&(i.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),i.getState(e)===jke&&i.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,t,i=null){if(!(e-t))return;const n={startOffset:e,endOffset:t,type:i};this.hls.trigger(mbe.BUFFER_FLUSHING,n)}_loadInitSegment(e,t){this._doFragLoad(e,t).then((t=>{if(!t||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return t})).then((t=>{const{hls:i}=this,{payload:n}=t,o=e.decryptdata;if(n&&n.byteLength>0&&null!=o&&o.key&&o.iv&&"AES-128"===o.method){const r=self.performance.now();return this.decrypter.decrypt(new Uint8Array(n),o.key.buffer,o.iv.buffer).catch((t=>{throw i.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((n=>{const o=self.performance.now();return i.trigger(mbe.FRAG_DECRYPTED,{frag:e,payload:n,stats:{tstart:r,tdecrypt:o}}),t.payload=n,this.completeInitSegmentLoad(t)}))}return this.completeInitSegmentLoad(t)})).catch((t=>{this.state!==dwe&&this.state!==ywe&&(this.warn(t),this.resetFragmentLoading(e))}))}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const i=e.frag.stats;this.state=uwe,e.frag.data=new Uint8Array(e.payload),i.parsing.start=i.buffering.start=self.performance.now(),i.parsing.end=i.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){var i,n,o,r;const s=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.playlistType===Aye?"level":"track"} ${e.level} (frag:[${(null!=(i=e.startPTS)?i:NaN).toFixed(3)}-${(null!=(n=e.endPTS)?n:NaN).toFixed(3)}] > buffer:${s?cwe(Wke.getBuffered(s)):"(detached)"})`),"initSegment"!==e.sn){var a;if(e.type!==Sye){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return void(this.state=uwe)}const t=null==(a=this.levels)?void 0:a[e.level];null!=t&&t.fragmentError&&(this.log(`Resetting level fragment error count of ${t.fragmentError} on frag buffered`),t.fragmentError=0)}this.state=uwe,s&&(!this.loadedmetadata&&e.type==Aye&&s.buffered.length&&(null==(o=this.fragCurrent)?void 0:o.sn)===(null==(r=this.fragPrevious)?void 0:r.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:i,part:n,partsLoaded:o}=e,r=!o||0===o.length||o.some((e=>!e)),s=new Yke(i.level,i.sn,i.stats.chunkCount+1,0,n?n.index:-1,!r);t.flush(s)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,i=null,n){var o;const r=null==t?void 0:t.details;if(!this.levels||!r)throw new Error(`frag load aborted, missing level${r?"":" detail"}s`);let s=null;if(!e.encrypted||null!=(o=e.decryptdata)&&o.key?!e.encrypted&&r.encryptedFragments.length&&this.keyLoader.loadClear(e,r.encryptedFragments):(this.log(`Loading key for ${e.sn} of [${r.startSN}-${r.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${e.level}`),this.state=hwe,this.fragCurrent=e,s=this.keyLoader.load(e).then((e=>{if(!this.fragContextChanged(e.frag))return this.hls.trigger(mbe.KEY_LOADED,e),this.state===hwe&&(this.state=uwe),e})),this.hls.trigger(mbe.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(s=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(e.start,i||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){const o=r.partList;if(o&&n){i>e.end&&r.fragmentHint&&(e=r.fragmentHint);const a=this.getNextPart(o,e,i);if(a>-1){const l=o[a];let c;return this.log(`Loading part sn: ${e.sn} p: ${l.index} cc: ${e.cc} of playlist [${r.startSN}-${r.endSN}] parts [0-${a}-${o.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=l.start+l.duration,this.state=pwe,c=s?s.then((i=>!i||this.fragContextChanged(i.frag)?null:this.doFragPartsLoad(e,l,t,n))).catch((e=>this.handleFragLoadError(e))):this.doFragPartsLoad(e,l,t,n).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(mbe.FRAG_LOADING,{frag:e,part:l,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!e.url||this.loadedEndOfParts(o,i))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${r?"of ["+r.startSN+"-"+r.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),ube(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=pwe;const a=this.config.progressive;let l;return l=a&&s?s.then((t=>!t||this.fragContextChanged(null==t?void 0:t.frag)?null:this.fragmentLoader.load(e,n))).catch((e=>this.handleFragLoadError(e))):Promise.all([this.fragmentLoader.load(e,a?n:void 0),s]).then((([e])=>(!a&&e&&n&&n(e),e))).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(mbe.FRAG_LOADING,{frag:e,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):l}doFragPartsLoad(e,t,i,n){return new Promise(((o,r)=>{var s;const a=[],l=null==(s=i.details)?void 0:s.partList,c=t=>{this.fragmentLoader.loadPart(e,t,n).then((n=>{a[t.index]=n;const r=n.part;this.hls.trigger(mbe.FRAG_LOADED,n);const s=ske(i,e.sn,t.index+1)||ake(l,e.sn,t.index+1);if(!s)return o({frag:e,part:r,partsLoaded:a});c(s)})).catch(r)};c(t)}))}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===gbe.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(mbe.ERROR,t)}else this.hls.trigger(mbe.ERROR,{type:fbe.OTHER_ERROR,details:gbe.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==gwe)return void(this.fragCurrent||this.state===dwe||this.state===ywe||(this.state=uwe));const{frag:i,part:n,level:o}=t,r=self.performance.now();i.stats.parsing.end=r,n&&(n.stats.parsing.end=r),this.updateLevelTiming(i,n,o,e.partial)}getCurrentContext(e){const{levels:t,fragCurrent:i}=this,{level:n,sn:o,part:r}=e;if(null==t||!t[n])return this.warn(`Levels object was unset while buffering fragment ${o} of level ${n}. The current chunk will not be buffered.`),null;const s=t[n],a=r>-1?ske(s,o,r):null,l=a?a.fragment:function(e,t,i){if(null==e||!e.details)return null;const n=e.details;let o=n.fragments[t-n.startSN];return o||(o=n.fragmentHint,o&&o.sn===t?o:t<n.startSN&&i&&i.sn===t?i:null)}(s,o,i);return l?(i&&i!==l&&(l.stats=i.stats),{frag:l,part:a,level:s}):null}bufferFragmentData(e,t,i,n,o){var r;if(!e||this.state!==gwe)return;const{data1:s,data2:a}=e;let l=s;if(s&&a&&(l=$ve(s,a)),null==(r=l)||!r.length)return;const c={type:e.type,frag:t,part:i,chunkMeta:n,parent:t.type,data:l};if(this.hls.trigger(mbe.BUFFER_APPENDING,c),e.dropped&&e.independent&&!i){if(o)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!Wke.isBuffered(t,t.currentTime))return void this.flushMainBuffer(0,e.start);const i=t.currentTime,n=Wke.bufferInfo(t,i,0),o=e.duration,r=Math.min(2*this.config.maxFragLookUpTolerance,.25*o),s=Math.max(Math.min(e.start-r,n.end-r),i+r);e.start-s>r&&this.flushMainBuffer(s,e.start)}getFwdBufferInfo(e,t){const i=this.getLoadPosition();return ube(i)?this.getFwdBufferInfoAtPos(e,i,t):null}getFwdBufferInfoAtPos(e,t,i){const{config:{maxBufferHole:n}}=this,o=Wke.bufferInfo(e,t,n);if(0===o.len&&void 0!==o.nextStart){const r=this.fragmentTracker.getBufferedFrag(t,i);if(r&&o.nextStart<r.end)return Wke.bufferInfo(e,t,Math.max(o.nextStart,n))}return o}getMaxBufferLength(e){const{config:t}=this;let i;return i=e?Math.max(8*t.maxBufferSize/e,t.maxBufferLength):t.maxBufferLength,Math.min(i,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const i=this.config,n=Math.max(Math.min(e-t,i.maxBufferLength),t),o=Math.max(e-3*t,i.maxMaxBufferLength/2,n);return o>=n&&(i.maxMaxBufferLength=o,this.warn(`Reduce max buffer length to ${o}s`),!0)}getAppendedFrag(e,t=Aye){const i=this.fragmentTracker.getAppendedFrag(e,Aye);return i&&"fragment"in i?i.fragment:i}getNextFragment(e,t){const i=t.fragments,n=i.length;if(!n)return null;const{config:o}=this,r=i[0].start;let s;if(t.live){const a=o.initialLiveManifestSize;if(n<a)return this.warn(`Not enough fragments to start playback (have: ${n}, need: ${a})`),null;(!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||e<r)&&(s=this.getInitialLiveFragment(t,i),this.startPosition=this.nextLoadPosition=s?this.hls.liveSyncPosition||s.start:e)}else e<=r&&(s=i[0]);if(!s){const i=o.lowLatencyMode?t.partEnd:t.fragmentEnd;s=this.getFragmentAtPosition(e,i,t)}return this.mapToInitFragWhenRequired(s)}isLoopLoading(e,t){const i=this.fragmentTracker.getState(e);return(i===Vke||i===jke&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,i,n,o){const r=e.gap,s=this.getNextFragment(this.nextLoadPosition,t);if(null===s)return s;if(e=s,r&&e&&!e.gap&&i.nextStart){const t=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,n);if(null!==t&&i.len+t.len>=o)return this.log(`buffer full after gaps in "${n}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment}getNextPart(e,t,i){let n=-1,o=!1,r=!0;for(let s=0,a=e.length;s<a;s++){const a=e[s];if(r=r&&!a.independent,n>-1&&i<a.start)break;const l=a.loaded;l?n=-1:(o||a.independent||r)&&a.fragment===t&&(n=s),o=l}return n}loadedEndOfParts(e,t){const i=e[e.length-1];return i&&t>i.start&&i.loaded}getInitialLiveFragment(e,t){const i=this.fragPrevious;let n=null;if(i){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),n=function(e,t,i){if(null===t||!Array.isArray(e)||!e.length||!ube(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;i=i||0;for(let n=0;n<e.length;++n){const o=e[n];if(bke(t,i,o))return o}return null}(t,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){const o=i.sn+1;if(o>=e.startSN&&o<=e.endSN){const r=t[o-e.startSN];i.cc===r.cc&&(n=r,this.log(`Live playlist, switching playlist, load frag with next SN: ${n.sn}`))}n||(n=function(e,t){return mke(e,(e=>e.cc<t?1:e.cc>t?-1:0))}(t,i.cc),n&&this.log(`Live playlist, switching playlist, load frag with same CC: ${n.sn}`))}}else{const t=this.hls.liveSyncPosition;null!==t&&(n=this.getFragmentAtPosition(t,this.bitrateTest?e.fragmentEnd:e.edge,e))}return n}getFragmentAtPosition(e,t,i){const{config:n}=this;let{fragPrevious:o}=this,{fragments:r,endSN:s}=i;const{fragmentHint:a}=i,{maxFragLookUpTolerance:l}=n,c=i.partList,d=!!(n.lowLatencyMode&&null!=c&&c.length&&a);let u;if(d&&a&&!this.bitrateTest&&(r=r.concat(a),s=a.sn),e<t){u=fke(o,r,e,e>t-l?0:l)}else u=r[r.length-1];if(u){const e=u.sn-i.startSN,t=this.fragmentTracker.getState(u);if((t===Vke||t===jke&&u.gap)&&(o=u),o&&u.sn===o.sn&&(!d||c[0].fragment.sn>u.sn)){if(o&&u.level===o.level){const t=r[e+1];u=u.sn<s&&this.fragmentTracker.getState(t)!==Vke?t:null}}}return u}synchronizeToLiveEdge(e){const{config:t,media:i}=this;if(!i)return;const n=this.hls.liveSyncPosition,o=i.currentTime,r=e.fragments[0].start,s=e.edge,a=o>=r-t.maxFragLookUpTolerance&&o<=s;if(null!==n&&i.duration>n&&(o<n||!a)){const r=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!a&&i.readyState<4||o<s-r)&&(this.loadedmetadata||(this.nextLoadPosition=n),i.readyState&&(this.warn(`Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${s}, reset currentTime to : ${n.toFixed(3)}`),i.currentTime=n))}}alignPlaylists(e,t,i){const n=e.fragments.length;if(!n)return this.warn("No fragments in live playlist"),0;const o=e.fragments[0].start,r=!t,s=e.alignedSliding&&ube(o);if(r||!s&&!o){const{fragPrevious:o}=this;Jke(o,i,e);const r=e.fragments[0].start;return this.log(`Live playlist sliding: ${r.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} prev-sn: ${o?o.sn:"na"} fragments: ${n}`),r}return o}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)}setStartPosition(e,t){let i=this.startPosition;if(i<t&&(i=-1),-1===i||-1===this.lastCurrentTime){const n=null!==this.startTimeOffset,o=n?this.startTimeOffset:e.startTimeOffset;null!==o&&ube(o)?(i=t+o,o<0&&(i+=e.totalduration),i=Math.min(Math.max(t,i),t+e.totalduration),this.log(`Start time offset ${o} found in ${n?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):e.live?i=this.hls.liveSyncPosition||t:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){const{media:e}=this;let t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${t?" part "+t.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===mwe)||(this.state=uwe)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const e=this.getCurrentContext(t.chunkMeta);e&&(t.frag=e.frag)}const i=t.frag;if(!i||i.type!==e||!this.levels)return;var n;if(this.fragContextChanged(i))return void this.warn(`Frag load error must match current frag to retry ${i.url} > ${null==(n=this.fragCurrent)?void 0:n.url}`);const o=t.details===gbe.FRAG_GAP;o&&this.fragmentTracker.fragBuffered(i,!0);const r=t.errorAction,{action:s,retryCount:a=0,retryConfig:l}=r||{};if(r&&s===wke&&l){this.resetStartWhenNotLoaded(this.levelLastLoaded);const n=uke(l,a);this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${t.details}, retrying loading ${a+1}/${l.maxNumRetry} in ${n}ms`),r.resolved=!0,this.retryDate=self.performance.now()+n,this.state=mwe}else if(l&&r){if(this.resetFragmentErrors(e),!(a<l.maxNumRetry))return void wbe.warn(`${t.details} reached or exceeded max retry (${a})`);o||s===kke||(r.resolved=!0)}else(null==r?void 0:r.action)===yke?this.state=wwe:this.state=ywe;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===gwe||this.state===bwe){const t=e.frag,i=e.parent,n=this.getFwdBufferInfo(this.mediaBuffer,i),o=n&&n.len>.5;o&&this.reduceMaxBufferLength(n.len,(null==t?void 0:t.duration)||10);const r=!o;return r&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${i} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),r}return!1}resetFragmentErrors(e){e===Tye&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==dwe&&(this.state=uwe)}afterBufferFlushed(e,t,i){if(!e)return;const n=Wke.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,n,i),this.state===vwe&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=uwe}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const t=e?e.details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,i,n){var o;const r=i.details;if(!r)return void this.warn("level.details undefined");const s=Object.keys(e.elementaryStreams).reduce(((t,o)=>{const s=e.elementaryStreams[o];if(s){const a=s.endPTS-s.startPTS;if(a<=0)return this.warn(`Could not parse fragment ${e.sn} ${o} duration reliably (${a})`),t||!1;const l=n?0:ike(r,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return this.hls.trigger(mbe.LEVEL_PTS_UPDATED,{details:r,level:i,drift:l,type:o,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1);if(!s&&null===(null==(o=this.transmuxer)?void 0:o.error)){const t=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(0===i.fragmentError&&(i.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(t.message),this.hls.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.FRAG_PARSING_ERROR,fatal:!1,error:t,frag:e,reason:`Found no media in msn ${e.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=bwe,this.hls.trigger(mbe.FRAG_PARSED,{frag:e,part:t})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){"demuxerWorker"===e.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}class _we{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let i;return e.length?(i=1===e.length?e[0]:function(e,t){const i=new Uint8Array(t);let n=0;for(let o=0;o<e.length;o++){const t=e[o];i.set(t,n),n+=t.length}return i}(e,t),this.reset(),i):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Ewe(e="",t=9e4){return{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}class Cwe{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,i,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,i){}demux(e,t){this.cachedData&&(e=$ve(this.cachedData,e),this.cachedData=null);let i,n=nve(e,0),o=n?n.length:0;const r=this._audioTrack,s=this._id3Track,a=n?sve(n):void 0,l=e.length;for((null===this.basePTS||0===this.frameIndex&&ube(a))&&(this.basePTS=Awe(a,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),n&&n.length>0&&s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:$ye,duration:Number.POSITIVE_INFINITY});o<l;){if(this.canParse(e,o)){const t=this.appendFrame(r,e,o);t?(this.frameIndex++,this.lastPTS=t.sample.pts,o+=t.length,i=o):o=l}else rve(e,o)?(n=nve(e,o),s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:$ye,duration:Number.POSITIVE_INFINITY}),o+=n.length,i=o):o++;if(o===l&&i!==l){const t=eve(e,i);this.cachedData?this.cachedData=$ve(this.cachedData,t):this.cachedData=t}}return{audioTrack:r,videoTrack:Ewe(),id3Track:s,textTrack:Ewe()}}demuxSampleAes(e,t,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Ewe(),id3Track:this._id3Track,textTrack:Ewe()}}destroy(){}}const Awe=(e,t,i)=>{if(ube(e))return 90*e;return 9e4*t+(i?9e4*i.baseTime/i.timescale:0)};function Twe(e,t){return 255===e[t]&&240==(246&e[t+1])}function Swe(e,t){return 1&e[t+1]?7:9}function Iwe(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function Pwe(e,t){return t+1<e.length&&Twe(e,t)}function Dwe(e,t){if(Pwe(e,t)){const i=Swe(e,t);if(t+i>=e.length)return!1;const n=Iwe(e,t);if(n<=i)return!1;const o=t+n;return o===e.length||Pwe(e,o)}return!1}function Rwe(e,t,i,n,o){if(!e.samplerate){const r=function(e,t,i,n){let o,r,s,a;const l=navigator.userAgent.toLowerCase(),c=n,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&t[i+2])>>>6);const u=(60&t[i+2])>>>2;if(!(u>d.length-1))return s=(1&t[i+2])<<2,s|=(192&t[i+3])>>>6,wbe.log(`manifest codec:${n}, ADTS type:${o}, samplingIndex:${u}`),/firefox/i.test(l)?u>=6?(o=5,a=new Array(4),r=u-3):(o=2,a=new Array(2),r=u):-1!==l.indexOf("android")?(o=2,a=new Array(2),r=u):(o=5,a=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&u>=6?r=u-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(u>=6&&1===s||/vivaldi/i.test(l))||!n&&1===s)&&(o=2,a=new Array(2)),r=u)),a[0]=o<<3,a[0]|=(14&u)>>1,a[1]|=(1&u)<<7,a[1]|=s<<3,5===o&&(a[1]|=(14&r)>>1,a[2]=(1&r)<<7,a[2]|=8,a[3]=0),{config:a,samplerate:d[u],channelCount:s,codec:"mp4a.40."+o,manifestCodec:c};{const t=new Error(`invalid ADTS sampling index:${u}`);e.emit(mbe.ERROR,mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.FRAG_PARSING_ERROR,fatal:!0,error:t,reason:t.message})}}(t,i,n,o);if(!r)return;e.config=r.config,e.samplerate=r.samplerate,e.channelCount=r.channelCount,e.codec=r.codec,e.manifestCodec=r.manifestCodec,wbe.log(`parsed codec:${e.codec}, rate:${r.samplerate}, channels:${r.channelCount}`)}}function Lwe(e){return 9216e4/e}function Mwe(e,t,i,n,o){const r=n+o*Lwe(e.samplerate),s=function(e,t){const i=Swe(e,t);if(t+i<=e.length){const n=Iwe(e,t)-i;if(n>0)return{headerLength:i,frameLength:n}}}(t,i);let a;if(s){const{frameLength:n,headerLength:o}=s,l=o+n,c=Math.max(0,i+l-t.length);c?(a=new Uint8Array(l-o),a.set(t.subarray(i+o,t.length),0)):a=t.subarray(i+o,i+l);const d={unit:a,pts:r};return c||e.samples.push(d),{sample:d,length:l,missing:c}}const l=t.length-i;a=new Uint8Array(l),a.set(t.subarray(i,t.length),0);return{sample:{unit:a,pts:r},length:l,missing:-1}}let Owe=null;const Nwe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],$we=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Fwe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Bwe=[0,1,1,4];function zwe(e,t,i,n,o){if(i+24>t.length)return;const r=jwe(t,i);if(r&&i+r.frameLength<=t.length){const s=n+o*(9e4*r.samplesPerFrame/r.sampleRate),a={unit:t.subarray(i,i+r.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=r.channelCount,e.samplerate=r.sampleRate,e.samples.push(a),{sample:a,length:r.frameLength,missing:0}}}function jwe(e,t){const i=e[t+1]>>3&3,n=e[t+1]>>1&3,o=e[t+2]>>4&15,r=e[t+2]>>2&3;if(1!==i&&0!==o&&15!==o&&3!==r){const s=e[t+2]>>1&1,a=e[t+3]>>6,l=1e3*Nwe[14*(3===i?3-n:3===n?3:4)+o-1],c=$we[3*(3===i?0:2===i?1:2)+r],d=3===a?1:2,u=Fwe[i][n],h=Bwe[n],p=8*u*h,m=Math.floor(u*l/c+s)*h;if(null===Owe){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Owe=e?parseInt(e[1]):0}return!!Owe&&Owe<=87&&2===n&&l>=224e3&&0===a&&(e[t+3]=128|e[t+3]),{sampleRate:c,channelCount:d,frameLength:m,samplesPerFrame:p}}}function Vwe(e,t){return!(255!==e[t]||224&~e[t+1]||!(6&e[t+1]))}function Uwe(e,t){return t+1<e.length&&Vwe(e,t)}function Hwe(e,t){if(t+1<e.length&&Vwe(e,t)){const i=4,n=jwe(e,t);let o=i;null!=n&&n.frameLength&&(o=n.frameLength);const r=t+o;return r===e.length||Uwe(e,r)}return!1}const qwe=/\/emsg[-/]ID3/i;const Gwe=(e,t)=>{let i=0,n=5;t+=n;const o=new Uint32Array(1),r=new Uint32Array(1),s=new Uint8Array(1);for(;n>0;){s[0]=e[t];const a=Math.min(n,8),l=8-a;r[0]=4278190080>>>24+l<<l,o[0]=(s[0]&r[0])>>l,i=i?i<<a|o[0]:o[0],t+=1,n-=a}return i};class Wwe extends Cwe{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,i,n){super.resetInitSegment(e,t,i,n),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,i){const n=Ywe(e,t,i,this.basePTS,this.frameIndex);if(-1!==n){return{sample:e.samples[e.samples.length-1],length:n,missing:0}}}static probe(e){if(!e)return!1;const t=nve(e,0);if(!t)return!1;const i=t.length;return 11===e[i]&&119===e[i+1]&&void 0!==sve(t)&&Gwe(e,i)<16}}function Ywe(e,t,i,n,o){if(i+8>t.length)return-1;if(11!==t[i]||119!==t[i+1])return-1;const r=t[i+4]>>6;if(r>=3)return-1;const s=[48e3,44100,32e3][r],a=63&t[i+4],l=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*a+r];if(i+l>t.length)return-1;const c=t[i+6]>>5;let d=0;2===c?d+=2:(1&c&&1!==c&&(d+=2),4&c&&(d+=2));const u=(t[i+6]<<8|t[i+7])>>12-d&1,h=[2,1,2,3,3,4,4,5][c]+u,p=t[i+5]>>3,m=7&t[i+5],f=new Uint8Array([r<<6|p<<1|m>>2,(3&m)<<6|c<<3|u<<2|a>>4,a<<4&224]),g=n+o*(1536/s*9e4),b=t.subarray(i,i+l);return e.config=f,e.channelCount=h,e.samplerate=s,e.samples.push({unit:b,pts:g}),l}class Kwe{constructor(){this.VideoSample=null}createVideoSample(e,t,i,n){return{key:e,frame:!1,pts:t,dts:i,units:[],debug:n,length:0}}getLastNalUnit(e){var t;let i,n=this.VideoSample;if(n&&0!==n.units.length||(n=e[e.length-1]),null!=(t=n)&&t.units){const e=n.units;i=e[e.length-1]}return i}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){const i=t.samples,n=i.length;if(!n)return void t.dropped++;{const t=i[n-1];e.pts=t.pts,e.dts=t.dts}}t.samples.push(e)}e.debug.length&&wbe.log(e.pts+"/"+e.dts+":"+e.debug)}}class Qwe{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,i=e.byteLength-t,n=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");n.set(e.subarray(i,i+o)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o}skipBits(e){let t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(t=(e-=this.bitsAvailable)>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const i=this.word>>>32-t;if(e>32&&wbe.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=e-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let t,i=8,n=8;for(let o=0;o<e;o++)0!==n&&(t=this.readEG(),n=(i+t+256)%256),i=0===n?i:n}readSPS(){let e,t,i,n=0,o=0,r=0,s=0;const a=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),d=this.readBoolean.bind(this),u=this.skipBits.bind(this),h=this.skipEG.bind(this),p=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);a();const f=a();if(l(5),u(3),a(),p(),100===f||110===f||122===f||244===f||44===f||83===f||86===f||118===f||128===f){const e=c();if(3===e&&u(1),p(),p(),u(1),d())for(t=3!==e?8:12,i=0;i<t;i++)d()&&m(i<6?16:64)}p();const g=c();if(0===g)c();else if(1===g)for(u(1),h(),h(),e=c(),i=0;i<e;i++)h();p(),u(1);const b=c(),v=c(),y=l(1);0===y&&u(1),u(1),d()&&(n=c(),o=c(),r=c(),s=c());let k=[1,1];if(d()&&d()){switch(a()){case 1:k=[1,1];break;case 2:k=[12,11];break;case 3:k=[10,11];break;case 4:k=[16,11];break;case 5:k=[40,33];break;case 6:k=[24,11];break;case 7:k=[20,11];break;case 8:k=[32,11];break;case 9:k=[80,33];break;case 10:k=[18,11];break;case 11:k=[15,11];break;case 12:k=[64,33];break;case 13:k=[160,99];break;case 14:k=[4,3];break;case 15:k=[3,2];break;case 16:k=[2,1];break;case 255:k=[a()<<8|a(),a()<<8|a()]}}return{width:Math.ceil(16*(b+1)-2*n-2*o),height:(2-y)*(v+1)*16-(y?2:4)*(r+s),pixelRatio:k}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Xwe extends Kwe{parseAVCPES(e,t,i,n,o){const r=this.parseAVCNALu(e,i.data);let s,a=this.VideoSample,l=!1;i.data=null,a&&r.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts,"")),r.forEach((n=>{var r;switch(n.type){case 1:{let t=!1;s=!0;const o=n.data;if(l&&o.length>4){const e=new Qwe(o).readSliceType();2!==e&&4!==e&&7!==e&&9!==e||(t=!0)}var c;if(t)null!=(c=a)&&c.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null);a||(a=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts,"")),a.frame=!0,a.key=t;break}case 5:s=!0,null!=(r=a)&&r.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts,"")),a.key=!0,a.frame=!0;break;case 6:s=!0,zve(n.data,1,i.pts,t.samples);break;case 7:{var d,u;s=!0,l=!0;const t=n.data,i=new Qwe(t).readSPS();if(!e.sps||e.width!==i.width||e.height!==i.height||(null==(d=e.pixelRatio)?void 0:d[0])!==i.pixelRatio[0]||(null==(u=e.pixelRatio)?void 0:u[1])!==i.pixelRatio[1]){e.width=i.width,e.height=i.height,e.pixelRatio=i.pixelRatio,e.sps=[t],e.duration=o;const n=t.subarray(1,4);let r="avc1.";for(let e=0;e<3;e++){let t=n[e].toString(16);t.length<2&&(t="0"+t),r+=t}e.codec=r}break}case 8:s=!0,e.pps=[n.data];break;case 9:s=!0,e.audFound=!0,a&&this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts,"");break;case 12:s=!0;break;default:s=!1,a&&(a.debug+="unknown NAL "+n.type+" ")}if(a&&s){a.units.push(n)}})),n&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}parseAVCNALu(e,t){const i=t.byteLength;let n=e.naluState||0;const o=n,r=[];let s,a,l,c=0,d=-1,u=0;for(-1===n&&(d=0,u=31&t[0],n=0,c=1);c<i;)if(s=t[c++],n)if(1!==n)if(s)if(1===s){if(a=c-n-1,d>=0){const e={data:t.subarray(d,a),type:u};r.push(e)}else{const i=this.getLastNalUnit(e.samples);i&&(o&&c<=4-o&&i.state&&(i.data=i.data.subarray(0,i.data.byteLength-o)),a>0&&(i.data=$ve(i.data,t.subarray(0,a)),i.state=0))}c<i?(l=31&t[c],d=c,u=l,n=0):n=-1}else n=0;else n=3;else n=s?0:2;else n=s?0:1;if(d>=0&&n>=0){const e={data:t.subarray(d,i),type:u,state:n};r.push(e)}if(0===r.length){const i=this.getLastNalUnit(e.samples);i&&(i.data=$ve(i.data,t))}return e.naluState=n,r}}class Jwe{constructor(e,t,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new lwe(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,t,i){const n=e[t].unit;if(n.length<=16)return;const o=n.subarray(16,n.length-n.length%16),r=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(r).then((o=>{const r=new Uint8Array(o);n.set(r,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,i)}))}decryptAacSamples(e,t,i){for(;;t++){if(t>=e.length)return void i();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,i),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=16*Math.floor((e.length-48)/160)+16,i=new Int8Array(t);let n=0;for(let o=32;o<e.length-16;o+=160,n+=16)i.set(e.subarray(o,o+16),n);return i}getAvcDecryptedUnit(e,t){const i=new Uint8Array(t);let n=0;for(let o=32;o<e.length-16;o+=160,n+=16)e.set(i.subarray(n,n+16),o);return e}decryptAvcSample(e,t,i,n,o){const r=jve(o.data),s=this.getAvcEncryptedData(r);this.decryptBuffer(s.buffer).then((s=>{o.data=this.getAvcDecryptedUnit(r,s),this.decrypter.isSync()||this.decryptAvcSamples(e,t,i+1,n)}))}decryptAvcSamples(e,t,i,n){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,i=0){if(t>=e.length)return void n();const o=e[t].units;for(;!(i>=o.length);i++){const r=o[i];if(!(r.data.length<=48||1!==r.type&&5!==r.type||(this.decryptAvcSample(e,t,i,n,r),this.decrypter.isSync())))return}}}}const Zwe=188;class exe{constructor(e,t,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.videoParser=new Xwe}static probe(e){const t=exe.syncOffset(e);return t>0&&wbe.warn(`MPEG2-TS detected but first sync word found @ offset ${t}`),-1!==t}static syncOffset(e){const t=e.length;let i=Math.min(940,t-Zwe)+1,n=0;for(;n<i;){let o=!1,r=-1,s=0;for(let a=n;a<t;a+=Zwe){if(71!==e[a]||t-a!==Zwe&&71!==e[a+Zwe]){if(s)return-1;break}if(s++,-1===r&&(r=a,0!==r&&(i=Math.min(r+18612,e.length-Zwe)+1)),o||(o=0===txe(e,a)),o&&s>1&&(0===r&&s>2||a+Zwe>i))return r}n++}return-1}static createTrack(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:wve[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}}resetInitSegment(e,t,i,n){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=exe.createTrack("video"),this._audioTrack=exe.createTrack("audio",n),this._id3Track=exe.createTrack("id3"),this._txtTrack=exe.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=i,this._duration=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:i}=this;e&&(e.pesData=null),t&&(t.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,i=!1,n=!1){let o;i||(this.sampleAes=null);const r=this._videoTrack,s=this._audioTrack,a=this._id3Track,l=this._txtTrack;let c=r.pid,d=r.pesData,u=s.pid,h=a.pid,p=s.pesData,m=a.pesData,f=null,g=this.pmtParsed,b=this._pmtId,v=e.length;if(this.remainderData&&(v=(e=$ve(this.remainderData,e)).length,this.remainderData=null),v<Zwe&&!n)return this.remainderData=e,{audioTrack:s,videoTrack:r,id3Track:a,textTrack:l};const y=Math.max(0,exe.syncOffset(e));v-=(v-y)%Zwe,v<e.byteLength&&!n&&(this.remainderData=new Uint8Array(e.buffer,v,e.buffer.byteLength-v));let k=0;for(let x=y;x<v;x+=Zwe)if(71===e[x]){const t=!!(64&e[x+1]),n=txe(e,x);let v;if((48&e[x+3])>>4>1){if(v=x+5+e[x+4],v===x+Zwe)continue}else v=x+4;switch(n){case c:t&&(d&&(o=sxe(d))&&this.videoParser.parseAVCPES(r,l,o,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(e.subarray(v,x+Zwe)),d.size+=x+Zwe-v);break;case u:if(t){if(p&&(o=sxe(p)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,o);break;case"mp3":this.parseMPEGPES(s,o);break;case"ac3":this.parseAC3PES(s,o)}p={data:[],size:0}}p&&(p.data.push(e.subarray(v,x+Zwe)),p.size+=x+Zwe-v);break;case h:t&&(m&&(o=sxe(m))&&this.parseID3PES(a,o),m={data:[],size:0}),m&&(m.data.push(e.subarray(v,x+Zwe)),m.size+=x+Zwe-v);break;case 0:t&&(v+=e[v]+1),b=this._pmtId=ixe(e,v);break;case b:{t&&(v+=e[v]+1);const n=nxe(e,v,this.typeSupported,i,this.observer);c=n.videoPid,c>0&&(r.pid=c,r.segmentCodec=n.segmentVideoCodec),u=n.audioPid,u>0&&(s.pid=u,s.segmentCodec=n.segmentAudioCodec),h=n.id3Pid,h>0&&(a.pid=h),null===f||g||(wbe.warn(`MPEG-TS PMT found at ${x} after unknown PID '${f}'. Backtracking to sync byte @${y} to parse all TS packets.`),f=null,x=y-188),g=this.pmtParsed=!0;break}case 17:case 8191:break;default:f=n}}else k++;k>0&&oxe(this.observer,new Error(`Found ${k} TS packet/s that do not start with 0x47`)),r.pesData=d,s.pesData=p,a.pesData=m;const w={audioTrack:s,videoTrack:r,id3Track:a,textTrack:l};return n&&this.extractRemainingSamples(w),w}flush(){const{remainderData:e}=this;let t;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:i,id3Track:n,textTrack:o}=e,r=i.pesData,s=t.pesData,a=n.pesData;let l;if(r&&(l=sxe(r))?(this.videoParser.parseAVCPES(i,o,l,!0,this._duration),i.pesData=null):i.pesData=r,s&&(l=sxe(s))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,l);break;case"mp3":this.parseMPEGPES(t,l);break;case"ac3":this.parseAC3PES(t,l)}t.pesData=null}else null!=s&&s.size&&wbe.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=s;a&&(l=sxe(a))?(this.parseID3PES(n,l),n.pesData=null):n.pesData=a}demuxSampleAes(e,t,i){const n=this.demux(e,i,!0,!this.config.progressive),o=this.sampleAes=new Jwe(this.observer,this.config,t);return this.decrypt(n,o)}decrypt(e,t){return new Promise((i=>{const{audioTrack:n,videoTrack:o}=e;n.samples&&"aac"===n.segmentCodec?t.decryptAacSamples(n.samples,0,(()=>{o.samples?t.decryptAvcSamples(o.samples,0,0,(()=>{i(e)})):i(e)})):o.samples&&t.decryptAvcSamples(o.samples,0,0,(()=>{i(e)}))}))}destroy(){this._duration=0}parseAACPES(e,t){let i=0;const n=this.aacOverFlow;let o,r,s,a=t.data;if(n){this.aacOverFlow=null;const t=n.missing,o=n.sample.unit.byteLength;if(-1===t)a=$ve(n.sample.unit,a);else{const r=o-t;n.sample.unit.set(a.subarray(0,t),r),e.samples.push(n.sample),i=n.missing}}for(o=i,r=a.length;o<r-1&&!Pwe(a,o);o++);if(o!==i){let e;const t=o<r-1;if(e=t?`AAC PES did not start with ADTS header,offset:${o}`:"No ADTS header found in AAC PES",oxe(this.observer,new Error(e),t),!t)return}if(Rwe(e,this.observer,a,o,this.audioCodec),void 0!==t.pts)s=t.pts;else{if(!n)return void wbe.warn("[tsdemuxer]: AAC PES unknown PTS");{const t=Lwe(e.samplerate);s=n.sample.pts+t}}let l,c=0;for(;o<r;){if(l=Mwe(e,a,o,s,c),o+=l.length,l.missing){this.aacOverFlow=l;break}for(c++;o<r-1&&!Pwe(a,o);o++);}}parseMPEGPES(e,t){const i=t.data,n=i.length;let o=0,r=0;const s=t.pts;if(void 0!==s)for(;r<n;)if(Uwe(i,r)){const t=zwe(e,i,r,s,o);if(!t)break;r+=t.length,o++}else r++;else wbe.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(e,t){{const i=t.data,n=t.pts;if(void 0===n)return void wbe.warn("[tsdemuxer]: AC3 PES unknown PTS");const o=i.length;let r,s=0,a=0;for(;a<o&&(r=Ywe(e,i,a,n,s++))>0;)a+=r}}parseID3PES(e,t){if(void 0===t.pts)return void wbe.warn("[tsdemuxer]: ID3 PES unknown PTS");const i=dbe({},t,{type:this._videoTrack?Bye:$ye,duration:Number.POSITIVE_INFINITY});e.samples.push(i)}}function txe(e,t){return((31&e[t+1])<<8)+e[t+2]}function ixe(e,t){return(31&e[t+10])<<8|e[t+11]}function nxe(e,t,i,n,o){const r={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},s=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<s;){const s=txe(e,t),a=(15&e[t+3])<<8|e[t+4];switch(e[t]){case 207:if(!n){rxe("ADTS AAC");break}case 15:-1===r.audioPid&&(r.audioPid=s);break;case 21:-1===r.id3Pid&&(r.id3Pid=s);break;case 219:if(!n){rxe("H.264");break}case 27:-1===r.videoPid&&(r.videoPid=s,r.segmentVideoCodec="avc");break;case 3:case 4:i.mpeg||i.mp3?-1===r.audioPid&&(r.audioPid=s,r.segmentAudioCodec="mp3"):wbe.log("MPEG audio found, not supported in this browser");break;case 193:if(!n){rxe("AC-3");break}case 129:i.ac3?-1===r.audioPid&&(r.audioPid=s,r.segmentAudioCodec="ac3"):wbe.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===r.audioPid&&a>0){let n=t+5,o=a;for(;o>2;){if(106===e[n])!0!==i.ac3?wbe.log("AC-3 audio found, not supported in this browser for now"):(r.audioPid=s,r.segmentAudioCodec="ac3");const t=e[n+1]+2;n+=t,o-=t}}break;case 194:case 135:return oxe(o,new Error("Unsupported EC-3 in M2TS found")),r;case 36:return oxe(o,new Error("Unsupported HEVC in M2TS found")),r}t+=a+5}return r}function oxe(e,t,i){wbe.warn(`parsing error: ${t.message}`),e.emit(mbe.ERROR,mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.FRAG_PARSING_ERROR,fatal:!1,levelRetry:i,error:t,reason:t.message})}function rxe(e){wbe.log(`${e} with AES-128-CBC encryption found in unencrypted stream`)}function sxe(e){let t,i,n,o,r,s=0;const a=e.data;if(!e||0===e.size)return null;for(;a[0].length<19&&a.length>1;)a[0]=$ve(a[0],a[1]),a.splice(1,1);t=a[0];if(1===(t[0]<<16)+(t[1]<<8)+t[2]){if(i=(t[4]<<8)+t[5],i&&i>e.size-6)return null;const l=t[7];192&l&&(o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&l?(r=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,o-r>54e5&&(wbe.warn(`${Math.round((o-r)/9e4)}s delta between PTS and DTS, align them`),o=r)):r=o),n=t[8];let c=n+9;if(e.size<=c)return null;e.size-=c;const d=new Uint8Array(e.size);for(let e=0,i=a.length;e<i;e++){t=a[e];let i=t.byteLength;if(c){if(c>i){c-=i;continue}t=t.subarray(c),i-=c,c=0}d.set(t,s),s+=i}return i&&(i-=n+3),{data:d,pts:o,dts:r,len:i}}return null}class axe{static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const lxe=Math.pow(2,32)-1;class cxe{static init(){let e;for(e in cxe.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},cxe.types)cxe.types.hasOwnProperty(e)&&(cxe.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);cxe.HDLR_TYPES={video:t,audio:i};const n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);cxe.STTS=cxe.STSC=cxe.STCO=o,cxe.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),cxe.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),cxe.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),cxe.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const r=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),a=new Uint8Array([0,0,0,1]);cxe.FTYP=cxe.box(cxe.types.ftyp,r,a,r,s),cxe.DINF=cxe.box(cxe.types.dinf,cxe.box(cxe.types.dref,n))}static box(e,...t){let i=8,n=t.length;const o=n;for(;n--;)i+=t[n].byteLength;const r=new Uint8Array(i);for(r[0]=i>>24&255,r[1]=i>>16&255,r[2]=i>>8&255,r[3]=255&i,r.set(e,4),n=0,i=8;n<o;n++)r.set(t[n],i),i+=t[n].byteLength;return r}static hdlr(e){return cxe.box(cxe.types.hdlr,cxe.HDLR_TYPES[e])}static mdat(e){return cxe.box(cxe.types.mdat,e)}static mdhd(e,t){t*=e;const i=Math.floor(t/(lxe+1)),n=Math.floor(t%(lxe+1));return cxe.box(cxe.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))}static mdia(e){return cxe.box(cxe.types.mdia,cxe.mdhd(e.timescale,e.duration),cxe.hdlr(e.type),cxe.minf(e))}static mfhd(e){return cxe.box(cxe.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return"audio"===e.type?cxe.box(cxe.types.minf,cxe.box(cxe.types.smhd,cxe.SMHD),cxe.DINF,cxe.stbl(e)):cxe.box(cxe.types.minf,cxe.box(cxe.types.vmhd,cxe.VMHD),cxe.DINF,cxe.stbl(e))}static moof(e,t,i){return cxe.box(cxe.types.moof,cxe.mfhd(e),cxe.traf(i,t))}static moov(e){let t=e.length;const i=[];for(;t--;)i[t]=cxe.trak(e[t]);return cxe.box.apply(null,[cxe.types.moov,cxe.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(cxe.mvex(e)))}static mvex(e){let t=e.length;const i=[];for(;t--;)i[t]=cxe.trex(e[t]);return cxe.box.apply(null,[cxe.types.mvex,...i])}static mvhd(e,t){t*=e;const i=Math.floor(t/(lxe+1)),n=Math.floor(t%(lxe+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return cxe.box(cxe.types.mvhd,o)}static sdtp(e){const t=e.samples||[],i=new Uint8Array(4+t.length);let n,o;for(n=0;n<t.length;n++)o=t[n].flags,i[n+4]=o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy;return cxe.box(cxe.types.sdtp,i)}static stbl(e){return cxe.box(cxe.types.stbl,cxe.stsd(e),cxe.box(cxe.types.stts,cxe.STTS),cxe.box(cxe.types.stsc,cxe.STSC),cxe.box(cxe.types.stsz,cxe.STSZ),cxe.box(cxe.types.stco,cxe.STCO))}static avc1(e){let t,i,n,o=[],r=[];for(t=0;t<e.sps.length;t++)i=e.sps[t],n=i.byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(i));for(t=0;t<e.pps.length;t++)i=e.pps[t],n=i.byteLength,r.push(n>>>8&255),r.push(255&n),r=r.concat(Array.prototype.slice.call(i));const s=cxe.box(cxe.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(r))),a=e.width,l=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return cxe.box(cxe.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>8&255,255&a,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,cxe.box(cxe.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),cxe.box(cxe.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}static esds(e){const t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const t=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0])}static mp4a(e){return cxe.box(cxe.types.mp4a,cxe.audioStsd(e),cxe.box(cxe.types.esds,cxe.esds(e)))}static mp3(e){return cxe.box(cxe.types[".mp3"],cxe.audioStsd(e))}static ac3(e){return cxe.box(cxe.types["ac-3"],cxe.audioStsd(e),cxe.box(cxe.types.dac3,e.config))}static stsd(e){return"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?cxe.box(cxe.types.stsd,cxe.STSD,cxe.mp3(e)):"ac3"===e.segmentCodec?cxe.box(cxe.types.stsd,cxe.STSD,cxe.ac3(e)):cxe.box(cxe.types.stsd,cxe.STSD,cxe.mp4a(e)):cxe.box(cxe.types.stsd,cxe.STSD,cxe.avc1(e))}static tkhd(e){const t=e.id,i=e.duration*e.timescale,n=e.width,o=e.height,r=Math.floor(i/(lxe+1)),s=Math.floor(i%(lxe+1));return cxe.box(cxe.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,o>>8&255,255&o,0,0]))}static traf(e,t){const i=cxe.sdtp(e),n=e.id,o=Math.floor(t/(lxe+1)),r=Math.floor(t%(lxe+1));return cxe.box(cxe.types.traf,cxe.box(cxe.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),cxe.box(cxe.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,r>>24,r>>16&255,r>>8&255,255&r])),cxe.trun(e,i.length+16+20+8+16+8+8),i)}static trak(e){return e.duration=e.duration||4294967295,cxe.box(cxe.types.trak,cxe.tkhd(e),cxe.mdia(e))}static trex(e){const t=e.id;return cxe.box(cxe.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const i=e.samples||[],n=i.length,o=12+16*n,r=new Uint8Array(o);let s,a,l,c,d,u;for(t+=8+o,r.set(["video"===e.type?1:0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0),s=0;s<n;s++)a=i[s],l=a.duration,c=a.size,d=a.flags,u=a.cts,r.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,61440&d.degradPrio,15&d.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*s);return cxe.box(cxe.types.trun,r)}static initSegment(e){cxe.types||cxe.init();const t=cxe.moov(e);return $ve(cxe.FTYP,t)}}cxe.types=void 0,cxe.HDLR_TYPES=void 0,cxe.STTS=void 0,cxe.STSC=void 0,cxe.STCO=void 0,cxe.STSZ=void 0,cxe.VMHD=void 0,cxe.SMHD=void 0,cxe.STSD=void 0,cxe.FTYP=void 0,cxe.DINF=void 0;function dxe(e,t,i=1,n=!1){const o=e*t*i;return n?Math.round(o):o}function uxe(e,t=!1){return dxe(e,1e3,1/9e4,t)}let hxe,pxe=null,mxe=null;class fxe{constructor(e,t,i,n=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.ISGenerated=!1,null===pxe){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);pxe=e?parseInt(e[1]):0}if(null===mxe){const e=navigator.userAgent.match(/Safari\/(\d+)/i);mxe=e?parseInt(e[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){wbe.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){wbe.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){wbe.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const i=e[0].pts,n=e.reduce(((e,n)=>{let o=n.pts,r=o-e;return r<-4294967296&&(t=!0,o=gxe(o,i),r=o-e),r>0?e:o}),i);return t&&wbe.debug("PTS rollover detected"),n}remux(e,t,i,n,o,r,s,a){let l,c,d,u,h,p,m=o,f=o;const g=e.pid>-1,b=t.pid>-1,v=t.samples.length,y=e.samples.length>0,k=s&&v>0||v>1;if((!g||y)&&(!b||k)||this.ISGenerated||s){if(this.ISGenerated){var w,x,_,E;const e=this.videoTrackConfig;!e||t.width===e.width&&t.height===e.height&&(null==(w=t.pixelRatio)?void 0:w[0])===(null==(x=e.pixelRatio)?void 0:x[0])&&(null==(_=t.pixelRatio)?void 0:_[1])===(null==(E=e.pixelRatio)?void 0:E[1])||this.resetInitSegment()}else d=this.generateIS(e,t,o,r);const i=this.isVideoContiguous;let n,s=-1;if(k&&(s=function(e){for(let t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!i&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,s>0){wbe.warn(`[mp4-remuxer]: Dropped ${s} out of ${v} video samples due to a missing keyframe`);const e=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(s),t.dropped+=s,f+=(t.samples[0].pts-e)/t.inputTimeScale,n=f}else-1===s&&(wbe.warn(`[mp4-remuxer]: No keyframe found out of ${v} video samples`),p=!1);if(this.ISGenerated){if(y&&k){const i=this.getVideoStartPts(t.samples),n=(gxe(e.samples[0].pts,i)-i)/t.inputTimeScale;m+=Math.max(0,n),f+=Math.max(0,-n)}if(y){if(e.samplerate||(wbe.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,t,o,r)),c=this.remuxAudio(e,m,this.isAudioContiguous,r,b||k||a===Tye?f:void 0),k){const n=c?c.endPTS-c.startPTS:0;t.inputTimeScale||(wbe.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,t,o,r)),l=this.remuxVideo(t,f,i,n)}}else k&&(l=this.remuxVideo(t,f,i,0));l&&(l.firstKeyFrame=s,l.independent=-1!==s,l.firstKeyFramePTS=n)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(h=bxe(i,o,this._initPTS,this._initDTS)),n.samples.length&&(u=vxe(n,o,this._initPTS))),{audio:c,video:l,initSegment:d,independent:p,text:u,id3:h}}generateIS(e,t,i,n){const o=e.samples,r=t.samples,s=this.typeSupported,a={},l=this._initPTS;let c,d,u,h=!l||n,p="audio/mp4";if(h&&(c=d=1/0),e.config&&o.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":s.mpeg?(p="audio/mpeg",e.codec=""):s.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3"}a.audio={id:"audio",container:p,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&s.mpeg?new Uint8Array(0):cxe.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(u=e.inputTimeScale,l&&u===l.timescale?h=!1:c=d=o[0].pts-Math.round(u*i))}if(t.sps&&t.pps&&r.length){if(t.timescale=t.inputTimeScale,a.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:cxe.initSegment([t]),metadata:{width:t.width,height:t.height}},h)if(u=t.inputTimeScale,l&&u===l.timescale)h=!1;else{const e=this.getVideoStartPts(r),t=Math.round(u*i);d=Math.min(d,gxe(r[0].dts,e)-t),c=Math.min(c,e-t)}this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(a).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:c,timescale:u},this._initDTS={baseTime:d,timescale:u}):c=u=void 0,{tracks:a,initPTS:c,timescale:u}}remuxVideo(e,t,i,n){const o=e.inputTimeScale,r=e.samples,s=[],a=r.length,l=this._initPTS;let c,d,u=this.nextAvcDts,h=8,p=this.videoSampleDuration,m=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,g=!1;if(!i||null===u){const e=t*o,n=r[0].pts-gxe(r[0].dts,r[0].pts);pxe&&null!==u&&Math.abs(e-n-u)<15e3?i=!0:u=e-n}const b=l.baseTime*o/l.timescale;for(let R=0;R<a;R++){const e=r[R];e.pts=gxe(e.pts-b,u),e.dts=gxe(e.dts-b,u),e.dts<r[R>0?R-1:R].dts&&(g=!0)}g&&r.sort((function(e,t){const i=e.dts-t.dts,n=e.pts-t.pts;return i||n})),c=r[0].dts,d=r[r.length-1].dts;const v=d-c,y=v?Math.round(v/(a-1)):p||e.inputTimeScale/30;if(i){const e=c-u,i=e>y,n=e<-1;if((i||n)&&(i?wbe.warn(`AVC: ${uxe(e,!0)} ms (${e}dts) hole between fragments detected at ${t.toFixed(3)}`):wbe.warn(`AVC: ${uxe(-e,!0)} ms (${e}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!n||u>=r[0].pts||pxe)){c=u;const t=r[0].pts-e;if(i)r[0].dts=c,r[0].pts=t;else for(let i=0;i<r.length&&!(r[i].dts>t);i++)r[i].dts-=e,r[i].pts-=e;wbe.log(`Video: Initial PTS/DTS adjusted: ${uxe(t,!0)}/${uxe(c,!0)}, delta: ${uxe(e,!0)} ms`)}}c=Math.max(0,c);let k=0,w=0,x=c;for(let R=0;R<a;R++){const e=r[R],t=e.units,i=t.length;let n=0;for(let o=0;o<i;o++)n+=t[o].data.length;w+=n,k+=i,e.length=n,e.dts<x?(e.dts=x,x+=y/4|0||1):x=e.dts,m=Math.min(e.pts,m),f=Math.max(e.pts,f)}d=r[a-1].dts;const _=w+4*k+8;let E;try{E=new Uint8Array(_)}catch(N0){return void this.observer.emit(mbe.ERROR,mbe.ERROR,{type:fbe.MUX_ERROR,details:gbe.REMUX_ALLOC_ERROR,fatal:!1,error:N0,bytes:_,reason:`fail allocating video mdat ${_}`})}const C=new DataView(E.buffer);C.setUint32(0,_),E.set(cxe.types.mdat,4);let A=!1,T=Number.POSITIVE_INFINITY,S=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,P=Number.NEGATIVE_INFINITY;for(let R=0;R<a;R++){const e=r[R],t=e.units;let i,l=0;for(let n=0,o=t.length;n<o;n++){const e=t[n],i=e.data,o=e.data.byteLength;C.setUint32(h,o),h+=4,E.set(i,h),h+=o,l+=4+o}if(R<a-1)p=r[R+1].dts-e.dts,i=r[R+1].pts-e.pts;else{const t=this.config,s=R>0?e.dts-r[R-1].dts:y;if(i=R>0?e.pts-r[R-1].pts:y,t.stretchShortVideoTrack&&null!==this.nextAudioPts){const i=Math.floor(t.maxBufferHole*o),r=(n?m+n*o:this.nextAudioPts)-e.pts;r>i?(p=r-s,p<0?p=s:A=!0,wbe.log(`[mp4-remuxer]: It is approximately ${r/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=s}else p=s}const c=Math.round(e.pts-e.dts);T=Math.min(T,p),I=Math.max(I,p),S=Math.min(S,i),P=Math.max(P,i),s.push(new yxe(e.key,p,l,c))}if(s.length)if(pxe){if(pxe<70){const e=s[0].flags;e.dependsOn=2,e.isNonSync=0}}else if(mxe&&P-S<I-T&&y/I<.025&&0===s[0].cts){wbe.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let e=c;for(let t=0,i=s.length;t<i;t++){const n=e+s[t].duration,o=e+s[t].cts;if(t<i-1){const e=n+s[t+1].cts;s[t].duration=e-o}else s[t].duration=t?s[t-1].duration:y;s[t].cts=0,e=n}}p=A||!p?y:p,this.nextAvcDts=u=d+p,this.videoSampleDuration=p,this.isVideoContiguous=!0;const D={data1:cxe.moof(e.sequenceNumber++,c,dbe({},e,{samples:s})),data2:E,startPTS:m/o,endPTS:(f+p)/o,startDTS:c/o,endDTS:u/o,type:"video",hasAudio:!1,hasVideo:!0,nb:s.length,dropped:e.dropped};return e.samples=[],e.dropped=0,D}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(e,t,i,n,o){const r=e.inputTimeScale,s=r/(e.samplerate?e.samplerate:r),a=this.getSamplesPerFrame(e),l=a*s,c=this._initPTS,d="mp3"===e.segmentCodec&&this.typeSupported.mpeg,u=[],h=void 0!==o;let p=e.samples,m=d?0:8,f=this.nextAudioPts||-1;const g=t*r,b=c.baseTime*r/c.timescale;if(this.isAudioContiguous=i=i||p.length&&f>0&&(n&&Math.abs(g-f)<9e3||Math.abs(gxe(p[0].pts-b,g)-f)<20*l),p.forEach((function(e){e.pts=gxe(e.pts-b,g)})),!i||f<0){if(p=p.filter((e=>e.pts>=0)),!p.length)return;f=0===o?0:n&&!h?Math.max(0,g):p[0].pts}if("aac"===e.segmentCodec){const t=this.config.maxAudioFramesDrift;for(let i=0,n=f;i<p.length;i++){const o=p[i],s=o.pts,a=s-n,c=Math.abs(1e3*a/r);if(a<=-t*l&&h)0===i&&(wbe.warn(`Audio frame @ ${(s/r).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*a/r)} ms.`),this.nextAudioPts=f=n=s);else if(a>=t*l&&c<1e4&&h){let t=Math.round(a/l);n=s-t*l,n<0&&(t--,n+=l),0===i&&(this.nextAudioPts=f=n),wbe.warn(`[mp4-remuxer]: Injecting ${t} audio frame @ ${(n/r).toFixed(3)}s due to ${Math.round(1e3*a/r)} ms gap.`);for(let r=0;r<t;r++){const t=Math.max(n,0);let r=axe.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);r||(wbe.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),r=o.unit.subarray()),p.splice(i,0,{unit:r,pts:t}),n+=l,i++}}o.pts=n,n+=l}}let v,y=null,k=null,w=0,x=p.length;for(;x--;)w+=p[x].unit.byteLength;for(let I=0,P=p.length;I<P;I++){const t=p[I],n=t.unit;let o=t.pts;if(null!==k){u[I-1].duration=Math.round((o-k)/s)}else{if(i&&"aac"===e.segmentCodec&&(o=f),y=o,!(w>0))return;w+=m;try{v=new Uint8Array(w)}catch(N0){return void this.observer.emit(mbe.ERROR,mbe.ERROR,{type:fbe.MUX_ERROR,details:gbe.REMUX_ALLOC_ERROR,fatal:!1,error:N0,bytes:w,reason:`fail allocating audio mdat ${w}`})}if(!d){new DataView(v.buffer).setUint32(0,w),v.set(cxe.types.mdat,4)}}v.set(n,m);const r=n.byteLength;m+=r,u.push(new yxe(!0,a,r,0)),k=o}const _=u.length;if(!_)return;const E=u[u.length-1];this.nextAudioPts=f=k+s*E.duration;const C=d?new Uint8Array(0):cxe.moof(e.sequenceNumber++,y/s,dbe({},e,{samples:u}));e.samples=[];const A=y/r,T=f/r,S={data1:C,data2:v,startPTS:A,endPTS:T,startDTS:A,endDTS:T,type:"audio",hasAudio:!0,hasVideo:!1,nb:_};return this.isAudioContiguous=!0,S}remuxEmptyAudio(e,t,i,n){const o=e.inputTimeScale,r=o/(e.samplerate?e.samplerate:o),s=this.nextAudioPts,a=this._initDTS,l=9e4*a.baseTime/a.timescale,c=(null!==s?s:n.startDTS*o)+l,d=n.endDTS*o+l,u=1024*r,h=Math.ceil((d-c)/u),p=axe.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(wbe.warn("[mp4-remuxer]: remux empty Audio"),!p)return void wbe.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const m=[];for(let f=0;f<h;f++){const e=c+f*u;m.push({unit:p,pts:e,dts:e})}return e.samples=m,this.remuxAudio(e,t,i,!1)}}function gxe(e,t){let i;if(null===t)return e;for(i=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=i;return e}function bxe(e,t,i,n){const o=e.samples.length;if(!o)return;const r=e.inputTimeScale;for(let a=0;a<o;a++){const o=e.samples[a];o.pts=gxe(o.pts-i.baseTime*r/i.timescale,t*r)/r,o.dts=gxe(o.dts-n.baseTime*r/n.timescale,t*r)/r}const s=e.samples;return e.samples=[],{samples:s}}function vxe(e,t,i){const n=e.samples.length;if(!n)return;const o=e.inputTimeScale;for(let s=0;s<n;s++){const n=e.samples[s];n.pts=gxe(n.pts-i.baseTime*o/i.timescale,t*o)/o}e.samples.sort(((e,t)=>e.pts-t.pts));const r=e.samples;return e.samples=[],{samples:r}}class yxe{constructor(e,t,i,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=i,this.cts=n,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}function kxe(e,t){const i=null==e?void 0:e.codec;if(i&&i.length>4)return i;if(t===Sbe){if("ec-3"===i||"ac-3"===i||"alac"===i)return i;if("fLaC"===i||"Opus"===i){return aye(i,!1)}const e="mp4a.40.5";return wbe.info(`Parsed audio codec "${i}" or audio object type not handled. Using "${e}"`),e}return wbe.warn(`Unhandled video codec "${i}"`),"hvc1"===i||"hev1"===i?"hvc1.1.6.L120.90":"av01"===i?"av01.0.04M.08":"avc1.42e01e"}try{hxe=self.performance.now.bind(self.performance)}catch(N0){wbe.debug("Unable to use Performance API on this environment"),hxe=null==Fbe?void 0:Fbe.Date.now}const wxe=[{demux:class{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,i,n){const o=this.videoTrack=Ewe("video",1),r=this.audioTrack=Ewe("audio",1),s=this.txtTrack=Ewe("text",1);if(this.id3Track=Ewe("id3",1),this.timeOffset=0,null==e||!e.byteLength)return;const a=Pve(e);if(a.video){const{id:e,timescale:t,codec:i}=a.video;o.id=e,o.timescale=s.timescale=t,o.codec=i}if(a.audio){const{id:e,timescale:t,codec:i}=a.audio;r.id=e,r.timescale=t,r.codec=i}s.id=wve.text,o.sampleDuration=0,o.duration=r.duration=n}resetContiguity(){this.remainderData=null}static probe(e){return function(e){const t=e.byteLength;for(let i=0;i<t;){const n=Eve(e,i);if(n>8&&109===e[i+4]&&111===e[i+5]&&111===e[i+6]&&102===e[i+7])return!0;i=n>1?i+n:t}return!1}(e)}demux(e,t){this.timeOffset=t;let i=e;const n=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=$ve(this.remainderData,e));const t=function(e){const t={valid:null,remainder:null},i=Sve(e,["moof"]);if(i.length<2)return t.remainder=e,t;const n=i[i.length-1];return t.valid=eve(e,0,n.byteOffset-8),t.remainder=eve(e,n.byteOffset-8),t}(i);this.remainderData=t.remainder,n.samples=t.valid||new Uint8Array}else n.samples=i;const r=this.extractID3Track(n,t);return o.samples=Fve(t,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:r,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,i=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const n=this.extractID3Track(t,this.timeOffset);return i.samples=Fve(e,t),{videoTrack:t,audioTrack:Ewe(),id3Track:n,textTrack:Ewe()}}extractID3Track(e,t){const i=this.id3Track;if(e.samples.length){const n=Sve(e.samples,["emsg"]);n&&n.forEach((e=>{const n=function(e){const t=e[0];let i="",n="",o=0,r=0,s=0,a=0,l=0,c=0;if(0===t){for(;"\0"!==xve(e.subarray(c,c+1));)i+=xve(e.subarray(c,c+1)),c+=1;for(i+=xve(e.subarray(c,c+1)),c+=1;"\0"!==xve(e.subarray(c,c+1));)n+=xve(e.subarray(c,c+1)),c+=1;n+=xve(e.subarray(c,c+1)),c+=1,o=Eve(e,12),r=Eve(e,16),a=Eve(e,20),l=Eve(e,24),c=28}else if(1===t){c+=4,o=Eve(e,c),c+=4;const t=Eve(e,c);c+=4;const r=Eve(e,c);for(c+=4,s=2**32*t+r,hbe(s)||(s=Number.MAX_SAFE_INTEGER,wbe.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=Eve(e,c),c+=4,l=Eve(e,c),c+=4;"\0"!==xve(e.subarray(c,c+1));)i+=xve(e.subarray(c,c+1)),c+=1;for(i+=xve(e.subarray(c,c+1)),c+=1;"\0"!==xve(e.subarray(c,c+1));)n+=xve(e.subarray(c,c+1)),c+=1;n+=xve(e.subarray(c,c+1)),c+=1}return{schemeIdUri:i,value:n,timeScale:o,presentationTime:s,presentationTimeDelta:r,eventDuration:a,id:l,payload:e.subarray(c,e.byteLength)}}(e);if(qwe.test(n.schemeIdUri)){const e=ube(n.presentationTime)?n.presentationTime/n.timeScale:t+n.presentationTimeDelta/n.timeScale;let o=4294967295===n.eventDuration?Number.POSITIVE_INFINITY:n.eventDuration/n.timeScale;o<=.001&&(o=Number.POSITIVE_INFINITY);const r=n.payload;i.samples.push({data:r,len:r.byteLength,dts:e,pts:e,type:Bye,duration:o})}}))}return i}demuxSampleAes(e,t,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,i,n){this.audioCodec=t,this.videoCodec=i,this.generateInitSegment(function(e,t){if(!e||!t)return e;const i=t.keyId;i&&t.isCommonEncryption&&Sve(e,["moov","trak"]).forEach((e=>{const t=Sve(e,["mdia","minf","stbl","stsd"])[0].subarray(8);let n=Sve(t,["enca"]);const o=n.length>0;o||(n=Sve(t,["encv"])),n.forEach((e=>{Sve(o?e.subarray(28):e.subarray(78),["sinf"]).forEach((e=>{const t=Ove(e);if(t){const e=t.subarray(8,24);e.some((e=>0!==e))||(wbe.log(`[eme] Patching keyId in 'enc${o?"a":"v"}>sinf>>tenc' box: ${vve(e)} -> ${vve(i)}`),t.set(i,8))}}))}))}));return e}(e,n)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:i}=this;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const n=this.initData=Pve(e);n.audio&&(t=kxe(n.audio,Sbe)),n.video&&(i=kxe(n.video,Ibe));const o={};n.audio&&n.video?o.audiovideo={container:"video/mp4",codec:t+","+i,initSegment:e,id:"main"}:n.audio?o.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:n.video?o.video={container:"video/mp4",codec:i,initSegment:e,id:"main"}:wbe.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=o}remux(e,t,i,n,o,r){var s,a;let{initPTS:l,lastEndTime:c}=this;const d={audio:void 0,video:void 0,text:n,id3:i,initSegment:void 0};ube(c)||(c=this.lastEndTime=o||0);const u=t.samples;if(null==u||!u.length)return d;const h={initPTS:void 0,timescale:1};let p=this.initData;if(null!=(s=p)&&s.length||(this.generateInitSegment(u),p=this.initData),null==(a=p)||!a.length)return wbe.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const m=function(e,t){let i=0,n=0,o=0;const r=Sve(e,["moof","traf"]);for(let s=0;s<r.length;s++){const e=r[s],a=Sve(e,["tfhd"])[0],l=t[Eve(a,4)];if(!l)continue;const c=l.default,d=Eve(a,0)|(null==c?void 0:c.flags);let u=null==c?void 0:c.duration;8&d&&(u=Eve(a,2&d?12:8));const h=l.timescale||9e4,p=Sve(e,["trun"]);for(let t=0;t<p.length;t++)i=Nve(p[t]),!i&&u&&(i=u*Eve(p[t],4)),l.type===Ibe?n+=i/h:l.type===Sbe&&(o+=i/h)}if(0===n&&0===o){let t=1/0,i=0,n=0;const o=Sve(e,["sidx"]);for(let e=0;e<o.length;e++){const r=Ive(o[e]);if(null!=r&&r.references){t=Math.min(t,r.earliestPresentationTime/r.timescale);const e=r.references.reduce(((e,t)=>e+t.info.duration||0),0);i=Math.max(i,e+r.earliestPresentationTime/r.timescale),n=i-t}}if(n&&ube(n))return n}return n||o}(u,p),f=function(e,t){return Sve(t,["moof","traf"]).reduce(((t,i)=>{const n=Sve(i,["tfdt"])[0],o=n[0],r=Sve(i,["tfhd"]).reduce(((t,i)=>{const r=Eve(i,4),s=e[r];if(s){let e=Eve(n,4);if(1===o){if(e===yve)return wbe.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;e*=yve+1,e+=Eve(n,8)}const i=e/(s.timescale||9e4);if(ube(i)&&(null===t||i<t))return i}return t}),null);return null!==r&&ube(r)&&(null===t||r<t)?r:t}),null)}(p,u),g=null===f?o:f;(function(e,t,i,n){if(null===e)return!0;const o=Math.max(n,1),r=t-e.baseTime/e.timescale;return Math.abs(r-i)>o}(l,g,o,m)||h.timescale!==l.timescale&&r)&&(h.initPTS=g-o,l&&1===l.timescale&&wbe.warn("Adjusting initPTS by "+(h.initPTS-l.baseTime)),this.initPTS=l={baseTime:h.initPTS,timescale:1});const b=e?g-l.baseTime/l.timescale:c,v=b+m;!function(e,t,i){Sve(t,["moof","traf"]).forEach((t=>{Sve(t,["tfhd"]).forEach((n=>{const o=Eve(n,4),r=e[o];if(!r)return;const s=r.timescale||9e4;Sve(t,["tfdt"]).forEach((e=>{const t=e[0],n=i*s;if(n){let i=Eve(e,4);if(0===t)i-=n,i=Math.max(i,0),Tve(e,4,i);else{i*=Math.pow(2,32),i+=Eve(e,8),i-=n,i=Math.max(i,0);const t=Math.floor(i/(yve+1)),o=Math.floor(i%(yve+1));Tve(e,4,t),Tve(e,8,o)}}}))}))}))}(p,u,l.baseTime/l.timescale),m>0?this.lastEndTime=v:(wbe.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const y=!!p.audio,k=!!p.video;let w="";y&&(w+="audio"),k&&(w+="video");const x={data1:u,startPTS:b,startDTS:b,endPTS:v,endDTS:v,type:w,hasAudio:y,hasVideo:k,nb:1,dropped:0};return d.audio="audio"===x.type?x:void 0,d.video="audio"!==x.type?x:void 0,d.initSegment=h,d.id3=bxe(i,o,l,l),n.samples.length&&(d.text=vxe(n,o,l)),d}}},{demux:exe,remux:fxe},{demux:class extends Cwe{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,i,n){super.resetInitSegment(e,t,i,n),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=nve(e,0);let i=(null==t?void 0:t.length)||0;if(Hwe(e,i))return!1;for(let n=e.length;i<n;i++)if(Dwe(e,i))return wbe.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&Twe(e,t)&&Iwe(e,t)<=e.length-t}(e,t)}appendFrame(e,t,i){Rwe(e,this.observer,t,i,e.manifestCodec);const n=Mwe(e,t,i,this.basePTS,this.frameIndex);if(n&&0===n.missing)return n}},remux:fxe},{demux:class extends Cwe{resetInitSegment(e,t,i,n){super.resetInitSegment(e,t,i,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=nve(e,0);let i=(null==t?void 0:t.length)||0;if(t&&11===e[i]&&119===e[i+1]&&void 0!==sve(t)&&Gwe(e,i)<=16)return!1;for(let n=e.length;i<n;i++)if(Hwe(e,i))return wbe.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return Vwe(e,t)&&4<=e.length-t}(e,t)}appendFrame(e,t,i){if(null!==this.basePTS)return zwe(e,t,i,this.basePTS,this.frameIndex)}},remux:fxe}];wxe.splice(2,0,{demux:Wwe,remux:fxe});class xxe{constructor(e,t,i,n,o){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=i,this.vendor=n,this.id=o}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,i,n){const o=i.transmuxing;o.executeStart=hxe();let r=new Uint8Array(e);const{currentTransmuxState:s,transmuxConfig:a}=this;n&&(this.currentTransmuxState=n);const{contiguous:l,discontinuity:c,trackSwitch:d,accurateTimeOffset:u,timeOffset:h,initSegmentChange:p}=n||s,{audioCodec:m,videoCodec:f,defaultInitPts:g,duration:b,initSegmentData:v}=a,y=function(e,t){let i=null;e.byteLength>0&&null!=(null==t?void 0:t.key)&&null!==t.iv&&null!=t.method&&(i=t);return i}(r,t);if(y&&"AES-128"===y.method){const e=this.getDecrypter();if(!e.isSync())return this.decryptionPromise=e.webCryptoDecrypt(r,y.key.buffer,y.iv.buffer).then((e=>{const t=this.push(e,null,i);return this.decryptionPromise=null,t})),this.decryptionPromise;{let t=e.softwareDecrypt(r,y.key.buffer,y.iv.buffer);if(i.part>-1&&(t=e.flush()),!t)return o.executeEnd=hxe(),_xe(i);r=new Uint8Array(t)}}const k=this.needsProbing(c,d);if(k){const e=this.configureTransmuxer(r);if(e)return wbe.warn(`[transmuxer] ${e.message}`),this.observer.emit(mbe.ERROR,mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.FRAG_PARSING_ERROR,fatal:!1,error:e,reason:e.message}),o.executeEnd=hxe(),_xe(i)}(c||d||p||k)&&this.resetInitSegment(v,m,f,b,t),(c||p||k)&&this.resetInitialTimestamp(g),l||this.resetContiguity();const w=this.transmux(r,y,h,u,i),x=this.currentTransmuxState;return x.contiguous=!0,x.discontinuity=!1,x.trackSwitch=!1,o.executeEnd=hxe(),w}flush(e){const t=e.transmuxing;t.executeStart=hxe();const{decrypter:i,currentTransmuxState:n,decryptionPromise:o}=this;if(o)return o.then((()=>this.flush(e)));const r=[],{timeOffset:s}=n;if(i){const t=i.flush();t&&r.push(this.push(t,null,e))}const{demuxer:a,remuxer:l}=this;if(!a||!l)return t.executeEnd=hxe(),[_xe(e)];const c=a.flush(s);return Exe(c)?c.then((t=>(this.flushRemux(r,t,e),r))):(this.flushRemux(r,c,e),r)}flushRemux(e,t,i){const{audioTrack:n,videoTrack:o,id3Track:r,textTrack:s}=t,{accurateTimeOffset:a,timeOffset:l}=this.currentTransmuxState;wbe.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);const c=this.remuxer.remux(n,o,r,s,l,a,!0,this.id);e.push({remuxResult:c,chunkMeta:i}),i.transmuxing.executeEnd=hxe()}resetInitialTimestamp(e){const{demuxer:t,remuxer:i}=this;t&&i&&(t.resetTimeStamp(e),i.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,i,n,o){const{demuxer:r,remuxer:s}=this;r&&s&&(r.resetInitSegment(e,t,i,n),s.resetInitSegment(e,t,i,o))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,i,n,o){let r;return r=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,i,n,o):this.transmuxUnencrypted(e,i,n,o),r}transmuxUnencrypted(e,t,i,n){const{audioTrack:o,videoTrack:r,id3Track:s,textTrack:a}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(o,r,s,a,t,i,!1,this.id),chunkMeta:n}}transmuxSampleAes(e,t,i,n,o){return this.demuxer.demuxSampleAes(e,t,i).then((e=>({remuxResult:this.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,i,n,!1,this.id),chunkMeta:o})))}configureTransmuxer(e){const{config:t,observer:i,typeSupported:n,vendor:o}=this;let r;for(let u=0,h=wxe.length;u<h;u++){var s;if(null!=(s=wxe[u].demux)&&s.probe(e)){r=wxe[u];break}}if(!r)return new Error("Failed to find demuxer by probing fragment data");const a=this.demuxer,l=this.remuxer,c=r.remux,d=r.demux;l&&l instanceof c||(this.remuxer=new c(i,t,n,o)),a&&a instanceof d||(this.demuxer=new d(i,t,n),this.probe=d.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new lwe(this.config)),e}}const _xe=e=>({remuxResult:{},chunkMeta:e});function Exe(e){return"then"in e&&e.then instanceof Function}class Cxe{constructor(e,t,i,n,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=i,this.duration=n,this.defaultInitPts=o||null}}class Axe{constructor(e,t,i,n,o,r){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=i,this.trackSwitch=n,this.timeOffset=o,this.initSegmentChange=r}}var Txe={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}function o(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function r(e,t,n,r,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,r||e,s),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,s=new Array(r);o<r;o++)s[o]=n[o].fn;return s},a.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,o,r,s){var a=i?i+e:e;if(!this._events[a])return!1;var l,c,d=this._events[a],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,o),!0;case 5:return d.fn.call(d.context,t,n,o,r),!0;case 6:return d.fn.call(d.context,t,n,o,r,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,o);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},a.prototype.on=function(e,t,i){return r(this,e,t,i,!1)},a.prototype.once=function(e,t,i){return r(this,e,t,i,!0)},a.prototype.removeListener=function(e,t,n,o){var r=i?i+e:e;if(!this._events[r])return this;if(!t)return s(this,r),this;var a=this._events[r];if(a.fn)a.fn!==t||o&&!a.once||n&&a.context!==n||s(this,r);else{for(var l=0,c=[],d=a.length;l<d;l++)(a[l].fn!==t||o&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[r]=1===c.length?c[0]:c:s(this,r)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,e.exports=a}(Txe);var Sxe=nbe(Txe.exports);class Ixe{constructor(e,t,i,n){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const o=e.config;this.hls=e,this.id=t,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=i,this.onFlush=n;const r=(e,t)=>{(t=t||{}).frag=this.frag,t.id=this.id,e===mbe.ERROR&&(this.error=t.error),this.hls.trigger(e,t)};this.observer=new Sxe,this.observer.on(mbe.FRAG_DECRYPTED,r),this.observer.on(mbe.ERROR,r);const s=Jve(o.preferManagedMediaSource)||{isTypeSupported:()=>!1},a={mpeg:s.isTypeSupported("audio/mpeg"),mp3:s.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:s.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&"undefined"!=typeof Worker){if(o.workerPath||"function"==typeof __HLS_WORKER_BUNDLE__){try{o.workerPath?(wbe.log(`loading Web Worker ${o.workerPath} for "${t}"`),this.workerContext=function(e){const t=new self.URL(e,self.location.href).href;return{worker:new self.Worker(t),scriptURL:t}}(o.workerPath)):(wbe.log(`injecting Web Worker for "${t}"`),this.workerContext=function(){const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e);return{worker:new self.Worker(t),objectURL:t}}()),this.onwmsg=e=>this.onWorkerMessage(e);const{worker:e}=this.workerContext;e.addEventListener("message",this.onwmsg),e.onerror=e=>{const i=new Error(`${e.message}  (${e.filename}:${e.lineno})`);o.enableWorker=!1,wbe.warn(`Error in "${t}" Web Worker, fallback to inline`),this.hls.trigger(mbe.ERROR,{type:fbe.OTHER_ERROR,details:gbe.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:i})},e.postMessage({cmd:"init",typeSupported:a,vendor:"",id:t,config:JSON.stringify(o)})}catch(N0){wbe.warn(`Error setting up "${t}" Web Worker, fallback to inline`,N0),this.resetWorker(),this.error=null,this.transmuxer=new xxe(this.observer,a,o,"",t)}return}}this.transmuxer=new xxe(this.observer,a,o,"",t)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,t,i,n,o,r,s,a,l,c){var d,u;l.transmuxing.start=self.performance.now();const{transmuxer:h}=this,p=r?r.start:o.start,m=o.decryptdata,f=this.frag,g=!(f&&o.cc===f.cc),b=!(f&&l.level===f.level),v=f?l.sn-f.sn:-1,y=this.part?l.part-this.part.index:-1,k=0===v&&l.id>1&&l.id===(null==f?void 0:f.stats.chunkCount),w=!b&&(1===v||0===v&&(1===y||k&&y<=0)),x=self.performance.now();(b||v||0===o.stats.parsing.start)&&(o.stats.parsing.start=x),!r||!y&&w||(r.stats.parsing.start=x);const _=!(f&&(null==(d=o.initSegment)?void 0:d.url)===(null==(u=f.initSegment)?void 0:u.url)),E=new Axe(g,w,a,b,p,_);if(!w||g||_){wbe.log(`[transmuxer-interface, ${o.type}]: Starting new transmux session for sn: ${l.sn} p: ${l.part} level: ${l.level} id: ${l.id}\n        discontinuity: ${g}\n        trackSwitch: ${b}\n        contiguous: ${w}\n        accurateTimeOffset: ${a}\n        timeOffset: ${p}\n        initSegmentChange: ${_}`);const e=new Cxe(i,n,t,s,c);this.configureTransmuxer(e)}if(this.frag=o,this.part=r,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:l,state:E},e instanceof ArrayBuffer?[e]:[]);else if(h){const t=h.push(e,m,l,E);Exe(t)?(h.async=!0,t.then((e=>{this.handleTransmuxComplete(e)})).catch((e=>{this.transmuxerError(e,l,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(t))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(t){let i=t.flush(e);Exe(i)||t.async?(Exe(i)||(i=Promise.resolve(i)),i.then((t=>{this.handleFlushResult(t,e)})).catch((t=>{this.transmuxerError(t,e,"transmuxer-interface flush error")}))):this.handleFlushResult(i,e)}}transmuxerError(e,t,i){this.hls&&(this.error=e,this.hls.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:i}))}handleFlushResult(e,t){e.forEach((e=>{this.handleTransmuxComplete(e)})),this.onFlush(t)}onWorkerMessage(e){const t=e.data;if(null==t||!t.event)return void wbe.warn("worker message received with no "+(t?"event name":"data"));const i=this.hls;if(this.hls)switch(t.event){case"init":{var n;const e=null==(n=this.workerContext)?void 0:n.objectURL;e&&self.URL.revokeObjectURL(e);break}case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":wbe[t.data.logType]&&wbe[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,i.trigger(t.event,t.data)}}configureTransmuxer(e){const{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}function Pxe(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!Dxe(e[i].attrs,t[i].attrs))return!1;return!0}function Dxe(e,t,i){const n=e["STABLE-RENDITION-ID"];return n&&!i?n===t["STABLE-RENDITION-ID"]:!(i||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((i=>e[i]!==t[i]))}function Rxe(e,t){return t.label.toLowerCase()===e.name.toLowerCase()&&(!t.language||t.language.toLowerCase()===(e.lang||"").toLowerCase())}class Lxe{constructor(e){this.buffered=void 0;const t=(t,i,n)=>{if((i>>>=0)>n-1)throw new DOMException(`Failed to execute '${t}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${n})`);return e[i][t]};this.buffered={get length(){return e.length},end:i=>t("end",i,e.length),start:i=>t("start",i,e.length)}}}class Mxe{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,t,i){const n=this.queues[t];n.push(e),1!==n.length||i||this.executeNext(t)}insertAbort(e,t){this.queues[t].unshift(e),this.executeNext(t)}appendBlocker(e){let t;const i=new Promise((e=>{t=e})),n={execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(n,e),i}executeNext(e){const t=this.queues[e];if(t.length){const n=t[0];try{n.execute()}catch(i){wbe.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${i}`),n.onError(i);const t=this.buffers[e];null!=t&&t.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const Oxe=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;function Nxe(e){const t=e.querySelectorAll("source");[].slice.call(t).forEach((t=>{e.removeChild(t)}))}const $xe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Fxe=e=>String.fromCharCode($xe[e]||e),Bxe=15,zxe=100,jxe={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Vxe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Uxe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Hxe={25:2,26:4,29:6,30:8,31:10,27:13,28:15},qxe=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Gxe{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const i="function"==typeof t?t():t;wbe.log(`${this.time} [${e}] ${i}`)}}}const Wxe=function(e){const t=[];for(let i=0;i<e.length;i++)t.push(e[i].toString(16));return t};class Yxe{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let i=0;i<t.length;i++){const n=t[i];e.hasOwnProperty(n)&&(this[n]=e[n])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Kxe{constructor(){this.uchar=" ",this.penState=new Yxe}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class Qxe{constructor(e){this.chars=[],this.pos=0,this.currPenState=new Yxe,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<zxe;t++)this.chars.push(new Kxe);this.logger=e}equals(e){for(let t=0;t<zxe;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<zxe;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<zxe;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>zxe&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=zxe)}moveCursor(e){const t=this.pos+e;if(e>1)for(let i=this.pos+1;i<t+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=Fxe(e);this.pos>=zxe?this.logger.log(0,(()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}clearFromPos(e){let t;for(t=e;t<zxe;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let i=0;i<zxe;i++){const n=this.chars[i].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e);this.chars[this.pos].setPenState(this.currPenState)}}class Xxe{constructor(e){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<Bxe;t++)this.rows.push(new Qxe(e));this.logger=e}reset(){for(let e=0;e<Bxe;e++)this.rows[e].clear();this.currRow=14}equals(e){let t=!0;for(let i=0;i<Bxe;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t}copy(e){for(let t=0;t<Bxe;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<Bxe;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e);this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,(()=>"pacData = "+JSON.stringify(e)));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let t=0;t<Bxe;t++)this.rows[t].clear();const e=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){const n=i.rows[e].cueStartTime,o=this.logger.time;if(null!==n&&null!==o&&n<o)for(let r=0;r<this.nrRollUpRows;r++)this.rows[t-this.nrRollUpRows+r+1].copy(i.rows[e+r])}}this.currRow=t;const i=this.rows[this.currRow];if(null!==e.indent){const t=e.indent,n=Math.max(t-1,0);i.setCursor(e.indent),e.color=i.chars[n].penState.foreground}const n={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(n)}setBkgData(e){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(e))),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let i="",n=-1;for(let o=0;o<Bxe;o++){const i=this.rows[o].getTextString();i&&(n=o+1,e?t.push("Row "+n+": '"+i+"'"):t.push(i.trim()))}return t.length>0&&(i=e?"["+t.join(" | ")+"]":t.join("\n")),i}getTextAndFormat(){return this.rows}}class Jxe{constructor(e,t,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Xxe(i),this.nonDisplayedMemory=new Xxe(i),this.lastOutputScreen=new Xxe(i),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(()=>"MODE="+e)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let i=0;i<e.length;i++)this.writeScreen.insertChar(e[i]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>t+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{const i=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[i]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class Zxe{constructor(e,t,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const n=this.logger=new Gxe;this.channels=[null,new Jxe(e,t,n),new Jxe(e+1,i,n)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let i=0;i<t.length;i+=2){const e=127&t[i],n=127&t[i+1];let o=!1,r=null;if(0===e&&0===n)continue;this.logger.log(3,(()=>"["+Wxe([t[i],t[i+1]])+"] -> ("+Wxe([e,n])+")"));const s=this.cmdHistory;if(e>=16&&e<=31){if(t_e(e,n,s)){e_e(null,null,s),this.logger.log(3,(()=>"Repeated command ("+Wxe([e,n])+") is dropped"));continue}e_e(e,n,this.cmdHistory),o=this.parseCmd(e,n),o||(o=this.parseMidrow(e,n)),o||(o=this.parsePAC(e,n)),o||(o=this.parseBackgroundAttributes(e,n))}else e_e(null,null,s);if(!o&&(r=this.parseChars(e,n),r)){const e=this.currentChannel;if(e&&e>0){this.channels[e].insertChars(r)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}o||r||this.logger.log(2,(()=>"Couldn't parse cleaned data "+Wxe([e,n])+" orig: "+Wxe([t[i],t[i+1]])))}}parseCmd(e,t){if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;const i=20===e||21===e||23===e?1:2,n=this.channels[i];return 20===e||21===e||28===e||29===e?32===t?n.ccRCL():33===t?n.ccBS():34===t?n.ccAOF():35===t?n.ccAON():36===t?n.ccDER():37===t?n.ccRU(2):38===t?n.ccRU(3):39===t?n.ccRU(4):40===t?n.ccFON():41===t?n.ccRDC():42===t?n.ccTR():43===t?n.ccRTD():44===t?n.ccEDM():45===t?n.ccCR():46===t?n.ccENM():47===t&&n.ccEOC():n.ccTO(t-32),this.currentChannel=i,!0}parseMidrow(e,t){let i=0;if((17===e||25===e)&&t>=32&&t<=47){if(i=17===e?1:2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const n=this.channels[i];return!!n&&(n.ccMIDROW(t),this.logger.log(3,(()=>"MIDROW ("+Wxe([e,t])+")")),!0)}return!1}parsePAC(e,t){let i;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;const n=e<=23?1:2;i=t>=64&&t<=95?1===n?jxe[e]:Uxe[e]:1===n?Vxe[e]:Hxe[e];const o=this.channels[n];return!!o&&(o.setPAC(this.interpretPAC(i,t)),this.currentChannel=n,!0)}interpretPAC(e,t){let i;const n={color:null,italics:!1,indent:null,underline:!1,row:e};return i=t>95?t-96:t-64,n.underline=!(1&~i),i<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((i-16)/2),n}parseChars(e,t){let i,n=null,o=null;if(e>=25?(i=2,o=e-8):(i=1,o=e),o>=17&&o<=19){let e;e=17===o?t+80:18===o?t+112:t+144,this.logger.log(2,(()=>"Special char '"+Fxe(e)+"' in channel "+i)),n=[e]}else e>=32&&e<=127&&(n=0===t?[e]:[e,t]);return n&&this.logger.log(3,(()=>"Char codes =  "+Wxe(n).join(","))),n}parseBackgroundAttributes(e,t){if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;let i;const n={};16===e||24===e?(i=Math.floor((t-32)/2),n.background=qxe[i],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(n),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}e_e(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const i=this.channels[t];i&&i.cueSplitAtTime(e)}}}function e_e(e,t,i){i.a=e,i.b=t}function t_e(e,t,i){return i.a===e&&i.b===t}class i_e{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,i){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var n_e=function(){if(null!=Fbe&&Fbe.VTTCue)return self.VTTCue;const e=["","lr","rl"],t=["start","middle","end","left","right"];function i(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;const i=t.toLowerCase();return!!~e.indexOf(i)&&i}function n(e){return i(t,e)}function o(e,...t){let i=1;for(;i<arguments.length;i++){const t=arguments[i];for(const i in t)e[i]=t[i]}return e}function r(t,r,s){const a=this,l={enumerable:!0};a.hasBeenReset=!1;let c="",d=!1,u=t,h=r,p=s,m=null,f="",g=!0,b="auto",v="start",y=50,k="middle",w=50,x="middle";Object.defineProperty(a,"id",o({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(a,"pauseOnExit",o({},l,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(a,"startTime",o({},l,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",o({},l,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",o({},l,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",o({},l,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",o({},l,{get:function(){return f},set:function(t){const n=function(t){return i(e,t)}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");f=n,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",o({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",o({},l,{get:function(){return b},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",o({},l,{get:function(){return v},set:function(e){const t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",o({},l,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",o({},l,{get:function(){return k},set:function(e){const t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",o({},l,{get:function(){return w},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",o({},l,{get:function(){return x},set:function(e){const t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");x=t,this.hasBeenReset=!0}})),a.displayState=void 0}return r.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},r}();class o_e{decode(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function r_e(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+parseFloat(n||0)}const i=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return i?parseFloat(i[2])>59?t(i[2],i[3],0,i[4]):t(i[1],i[2],i[3],i[4]):null}class s_e{constructor(){this.values=Object.create(null)}set(e,t){this.get(e)||""===t||(this.values[e]=t)}get(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,i){for(let n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const i=parseFloat(t);if(i>=0&&i<=100)return this.set(e,i),!0}return!1}}function a_e(e,t,i,n){const o=n?e.split(n):[e];for(const r in o){if("string"!=typeof o[r])continue;const e=o[r].split(i);if(2!==e.length)continue;t(e[0],e[1])}}const l_e=new n_e(0,0,""),c_e="middle"===l_e.align?"middle":"center";function d_e(e,t,i){const n=e;function o(){const t=r_e(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function r(){e=e.replace(/^\s+/,"")}if(r(),t.startTime=o(),r(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.slice(3),r(),t.endTime=o(),r(),function(e,t){const n=new s_e;a_e(e,(function(e,t){let o;switch(e){case"region":for(let o=i.length-1;o>=0;o--)if(i[o].id===t){n.set(e,i[o].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":o=t.split(","),n.integer(e,o[0]),n.percent(e,o[0])&&n.set("snapToLines",!1),n.alt(e,o[0],["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start",c_e,"end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start",c_e,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",c_e,"end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");let o=n.get("line","auto");"auto"===o&&-1===l_e.line&&(o=-1),t.line=o,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",c_e);let r=n.get("position","auto");"auto"===r&&50===l_e.position&&(r="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=r}(e,t)}function u_e(e){return e.replace(/<br(?: \/)?>/gi,"\n")}class h_e{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new o_e,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;function i(){let e=t.buffer,i=0;for(e=u_e(e);i<e.length&&"\r"!==e[i]&&"\n"!==e[i];)++i;const n=e.slice(0,i);return"\r"===e[i]&&++i,"\n"===e[i]&&++i,t.buffer=e.slice(i),n}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{let e="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;e=i();const n=e.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==n||!n[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let n=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(n?n=!1:e=i(),t.state){case"HEADER":/:/.test(e)?a_e(e,(function(e,t){}),/:/):e||(t.state="ID");continue;case"NOTE":e||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(e)){t.state="NOTE";break}if(!e)continue;if(t.cue=new n_e(0,0,""),t.state="CUE",-1===e.indexOf("--\x3e")){t.cue.id=e;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{d_e(e,t.cue,t.regionList)}catch(f1){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const i=-1!==e.indexOf("--\x3e");if(!e||i&&(n=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=e}continue;case"BADCUE":e||(t.state="ID")}}}catch(f1){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(f1){e.onparsingerror&&e.onparsingerror(f1)}return e.onflush&&e.onflush(),this}}const p_e=/\r\n|\n\r|\n|\r/g,m_e=function(e,t,i=0){return e.slice(i,i+t.length)===t},f_e=function(e){let t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return(t>>>0).toString()};function g_e(e,t,i){return f_e(e.toString())+f_e(t.toString())+f_e(i)}function b_e(e,t,i,n,o,r,s){const a=new h_e,l=fve(new Uint8Array(e)).trim().replace(p_e,"\n").split("\n"),c=[],d=t?function(e,t=1){return dxe(e,9e4,1/t)}(t.baseTime,t.timescale):0;let u,h="00:00.000",p=0,m=0,f=!0;a.oncue=function(e){const r=i[n];let s=i.ccOffset;const a=(p-d)/9e4;if(null!=r&&r.new&&(void 0!==m?s=i.ccOffset=r.start:function(e,t,i){let n=e[t],o=e[n.prevCC];if(!o||!o.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;null!=(r=o)&&r.new;){var r;e.ccOffset+=n.start-o.start,n.new=!1,n=o,o=e[n.prevCC]}e.presentationOffset=i}(i,n,a)),a){if(!t)return void(u=new Error("Missing initPTS for VTT MPEGTS"));s=a-i.presentationOffset}const l=e.endTime-e.startTime,h=gxe(9e4*(e.startTime+s-m),9e4*o)/9e4;e.startTime=Math.max(h,0),e.endTime=Math.max(h+l,0);const f=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(f)),e.id||(e.id=g_e(e.startTime,e.endTime,f)),e.endTime>0&&c.push(e)},a.onparsingerror=function(e){u=e},a.onflush=function(){u?s(u):r(c)},l.forEach((e=>{if(f){if(m_e(e,"X-TIMESTAMP-MAP=")){f=!1,e.slice(16).split(",").forEach((e=>{m_e(e,"LOCAL:")?h=e.slice(6):m_e(e,"MPEGTS:")&&(p=parseInt(e.slice(7)))}));try{m=function(e){let t=parseInt(e.slice(-3));const i=parseInt(e.slice(-6,-4)),n=parseInt(e.slice(-9,-7)),o=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!(ube(t)&&ube(i)&&ube(n)&&ube(o)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*i,t+=6e4*n,t+=36e5*o,t}(h)/1e3}catch(t){u=t}return}""===e&&(f=!1)}a.parse(e+"\n")})),a.flush()}const v_e="stpp.ttml.im1t",y_e=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,k_e=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,w_e={left:"start",center:"center",right:"end",start:"start",end:"end"};function x_e(e,t,i,n){const o=Sve(new Uint8Array(e),["mdat"]);if(0===o.length)return void n(new Error("Could not parse IMSC1 mdat"));const r=o.map((e=>fve(e))),s=function(e,t,i=1,n=!1){return dxe(e,t,1/i,n)}(t.baseTime,1,t.timescale);try{r.forEach((e=>i(function(e,t){const i=new DOMParser,n=i.parseFromString(e,"text/xml"),o=n.getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(r).reduce(((e,t)=>(e[t]=o.getAttribute(`ttp:${t}`)||r[t],e)),{}),a="preserve"!==o.getAttribute("xml:space"),l=E_e(__e(o,"styling","style")),c=E_e(__e(o,"layout","region")),d=__e(o,"body","[begin]");return[].map.call(d,(e=>{const i=C_e(e,a);if(!i||!e.hasAttribute("begin"))return null;const n=S_e(e.getAttribute("begin"),s),o=S_e(e.getAttribute("dur"),s);let r=S_e(e.getAttribute("end"),s);if(null===n)throw T_e(e);if(null===r){if(null===o)throw T_e(e);r=n+o}const d=new n_e(n-t,r-t,i);d.id=g_e(d.startTime,d.endTime,d.text);const u=function(e,t,i){const n="http://www.w3.org/ns/ttml#styling";let o=null;const r=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;s&&i.hasOwnProperty(s)&&(o=i[s]);return r.reduce(((i,r)=>{const s=A_e(t,n,r)||A_e(e,n,r)||A_e(o,n,r);return s&&(i[r]=s),i}),{})}(c[e.getAttribute("region")],l[e.getAttribute("style")],l),{textAlign:h}=u;if(h){const e=w_e[h];e&&(d.lineAlign=e),d.align=h}return dbe(d,u),d})).filter((e=>null!==e))}(e,s))))}catch(a){n(a)}}function __e(e,t,i){const n=e.getElementsByTagName(t)[0];return n?[].slice.call(n.querySelectorAll(i)):[]}function E_e(e){return e.reduce(((e,t)=>{const i=t.getAttribute("xml:id");return i&&(e[i]=t),e}),{})}function C_e(e,t){return[].slice.call(e.childNodes).reduce(((e,i,n)=>{var o;return"br"===i.nodeName&&n?e+"\n":null!=(o=i.childNodes)&&o.length?C_e(i,t):t?e+i.textContent.trim().replace(/\s+/g," "):e+i.textContent}),"")}function A_e(e,t,i){return e&&e.hasAttributeNS(t,i)?e.getAttributeNS(t,i):null}function T_e(e){return new Error(`Could not parse ttml timestamp ${e}`)}function S_e(e,t){if(!e)return null;let i=r_e(e);return null===i&&(y_e.test(e)?i=function(e,t){const i=y_e.exec(e),n=(0|i[4])+(0|i[5])/t.subFrameRate;return 3600*(0|i[1])+60*(0|i[2])+(0|i[3])+n/t.frameRate}(e,t):k_e.test(e)&&(i=function(e,t){const i=k_e.exec(e),n=Number(i[1]);switch(i[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/t.frameRate;case"t":return n/t.tickRate}return n}(e,t))),i}function I_e(e){return e.characteristics&&/transcribes-spoken-dialog/gi.test(e.characteristics)&&/describes-music-and-sound/gi.test(e.characteristics)?"captions":"subtitles"}function P_e(e,t){return!!e&&e.kind===I_e(t)&&Rxe(t,e)}class D_e{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(mbe.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(mbe.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mbe.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(mbe.BUFFER_CODECS,this.onBufferCodecs,this),e.on(mbe.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(mbe.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(mbe.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mbe.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(mbe.BUFFER_CODECS,this.onBufferCodecs,this),e.off(mbe.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const i=this.hls.levels[t.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const i=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,i.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&ube(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const e=this.hls.levels;if(e.length){const t=this.hls,i=this.getMaxLevel(e.length-1);i!==this.autoLevelCapping&&wbe.log(`Setting autoLevelCapping to ${i}: ${e[i].height}p@${e[i].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=i,t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const i=t.filter(((t,i)=>this.isLevelAllowed(t)&&i<=e));return this.clientRect=null,D_e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const i=e.getBoundingClientRect();t.width=i.width,t.height=i.height,t.width||t.height||(t.width=i.right-i.left||e.width||0,t.height=i.bottom-i.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(f1){}return e}isLevelAllowed(e){return!this.restrictedLevels.some((t=>e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height))}static getMaxLevelByMediaSize(e,t,i){if(null==e||!e.length)return-1;let n=e.length-1;const o=Math.max(t,i);for(let a=0;a<e.length;a+=1){const t=e[a];if((t.width>=o||t.height>=o)&&(r=t,!(s=e[a+1])||r.width!==s.width||r.height!==s.height)){n=a;break}}var r,s;return n}}const R_e="[eme]";class L_e{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=L_e.CDMCleanupPromise?[L_e.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=wbe.debug.bind(wbe,R_e),this.log=wbe.log.bind(wbe,R_e),this.warn=wbe.warn.bind(wbe,R_e),this.error=wbe.error.bind(wbe,R_e),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(mbe.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(mbe.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(mbe.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(mbe.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:i}=this.config,n=t[e];if(n)return n.licenseUrl;if(e===Bbe.WIDEVINE&&i)return i;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:t}=this.config,i=t[e];if(i)return i.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,i=(e,t,i)=>!!e&&i.indexOf(e)===t,n=t.map((e=>e.audioCodec)).filter(i),o=t.map((e=>e.videoCodec)).filter(i);return n.length+o.length===0&&o.push("avc1.42e01e"),new Promise(((t,i)=>{const r=e=>{const s=e.shift();this.getMediaKeysPromise(s,n,o).then((e=>t({keySystem:s,mediaKeys:e}))).catch((t=>{e.length?r(e):i(t instanceof M_e?t:new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))};r(e)}))}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:i}=this.config;if("function"!=typeof i){let e=`Configured requestMediaKeySystemAccess is not a function ${i}`;return null===Jbe&&"http:"===self.location.protocol&&(e=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(e))}return i(e,t)}getMediaKeysPromise(e,t,i){const n=function(e,t,i,n){let o;switch(e){case Bbe.FAIRPLAY:o=["cenc","sinf"];break;case Bbe.WIDEVINE:case Bbe.PLAYREADY:o=["cenc"];break;case Bbe.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${e}`)}return function(e,t,i,n){return[{initDataTypes:e,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:t.map((e=>({contentType:`audio/mp4; codecs="${e}"`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null}))),videoCapabilities:i.map((e=>({contentType:`video/mp4; codecs="${e}"`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null})))}]}(o,t,i,n)}(e,t,i,this.config.drmSystemOptions),o=this.keySystemAccessPromises[e];let r=null==o?void 0:o.keySystemAccess;if(!r){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(n)}`),r=this.requestMediaKeySystemAccess(e,n);const t=this.keySystemAccessPromises[e]={keySystemAccess:r};return r.catch((t=>{this.log(`Failed to obtain access to key-system "${e}": ${t}`)})),r.then((i=>{this.log(`Access for key-system "${i.keySystem}" obtained`);const n=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),t.mediaKeys=i.createMediaKeys().then((t=>(this.log(`Media-keys created for "${e}"`),n.then((i=>i?this.setMediaKeysServerCertificate(t,e,i):t))))),t.mediaKeys.catch((t=>{this.error(`Failed to create media-keys for "${e}"}: ${t}`)})),t.mediaKeys}))}return r.then((()=>o.mediaKeys))}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:i}){this.log(`Creating key-system session "${t}" keyId: ${vve(e.keyId||[])}`);const n=i.createSession(),o={decryptdata:e,keySystem:t,mediaKeys:i,mediaKeysSession:n,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const i=this.createMediaKeySessionContext(e),n=this.getKeyIdString(t),o="cenc";this.keyIdToKeySessionPromise[n]=this.generateRequestWithPreferredKeySession(i,o,t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return vve(e.keyId)}updateKeySession(e,t){var i;const n=e.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyID ${vve((null==(i=e.decryptdata)?void 0:i.keyId)||[])}\n      } (data length: ${t?t.byteLength:t})`),n.update(t)}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise(((t,i)=>{const n=Xbe(this.config),o=e.map(Hbe).filter((e=>!!e&&-1!==n.indexOf(e)));return this.getKeySystemSelectionPromise(o).then((({keySystem:e})=>{const n=Qbe(e);n?t(n):i(new Error(`Unable to find format for key-system "${e}"`))})).catch(i)}))}loadKey(e){const t=e.keyInfo.decryptdata,i=this.getKeyIdString(t),n=`(keyId: ${i} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${n}`);let o=this.keyIdToKeySessionPromise[i];return o||(o=this.keyIdToKeySessionPromise[i]=this.getKeySystemForKeyPromise(t).then((({keySystem:i,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${n}`),this.attemptSetMediaKeys(i,o).then((()=>{this.throwIfDestroyed();const e=this.createMediaKeySessionContext({keySystem:i,mediaKeys:o,decryptdata:t});return this.generateRequestWithPreferredKeySession(e,"cenc",t.pssh,"playlist-key")}))))),o.catch((e=>this.handleError(e)))),o}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof M_e?this.hls.trigger(mbe.ERROR,e.data):this.hls.trigger(mbe.ERROR,{type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),i=this.keyIdToKeySessionPromise[t];if(!i){const t=Hbe(e.keyFormat),i=t?[t]:Xbe(this.config);return this.attemptKeySystemAccess(i)}return i}getKeySystemSelectionPromise(e){if(e.length||(e=Xbe(this.config)),0===e.length)throw new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:t,initData:i}=e,n=`"${e.type}" event: init data type: "${t}"`;if(this.debug(n),null===i)return;let o,r;if("sinf"===t&&this.config.drmSystems[Bbe.FAIRPLAY]){const e=xve(new Uint8Array(i));try{const t=Obe(JSON.parse(e).sinf),i=Ove(new Uint8Array(t));if(!i)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");o=i.subarray(8,24),r=Bbe.FAIRPLAY}catch(d){return void this.warn(`${n} Failed to parse sinf: ${d}`)}}else{const e=function(e){const t=[];if(e instanceof ArrayBuffer){const i=e.byteLength;let n=0;for(;n+32<i;){const i=Uve(new DataView(e,n));t.push(i),n+=i.size}}return t}(i),t=e.filter((e=>e.systemId===Ybe))[0];if(!t)return void(0===e.length||e.some((e=>!e.systemId))?this.warn(`${n} contains incomplete or invalid pssh data`):this.log(`ignoring ${n} for ${e.map((e=>Kbe(e.systemId))).join(",")} pssh data in favor of playlist keys`));if(r=Kbe(t.systemId),0===t.version&&t.data){const e=t.data.length-22;o=t.data.subarray(e,e+16)}}if(!r||!o)return;const s=vve(o),{keyIdToKeySessionPromise:a,mediaKeySessions:l}=this;let c=a[s];for(let u=0;u<l.length;u++){const e=l[u],n=e.decryptdata;if(!n.keyId)continue;const r=vve(n.keyId);if(s===r||-1!==n.uri.replace(/-/g,"").indexOf(s)){if(c=a[r],n.pssh)break;delete a[r],n.pssh=new Uint8Array(i),n.keyId=o,c=a[s]=c.then((()=>this.generateRequestWithPreferredKeySession(e,t,i,"encrypted-event-key-match")));break}}c||(c=a[s]=this.getKeySystemSelectionPromise([r]).then((({keySystem:e,mediaKeys:n})=>{var r;this.throwIfDestroyed();const a=new qve("ISO-23001-7",s,null!=(r=Qbe(e))?r:"");return a.pssh=new Uint8Array(i),a.keyId=o,this.attemptSetMediaKeys(e,n).then((()=>{this.throwIfDestroyed();const o=this.createMediaKeySessionContext({decryptdata:a,keySystem:e,mediaKeys:n});return this.generateRequestWithPreferredKeySession(o,t,i,"encrypted-event-no-match")}))}))),c.catch((e=>this.handleError(e)))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,t){const i=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const n=Promise.all(i).then((()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(n),n.then((()=>{this.log(`Media-keys set for "${e}"`),i.push(n),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((e=>-1===i.indexOf(e)))}))}generateRequestWithPreferredKeySession(e,t,i,n){var o,r;const s=null==(o=this.config.drmSystems)||null==(r=o[e.keySystem])?void 0:r.generateRequest;if(s)try{const n=s.call(this.hls,t,i,e);if(!n)throw new Error("Invalid response from configured generateRequest filter");t=n.initDataType,i=e.decryptdata.pssh=n.initData?new Uint8Array(n.initData):null}catch(p){var a;if(this.warn(p.message),null!=(a=this.hls)&&a.config.debug)throw p}if(null===i)return this.log(`Skipping key-session request for "${n}" (no initData)`),Promise.resolve(e);const l=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${n}": ${l} (init data type: ${t} length: ${i?i.byteLength:null})`);const c=new Sxe,d=e._onmessage=t=>{const i=e.mediaKeysSession;if(!i)return void c.emit("error",new Error("invalid state"));const{messageType:n,message:o}=t;this.log(`"${n}" message event for session "${i.sessionId}" message size: ${o.byteLength}`),"license-request"===n||"license-renewal"===n?this.renewLicense(e,o).catch((e=>{this.handleError(e),c.emit("error",e)})):"license-release"===n?e.keySystem===Bbe.FAIRPLAY&&(this.updateKeySession(e,$be("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${n}"`)},u=e._onkeystatuseschange=t=>{if(!e.mediaKeysSession)return void c.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const i=e.keyStatus;c.emit("keyStatus",i),"expired"===i&&(this.warn(`${e.keySystem} expired for key ${l}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",u);const h=new Promise(((e,t)=>{c.on("error",t),c.on("keyStatus",(i=>{i.startsWith("usable")?e():"output-restricted"===i?t(new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===i?t(new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${i}"`)):"expired"===i?t(new Error("key expired while generating request")):this.warn(`unhandled key status change "${i}"`)}))}));return e.mediaKeysSession.generateRequest(t,i).then((()=>{var t;this.log(`Request generated for key-session "${null==(t=e.mediaKeysSession)?void 0:t.sessionId}" keyId: ${l}`)})).catch((e=>{throw new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},`Error generating key-session request: ${e}`)})).then((()=>h)).catch((t=>{throw c.removeAllListeners(),this.removeSession(e),t})).then((()=>(c.removeAllListeners(),e)))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach(((t,i)=>{this.log(`key status change "${t}" for keyStatuses keyId: ${vve("buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i))} session keyId: ${vve(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=t}))}fetchServerCertificate(e){const t=this.config,i=new(0,t.loader)(t),n=this.getServerCertificateUrl(e);return n?(this.log(`Fetching server certificate for "${e}"`),new Promise(((o,r)=>{const s={responseType:"arraybuffer",url:n},a=t.certLoadPolicy.default,l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,i,n)=>{o(e.data)},onError:(t,i,o,a)=>{r(new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:abe({url:s.url,data:void 0},t)},`"${e}" certificate request failed (${n}). Status: ${t.code} (${t.text})`))},onTimeout:(t,i,o)=>{r(new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:s.url,data:void 0}},`"${e}" certificate request timed out (${n})`))},onAbort:(e,t,i)=>{r(new Error("aborted"))}};i.load(s,l,c)}))):Promise.resolve()}setMediaKeysServerCertificate(e,t,i){return new Promise(((n,o)=>{e.setServerCertificate(i).then((o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${null==i?void 0:i.byteLength}) on "${t}"`),n(e)})).catch((e=>{o(new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then((t=>this.updateKeySession(e,new Uint8Array(t)).catch((e=>{throw new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))))}unpackPlayReadyKeyMessage(e,t){const i=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!i.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const n=(new DOMParser).parseFromString(i,"application/xml"),o=n.querySelectorAll("HttpHeader");if(o.length>0){let t;for(let i=0,n=o.length;i<n;i++){var r,s;t=o[i];const n=null==(r=t.querySelector("name"))?void 0:r.textContent,a=null==(s=t.querySelector("value"))?void 0:s.textContent;n&&a&&e.setRequestHeader(n,a)}}const a=n.querySelector("Challenge"),l=null==a?void 0:a.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return $be(atob(l))}setupLicenseXHR(e,t,i,n){const o=this.config.licenseXhrSetup;return o?Promise.resolve().then((()=>{if(!i.decryptdata)throw new Error("Key removed");return o.call(this.hls,e,t,i,n)})).catch((r=>{if(!i.decryptdata)throw r;return e.open("POST",t,!0),o.call(this.hls,e,t,i,n)})).then((i=>{e.readyState||e.open("POST",t,!0);return{xhr:e,licenseChallenge:i||n}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:n}))}requestLicense(e,t){const i=this.config.keyLoadPolicy.default;return new Promise(((n,o)=>{const r=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${r}`);const s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return o(new Error("invalid state"));if(4===s.readyState)if(200===s.status){this._requestLicenseFailureCount=0;let t=s.response;this.log(`License received ${t instanceof ArrayBuffer?t.byteLength:t}`);const i=this.config.licenseResponseCallback;if(i)try{t=i.call(this.hls,s,r,e)}catch(a){this.error(a)}n(t)}else{const a=i.errorRetry,l=a?a.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||s.status>=400&&s.status<500)o(new M_e({type:fbe.KEY_SYSTEM_ERROR,details:gbe.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:r,data:void 0,code:s.status,text:s.statusText}},`License Request XHR failed (${r}). Status: ${s.status} (${s.statusText})`));else{const i=l-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${i} attempts left`),this.requestLicense(e,t).then(n,o)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=s,this.setupLicenseXHR(s,r,e,t).then((({xhr:t,licenseChallenge:i})=>{e.keySystem==Bbe.PLAYREADY&&(i=this.unpackPlayReadyKeyMessage(t,i)),t.send(i)}))}))}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const i=t.media;this.media=i,i.addEventListener("encrypted",this.onMediaEncrypted),i.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,t=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},qve.clearKeyUriToKeyIdMap();const i=t.length;L_e.CDMCleanupPromise=Promise.all(t.map((e=>this.removeSession(e))).concat(null==e?void 0:e.setMediaKeys(null).catch((e=>{this.log(`Could not clear media keys: ${e}`)})))).then((()=>{i&&(this.log("finished closing key sessions and clearing media keys"),t.length=0)})).catch((e=>{this.log(`Could not close sessions and clear media keys: ${e}`)}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:t}){if(t&&this.config.emeEnabled&&!this.keyFormatPromise){const e=t.reduce(((e,t)=>(-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e)),[]);this.log(`Selecting key-system from session-keys ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:i}=e;if(t){this.log(`Remove licenses and keys and close session ${t.sessionId}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const n=this.mediaKeySessions.indexOf(e);return n>-1&&this.mediaKeySessions.splice(n,1),t.remove().catch((e=>{this.log(`Could not remove session: ${e}`)})).then((()=>t.close())).catch((e=>{this.log(`Could not close session: ${e}`)}))}}}L_e.CDMCleanupPromise=void 0;class M_e extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}var O_e,N_e,$_e;!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(O_e||(O_e={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(N_e||(N_e={})),function(e){e.OBJECT="CMCD-Object",e.REQUEST="CMCD-Request",e.SESSION="CMCD-Session",e.STATUS="CMCD-Status"}($_e||($_e={}));const F_e={[$_e.OBJECT]:["br","d","ot","tb"],[$_e.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[$_e.SESSION]:["cid","pr","sf","sid","st","v"],[$_e.STATUS]:["bs","rtp"]};class B_e{constructor(e,t){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map((e=>e instanceof B_e?e:new B_e(e)))),this.value=e,this.params=t}}class z_e{constructor(e){this.description=void 0,this.description=e}}function j_e(e,t,i,n){return new Error(`failed to ${e} "${function(e){return Array.isArray(e)?JSON.stringify(e):e instanceof Map?"Map{}":e instanceof Set?"Set{}":"object"==typeof e?JSON.stringify(e):String(e)}(t)}" as ${i}`,{cause:n})}const V_e="Bare Item";const U_e=/[\x00-\x1f\x7f]+/;function H_e(e,t,i){return j_e("serialize",e,t,i)}function q_e(e){if(!1===ArrayBuffer.isView(e))throw H_e(e,"Byte Sequence");return`:${t=e,btoa(String.fromCharCode(...t))}:`;var t}function G_e(e){if(function(e){return e<-999999999999999||999999999999999<e}(e))throw H_e(e,"Integer");return e.toString()}function W_e(e,t){if(e<0)return-W_e(-e,t);const i=Math.pow(10,t);if(Math.abs(e*i%1-.5)<Number.EPSILON){const t=Math.floor(e*i);return(t%2==0?t:t+1)/i}return Math.round(e*i)/i}function Y_e(e){const t=W_e(e,3);if(Math.floor(Math.abs(t)).toString().length>12)throw H_e(e,"Decimal");const i=t.toString();return i.includes(".")?i:`${i}.0`}function K_e(e){const t=(i=e).description||i.toString().slice(7,-1);var i;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(t))throw H_e(t,"Token");return t}function Q_e(e){switch(typeof e){case"number":if(!ube(e))throw H_e(e,V_e);return Number.isInteger(e)?G_e(e):Y_e(e);case"string":return function(e){if(U_e.test(e))throw H_e(e,"String");return`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(e);case"symbol":return K_e(e);case"boolean":return function(e){if("boolean"!=typeof e)throw H_e(e,"Boolean");return e?"?1":"?0"}(e);case"object":if(e instanceof Date)return function(e){return`@${G_e(e.getTime()/1e3)}`}(e);if(e instanceof Uint8Array)return q_e(e);if(e instanceof z_e)return K_e(e);default:throw H_e(e,V_e)}}function X_e(e){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(e))throw H_e(e,"Key");return e}function J_e(e){return null==e?"":Object.entries(e).map((([e,t])=>!0===t?`;${X_e(e)}`:`;${X_e(e)}=${Q_e(t)}`)).join("")}function Z_e(e){return e instanceof B_e?`${Q_e(e.value)}${J_e(e.params)}`:Q_e(e)}function eEe(e,t={whitespace:!0}){if("object"!=typeof e)throw H_e(e,"Dict");const i=e instanceof Map?e.entries():Object.entries(e),n=null!=t&&t.whitespace?" ":"";return Array.from(i).map((([e,t])=>{t instanceof B_e==!1&&(t=new B_e(t));let i=X_e(e);return!0===t.value?i+=J_e(t.params):(i+="=",Array.isArray(t.value)?i+=function(e){return`(${e.value.map(Z_e).join(" ")})${J_e(e.params)}`}(t):i+=Z_e(t)),i})).join(`,${n}`)}const tEe=e=>Math.round(e),iEe=e=>100*tEe(e/100),nEe={br:tEe,d:tEe,bl:iEe,dl:iEe,mtp:iEe,nor:(e,t)=>(null!=t&&t.baseUrl&&(e=function(e,t){const i=new URL(e),n=new URL(t);if(i.origin!==n.origin)return e;const o=i.pathname.split("/").slice(1),r=n.pathname.split("/").slice(1,-1);for(;o[0]===r[0];)o.shift(),r.shift();for(;r.length;)r.shift(),o.unshift("..");return o.join("/")}(e,t.baseUrl)),encodeURIComponent(e)),rtp:iEe,tb:tEe};function oEe(e,t){const i={};if(null==e||"object"!=typeof e)return i;const n=Object.keys(e).sort(),o=dbe({},nEe,null==t?void 0:t.formatters),r=null==t?void 0:t.filter;return n.forEach((n=>{if(null!=r&&r(n))return;let s=e[n];const a=o[n];a&&(s=a(s,t)),"v"===n&&1===s||"pr"==n&&1===s||(e=>"number"==typeof e?ube(e):null!=e&&""!==e&&!1!==e)(s)&&((e=>"ot"===e||"sf"===e||"st"===e)(n)&&"string"==typeof s&&(s=new z_e(s)),i[n]=s)})),i}function rEe(e,t={}){return e?function(e,t){return eEe(e,t)}(oEe(e,t),dbe({whitespace:!1},t)):""}function sEe(e,t,i){return dbe(e,function(e,t={}){if(!e)return{};const i=Object.entries(e),n=Object.entries(F_e).concat(Object.entries((null==t?void 0:t.customHeaderMap)||{})),o=i.reduce(((e,t)=>{var i;const[o,r]=t,s=(null==(i=n.find((e=>e[1].includes(o))))?void 0:i[0])||$_e.REQUEST;return null!=e[s]||(e[s]={}),e[s][o]=r,e}),{});return Object.entries(o).reduce(((e,[i,n])=>(e[i]=rEe(n,t),e)),{})}(t,i))}const aEe=/CMCD=[^&#]+/;function lEe(e,t,i){const n=function(e,t={}){if(!e)return"";const i=rEe(e,t);return`CMCD=${encodeURIComponent(i)}`}(t,i);if(!n)return e;if(aEe.test(e))return e.replace(aEe,n);const o=e.includes("?")?"&":"?";return`${e}${o}${n}`}function cEe(e,t,i,n){e&&Object.keys(t).forEach((o=>{const r=e.filter((e=>e.groupId===o)).map((e=>{const r=dbe({},e);return r.details=void 0,r.attrs=new Ebe(r.attrs),r.url=r.attrs.URI=dEe(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",i),r.groupId=r.attrs["GROUP-ID"]=t[o],r.attrs["PATHWAY-ID"]=n,r}));e.push(...r)}))}function dEe(e,t,i,n){const{HOST:o,PARAMS:r,[i]:s}=n;let a;t&&(a=null==s?void 0:s[t],a&&(e=a));const l=new self.URL(e);return o&&!a&&(l.host=o),r&&Object.keys(r).sort().forEach((e=>{e&&l.searchParams.set(e,r[e])})),l.href}const uEe=/^age:\s*[\d.]+\s*$/im;class hEe{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Tbe,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const i=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0,n.aborted=!1;const o=this.xhrSetup;o?Promise.resolve().then((()=>{if(this.loader===i&&!this.stats.aborted)return o(i,t.url)})).catch((e=>{if(this.loader===i&&!this.stats.aborted)return i.open("GET",t.url,!0),o(i,t.url)})).then((()=>{this.loader!==i||this.stats.aborted||this.openAndSendXhr(i,t,e)})).catch((e=>{this.callbacks.onError({code:i.status,text:e.message},t,i,n)})):this.openAndSendXhr(i,t,e)}openAndSendXhr(e,t,i){e.readyState||e.open("GET",t.url,!0);const n=t.headers,{maxTimeToFirstByteMs:o,maxLoadTimeMs:r}=i.loadPolicy;if(n)for(const s in n)e.setRequestHeader(s,n[s]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),i.timeout=o&&ube(o)?o:r,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:i}=this;if(!e||!t)return;const n=t.readyState,o=this.config;if(!i.aborted&&n>=2&&(0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),o.timeout!==o.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),o.timeout=o.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),4===n)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const n=t.status,r="text"===t.responseType?t.responseText:null;if(n>=200&&n<300){const o=null!=r?r:t.response;if(null!=o){i.loading.end=Math.max(self.performance.now(),i.loading.first);const r="arraybuffer"===t.responseType?o.byteLength:o.length;if(i.loaded=i.total=r,i.bwEstimate=8e3*i.total/(i.loading.end-i.loading.first),!this.callbacks)return;const s=this.callbacks.onProgress;if(s&&s(i,e,o,t),!this.callbacks)return;const a={url:t.responseURL,data:o,code:n};return void this.callbacks.onSuccess(a,i,e,t)}}const s=o.loadPolicy.errorRetry;pke(s,i.retry,!1,{url:e.url,data:void 0,code:n})?this.retry(s):(wbe.error(`${n} while loading ${e.url}`),this.callbacks.onError({code:n,text:t.statusText},e,t,i))}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry;if(pke(e,this.stats.retry,!0))this.retry(e);else{var t;wbe.warn(`timeout while loading ${null==(t=this.context)?void 0:t.url}`);const e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:i}=this;this.retryDelay=uke(e,i.retry),i.retry++,wbe.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${null==t?void 0:t.url}, retrying ${i.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&uEe.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const pEe=/(\d+)-(\d+)\/(\d+)/;class mEe{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||fEe,this.controller=new self.AbortController,this.stats=new Tbe}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,i){const n=this.stats;if(n.loading.start)throw new Error("Loader can only be used once.");n.loading.start=self.performance.now();const o=function(e,t){const i={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(dbe({},e.headers))};e.rangeEnd&&i.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1));return i}(e,this.controller.signal),r=i.onProgress,s="arraybuffer"===e.responseType,a=s?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=i,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),t.timeout=l&&ube(l)?l:c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),i.onTimeout(n,e,this.response)}),t.timeout),self.fetch(this.request).then((o=>{this.response=this.loader=o;const a=Math.max(self.performance.now(),n.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),i.onTimeout(n,e,this.response)}),c-(a-n.loading.start)),!o.ok){const{status:e,statusText:t}=o;throw new gEe(t||"fetch, bad network response",e,o)}return n.loading.first=a,n.total=function(e){const t=e.get("Content-Range");if(t){const e=function(e){const t=pEe.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(ube(e))return e}const i=e.get("Content-Length");if(i)return parseInt(i)}(o.headers)||n.total,r&&ube(t.highWaterMark)?this.loadProgressively(o,n,e,t.highWaterMark,r):s?o.arrayBuffer():"json"===e.responseType?o.json():o.text()})).then((o=>{const s=this.response;if(!s)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),n.loading.end=Math.max(self.performance.now(),n.loading.first);const l=o[a];l&&(n.loaded=n.total=l);const c={url:s.url,data:o,code:s.status};r&&!ube(t.highWaterMark)&&r(n,e,o,s),i.onSuccess(c,n,e,s)})).catch((t=>{if(self.clearTimeout(this.requestTimeout),n.aborted)return;const o=t&&t.code||0,r=t?t.message:null;i.onError({code:o,text:r},e,t?t.details:null,n)}))}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,i,n=0,o){const r=new _we,s=e.body.getReader(),a=()=>s.read().then((s=>{if(s.done)return r.dataLength&&o(t,i,r.flush(),e),Promise.resolve(new ArrayBuffer(0));const l=s.value,c=l.length;return t.loaded+=c,c<n||r.dataLength?(r.push(l),r.dataLength>=n&&o(t,i,r.flush(),e)):o(t,i,l,e),a()})).catch((()=>Promise.reject()));return a()}}function fEe(e,t){return new self.Request(e.url,t)}class gEe extends Error{constructor(e,t,i){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=i}}const bEe=/\s/,vEe={newCue(e,t,i,n){const o=[];let r,s,a,l,c;const d=self.VTTCue||self.TextTrackCue;for(let h=0;h<n.rows.length;h++)if(r=n.rows[h],a=!0,l=0,c="",!r.isEmpty()){var u;for(let e=0;e<r.chars.length;e++)bEe.test(r.chars[e].uchar)&&a?l++:(c+=r.chars[e].uchar,a=!1);r.cueStartTime=t,t===i&&(i+=1e-4),l>=16?l--:l++;const n=u_e(c.trim()),p=g_e(t,i,n);null!=e&&null!=(u=e.cues)&&u.getCueById(p)||(s=new d(t,i,n),s.id=p,s.line=h+1,s.align="left",s.position=10+Math.min(80,10*Math.floor(8*l/32)),o.push(s))}return e&&o.length&&(o.sort(((e,t)=>"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line)),o.forEach((t=>Lye(e,t)))),o}},yEe=abe(abe({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:hEe,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:e,partCurrent:t,hls:i}=this,{autoLevelEnabled:n,media:o}=i;if(!e||!o)return;const r=performance.now(),s=t?t.stats:e.stats,a=t?t.duration:e.duration,l=r-s.loading.start,c=i.minAutoLevel;if(s.aborted||s.loaded&&s.loaded===s.total||e.level<=c)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!n||o.paused||!o.playbackRate||!o.readyState)return;const d=i.mainForwardBufferInfo;if(null===d)return;const u=this.bwEstimator.getEstimateTTFB(),h=Math.abs(o.playbackRate);if(l<=Math.max(u,a/(2*h)*1e3))return;const p=d.len/h,m=s.loading.first?s.loading.first-s.loading.start:-1,f=s.loaded&&m>-1,g=this.getBwEstimate(),b=i.levels,v=b[e.level],y=s.total||Math.max(s.loaded,Math.round(a*v.averageBitrate/8));let k=f?l-m:l;k<1&&f&&(k=Math.min(l,8*s.loaded/g));const w=f?1e3*s.loaded/k:0,x=w?(y-s.loaded)/w:8*y/g+u/1e3;if(x<=p)return;const _=w?8*w:g;let E,C=Number.POSITIVE_INFINITY;for(E=e.level-1;E>c;E--){const e=b[E].maxBitrate;if(C=this.getTimeToLoadFrag(u/1e3,_,a*e,!b[E].details),C<p)break}if(C>=x)return;if(C>10*a)return;i.nextLoadLevel=i.nextAutoLevel=E,f?this.bwEstimator.sample(l-Math.min(u,m),s.loaded):this.bwEstimator.sampleTTFB(l);const A=b[E].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>A&&this.resetEstimator(A),this.clearTimer(),wbe.warn(`[abr] Fragment ${e.sn}${t?" part "+t.index:""} of level ${e.level} is loading too slowly;\n      Time to underbuffer: ${p.toFixed(3)} s\n      Estimated load time for current fragment: ${x.toFixed(3)} s\n      Estimated load time for down switch fragment: ${C.toFixed(3)} s\n      TTFB estimate: ${0|m} ms\n      Current BW estimate: ${ube(g)?0|g:"Unknown"} bps\n      New BW estimate: ${0|this.getBwEstimate()} bps\n      Switching to level ${E} @ ${0|A} bps`),i.trigger(mbe.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:s})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(wbe.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Tke(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.FRAG_LOADING,this.onFragLoading,this),e.on(mbe.FRAG_LOADED,this.onFragLoaded,this),e.on(mbe.FRAG_BUFFERED,this.onFragBuffered,this),e.on(mbe.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mbe.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(mbe.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(mbe.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.FRAG_LOADING,this.onFragLoading,this),e.off(mbe.FRAG_LOADED,this.onFragLoaded,this),e.off(mbe.FRAG_BUFFERED,this.onFragBuffered,this),e.off(mbe.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mbe.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(mbe.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(mbe.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const i=t.frag;if(!this.ignoreFragment(i)){var n;if(!i.bitrateTest)this.fragCurrent=i,this.partCurrent=null!=(n=t.part)?n:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case gbe.BUFFER_ADD_CODEC_ERROR:case gbe.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case gbe.FRAG_LOAD_TIMEOUT:{const e=t.frag,{fragCurrent:i,partCurrent:n}=this;if(e&&i&&e.sn===i.sn&&e.level===i.level){const t=performance.now(),i=n?n.stats:e.stats,o=t-i.loading.start,r=i.loading.first?i.loading.first-i.loading.start:-1;if(i.loaded&&r>-1){const e=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(o-Math.min(e,r),i.loaded)}else this.bwEstimator.sampleTTFB(o)}break}}}getTimeToLoadFrag(e,t,i,n){return e+i/t+(n?this.lastLevelLoadSec:0)}onLevelLoaded(e,t){const i=this.hls.config,{loading:n}=t.stats,o=n.end-n.start;ube(o)&&(this.lastLevelLoadSec=o/1e3),t.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}onFragLoaded(e,{frag:t,part:i}){const n=i?i.stats:t.stats;if(t.type===Aye&&this.bwEstimator.sampleTTFB(n.loading.first-n.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const e=i?i.duration:t.duration,o=this.hls.levels[t.level],r=(o.loaded?o.loaded.bytes:0)+n.loaded,s=(o.loaded?o.loaded.duration:0)+e;o.loaded={bytes:r,duration:s},o.realBitrate=Math.round(8*r/s)}if(t.bitrateTest){const e={stats:n,frag:t,part:i,id:t.type};this.onFragBuffered(mbe.FRAG_BUFFERED,e),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:i,part:n}=t,o=null!=n&&n.stats.loaded?n.stats:i.stats;if(o.aborted)return;if(this.ignoreFragment(i))return;const r=o.parsing.end-o.loading.start-Math.min(o.loading.first-o.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(r,o.loaded),o.bwEstimate=this.getBwEstimate(),i.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Aye||"initSegment"===e.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,i=this.getBwEstimate(),n=this.hls.config.maxStarvationDelay,o=this.findBestLevel(i,t,e,0,n,1,1);if(o>-1)return o;const r=this.hls.firstLevel,s=Math.min(Math.max(r,t),e);return wbe.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${r} clamped to ${s}`),s}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,t=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(!(-1===e||t&&i&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return e;const n=t&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==e){const t=this.hls.levels;if(t.length>Math.max(e,n)&&t[e].loadError<=t[n].loadError)return e}return this._nextAutoLevel=n,this.nextAutoLevelKey=this.getAutoLevelKey(),n}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:i}=this,{maxAutoLevel:n,config:o,minAutoLevel:r}=i,s=t?t.duration:e?e.duration:0,a=this.getBwEstimate(),l=this.getStarvationDelay();let c=o.abrBandWidthFactor,d=o.abrBandWidthUpFactor;if(l){const e=this.findBestLevel(a,r,n,l,0,c,d);if(e>=0)return e}let u=s?Math.min(s,o.maxStarvationDelay):o.maxStarvationDelay;if(!l){const e=this.bitrateTestDelay;if(e){u=(s?Math.min(s,o.maxLoadingDelay):o.maxLoadingDelay)-e,wbe.info(`[abr] bitrate test took ${Math.round(1e3*e)}ms, set first fragment max fetchDuration to ${Math.round(1e3*u)} ms`),c=d=1}}const h=this.findBestLevel(a,r,n,l,u,c,d);if(wbe.info(`[abr] ${l?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`),h>-1)return h;const p=i.levels[r],m=i.levels[i.loadLevel];return(null==p?void 0:p.bitrate)<(null==m?void 0:m.bitrate)?r:i.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const i=t&&0!==t.playbackRate?Math.abs(t.playbackRate):1,n=e.mainForwardBufferInfo;return(n?n.len:0)/i}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,i,n,o,r,s){var a;const l=n+o,c=this.lastLoadedFragLevel,d=-1===c?this.hls.firstLevel:c,{fragCurrent:u,partCurrent:h}=this,{levels:p,allAudioTracks:m,loadLevel:f,config:g}=this.hls;if(1===p.length)return 0;const b=p[d],v=!(null==b||null==(a=b.details)||!a.live),y=-1===f||-1===c;let k,w="SDR",x=(null==b?void 0:b.frameRate)||0;const{audioPreference:_,videoPreference:E}=g,C=this.audioTracksByGroup||(this.audioTracksByGroup=function(e){return e.reduce(((e,t)=>{let i=e.groups[t.groupId];i||(i=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),i.tracks.push(t);const n=t.channels||"2";return i.channels[n]=(i.channels[n]||0)+1,i.hasDefault=i.hasDefault||t.default,i.hasAutoSelect=i.hasAutoSelect||t.autoselect,i.hasDefault&&(e.hasDefaultAudio=!0),i.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}(m));if(y){if(-1!==this.firstSelection)return this.firstSelection;const n=this.codecTiers||(this.codecTiers=function(e,t,i,n){return e.slice(i,n+1).reduce(((e,i)=>{if(!i.codecSet)return e;const n=i.audioGroups;let o=e[i.codecSet];o||(e[i.codecSet]=o={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!n,fragmentError:0}),o.minBitrate=Math.min(o.minBitrate,i.bitrate);const r=Math.min(i.height,i.width);return o.minHeight=Math.min(o.minHeight,r),o.minFramerate=Math.min(o.minFramerate,i.frameRate),o.maxScore=Math.max(o.maxScore,i.score),o.fragmentError+=i.fragmentError,o.videoRanges[i.videoRange]=(o.videoRanges[i.videoRange]||0)+1,n&&n.forEach((e=>{if(!e)return;const i=t.groups[e];i&&(o.hasDefaultAudio=o.hasDefaultAudio||t.hasDefaultAudio?i.hasDefault:i.hasAutoSelect||!t.hasDefaultAudio&&!t.hasAutoSelectAudio,Object.keys(i.channels).forEach((e=>{o.channels[e]=(o.channels[e]||0)+i.channels[e]})))})),e}),{})}(p,C,t,i)),o=function(e,t,i,n,o){const r=Object.keys(e),s=null==n?void 0:n.channels,a=null==n?void 0:n.audioCodec,l=s&&2===parseInt(s);let c=!0,d=!1,u=1/0,h=1/0,p=1/0,m=0,f=[];const{preferHDR:g,allowedVideoRanges:b}=Rke(t,o);for(let k=r.length;k--;){const t=e[r[k]];c=t.channels[2]>0,u=Math.min(u,t.minHeight),h=Math.min(h,t.minFramerate),p=Math.min(p,t.minBitrate);const i=b.filter((e=>t.videoRanges[e]>0));i.length>0&&(d=!0,f=i)}u=ube(u)?u:0,h=ube(h)?h:0;const v=Math.max(1080,u),y=Math.max(30,h);return p=ube(p)?p:i,i=Math.max(p,i),d||(t=void 0,f=[]),{codecSet:r.reduce(((t,n)=>{const o=e[n];if(n===t)return t;if(o.minBitrate>i)return Lke(n,`min bitrate of ${o.minBitrate} > current estimate of ${i}`),t;if(!o.hasDefaultAudio)return Lke(n,"no renditions with default or auto-select sound found"),t;if(a&&n.indexOf(a.substring(0,4))%5!=0)return Lke(n,`audio codec preference "${a}" not found`),t;if(s&&!l){if(!o.channels[s])return Lke(n,`no renditions with ${s} channel sound found (channels options: ${Object.keys(o.channels)})`),t}else if((!a||l)&&c&&0===o.channels[2])return Lke(n,"no renditions with stereo sound found"),t;return o.minHeight>v?(Lke(n,`min resolution of ${o.minHeight} > maximum of ${v}`),t):o.minFramerate>y?(Lke(n,`min framerate of ${o.minFramerate} > maximum of ${y}`),t):f.some((e=>o.videoRanges[e]>0))?o.maxScore<m?(Lke(n,`max score of ${o.maxScore} < selected max of ${m}`),t):t&&(oye(n)>=oye(t)||o.fragmentError>e[t].fragmentError)?t:(m=o.maxScore,n):(Lke(n,`no variants with VIDEO-RANGE of ${JSON.stringify(f)} found`),t)}),void 0),videoRanges:f,preferHDR:g,minFramerate:h,minBitrate:p}}(n,w,e,_,E),{codecSet:r,videoRanges:s,minFramerate:a,minBitrate:l,preferHDR:c}=o;k=r,w=c?s[s.length-1]:s[0],x=a,e=Math.max(e,l),wbe.log(`[abr] picked start tier ${JSON.stringify(o)}`)}else k=null==b?void 0:b.codecSet,w=null==b?void 0:b.videoRange;const A=h?h.duration:u?u.duration:0,T=this.bwEstimator.getEstimateTTFB()/1e3,S=[];for(let P=i;P>=t;P--){var I;const t=p[P],a=P>d;if(!t)continue;if(g.useMediaCapabilities&&!t.supportedResult&&!t.supportedPromise){const i=navigator.mediaCapabilities;"function"==typeof(null==i?void 0:i.decodingInfo)&&Pke(t,C,w,x,e,_)?(t.supportedPromise=Dke(t,C,i),t.supportedPromise.then((e=>{if(!this.hls)return;t.supportedResult=e;const i=this.hls.levels,n=i.indexOf(t);e.error?wbe.warn(`[abr] MediaCapabilities decodingInfo error: "${e.error}" for level ${n} ${JSON.stringify(e)}`):e.supported||(wbe.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${n} ${JSON.stringify(e)}`),n>-1&&i.length>1&&(wbe.log(`[abr] Removing unsupported level ${n}`),this.hls.removeLevel(n)))}))):t.supportedResult=Ske}if(k&&t.codecSet!==k||w&&t.videoRange!==w||a&&x>t.frameRate||!a&&x>0&&x<t.frameRate||t.supportedResult&&(null==(I=t.supportedResult.decodingInfoResults)||!I[0].smooth)){S.push(P);continue}const u=t.details,m=(h?null==u?void 0:u.partTarget:null==u?void 0:u.averagetargetduration)||A;let E;E=a?s*e:r*e;const D=A&&n>=2*A&&0===o?p[P].averageBitrate:p[P].maxBitrate,R=this.getTimeToLoadFrag(T,E,D*m,void 0===u);if(E>=D&&(P===c||0===t.loadError&&0===t.fragmentError)&&(R<=T||!ube(R)||v&&!this.bitrateTestDelay||R<l)){const e=this.forcedAutoLevel;return P===f||-1!==e&&e===f||(S.length&&wbe.trace(`[abr] Skipped level(s) ${S.join(",")} of ${i} max with CODECS and VIDEO-RANGE:"${p[S[0]].codecs}" ${p[S[0]].videoRange}; not compatible with "${b.codecs}" ${w}`),wbe.info(`[abr] switch candidate:${d}->${P} adjustedbw(${Math.round(E)})-bitrate=${Math.round(E-D)} ttfb:${T.toFixed(1)} avgDuration:${m.toFixed(1)} maxFetchDuration:${l.toFixed(1)} fetchDuration:${R.toFixed(1)} firstSelection:${y} codecSet:${k} videoRange:${w} hls.loadLevel:${f}`)),y&&(this.firstSelection=P),P}}return-1}set nextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:i}=this.hls,n=Math.min(Math.max(e,i),t);this._nextAutoLevel!==n&&(this.nextAutoLevelKey="",this._nextAutoLevel=n)}},bufferController:class{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=e=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=e=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:e,mediaSource:t}=this;this.log("Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(mbe.MEDIA_ATTACHED,{media:e,mediaSource:t})),t&&t.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:e,_objectUrl:t}=this;e!==t&&wbe.error(`Media element src was set while attaching MediaSource (${t} > ${e})`)},this.hls=e;const t="[buffer-controller]";this.appendSource=function(e){return"undefined"!=typeof self&&e===self.ManagedMediaSource}(Jve(e.config.preferManagedMediaSource)),this.log=wbe.log.bind(wbe,t),this.warn=wbe.warn.bind(wbe,t),this.error=wbe.error.bind(wbe,t),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(mbe.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mbe.BUFFER_RESET,this.onBufferReset,this),e.on(mbe.BUFFER_APPENDING,this.onBufferAppending,this),e.on(mbe.BUFFER_CODECS,this.onBufferCodecs,this),e.on(mbe.BUFFER_EOS,this.onBufferEos,this),e.on(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(mbe.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(mbe.FRAG_PARSED,this.onFragParsed,this),e.on(mbe.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(mbe.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mbe.BUFFER_RESET,this.onBufferReset,this),e.off(mbe.BUFFER_APPENDING,this.onBufferAppending,this),e.off(mbe.BUFFER_CODECS,this.onBufferCodecs,this),e.off(mbe.BUFFER_EOS,this.onBufferEos,this),e.off(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(mbe.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(mbe.FRAG_PARSED,this.onFragParsed,this),e.off(mbe.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Mxe(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){let i=2;(t.audio&&!t.video||!t.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,t){const i=this.media=t.media,n=Jve(this.appendSource);if(i&&n){var o;const e=this.mediaSource=new n;this.log(`created media source: ${null==(o=e.constructor)?void 0:o.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming));const t=this._objectUrl=self.URL.createObjectURL(e);if(this.appendSource)try{i.removeAttribute("src");const n=self.ManagedMediaSource;i.disableRemotePlayback=i.disableRemotePlayback||n&&e instanceof n,Nxe(i),function(e,t){const i=self.document.createElement("source");i.type="video/mp4",i.src=t,e.appendChild(i)}(i,t),i.load()}catch(r){i.src=t}else i.src=t;i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:t,_objectUrl:i}=this;if(t){if(this.log("media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(N0){this.warn(`onMediaDetaching: ${N0.message} while calling endOfStream`)}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.removeEventListener("startstreaming",this._onStartStreaming),t.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),this.mediaSrc===i?(e.removeAttribute("src"),this.appendSource&&Nxe(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(mbe.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach((e=>{this.resetBuffer(e)})),this._initSourceBuffer(),this.hls.resumeBuffering()}resetBuffer(e){const t=this.sourceBuffer[e];try{var i;if(t)this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,null!=(i=this.mediaSource)&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(t)}catch(N0){this.warn(`onBufferReset ${e}`,N0)}}onBufferCodecs(e,t){const i=this.getSourceBufferTypes().length,n=Object.keys(t);if(n.forEach((e=>{if(i){const i=this.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var n;const{id:o,codec:r,levelCodec:s,container:a,metadata:l}=t[e],c=lye(i.codec,i.levelCodec),d=null==c?void 0:c.replace(Oxe,"$1");let u=lye(r,s);const h=null==(n=u)?void 0:n.replace(Oxe,"$1");if(u&&d!==h){"audio"===e.slice(0,5)&&(u=aye(u,this.appendSource));const t=`${a};codecs=${u}`;this.appendChangeType(e,t),this.log(`switching codec ${c} to ${u}`),this.tracks[e]={buffer:i.buffer,codec:r,container:a,levelCodec:s,metadata:l,id:o}}}}else this.pendingTracks[e]=t[e]})),i)return;const o=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==o&&(this.log(`${o} bufferCodec event(s) expected ${n.join(",")}`),this.bufferCodecEventsExpected=o),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}appendChangeType(e,t){const{operationQueue:i}=this,n={execute:()=>{const n=this.sourceBuffer[e];n&&(this.log(`changing ${e} sourceBuffer type to ${t}`),n.changeType(t)),i.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:t=>{this.warn(`Failed to change ${e} SourceBuffer type`,t)}};i.append(n,e,!!this.pendingTracks[e])}onBufferAppending(e,t){const{hls:i,operationQueue:n,tracks:o}=this,{data:r,type:s,frag:a,part:l,chunkMeta:c}=t,d=c.buffering[s],u=self.performance.now();d.start=u;const h=a.stats.buffering,p=l?l.stats.buffering:null;0===h.start&&(h.start=u),p&&0===p.start&&(p.start=u);const m=o.audio;let f=!1;"audio"===s&&"audio/mpeg"===(null==m?void 0:m.container)&&(f=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const g=a.start,b={execute:()=>{if(d.executeStart=self.performance.now(),f){const e=this.sourceBuffer[s];if(e){const t=g-e.timestampOffset;Math.abs(t)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${g} (delta: ${t}) sn: ${a.sn})`),e.timestampOffset=g)}}this.appendExecutor(r,s)},onStart:()=>{},onComplete:()=>{const e=self.performance.now();d.executeEnd=d.end=e,0===h.first&&(h.first=e),p&&0===p.first&&(p.first=e);const{sourceBuffer:t}=this,i={};for(const n in t)i[n]=Wke.getBuffered(t[n]);this.appendErrors[s]=0,"audio"===s||"video"===s?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(mbe.BUFFER_APPENDED,{type:s,frag:a,part:l,chunkMeta:c,parent:a.type,timeRanges:i})},onError:e=>{const t={type:fbe.MEDIA_ERROR,parent:a.type,details:gbe.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:a,part:l,chunkMeta:c,error:e,err:e,fatal:!1};if(e.code===DOMException.QUOTA_EXCEEDED_ERR)t.details=gbe.BUFFER_FULL_ERROR;else{const e=++this.appendErrors[s];t.details=gbe.BUFFER_APPEND_ERROR,this.warn(`Failed ${e}/${i.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer`),e>=i.config.appendErrorMaxRetry&&(t.fatal=!0)}i.trigger(mbe.ERROR,t)}};n.append(b,s,!!this.pendingTracks[s])}onBufferFlushing(e,t){const{operationQueue:i}=this,n=e=>({execute:this.removeExecutor.bind(this,e,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(mbe.BUFFER_FLUSHED,{type:e})},onError:t=>{this.warn(`Failed to remove from ${e} SourceBuffer`,t)}});t.type?i.append(n(t.type),t.type):this.getSourceBufferTypes().forEach((e=>{i.append(n(e),e)}))}onFragParsed(e,t){const{frag:i,part:n}=t,o=[],r=n?n.elementaryStreams:i.elementaryStreams;r[Pbe]?o.push("audiovideo"):(r[Sbe]&&o.push("audio"),r[Ibe]&&o.push("video"));0===o.length&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers((()=>{const e=self.performance.now();i.stats.buffering.end=e,n&&(n.stats.buffering.end=e);const t=n?n.stats:i.stats;this.hls.trigger(mbe.FRAG_BUFFERED,{frag:i,part:n,stats:t,id:i.type})}),o)}onFragChanged(e,t){this.trimBuffers()}onBufferEos(e,t){this.getSourceBufferTypes().reduce(((e,i)=>{const n=this.sourceBuffer[i];return!n||t.type&&t.type!==i||(n.ending=!0,n.ended||(n.ended=!0,this.log(`${i} sourceBuffer now EOS`))),e&&!(n&&!n.ended)}),!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers((()=>{this.getSourceBufferTypes().forEach((e=>{const t=this.sourceBuffer[e];t&&(t.ending=!1)}));const{mediaSource:e}=this;e&&"open"===e.readyState?(this.log("Calling mediaSource.endOfStream()"),e.endOfStream()):e&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${e.readyState}`)})))}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:t,media:i}=this;if(!i||null===t)return;if(!this.getSourceBufferTypes().length)return;const n=e.config,o=i.currentTime,r=t.levelTargetDuration,s=t.live&&null!==n.liveBackBufferLength?n.liveBackBufferLength:n.backBufferLength;if(ube(s)&&s>0){const e=Math.max(s,r),t=Math.floor(o/r)*r-e;this.flushBackBuffer(o,r,t)}if(ube(n.frontBufferFlushThreshold)&&n.frontBufferFlushThreshold>0){const e=Math.max(n.maxBufferLength,n.frontBufferFlushThreshold),t=Math.max(e,r),i=Math.floor(o/r)*r+t;this.flushFrontBuffer(o,r,i)}}flushBackBuffer(e,t,i){const{details:n,sourceBuffer:o}=this;this.getSourceBufferTypes().forEach((r=>{const s=o[r];if(s){const o=Wke.getBuffered(s);if(o.length>0&&i>o.start(0)){if(this.hls.trigger(mbe.BACK_BUFFER_REACHED,{bufferEnd:i}),null!=n&&n.live)this.hls.trigger(mbe.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i});else if(s.ended&&o.end(o.length-1)-e<2*t)return void this.log(`Cannot flush ${r} back buffer while SourceBuffer is in ended state`);this.hls.trigger(mbe.BUFFER_FLUSHING,{startOffset:0,endOffset:i,type:r})}}}))}flushFrontBuffer(e,t,i){const{sourceBuffer:n}=this;this.getSourceBufferTypes().forEach((o=>{const r=n[o];if(r){const n=Wke.getBuffered(r),s=n.length;if(s<2)return;const a=n.start(s-1),l=n.end(s-1);if(i>a||e>=a&&e<=l)return;if(r.ended&&e-l<2*t)return void this.log(`Cannot flush ${o} front buffer while SourceBuffer is in ended state`);this.hls.trigger(mbe.BUFFER_FLUSHING,{startOffset:a,endOffset:1/0,type:o})}}))}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:e,hls:t,media:i,mediaSource:n}=this,o=e.fragments[0].start+e.totalduration,r=i.duration,s=ube(n.duration)?n.duration:0;e.live&&t.config.liveDurationInfinity?(n.duration=1/0,this.updateSeekableRange(e)):(o>s&&o>r||!ube(r))&&(this.log(`Updating Media Source duration to ${o.toFixed(3)}`),n.duration=o)}updateSeekableRange(e){const t=this.mediaSource,i=e.fragments;if(i.length&&e.live&&null!=t&&t.setLiveSeekableRange){const n=Math.max(0,i[0].start),o=Math.max(n,n+e.totalduration);this.log(`Media Source duration is set to ${t.duration}. Setting seekable range to ${n}-${o}.`),t.setLiveSeekableRange(n,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:t,pendingTracks:i}=this,n=Object.keys(i).length;if(n&&(!e||2===n||"audiovideo"in i)){this.createSourceBuffers(i),this.pendingTracks={};const e=this.getSourceBufferTypes();if(e.length)this.hls.trigger(mbe.BUFFER_CREATED,{tracks:this.tracks}),e.forEach((e=>{t.executeNext(e)}));else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}}createSourceBuffers(e){const{sourceBuffer:t,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(const o in e)if(!t[o]){var n;const r=e[o];if(!r)throw Error(`source buffer exists for track ${o}, however track does not`);let s=-1===(null==(n=r.levelCodec)?void 0:n.indexOf(","))?r.levelCodec:r.codec;s&&"audio"===o.slice(0,5)&&(s=aye(s,this.appendSource));const a=`${r.container};codecs=${s}`;this.log(`creating sourceBuffer(${a})`);try{const e=t[o]=i.addSourceBuffer(a),n=o;this.addBufferListener(n,"updatestart",this._onSBUpdateStart),this.addBufferListener(n,"updateend",this._onSBUpdateEnd),this.addBufferListener(n,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(n,"bufferedchange",((e,t)=>{const i=t.removedRanges;null!=i&&i.length&&this.hls.trigger(mbe.BUFFER_FLUSHED,{type:o})})),this.tracks[o]={buffer:e,codec:s,container:r.container,levelCodec:r.levelCodec,metadata:r.metadata,id:r.id}}catch(N0){this.error(`error while trying to add sourceBuffer: ${N0.message}`),this.hls.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:N0,sourceBufferName:o,mimeType:a})}}}get mediaSrc(){var e,t;const i=(null==(e=this.media)||null==(t=e.querySelector)?void 0:t.call(e,"source"))||this.media;return null==i?void 0:i.src}_onSBUpdateStart(e){const{operationQueue:t}=this;t.current(e).onStart()}_onSBUpdateEnd(e){var t;if("closed"===(null==(t=this.mediaSource)?void 0:t.readyState))return void this.resetBuffer(e);const{operationQueue:i}=this;i.current(e).onComplete(),i.shiftAndExecuteNext(e)}_onSBUpdateError(e,t){var i;const n=new Error(`${e} SourceBuffer error. MediaSource readyState: ${null==(i=this.mediaSource)?void 0:i.readyState}`);this.error(`${n}`,t),this.hls.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:n,fatal:!1});const o=this.operationQueue.current(e);o&&o.onError(n)}removeExecutor(e,t,i){const{media:n,mediaSource:o,operationQueue:r,sourceBuffer:s}=this,a=s[e];if(!n||!o||!a)return this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),void r.shiftAndExecuteNext(e);const l=ube(n.duration)?n.duration:1/0,c=ube(o.duration)?o.duration:1/0,d=Math.max(0,t),u=Math.min(i,l,c);u>d&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${d},${u}] from the ${e} SourceBuffer`),a.remove(d,u)):r.shiftAndExecuteNext(e)}appendExecutor(e,t){const i=this.sourceBuffer[t];if(i)i.ended=!1,i.appendBuffer(e);else if(!this.pendingTracks[t])throw new Error(`Attempting to append to the ${t} SourceBuffer, but it does not exist`)}blockBuffers(e,t=this.getSourceBufferTypes()){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);const{operationQueue:i}=this,n=t.map((e=>i.appendBlocker(e)));Promise.all(n).then((()=>{e(),t.forEach((e=>{const t=this.sourceBuffer[e];null!=t&&t.updating||i.shiftAndExecuteNext(e)}))}))}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,t,i){const n=this.sourceBuffer[e];if(!n)return;const o=i.bind(this,e);this.listeners[e].push({event:t,listener:o}),n.addEventListener(t,o)}removeBufferListeners(e){const t=this.sourceBuffer[e];t&&this.listeners[e].forEach((e=>{t.removeEventListener(e.event,e.listener)}))}},capLevelController:D_e,errorController:class{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=wbe.log.bind(wbe,"[info]:"),this.warn=wbe.warn.bind(wbe,"[warning]:"),this.error=wbe.error.bind(wbe,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(mbe.ERROR,this.onError,this),e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(mbe.ERROR,this.onError,this),e.off(mbe.ERROR,this.onErrorOut,this),e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(null==e?void 0:e.type)===Aye?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var i,n;if(t.fatal)return;const o=this.hls,r=t.context;switch(t.details){case gbe.FRAG_LOAD_ERROR:case gbe.FRAG_LOAD_TIMEOUT:case gbe.KEY_LOAD_ERROR:case gbe.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case gbe.FRAG_PARSING_ERROR:if(null!=(i=t.frag)&&i.gap)return void(t.errorAction={action:vke,flags:xke});case gbe.FRAG_GAP:case gbe.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=yke);case gbe.LEVEL_EMPTY_ERROR:case gbe.LEVEL_PARSING_ERROR:{var s,a;const e=t.parent===Aye?t.level:o.loadLevel;t.details===gbe.LEVEL_EMPTY_ERROR&&null!=(s=t.context)&&null!=(a=s.levelDetails)&&a.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,e):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e))}return;case gbe.LEVEL_LOAD_ERROR:case gbe.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==r?void 0:r.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,r.level)));case gbe.AUDIO_TRACK_LOAD_ERROR:case gbe.AUDIO_TRACK_LOAD_TIMEOUT:case gbe.SUBTITLE_LOAD_ERROR:case gbe.SUBTITLE_TRACK_LOAD_TIMEOUT:if(r){const e=o.levels[o.loadLevel];if(e&&(r.type===Eye&&e.hasAudioGroup(r.groupId)||r.type===Cye&&e.hasSubtitleGroup(r.groupId)))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,o.loadLevel),t.errorAction.action=yke,void(t.errorAction.flags=_ke)}return;case gbe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const e=o.levels[o.loadLevel],i=null==e?void 0:e.attrs["HDCP-LEVEL"];i?t.errorAction={action:yke,flags:Eke,hdcpLevel:i}:this.keySystemError(t)}return;case gbe.BUFFER_ADD_CODEC_ERROR:case gbe.REMUX_ALLOC_ERROR:case gbe.BUFFER_APPEND_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(n=t.level)?n:o.loadLevel));case gbe.INTERNAL_EXCEPTION:case gbe.BUFFER_APPENDING_ERROR:case gbe.BUFFER_FULL_ERROR:case gbe.LEVEL_SWITCH_ERROR:case gbe.BUFFER_STALLED_ERROR:case gbe.BUFFER_SEEK_OVER_HOLE:case gbe.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:vke,flags:xke})}t.type===fbe.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const i=dke(this.hls.config.playlistLoadPolicy,e),n=this.playlistError++;if(pke(i,n,cke(e),e.response))return{action:wke,flags:xke,retryConfig:i,retryCount:n};const o=this.getLevelSwitchAction(e,t);return i&&(o.retryConfig=i,o.retryCount=n),o}getFragRetryOrSwitchAction(e){const t=this.hls,i=this.getVariantLevelIndex(e.frag),n=t.levels[i],{fragLoadPolicy:o,keyLoadPolicy:r}=t.config,s=dke(e.details.startsWith("key")?r:o,e),a=t.levels.reduce(((e,t)=>e+t.fragmentError),0);if(n){e.details!==gbe.FRAG_GAP&&n.fragmentError++;if(pke(s,a,cke(e),e.response))return{action:wke,flags:xke,retryConfig:s,retryCount:a}}const l=this.getLevelSwitchAction(e,i);return s&&(l.retryConfig=s,l.retryCount=a),l}getLevelSwitchAction(e,t){const i=this.hls;null==t&&(t=i.loadLevel);const n=this.hls.levels[t];if(n){var o,r;const t=e.details;n.loadError++,t===gbe.BUFFER_APPEND_ERROR&&n.fragmentError++;let l=-1;const{levels:c,loadLevel:d,minAutoLevel:u,maxAutoLevel:h}=i;i.autoLevelEnabled||(i.loadLevel=-1);const p=null==(o=e.frag)?void 0:o.type,m=(p===Tye&&t===gbe.FRAG_PARSING_ERROR||"audio"===e.sourceBufferName&&(t===gbe.BUFFER_ADD_CODEC_ERROR||t===gbe.BUFFER_APPEND_ERROR))&&c.some((({audioCodec:e})=>n.audioCodec!==e)),f="video"===e.sourceBufferName&&(t===gbe.BUFFER_ADD_CODEC_ERROR||t===gbe.BUFFER_APPEND_ERROR)&&c.some((({codecSet:e,audioCodec:t})=>n.codecSet!==e&&n.audioCodec===t)),{type:g,groupId:b}=null!=(r=e.context)?r:{};for(let i=c.length;i--;){const o=(i+d)%c.length;if(o!==d&&o>=u&&o<=h&&0===c[o].loadError){var s,a;const i=c[o];if(t===gbe.FRAG_GAP&&p===Aye&&e.frag){const t=c[o].details;if(t){const i=fke(e.frag,t.fragments,e.frag.start);if(null!=i&&i.gap)continue}}else{if(g===Eye&&i.hasAudioGroup(b)||g===Cye&&i.hasSubtitleGroup(b))continue;if(p===Tye&&null!=(s=n.audioGroups)&&s.some((e=>i.hasAudioGroup(e)))||p===Sye&&null!=(a=n.subtitleGroups)&&a.some((e=>i.hasSubtitleGroup(e)))||m&&n.audioCodec===i.audioCodec||!m&&n.audioCodec!==i.audioCodec||f&&n.codecSet===i.codecSet)continue}l=o;break}}if(l>-1&&i.loadLevel!==l)return e.levelRetry=!0,this.playlistError=0,{action:yke,flags:xke,nextAutoLevel:l}}return{action:yke,flags:_ke}}onErrorOut(e,t){var i;switch(null==(i=t.errorAction)?void 0:i.action){case vke:break;case yke:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===gbe.FRAG_GAP?/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()):t.fatal=!0}t.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(e){const t=this.hls,i=e.errorAction;if(!i)return;const{flags:n,hdcpLevel:o,nextAutoLevel:r}=i;switch(n){case xke:this.switchLevel(e,r);break;case Eke:o&&(t.maxHdcpLevel=Gye[Gye.indexOf(o)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`)}i.resolved||this.switchLevel(e,r)}switchLevel(e,t){void 0!==t&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},fpsController:class{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(mbe.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(mbe.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const i=this.hls.config;if(i.capLevelOnFPSDrop){const e=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=e,e&&"function"==typeof e.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(e,t,i){const n=performance.now();if(t){if(this.lastTime){const e=n-this.lastTime,o=i-this.lastDroppedFrames,r=t-this.lastDecodedFrames,s=1e3*o/e,a=this.hls;if(a.trigger(mbe.FPS_DROP,{currentDropped:o,currentDecoded:r,totalDroppedFrames:i}),s>0&&o>a.config.fpsDroppedMonitoringThreshold*r){let e=a.currentLevel;wbe.warn("drop FPS ratio greater than max allowed value for currentLevel: "+e),e>0&&(-1===a.autoLevelCapping||a.autoLevelCapping>=e)&&(e-=1,a.trigger(mbe.FPS_DROP_LEVEL_CAPPING,{level:e,droppedLevel:a.currentLevel}),a.autoLevelCapping=e,this.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Jbe,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:vEe,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends xwe{constructor(e,t,i){super(e,t,i,"[subtitle-stream-controller]",Sye),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mbe.ERROR,this.onError,this),e.on(mbe.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(mbe.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(mbe.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(mbe.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(mbe.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mbe.ERROR,this.onError,this),e.off(mbe.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(mbe.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(mbe.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(mbe.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(mbe.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=uwe,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:i,success:n}=t;if(this.fragPrevious=i,this.state=uwe,!n)return;const o=this.tracksBuffered[this.currentTrackId];if(!o)return;let r;const s=i.start;for(let l=0;l<o.length;l++)if(s>=o[l].start&&s<=o[l].end){r=o[l];break}const a=i.start+i.duration;r?r.end=a:(r={start:s,end:a},o.push(r)),this.fragmentTracker.fragBuffered(i),this.fragBufferedComplete(i,null)}onBufferFlushing(e,t){const{startOffset:i,endOffset:n}=t;if(0===i&&n!==Number.POSITIVE_INFINITY){const e=n-1;if(e<=0)return;t.endOffsetSubtitles=Math.max(0,e),this.tracksBuffered.forEach((t=>{for(let i=0;i<t.length;)if(t[i].end<=e)t.shift();else{if(!(t[i].start<e))break;t[i].start=e,i++}})),this.fragmentTracker.removeFragmentsInRange(i,e,Sye)}}onFragBuffered(e,t){var i;this.loadedmetadata||t.frag.type!==Aye||null!=(i=this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}onError(e,t){const i=t.frag;(null==i?void 0:i.type)===Sye&&(t.details===gbe.FRAG_GAP&&this.fragmentTracker.fragBuffered(i,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==dwe&&(this.state=uwe))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){this.levels&&Pxe(this.levels,t)?this.levels=t.map((e=>new Zye(e))):(this.tracksBuffered=[],this.levels=t.map((e=>{const t=new Zye(e);return this.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Sye),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(e,t){var i;if(this.currentTrackId=t.id,null==(i=this.levels)||!i.length||-1===this.currentTrackId)return void this.clearInterval();const n=this.levels[this.currentTrackId];null!=n&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.setInterval(500)}onSubtitleTrackLoaded(e,t){var i;const{currentTrackId:n,levels:o}=this,{details:r,id:s}=t;if(!o)return void this.warn(`Subtitle tracks were reset while loading level ${s}`);const a=o[s];if(s>=o.length||!a)return;this.log(`Subtitle track ${s} loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""},duration:${r.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(r.live||null!=(i=a.details)&&i.live){const e=this.mainDetails;if(r.deltaUpdateFailed||!e)return;const t=e.fragments[0];var c;if(a.details)l=this.alignPlaylists(r,a.details,null==(c=this.levelLastLoaded)?void 0:c.details),0===l&&t&&(l=t.start,rke(r,l));else r.hasProgramDateTime&&e.hasProgramDateTime?(Zke(r,e),l=r.fragments[0].start):t&&(l=t.start,rke(r,l))}if(a.details=r,this.levelLastLoaded=a,s===n&&(this.startFragRequested||!this.mainDetails&&r.live||this.setStartPosition(this.mainDetails||r,l),this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===uwe)){fke(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),a.details=void 0)}}_handleFragmentLoadComplete(e){const{frag:t,payload:i}=e,n=t.decryptdata,o=this.hls;if(!this.fragContextChanged(t)&&i&&i.byteLength>0&&null!=n&&n.key&&n.iv&&"AES-128"===n.method){const e=performance.now();this.decrypter.decrypt(new Uint8Array(i),n.key.buffer,n.iv.buffer).catch((e=>{throw o.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((i=>{const n=performance.now();o.trigger(mbe.FRAG_DECRYPTED,{frag:t,payload:i,stats:{tstart:e,tdecrypt:n}})})).catch((e=>{this.warn(`${e.name}: ${e.message}`),this.state=uwe}))}}doTick(){if(this.media){if(this.state===uwe){const{currentTrackId:e,levels:t}=this,i=null==t?void 0:t[e];if(!i||!t.length||!i.details)return;const{config:n}=this,o=this.getLoadPosition(),r=Wke.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o,n.maxBufferHole),{end:s,len:a}=r,l=this.getFwdBufferInfo(this.media,Aye),c=i.details;if(a>this.getMaxBufferLength(null==l?void 0:l.len)+c.levelTargetDuration)return;const d=c.fragments,u=d.length,h=c.edge;let p=null;const m=this.fragPrevious;if(s<h){const e=n.maxFragLookUpTolerance,t=s>h-e?0:e;p=fke(m,d,Math.max(d[0].start,s),t),!p&&m&&m.start<d[0].start&&(p=d[0])}else p=d[u-1];if(!p)return;if(p=this.mapToInitFragWhenRequired(p),"initSegment"!==p.sn){const e=d[p.sn-c.startSN-1];e&&e.cc===p.cc&&this.fragmentTracker.getState(e)===Bke&&(p=e)}this.fragmentTracker.getState(p)===Bke&&this.loadFragment(p,i,s)}}else this.state=uwe}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.max(t,e):t}loadFragment(e,t,i){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e,t):(this.startFragRequested=!0,super.loadFragment(e,t,i))}get mediaBufferTimeRanges(){return new Lxe(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends Cke{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let e=null;const t=Nye(this.media.textTracks);for(let n=0;n<t.length;n++)if("hidden"===t[n].mode)e=t[n];else if("showing"===t[n].mode){e=t[n];break}const i=this.findTrackForTextTrack(e);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mbe.LEVEL_LOADING,this.onLevelLoading,this),e.on(mbe.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(mbe.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(mbe.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mbe.LEVEL_LOADING,this.onLevelLoading,this),e.off(mbe.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(mbe.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(mbe.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);Nye(this.media.textTracks).forEach((e=>{Mye(e)})),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:i,groupId:n,details:o}=t,r=this.tracksInGroup[i];if(!r||r.groupId!==n)return void this.warn(`Subtitle track with id:${i} and group:${n} not found in active group ${null==r?void 0:r.groupId}`);const s=r.details;r.details=t.details,this.log(`Subtitle track ${i} "${r.name}" lang:${r.lang} group:${n} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,s)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const i=t.subtitleGroups||null,n=this.groupIds;let o=this.currentTrack;if(!i||(null==n?void 0:n.length)!==(null==i?void 0:i.length)||null!=i&&i.some((e=>-1===(null==n?void 0:n.indexOf(e))))){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!i||-1!==i.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.subtitlePreference;if(!o&&t){this.selectDefaultTrack=!1;const i=Mke(t,e);if(i>-1)o=e[i];else{const e=Mke(t,this.tracks);o=this.tracks[e]}}let n=this.findTrackId(o);-1===n&&o&&(n=this.findTrackId(null));const r={subtitleTracks:e};this.log(`Updating subtitle tracks, ${e.length} track(s) found in "${null==i?void 0:i.join(",")}" group-id`),this.hls.trigger(mbe.SUBTITLE_TRACKS_UPDATED,r),-1!==n&&-1===this.trackId&&this.setSubtitleTrack(n)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const t=this.tracksInGroup,i=this.selectDefaultTrack;for(let n=0;n<t.length;n++){const o=t[n];if((!i||o.default)&&(i||e)&&(!e||Oke(o,e)))return n}if(e){for(let i=0;i<t.length;i++){const n=t[i];if(Dxe(e.attrs,n.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<t.length;i++){const n=t[i];if(Dxe(e.attrs,n.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let i=0;i<t.length;i++){if(Rxe(t[i],e))return i}}return-1}onError(e,t){!t.fatal&&t.context&&(t.context.type!==Cye||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||this.checkRetry(t))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const i=this.currentTrack;if(i&&Oke(e,i))return i;const n=Mke(e,this.tracksInGroup);if(n>-1){const e=this.tracksInGroup[n];return this.setSubtitleTrack(n),e}if(i)return null;{const i=Mke(e,t);if(i>-1)return t[i]}}}return null}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){const n=t.id,o=t.groupId;let r=t.url;if(e)try{r=e.addDirectives(r)}catch(i){this.warn(`Could not construct new URL with HLS Delivery Directives: ${i}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger(mbe.SUBTITLE_TRACK_LOADING,{url:r,id:n,groupId:o,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=Nye(e.textTracks),i=this.currentTrack;let n;if(i&&(n=t.filter((e=>Rxe(i,e)))[0],n||this.warn(`Unable to find subtitle TextTrack with name "${i.name}" and language "${i.lang}"`)),[].slice.call(t).forEach((e=>{"disabled"!==e.mode&&e!==n&&(e.mode="disabled")})),n){const e=this.subtitleDisplay?"showing":"hidden";n.mode!==e&&(n.mode=e)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=e);if(e<-1||e>=t.length||!ube(e))return void this.warn(`Invalid subtitle track id: ${e}`);this.clearTimer(),this.selectDefaultTrack=!1;const i=this.currentTrack,n=t[e]||null;if(this.trackId=e,this.currentTrack=n,this.toggleTrackModes(),!n)return void this.hls.trigger(mbe.SUBTITLE_TRACK_SWITCH,{id:e});const o=!!n.details&&!n.details.live;if(e===this.trackId&&n===i&&o)return;this.log(`Switching to subtitle-track ${e}`+(n?` "${n.name}" lang:${n.lang} group:${n.groupId}`:""));const{id:r,groupId:s="",name:a,type:l,url:c}=n;this.hls.trigger(mbe.SUBTITLE_TRACK_SWITCH,{id:r,groupId:s,name:a,type:l,url:c});const d=this.switchParams(n.url,null==i?void 0:i.details,n.details);this.loadPlaylist(d)}},timelineController:class{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(mbe.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(mbe.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(mbe.FRAG_LOADING,this.onFragLoading,this),e.on(mbe.FRAG_LOADED,this.onFragLoaded,this),e.on(mbe.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(mbe.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(mbe.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(mbe.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(mbe.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(mbe.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(mbe.FRAG_LOADING,this.onFragLoading,this),e.off(mbe.FRAG_LOADED,this.onFragLoaded,this),e.off(mbe.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(mbe.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(mbe.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(mbe.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new i_e(this,"textTrack1"),t=new i_e(this,"textTrack2"),i=new i_e(this,"textTrack3"),n=new i_e(this,"textTrack4");this.cea608Parser1=new Zxe(1,e,t),this.cea608Parser2=new Zxe(3,i,n)}}addCues(e,t,i,n,o){let r=!1;for(let d=o.length;d--;){const e=o[d],n=(s=e[0],a=e[1],l=t,c=i,Math.min(a,c)-Math.max(s,l));if(n>=0&&(e[0]=Math.min(e[0],t),e[1]=Math.max(e[1],i),r=!0,n/(i-t)>.5))return}var s,a,l,c;if(r||o.push([t,i]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,t,i,n)}else{const o=this.Cues.newCue(null,t,i,n);this.hls.trigger(mbe.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:t,id:i,initPTS:n,timescale:o}){const{unparsedVttFrags:r}=this;"main"===i&&(this.initPTS[t.cc]={baseTime:n,timescale:o}),r.length&&(this.unparsedVttFrags=[],r.forEach((e=>{this.onFragLoaded(mbe.FRAG_LOADED,e)})))}getExistingTrack(e,t){const{media:i}=this;if(i)for(let n=0;n<i.textTracks.length;n++){const o=i.textTracks[n];if(P_e(o,{name:e,lang:t,attrs:{}}))return o}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:i,media:n}=this,{label:o,languageCode:r}=t[e],s=this.getExistingTrack(o,r);if(s)i[e]=s,Mye(i[e]),Rye(i[e],n);else{const t=this.createTextTrack("captions",o,r);t&&(t[e]=!0,i[e]=t)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const i={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(mbe.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,t,i){const n=this.media;if(n)return n.addTextTrack(e,t,i)}onMediaAttaching(e,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach((t=>{Mye(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let i=0;i<t.length;i++)Mye(t[i])}onSubtitleTracksUpdated(e,t){const i=t.subtitleTracks||[],n=i.some((e=>e.textCodec===v_e));if(this.config.enableWebVTT||n&&this.config.enableIMSC1){if(Pxe(this.tracks,i))return void(this.tracks=i);if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const e=this.media,t=e?Nye(e.textTracks):null;if(this.tracks.forEach(((e,i)=>{let n;if(t){let i=null;for(let n=0;n<t.length;n++)if(t[n]&&P_e(t[n],e)){i=t[n],t[n]=null;break}i&&(n=i)}if(n)Mye(n);else{const t=I_e(e);n=this.createTextTrack(t,e.name,e.lang),n&&(n.mode="disabled")}n&&this.textTracks.push(n)})),null!=t&&t.length){const e=t.filter((e=>null!==e)).map((e=>e.label));e.length&&wbe.warn(`Media element contains unused subtitle tracks: ${e.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const e=this.tracks.map((e=>({label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e})));this.hls.trigger(mbe.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:e})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((e=>{const t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(!t)return;const i=`textTrack${t[1]}`,n=this.captionsProperties[i];n&&(n.label=e.name,e.lang&&(n.languageCode=e.lang),n.media=e)}))}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===Aye){var i,n;const{cea608Parser1:e,cea608Parser2:o,lastSn:r}=this,{cc:s,sn:a}=t.frag,l=null!=(i=null==(n=t.part)?void 0:n.index)?i:-1;e&&o&&(a!==r+1||a===r&&l!==this.lastPartIndex+1||s!==this.lastCc)&&(e.reset(),o.reset()),this.lastCc=s,this.lastSn=a,this.lastPartIndex=l}}onFragLoaded(e,t){const{frag:i,payload:n}=t;if(i.type===Sye)if(n.byteLength){const e=i.decryptdata,o="stats"in t;if(null==e||!e.encrypted||o){const e=this.tracks[i.level],o=this.vttCCs;o[i.cc]||(o[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),e&&e.textCodec===v_e?this._parseIMSC1(i,n):this._parseVTTs(t)}}else this.hls.trigger(mbe.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const i=this.hls;x_e(t,this.initPTS[e.cc],(t=>{this._appendCues(t,e.level),i.trigger(mbe.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(t=>{wbe.log(`Failed to parse IMSC1: ${t}`),i.trigger(mbe.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))}_parseVTTs(e){var t;const{frag:i,payload:n}=e,{initPTS:o,unparsedVttFrags:r}=this,s=o.length-1;if(!o[i.cc]&&-1===s)return void r.push(e);const a=this.hls;b_e(null!=(t=i.initSegment)&&t.data?$ve(i.initSegment.data,new Uint8Array(n)):n,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,(e=>{this._appendCues(e,i.level),a.trigger(mbe.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})}),(t=>{const o="Missing initPTS for VTT MPEGTS"===t.message;o?r.push(e):this._fallbackToIMSC1(i,n),wbe.log(`Failed to parse VTT cue: ${t}`),o&&s>i.cc||a.trigger(mbe.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:t})}))}_fallbackToIMSC1(e,t){const i=this.tracks[e.level];i.textCodec||x_e(t,this.initPTS[e.cc],(()=>{i.textCodec=v_e,this._parseIMSC1(e,t)}),(()=>{i.textCodec="wvtt"}))}_appendCues(e,t){const i=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[t];if(!i||"disabled"===i.mode)return;e.forEach((e=>Lye(i,e)))}else{const n=this.tracks[t];if(!n)return;const o=n.default?"default":"subtitles"+t;i.trigger(mbe.CUES_PARSED,{type:"subtitles",cues:e,track:o})}}onFragDecrypted(e,t){const{frag:i}=t;i.type===Sye&&this.onFragLoaded(mbe.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){this.initCea608Parsers();const{cea608Parser1:i,cea608Parser2:n}=this;if(!this.enabled||!i||!n)return;const{frag:o,samples:r}=t;if(o.type!==Aye||"NONE"!==this.closedCaptionsForLevel(o))for(let s=0;s<r.length;s++){const e=r[s].bytes;if(e){const t=this.extractCea608Data(e);i.addData(r[s].pts,t[0]),n.addData(r[s].pts,t[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:i,endOffsetSubtitles:n,type:o}){const{media:r}=this;if(r&&!(r.currentTime<i)){if(!o||"video"===o){const{captionsTracks:e}=this;Object.keys(e).forEach((n=>Oye(e[n],t,i)))}if(this.config.renderTextTracksNatively&&0===t&&void 0!==n){const{textTracks:e}=this;Object.keys(e).forEach((i=>Oye(e[i],t,n)))}}}extractCea608Data(e){const t=[[],[]],i=31&e[0];let n=2;for(let o=0;o<i;o++){const i=e[n++],o=127&e[n++],r=127&e[n++];if(0===o&&0===r)continue;if(!!(4&i)){const e=3&i;0!==e&&1!==e||(t[e].push(o),t[e].push(r))}}return t}},audioStreamController:class extends xwe{constructor(e,t,i){super(e,t,i,"[audio-stream-controller]",Tye),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mbe.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(mbe.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(mbe.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(mbe.ERROR,this.onError,this),e.on(mbe.BUFFER_RESET,this.onBufferReset,this),e.on(mbe.BUFFER_CREATED,this.onBufferCreated,this),e.on(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(mbe.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(mbe.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(mbe.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mbe.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(mbe.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(mbe.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(mbe.ERROR,this.onError,this),e.off(mbe.BUFFER_RESET,this.onBufferReset,this),e.off(mbe.BUFFER_CREATED,this.onBufferCreated,this),e.off(mbe.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(mbe.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(mbe.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(mbe.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:t,id:i,initPTS:n,timescale:o}){if("main"===i){const e=t.cc;this.initPTS[t.cc]={baseTime:n,timescale:o},this.log(`InitPTS for cc: ${e} found from main: ${n}`),this.videoTrackCC=e,this.state===kwe&&this.tick()}}startLoad(e){if(!this.levels)return this.startPosition=e,void(this.state=dwe);const t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t,this.state=uwe):(this.loadedmetadata=!1,this.state=fwe),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case uwe:this.doTickIdle();break;case fwe:{var e;const{levels:t,trackId:i}=this,n=null==t||null==(e=t[i])?void 0:e.details;if(n){if(this.waitForCdnTuneIn(n))break;this.state=kwe}break}case mwe:{var t;const e=performance.now(),i=this.retryDate;if(!i||e>=i||null!=(t=this.media)&&t.seeking){const{levels:e,trackId:t}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==e?void 0:e[t])||null),this.state=uwe}break}case kwe:{const e=this.waitingData;if(e){const{frag:t,part:i,cache:n,complete:o}=e;if(void 0!==this.initPTS[t.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=pwe;const e={frag:t,part:i,payload:n.flush(),networkDetails:null};this._handleFragmentLoadProgress(e),o&&super._handleFragmentLoadComplete(e)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${t.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const e=this.getLoadPosition(),i=Wke.bufferInfo(this.mediaBuffer,e,this.config.maxBufferHole);gke(i.end,this.config.maxFragLookUpTolerance,t)<0&&(this.log(`Waiting fragment cc (${t.cc}) @ ${t.start} cancelled because another fragment at ${i.end} is needed`),this.clearWaitingFragment())}}else this.state=uwe}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=uwe)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:t,media:i,trackId:n}=this,o=e.config;if(!this.buffering||!i&&(this.startFragRequested||!o.startFragPrefetch)||null==t||!t[n])return;const r=t[n],s=r.details;if(!s||s.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(s))return void(this.state=fwe);const a=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&a&&(this.bufferFlushed=!1,this.afterBufferFlushed(a,Sbe,Tye));const l=this.getFwdBufferInfo(a,Tye);if(null===l)return;const{bufferedTrack:c,switchingTrack:d}=this;if(!d&&this._streamEnded(l,s))return e.trigger(mbe.BUFFER_EOS,{type:"audio"}),void(this.state=vwe);const u=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Aye),h=l.len,p=this.getMaxBufferLength(null==u?void 0:u.len),m=s.fragments,f=m[0].start;let g=this.flushing?this.getLoadPosition():l.end;if(d&&i){const e=this.getLoadPosition();c&&!Dxe(d.attrs,c.attrs)&&(g=e),s.PTSKnown&&e<f&&(l.end>f||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=f+.05)}if(h>=p&&!d&&g<m[m.length-1].start)return;let b=this.getNextFragment(g,s),v=!1;if(b&&this.isLoopLoading(b,g)&&(v=!!b.gap,b=this.getNextFragmentLoopLoading(b,s,l,Aye,p)),!b)return void(this.bufferFlushed=!0);const y=u&&b.start>u.end+s.targetduration;if(y||(null==u||!u.len)&&l.len){const e=this.getAppendedFrag(b.start,Aye);if(null===e)return;if(v||(v=!!e.gap||!!y&&0===u.len),y&&!v||v&&l.nextStart&&l.nextStart<e.end)return}this.loadFragment(b,r,g)}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map((e=>new Zye(e)))}onAudioTrackSwitching(e,t){const i=!!t.url;this.trackId=t.id;const{fragCurrent:n}=this;n&&(n.abortRequests(),this.removeUnbufferedFrags(n.start)),this.resetLoadingState(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.switchingTrack=t,this.state=uwe,this.flushAudioIfNeeded(t)):(this.switchingTrack=null,this.bufferedTrack=t,this.state=dwe),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(mbe.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,t){var i;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=t);const{levels:n}=this,{details:o,id:r}=t;if(!n)return void this.warn(`Audio tracks were reset while loading level ${r}`);this.log(`Audio track ${r} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`);const s=n[r];let a=0;if(o.live||null!=(i=s.details)&&i.live){this.checkLiveUpdate(o);const e=this.mainDetails;if(o.deltaUpdateFailed||!e)return;var l;if(!s.details&&o.hasProgramDateTime&&e.hasProgramDateTime)Zke(o,e),a=o.fragments[0].start;else a=this.alignPlaylists(o,s.details,null==(l=this.levelLastLoaded)?void 0:l.details)}s.details=o,this.levelLastLoaded=s,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(this.mainDetails||o,a),this.state!==fwe||this.waitForCdnTuneIn(o)||(this.state=uwe),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:i,part:n,payload:o}=e,{config:r,trackId:s,levels:a}=this;if(!a)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const l=a[s];if(!l)return void this.warn("Audio track is undefined on fragment load progress");const c=l.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(i.start);const d=r.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let u=this.transmuxer;u||(u=this.transmuxer=new Ixe(this.hls,Tye,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[i.cc],p=null==(t=i.initSegment)?void 0:t.data;if(void 0!==h){const e=!1,t=n?n.index:-1,r=-1!==t,s=new Yke(i.level,i.sn,i.stats.chunkCount,o.byteLength,t,r);u.push(o,p,d,"",i,n,c.totalduration,e,s,h)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${c.startSN} ,${c.endSN}],track ${s}`);const{cache:e}=this.waitingData=this.waitingData||{frag:i,part:n,cache:new _we,complete:!1};e.push(new Uint8Array(o)),this.waitingVideoCC=this.videoTrackCC,this.state=kwe}}_handleFragmentLoadComplete(e){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,t){const i=t.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(e,t){const{frag:i,part:n}=t;if(i.type===Tye)if(this.fragContextChanged(i))this.warn(`Fragment ${i.sn}${n?" p: "+n.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==i.sn){this.fragPrevious=i;const e=this.switchingTrack;e&&(this.bufferedTrack=e,this.switchingTrack=null,this.hls.trigger(mbe.AUDIO_TRACK_SWITCHED,abe({},e)))}this.fragBufferedComplete(i,n)}else if(!this.loadedmetadata&&i.type===Aye){const e=this.videoBuffer||this.media;if(e){Wke.getBuffered(e).length&&(this.loadedmetadata=!0)}}}onError(e,t){var i;if(t.fatal)this.state=ywe;else switch(t.details){case gbe.FRAG_GAP:case gbe.FRAG_PARSING_ERROR:case gbe.FRAG_DECRYPT_ERROR:case gbe.FRAG_LOAD_ERROR:case gbe.FRAG_LOAD_TIMEOUT:case gbe.KEY_LOAD_ERROR:case gbe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Tye,t);break;case gbe.AUDIO_TRACK_LOAD_ERROR:case gbe.AUDIO_TRACK_LOAD_TIMEOUT:case gbe.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==fwe||(null==(i=t.context)?void 0:i.type)!==Eye||(this.state=uwe);break;case gbe.BUFFER_APPEND_ERROR:case gbe.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;if(t.details===gbe.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case gbe.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}onBufferFlushing(e,{type:t}){t!==Ibe&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Ibe){this.flushing=!1,this.bufferFlushed=!0,this.state===vwe&&(this.state=uwe);const e=this.mediaBuffer||this.media;e&&(this.afterBufferFlushed(e,t,Tye),this.tick())}}_handleTransmuxComplete(e){var t;const i="audio",{hls:n}=this,{remuxResult:o,chunkMeta:r}=e,s=this.getCurrentContext(r);if(!s)return void this.resetWhenMissingContext(r);const{frag:a,part:l,level:c}=s,{details:d}=c,{audio:u,text:h,id3:p,initSegment:m}=o;if(!this.fragContextChanged(a)&&d){if(this.state=gwe,this.switchingTrack&&u&&this.completeAudioSwitch(this.switchingTrack),null!=m&&m.tracks){const e=a.initSegment||a;this._bufferInitSegment(c,m.tracks,e,r),n.trigger(mbe.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:i,tracks:m.tracks})}if(u){const{startPTS:e,endPTS:t,startDTS:i,endDTS:n}=u;l&&(l.elementaryStreams[Sbe]={startPTS:e,endPTS:t,startDTS:i,endDTS:n}),a.setElementaryStreamInfo(Sbe,e,t,i,n),this.bufferFragmentData(u,a,l,r)}if(null!=p&&null!=(t=p.samples)&&t.length){const e=dbe({id:i,frag:a,details:d},p);n.trigger(mbe.FRAG_PARSING_METADATA,e)}if(h){const e=dbe({id:i,frag:a,details:d},h);n.trigger(mbe.FRAG_PARSING_USERDATA,e)}}else this.fragmentTracker.removeFragment(a)}_bufferInitSegment(e,t,i,n){if(this.state!==gwe)return;t.video&&delete t.video;const o=t.audio;if(!o)return;o.id="audio";const r=e.audioCodec;this.log(`Init audio buffer, container:${o.container}, codecs[level/parsed]=[${r}/${o.codec}]`),r&&1===r.split(",").length&&(o.levelCodec=r),this.hls.trigger(mbe.BUFFER_CODECS,t);const s=o.initSegment;if(null!=s&&s.byteLength){const e={type:"audio",frag:i,part:null,chunkMeta:n,parent:i.type,data:s};this.hls.trigger(mbe.BUFFER_APPENDING,e)}this.tickImmediate()}loadFragment(e,t,i){const n=this.fragmentTracker.getState(e);var o;if(this.fragCurrent=e,this.switchingTrack||n===Bke||n===jke)if("initSegment"===e.sn)this._loadInitSegment(e,t);else if(null!=(o=t.details)&&o.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=kwe;const i=this.mainDetails;i&&i.fragments[0].start!==t.details.fragments[0].start&&Zke(t.details,i)}else this.startFragRequested=!0,super.loadFragment(e,t,i);else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){const{media:t,bufferedTrack:i}=this,n=null==i?void 0:i.attrs,o=e.attrs;t&&n&&(n.CHANNELS!==o.CHANNELS||i.name!==e.name||i.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(mbe.AUDIO_TRACK_SWITCHED,abe({},e))}},audioTrackController:class extends Cke{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mbe.LEVEL_LOADING,this.onLevelLoading,this),e.on(mbe.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(mbe.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(mbe.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mbe.LEVEL_LOADING,this.onLevelLoading,this),e.off(mbe.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(mbe.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(mbe.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:i,groupId:n,details:o}=t,r=this.tracksInGroup[i];if(!r||r.groupId!==n)return void this.warn(`Audio track with id:${i} and group:${n} not found in active group ${null==r?void 0:r.groupId}`);const s=r.details;r.details=t.details,this.log(`Audio track ${i} "${r.name}" lang:${r.lang} group:${n} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,s)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const i=t.audioGroups||null,n=this.groupIds;let o=this.currentTrack;if(!i||(null==n?void 0:n.length)!==(null==i?void 0:i.length)||null!=i&&i.some((e=>-1===(null==n?void 0:n.indexOf(e))))){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!i||-1!==i.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.audioPreference;if(!o&&t){const i=Mke(t,e,Nke);if(i>-1)o=e[i];else{const e=Mke(t,this.tracks);o=this.tracks[e]}}let n=this.findTrackId(o);-1===n&&o&&(n=this.findTrackId(null));const s={audioTracks:e};this.log(`Updating audio tracks, ${e.length} track(s) found in group(s): ${null==i?void 0:i.join(",")}`),this.hls.trigger(mbe.AUDIO_TRACKS_UPDATED,s);const a=this.trackId;if(-1!==n&&-1===a)this.setAudioTrack(n);else if(e.length&&-1===a){var r;const t=new Error(`No audio track selected for current audio group-ID(s): ${null==(r=this.groupIds)?void 0:r.join(",")} track count: ${e.length}`);this.warn(t.message),this.hls.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:t})}}else this.shouldReloadPlaylist(o)&&this.setAudioTrack(this.trackId)}onError(e,t){!t.fatal&&t.context&&(t.context.type!==Eye||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||(this.requestScheduled=-1,this.checkRetry(t)))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const i=this.allAudioTracks;if(this.selectDefaultTrack=!1,i.length){const n=this.currentTrack;if(n&&Oke(e,n,Nke))return n;const o=Mke(e,this.tracksInGroup,Nke);if(o>-1){const e=this.tracksInGroup[o];return this.setAudioTrack(o),e}if(n){let n=t.loadLevel;-1===n&&(n=t.firstAutoLevel);const o=function(e,t,i,n,o){const r=t[n],s=t.reduce(((e,t,i)=>{const n=t.uri;return(e[n]||(e[n]=[])).push(i),e}),{})[r.uri];s.length>1&&(n=Math.max.apply(Math,s));const a=r.videoRange,l=r.frameRate,c=r.codecSet.substring(0,4),d=$ke(t,n,(t=>{if(t.videoRange!==a||t.frameRate!==l||t.codecSet.substring(0,4)!==c)return!1;const n=t.audioGroups,r=i.filter((e=>!n||-1!==n.indexOf(e.groupId)));return Mke(e,r,o)>-1}));return d>-1?d:$ke(t,n,(t=>{const n=t.audioGroups,r=i.filter((e=>!n||-1!==n.indexOf(e.groupId)));return Mke(e,r,o)>-1}))}(e,t.levels,i,n,Nke);if(-1===o)return null;t.nextLoadLevel=o}if(e.channels||e.audioCodec){const t=Mke(e,i);if(t>-1)return i[t]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length)return void this.warn(`Invalid audio track id: ${e}`);this.clearTimer(),this.selectDefaultTrack=!1;const i=this.currentTrack,n=t[e],o=n.details&&!n.details.live;if(e===this.trackId&&n===i&&o)return;if(this.log(`Switching to audio-track ${e} "${n.name}" lang:${n.lang} group:${n.groupId} channels:${n.channels}`),this.trackId=e,this.currentTrack=n,this.hls.trigger(mbe.AUDIO_TRACK_SWITCHING,abe({},n)),o)return;const r=this.switchParams(n.url,null==i?void 0:i.details,n.details);this.loadPlaylist(r)}findTrackId(e){const t=this.tracksInGroup;for(let i=0;i<t.length;i++){const n=t[i];if((!this.selectDefaultTrack||n.default)&&(!e||Oke(e,n,Nke)))return i}if(e){const{name:i,lang:n,assocLang:o,characteristics:r,audioCodec:s,channels:a}=e;for(let e=0;e<t.length;e++){if(Oke({name:i,lang:n,assocLang:o,characteristics:r,audioCodec:s,channels:a},t[e],Nke))return e}for(let l=0;l<t.length;l++){const i=t[l];if(Dxe(e.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<t.length;l++){const i=t[l];if(Dxe(e.attrs,i.attrs,["LANGUAGE"]))return l}}return-1}loadPlaylist(e){const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){super.loadPlaylist();const n=t.id,o=t.groupId;let r=t.url;if(e)try{r=e.addDirectives(r)}catch(i){this.warn(`Could not construct new URL with HLS Delivery Directives: ${i}`)}this.log(`loading audio-track playlist ${n} "${t.name}" lang:${t.lang} group:${o}`),this.clearTimer(),this.hls.trigger(mbe.AUDIO_TRACK_LOADING,{url:r,id:n,groupId:o,deliveryDirectives:e||null})}}},emeController:L_e,cmcdController:class{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=e=>{try{this.apply(e,{ot:O_e.MANIFEST,su:!this.initialized})}catch(t){wbe.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=e=>{try{const t=e.frag,i=this.hls.levels[t.level],n=this.getObjectType(t),o={d:1e3*t.duration,ot:n};n!==O_e.VIDEO&&n!==O_e.AUDIO&&n!=O_e.MUXED||(o.br=i.bitrate/1e3,o.tb=this.getTopBandwidth(n)/1e3,o.bl=this.getBufferLength(n)),this.apply(e,o)}catch(t){wbe.warn("Could not generate segment CMCD data.",t)}},this.hls=e;const t=this.config=e.config,{cmcd:i}=t;null!=i&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||function(){try{return crypto.randomUUID()}catch(e){try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch(e){let t=(new Date).getTime();const i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)}));return i}}}(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.includeKeys=i.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mbe.MEDIA_DETACHED,this.onMediaDetached,this),e.on(mbe.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mbe.MEDIA_DETACHED,this.onMediaDetached,this),e.off(mbe.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var i,n;this.audioBuffer=null==(i=t.tracks.audio)?void 0:i.buffer,this.videoBuffer=null==(n=t.tracks.video)?void 0:n.buffer}createData(){var e;return{v:1,sf:N_e.HLS,sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){dbe(t,this.createData());const i=t.ot===O_e.INIT||t.ot===O_e.VIDEO||t.ot===O_e.MUXED;this.starved&&i&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering);const{includeKeys:n}=this;n&&(t=Object.keys(t).reduce(((e,i)=>(n.includes(i)&&(e[i]=t[i]),e)),{})),this.useHeaders?(e.headers||(e.headers={}),sEe(e.headers,t)):e.url=lEe(e.url,t)}getObjectType(e){const{type:t}=e;return"subtitle"===t?O_e.TIMED_TEXT:"initSegment"===e.sn?O_e.INIT:"audio"===t?O_e.AUDIO:"main"===t?this.hls.audioTracks.length?O_e.VIDEO:O_e.MUXED:void 0}getTopBandwidth(e){let t,i=0;const n=this.hls;if(e===O_e.AUDIO)t=n.audioTracks;else{const e=n.maxAutoLevel,i=e>-1?e+1:n.levels.length;t=n.levels.slice(0,i)}for(const o of t)o.bitrate>i&&(i=o.bitrate);return i>0?i:NaN}getBufferLength(e){const t=this.hls.media,i=e===O_e.AUDIO?this.audioBuffer:this.videoBuffer;if(!i||!t)return NaN;return 1e3*Wke.bufferInfo(i,t.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,i=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new i(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,i,n){t(e),this.loader.load(e,i,n)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,i=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new i(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,i,n){t(e),this.loader.load(e,i,n)}}}},contentSteeringController:class{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=wbe.log.bind(wbe,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mbe.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mbe.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=1e3*this.timeToLoad-(performance.now()-this.updated);if(e>0)return void this.scheduleRefresh(this.uri,e)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter((t=>t!==e)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:i}=t;null!==i&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:i}=t;if((null==i?void 0:i.action)===yke&&i.flags===_ke){const e=this.levels;let n=this.pathwayPriority,o=this.pathwayId;if(t.context){const{groupId:i,pathwayId:n,type:r}=t.context;i&&e?o=this.getPathwayForGroupId(i,r,o):n&&(o=n)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!n&&e&&(n=e.reduce(((e,t)=>(-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e)),[])),n&&n.length>1&&(this.updatePathwayPriority(n),i.resolved=this.pathwayId!==o),i.resolved||wbe.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${o} levels: ${e?e.length:e} priorities: ${JSON.stringify(n)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){const i=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),t=this.getLevelsForPathway(i),this.pathwayId=i}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return null===this.levels?[]:this.levels.filter((t=>e===t.pathwayId))}updatePathwayPriority(e){let t;this.pathwayPriority=e;const i=this.penalizedPathways,n=performance.now();Object.keys(i).forEach((e=>{n-i[e]>3e5&&delete i[e]}));for(let o=0;o<e.length;o++){const n=e[o];if(n in i)continue;if(n===this.pathwayId)return;const r=this.hls.nextLoadLevel,s=this.hls.levels[r];if(t=this.getLevelsForPathway(n),t.length>0){this.log(`Setting Pathway to "${n}"`),this.pathwayId=n,lke(t),this.hls.trigger(mbe.LEVELS_UPDATED,{levels:t});const e=this.hls.levels[r];s&&e&&this.levels&&(e.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&e.bitrate!==s.bitrate&&this.log(`Unstable Pathways change from bitrate ${s.bitrate} to ${e.bitrate}`),this.hls.nextLoadLevel=r);break}}}getPathwayForGroupId(e,t,i){const n=this.getLevelsForPathway(i).concat(this.levels||[]);for(let o=0;o<n.length;o++)if(t===Eye&&n[o].hasAudioGroup(e)||t===Cye&&n[o].hasSubtitleGroup(e))return n[o].pathwayId;return i}clonePathways(e){const t=this.levels;if(!t)return;const i={},n={};e.forEach((e=>{const{ID:o,"BASE-ID":r,"URI-REPLACEMENT":s}=e;if(t.some((e=>e.pathwayId===o)))return;const a=this.getLevelsForPathway(r).map((e=>{const t=new Ebe(e.attrs);t["PATHWAY-ID"]=o;const r=t.AUDIO&&`${t.AUDIO}_clone_${o}`,a=t.SUBTITLES&&`${t.SUBTITLES}_clone_${o}`;r&&(i[t.AUDIO]=r,t.AUDIO=r),a&&(n[t.SUBTITLES]=a,t.SUBTITLES=a);const l=dEe(e.uri,t["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",s),c=new Zye({attrs:t,audioCodec:e.audioCodec,bitrate:e.bitrate,height:e.height,name:e.name,url:l,videoCodec:e.videoCodec,width:e.width});if(e.audioGroups)for(let i=1;i<e.audioGroups.length;i++)c.addGroupId("audio",`${e.audioGroups[i]}_clone_${o}`);if(e.subtitleGroups)for(let i=1;i<e.subtitleGroups.length;i++)c.addGroupId("text",`${e.subtitleGroups[i]}_clone_${o}`);return c}));t.push(...a),cEe(this.audioTracks,i,s,o),cEe(this.subtitleTracks,n,s,o)}))}loadSteeringManifest(e){const t=this.hls.config,i=t.loader;let n;this.loader&&this.loader.destroy(),this.loader=new i(t);try{n=new self.URL(e)}catch(c){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${e}`)}if("data:"!==n.protocol){const e=0|(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate);n.searchParams.set("_HLS_pathway",this.pathwayId),n.searchParams.set("_HLS_throughput",""+e)}const o={responseType:"json",url:n.href},r=t.steeringManifestLoadPolicy.default,s=r.errorRetry||r.timeoutRetry||{},a={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},l={onSuccess:(e,t,i,o)=>{this.log(`Loaded steering manifest: "${n}"`);const r=e.data;if(1!==r.VERSION)return void this.log(`Steering VERSION ${r.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=r.TTL;const{"RELOAD-URI":s,"PATHWAY-CLONES":a,"PATHWAY-PRIORITY":l}=r;if(s)try{this.uri=new self.URL(s,n).href}catch(c){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${s}`)}this.scheduleRefresh(this.uri||i.url),a&&this.clonePathways(a);const d={steeringManifest:r,url:n.toString()};this.hls.trigger(mbe.STEERING_MANIFEST_LOADED,d),l&&this.updatePathwayPriority(l)},onError:(e,t,i,n)=>{if(this.log(`Error loading steering manifest: ${e.code} ${e.text} (${t.url})`),this.stopLoad(),410===e.code)return this.enabled=!1,void this.log(`Steering manifest ${t.url} no longer available`);let o=1e3*this.timeToLoad;if(429!==e.code)this.scheduleRefresh(this.uri||t.url,o);else{const e=this.loader;if("function"==typeof(null==e?void 0:e.getResponseHeader)){const t=e.getResponseHeader("Retry-After");t&&(o=1e3*parseFloat(t))}this.log(`Steering manifest ${t.url} rate limited`)}},onTimeout:(e,t,i)=>{this.log(`Timeout loading steering manifest (${t.url})`),this.scheduleRefresh(this.uri||t.url)}};this.log(`Requesting steering manifest: ${n}`),this.loader.load(o,a,l)}scheduleRefresh(e,t=1e3*this.timeToLoad){this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var t;const i=null==(t=this.hls)?void 0:t.media;!i||i.ended?this.scheduleRefresh(e,1e3*this.timeToLoad):this.loadSteeringManifest(e)}),t)}}});function kEe(e){return e&&"object"==typeof e?Array.isArray(e)?e.map(kEe):Object.keys(e).reduce(((t,i)=>(t[i]=kEe(e[i]),t)),{}):e}function wEe(e){const t=e.loader;if(t!==mEe&&t!==hEe)wbe.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(f1){}return!1})()&&(e.loader=mEe,e.progressive=!0,e.enableSoftwareAES=!0,wbe.log("[config]: Progressive streaming enabled, using FetchLoader"))}}let xEe;class _Ee extends Cke{constructor(e,t){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mbe.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(mbe.FRAG_BUFFERED,this.onFragBuffered,this),e.on(mbe.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mbe.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(mbe.FRAG_BUFFERED,this.onFragBuffered,this),e.off(mbe.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((e=>{e.loadError=0,e.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const i=this.hls.config.preferManagedMediaSource,n=[],o={},r={};let s=!1,a=!1,l=!1;t.levels.forEach((e=>{var t,c;const d=e.attrs;let{audioCodec:u,videoCodec:h}=e;-1!==(null==(t=u)?void 0:t.indexOf("mp4a.40.34"))&&(xEe||(xEe=/chrome|firefox/i.test(navigator.userAgent)),xEe&&(e.audioCodec=u=void 0)),u&&(e.audioCodec=u=aye(u,i)),0===(null==(c=h)?void 0:c.indexOf("avc1"))&&(h=e.videoCodec=function(e){const t=e.split(",");for(let i=0;i<t.length;i++){const e=t[i].split(".");if(e.length>2){let n=e.shift()+".";n+=parseInt(e.shift()).toString(16),n+=("000"+parseInt(e.shift()).toString(16)).slice(-4),t[i]=n}}return t.join(",")}(h));const{width:p,height:m,unknownCodecs:f}=e;if(s||(s=!(!p||!m)),a||(a=!!h),l||(l=!!u),null!=f&&f.length||u&&!eye(u,"audio",i)||h&&!eye(h,"video",i))return;const{CODECS:g,"FRAME-RATE":b,"HDCP-LEVEL":v,"PATHWAY-ID":y,RESOLUTION:k,"VIDEO-RANGE":w}=d,x=`${`${y||"."}-`}${e.bitrate}-${k}-${b}-${g}-${w}-${v}`;if(o[x])if(o[x].uri===e.url||e.attrs["PATHWAY-ID"])o[x].addGroupId("audio",d.AUDIO),o[x].addGroupId("text",d.SUBTITLES);else{const t=r[x]+=1;e.attrs["PATHWAY-ID"]=new Array(t+1).join(".");const i=new Zye(e);o[x]=i,n.push(i)}else{const t=new Zye(e);o[x]=t,r[x]=1,n.push(t)}})),this.filterAndSortMediaOptions(n,t,s,a,l)}filterAndSortMediaOptions(e,t,i,n,o){let r=[],s=[],a=e;if((i||n)&&o&&(a=a.filter((({videoCodec:e,videoRange:t,width:i,height:n})=>(!!e||!(!i||!n))&&function(e){return!!e&&Wye.indexOf(e)>-1}(t)))),0===a.length)return void Promise.resolve().then((()=>{if(this.hls){t.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(t.levels[0].attrs)}`);const e=new Error("no level with compatible codecs found in manifest");this.hls.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}));if(t.audioTracks){const{preferManagedMediaSource:e}=this.hls.config;r=t.audioTracks.filter((t=>!t.audioCodec||eye(t.audioCodec,"audio",e))),EEe(r)}t.subtitles&&(s=t.subtitles,EEe(s));const l=a.slice(0);a.sort(((e,t)=>{if(e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"])return(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1;if(i&&e.height!==t.height)return e.height-t.height;if(e.frameRate!==t.frameRate)return e.frameRate-t.frameRate;if(e.videoRange!==t.videoRange)return Wye.indexOf(e.videoRange)-Wye.indexOf(t.videoRange);if(e.videoCodec!==t.videoCodec){const i=nye(e.videoCodec),n=nye(t.videoCodec);if(i!==n)return n-i}if(e.uri===t.uri&&e.codecSet!==t.codecSet){const i=oye(e.codecSet),n=oye(t.codecSet);if(i!==n)return n-i}return e.averageBitrate!==t.averageBitrate?e.averageBitrate-t.averageBitrate:0}));let c=l[0];if(this.steering&&(a=this.steering.filterParsedLevels(a),a.length!==l.length))for(let p=0;p<l.length;p++)if(l[p].pathwayId===a[0].pathwayId){c=l[p];break}this._levels=a;for(let p=0;p<a.length;p++)if(a[p]===c){var d;this._firstLevel=p;const e=c.bitrate,t=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${a.length} level(s) found, first bitrate: ${e}`),void 0===(null==(d=this.hls.userConfig)?void 0:d.abrEwmaDefaultEstimate)){const i=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);i>t&&t===yEe.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=i)}break}const u=o&&!n,h={levels:a,audioTracks:r,subtitleTracks:s,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:o,video:n,altAudio:!u&&r.some((e=>!!e.url))};this.hls.trigger(mbe.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(0===t.length)return;if(e<0||e>=t.length){const i=new Error("invalid level idx"),n=e<0;if(this.hls.trigger(mbe.ERROR,{type:fbe.OTHER_ERROR,details:gbe.LEVEL_SWITCH_ERROR,level:e,fatal:n,error:i,reason:i.message}),n)return;e=Math.min(e,t.length-1)}const i=this.currentLevelIndex,n=this.currentLevel,o=n?n.attrs["PATHWAY-ID"]:void 0,r=t[e],s=r.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=r,i===e&&r.details&&n&&o===s)return;this.log(`Switching to level ${e} (${r.height?r.height+"p ":""}${r.videoRange?r.videoRange+" ":""}${r.codecSet?r.codecSet+" ":""}@${r.bitrate})${s?" with Pathway "+s:""} from level ${i}${o?" with Pathway "+o:""}`);const a={level:e,attrs:r.attrs,details:r.details,bitrate:r.bitrate,averageBitrate:r.averageBitrate,maxBitrate:r.maxBitrate,realBitrate:r.realBitrate,width:r.width,height:r.height,codecSet:r.codecSet,audioCodec:r.audioCodec,videoCodec:r.videoCodec,audioGroups:r.audioGroups,subtitleGroups:r.subtitleGroups,loaded:r.loaded,loadError:r.loadError,fragmentError:r.fragmentError,name:r.name,id:r.id,uri:r.uri,url:r.url,urlId:0,audioGroupIds:r.audioGroupIds,textGroupIds:r.textGroupIds};this.hls.trigger(mbe.LEVEL_SWITCHING,a);const l=r.details;if(!l||l.live){const e=this.switchParams(r.uri,null==n?void 0:n.details,l);this.loadPlaylist(e)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(void 0===this._startLevel){const e=this.hls.config.startLevel;return void 0!==e?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,t){!t.fatal&&t.context&&t.context.type===_ye&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(void 0!==t&&t.type===Aye){const e=t.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return;const i=this._levels[t.level];null!=i&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,t){var i;const{level:n,details:o}=t,r=this._levels[n];var s;if(!r)return this.warn(`Invalid level index ${n}`),void(null!=(s=t.deliveryDirectives)&&s.skip&&(o.deltaUpdateFailed=!0));n===this.currentLevelIndex?(0===r.fragmentError&&(r.loadError=0),this.playlistLoaded(n,t,r.details)):null!=(i=t.deliveryDirectives)&&i.skip&&(o.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const t=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){let o=i.uri;if(e)try{o=e.addDirectives(o)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}const r=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${t}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""} with${r?" Pathway "+r:""} ${o}`),this.clearTimer(),this.hls.trigger(mbe.LEVEL_LOADING,{url:o,level:t,pathwayId:i.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;const i=this._levels.filter(((t,i)=>i!==e||(this.steering&&this.steering.removeLevel(t),t===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,t.details&&t.details.fragments.forEach((e=>e.level=-1))),!1)));lke(i),this._levels=i,this.currentLevelIndex>-1&&null!=(t=this.currentLevel)&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(mbe.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:i}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(mbe.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:i}))}}function EEe(e){const t={};e.forEach((e=>{const i=e.groupId||"";e.id=t[i]=t[i]||0,t[i]++}))}class CEe{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const i in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[i].loader;if(n){var t;if(e&&e!==(null==(t=n.context)?void 0:t.frag.type))return;n.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,t=gbe.KEY_LOAD_ERROR,i,n,o){return new owe({type:fbe.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:o,error:i,networkDetails:n})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:n}=e;for(let e=0;e<t.length;e++){const o=t[e];if(n<=o.cc&&("initSegment"===i||"initSegment"===o.sn||i<o.sn)){this.emeController.selectKeySystemFormat(o).then((e=>{o.setKeyFormat(e)}));break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((t=>this.loadInternal(e,t))):this.loadInternal(e)}loadInternal(e,t){var i,n;t&&e.setKeyFormat(t);const o=e.decryptdata;if(!o){const i=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,gbe.KEY_LOAD_ERROR,i))}const r=o.uri;if(!r)return Promise.reject(this.createKeyLoadError(e,gbe.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${r}"`)));let s=this.keyUriToKeyInfo[r];if(null!=(i=s)&&i.decryptdata.key)return o.key=s.decryptdata.key,Promise.resolve({frag:e,keyInfo:s});var a;if(null!=(n=s)&&n.keyLoadPromise)switch(null==(a=s.mediaKeySessionContext)?void 0:a.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return s.keyLoadPromise.then((t=>(o.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:s})))}switch(s=this.keyUriToKeyInfo[r]={decryptdata:o,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},o.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===o.keyFormat?this.loadKeyHTTP(s,e):this.loadKeyEME(s,e);case"AES-128":return this.loadKeyHTTP(s,e);default:return Promise.reject(this.createKeyLoadError(e,gbe.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${o.method}"`)))}}loadKeyEME(e,t){const i={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const t=this.emeController.loadKey(i);if(t)return(e.keyLoadPromise=t.then((t=>(e.mediaKeySessionContext=t,i)))).catch((t=>{throw e.keyLoadPromise=null,t}))}return Promise.resolve(i)}loadKeyHTTP(e,t){const i=this.config,n=new(0,i.loader)(i);return t.keyLoader=e.loader=n,e.keyLoadPromise=new Promise(((o,r)=>{const s={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},a=i.keyLoadPolicy.default,l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,i,n)=>{const{frag:s,keyInfo:a,url:l}=i;if(!s.decryptdata||a!==this.keyUriToKeyInfo[l])return r(this.createKeyLoadError(s,gbe.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),n));a.decryptdata.key=s.decryptdata.key=new Uint8Array(e.data),s.keyLoader=null,a.loader=null,o({frag:s,keyInfo:a})},onError:(e,i,n,o)=>{this.resetLoader(i),r(this.createKeyLoadError(t,gbe.KEY_LOAD_ERROR,new Error(`HTTP Error ${e.code} loading key ${e.text}`),n,abe({url:s.url,data:void 0},e)))},onTimeout:(e,i,n)=>{this.resetLoader(i),r(this.createKeyLoadError(t,gbe.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),n))},onAbort:(e,i,n)=>{this.resetLoader(i),r(this.createKeyLoadError(t,gbe.INTERNAL_ABORTED,new Error("key loading aborted"),n))}};n.load(s,l,c)}))}resetLoader(e){const{frag:t,keyInfo:i,url:n}=e,o=i.loader;t.keyLoader===o&&(t.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[n],o&&o.destroy()}}function AEe(){return self.SourceBuffer||self.WebKitSourceBuffer}function TEe(){if(!Jve())return!1;const e=AEe();return!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove}class SEe{constructor(e,t,i,n){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=i,this.hls=n}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,t){const{config:i,media:n,stalled:o}=this;if(null===n)return;const{currentTime:r,seeking:s}=n,a=this.seeking&&!s,l=!this.seeking&&s;if(this.seeking=s,r!==e){if(this.moved=!0,s||(this.nudgeRetry=0),null!==o){if(this.stallReported){const e=self.performance.now()-o;wbe.warn(`playback not stuck anymore @${r}, after ${Math.round(e)}ms`),this.stallReported=!1}this.stalled=null}return}if(l||a)return void(this.stalled=null);if(n.paused&&!s||n.ended||0===n.playbackRate||!Wke.getBuffered(n).length)return void(this.nudgeRetry=0);const c=Wke.bufferInfo(n,r,0),d=c.nextStart||0;if(s){const e=c.len>2,i=!d||t&&t.start<=r||d-r>2&&!this.fragmentTracker.getPartialFragment(r);if(e||i)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var u;if(!(c.len>0)&&!d)return;const e=Math.max(d,c.start||0)-r,t=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,i=(null==t||null==(u=t.details)?void 0:u.live)?2*t.details.targetduration:2,o=this.fragmentTracker.getPartialFragment(r);if(e>0&&(e<=i||o))return void(n.paused||this._trySkipBufferHole(o))}const h=self.performance.now();if(null===o)return void(this.stalled=h);const p=h-o;if(!s&&p>=250&&(this._reportStall(c),!this.media))return;const m=Wke.bufferInfo(n,r,i.maxBufferHole);this._tryFixBufferStall(m,p)}_tryFixBufferStall(e,t){const{config:i,fragmentTracker:n,media:o}=this;if(null===o)return;const r=o.currentTime,s=n.getPartialFragment(r);if(s){if(this._trySkipBufferHole(s)||!this.media)return}(e.len>i.maxBufferHole||e.nextStart&&e.nextStart-r<i.maxBufferHole)&&t>1e3*i.highBufferWatchdogPeriod&&(wbe.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:t,media:i,stallReported:n}=this;if(!n&&i){this.stallReported=!0;const n=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(e)})`);wbe.warn(n.message),t.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.BUFFER_STALLED_ERROR,fatal:!1,error:n,buffer:e.len})}}_trySkipBufferHole(e){const{config:t,hls:i,media:n}=this;if(null===n)return 0;const o=n.currentTime,r=Wke.bufferInfo(n,o,0),s=o<r.start?r.start:r.nextStart;if(s){const a=r.len<=t.maxBufferHole,l=r.len>0&&r.len<1&&n.readyState<3,c=s-o;if(c>0&&(a||l)){if(c>t.maxBufferHole){const{fragmentTracker:t}=this;let i=!1;if(0===o){const e=t.getAppendedFrag(0,Aye);e&&s<e.end&&(i=!0)}if(!i){const i=e||t.getAppendedFrag(o,Aye);if(i){let e=!1,n=i.end;for(;n<s;){const i=t.getPartialFragment(n);if(!i){e=!0;break}n+=i.duration}if(e)return 0}}}const r=Math.max(s+.05,o+.1);if(wbe.warn(`skipping hole, adjusting currentTime from ${o} to ${r}`),this.moved=!0,this.stalled=null,n.currentTime=r,e&&!e.gap){const t=new Error(`fragment loaded with buffer holes, seeking from ${o} to ${r}`);i.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:t,reason:t.message,frag:e})}return r}}return 0}_tryNudgeBuffer(){const{config:e,hls:t,media:i,nudgeRetry:n}=this;if(null===i)return;const o=i.currentTime;if(this.nudgeRetry++,n<e.nudgeMaxRetry){const r=o+(n+1)*e.nudgeOffset,s=new Error(`Nudging 'currentTime' from ${o} to ${r}`);wbe.warn(s.message),i.currentTime=r,t.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.BUFFER_NUDGE_ON_STALL,error:s,fatal:!1})}else{const i=new Error(`Playhead still not moving while enough data buffered @${o} after ${e.nudgeMaxRetry} nudges`);wbe.error(i.message),t.trigger(mbe.ERROR,{type:fbe.MEDIA_ERROR,details:gbe.BUFFER_STALLED_ERROR,error:i,fatal:!0})}}}class IEe extends xwe{constructor(e,t,i){super(e,t,i,"[stream-controller]",Aye),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.on(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.on(mbe.LEVEL_LOADING,this.onLevelLoading,this),e.on(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.on(mbe.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(mbe.ERROR,this.onError,this),e.on(mbe.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(mbe.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(mbe.BUFFER_CREATED,this.onBufferCreated,this),e.on(mbe.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(mbe.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(mbe.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(mbe.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(mbe.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(mbe.MANIFEST_LOADING,this.onManifestLoading,this),e.off(mbe.MANIFEST_PARSED,this.onManifestParsed,this),e.off(mbe.LEVEL_LOADED,this.onLevelLoaded,this),e.off(mbe.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(mbe.ERROR,this.onError,this),e.off(mbe.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(mbe.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(mbe.BUFFER_CREATED,this.onBufferCreated,this),e.off(mbe.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(mbe.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(mbe.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:t,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let e=i.startLevel;-1===e&&(i.config.testBandwidth&&this.levels.length>1?(e=0,this.bitrateTest=!0):e=i.firstAutoLevel),i.nextLoadLevel=e,this.level=i.loadLevel,this.loadedmetadata=!1}t>0&&-1===e&&(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t),this.state=uwe,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=dwe}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case wwe:{const{levels:e,level:t}=this,i=null==e?void 0:e[t],n=null==i?void 0:i.details;if(n&&(!n.live||this.levelLastLoaded===i)){if(this.waitForCdnTuneIn(n))break;this.state=uwe;break}if(this.hls.nextLoadLevel!==this.level){this.state=uwe;break}break}case mwe:{var e;const t=self.performance.now(),i=this.retryDate;if(!i||t>=i||null!=(e=this.media)&&e.seeking){const{levels:e,level:t}=this,i=null==e?void 0:e[t];this.resetStartWhenNotLoaded(i||null),this.state=uwe}}}this.state===uwe&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:i,media:n}=this;if(null===t||!n&&(this.startFragRequested||!e.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const o=this.buffering?e.nextLoadLevel:e.loadLevel;if(null==i||!i[o])return;const r=i[o],s=this.getMainFwdBufferInfo();if(null===s)return;const a=this.getLevelDetails();if(a&&this._streamEnded(s,a)){const e={};return this.altAudio&&(e.type="video"),this.hls.trigger(mbe.BUFFER_EOS,e),void(this.state=vwe)}if(!this.buffering)return;e.loadLevel!==o&&-1===e.manualLevel&&this.log(`Adapting to level ${o} from level ${this.level}`),this.level=e.nextLoadLevel=o;const l=r.details;if(!l||this.state===wwe||l.live&&this.levelLastLoaded!==r)return this.level=o,void(this.state=wwe);const c=s.len,d=this.getMaxBufferLength(r.maxBitrate);if(c>=d)return;this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);const u=this.backtrackFragment?this.backtrackFragment.start:s.end;let h=this.getNextFragment(u,l);if(this.couldBacktrack&&!this.fragPrevious&&h&&"initSegment"!==h.sn&&this.fragmentTracker.getState(h)!==Vke){var p;const e=(null!=(p=this.backtrackFragment)?p:h).sn-l.startSN,t=l.fragments[e-1];t&&h.cc===t.cc&&(h=t,this.fragmentTracker.removeFragment(t))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,u)){if(!h.gap){const e=this.audioOnly&&!this.altAudio?Sbe:Ibe,t=(e===Ibe?this.videoBuffer:this.mediaBuffer)||this.media;t&&this.afterBufferFlushed(t,e,Aye)}h=this.getNextFragmentLoopLoading(h,l,s,Aye,d)}h&&(!h.initSegment||h.initSegment.data||this.bitrateTest||(h=h.initSegment),this.loadFragment(h,r,u))}loadFragment(e,t,i){const n=this.fragmentTracker.getState(e);this.fragCurrent=e,n===Bke||n===jke?"initSegment"===e.sn?this._loadInitSegment(e,t):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,super.loadFragment(e,t,i)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Aye)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(null!=t&&t.readyState){let i;const n=this.getAppendedFrag(t.currentTime);n&&n.start>1&&this.flushMainBuffer(0,n.start-1);const o=this.getLevelDetails();if(null!=o&&o.live){const e=this.getMainFwdBufferInfo();if(!e||e.len<2*o.targetduration)return}if(!t.paused&&e){const t=e[this.hls.nextLoadLevel],n=this.fragLastKbps;i=n&&this.fragCurrent?this.fragCurrent.duration*t.maxBitrate/(1e3*n)+1:0}else i=0;const r=this.getBufferedFrag(t.currentTime+i);if(r){const e=this.followingBufferedFrag(r);if(e){this.abortCurrentFrag();const t=e.maxStartPTS?e.maxStartPTS:e.start,i=e.duration,n=Math.max(r.end,t+Math.min(Math.max(i-this.config.maxFragLookUpTolerance,i*(this.couldBacktrack?.5:.125)),i*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(n,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case hwe:case pwe:case mwe:case gwe:case bwe:this.state=uwe}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const i=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new SEe(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,t=e?e.currentTime:null;ube(t)&&this.log(`Media seeked to ${t.toFixed(3)}`);const i=this.getMainFwdBufferInfo();null!==i&&0!==i.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(mbe.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,t){let i=!1,n=!1;t.levels.forEach((e=>{const t=e.audioCodec;t&&(i=i||-1!==t.indexOf("mp4a.40.2"),n=n||-1!==t.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=i&&n&&!function(){var e;const t=AEe();return"function"==typeof(null==t||null==(e=t.prototype)?void 0:e.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:i}=this;if(!i||this.state!==uwe)return;const n=i[t.level];(!n.details||n.details.live&&this.levelLastLoaded!==n||this.waitForCdnTuneIn(n.details))&&(this.state=wwe)}onLevelLoaded(e,t){var i;const{levels:n}=this,o=t.level,r=t.details,s=r.totalduration;if(!n)return void this.warn(`Levels were reset while loading level ${o}`);this.log(`Level ${o} loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""}, cc [${r.startCC}, ${r.endCC}] duration:${s}`);const a=n[o],l=this.fragCurrent;!l||this.state!==pwe&&this.state!==mwe||l.level!==t.level&&l.loader&&this.abortCurrentFrag();let c=0;if(r.live||null!=(i=a.details)&&i.live){var d;if(this.checkLiveUpdate(r),r.deltaUpdateFailed)return;c=this.alignPlaylists(r,a.details,null==(d=this.levelLastLoaded)?void 0:d.details)}if(a.details=r,this.levelLastLoaded=a,this.hls.trigger(mbe.LEVEL_UPDATED,{details:r,level:o}),this.state===wwe){if(this.waitForCdnTuneIn(r))return;this.state=uwe}this.startFragRequested?r.live&&this.synchronizeToLiveEdge(r):this.setStartPosition(r,c),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:i,part:n,payload:o}=e,{levels:r}=this;if(!r)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const s=r[i.level],a=s.details;if(!a)return this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),void this.fragmentTracker.removeFragment(i);const l=s.videoCodec,c=a.PTSKnown||!a.live,d=null==(t=i.initSegment)?void 0:t.data,u=this._getAudioCodec(s),h=this.transmuxer=this.transmuxer||new Ixe(this.hls,Aye,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=n?n.index:-1,m=-1!==p,f=new Yke(i.level,i.sn,i.stats.chunkCount,o.byteLength,p,m),g=this.initPTS[i.cc];h.push(o,d,u,l,i,n,a.totalduration,c,f,g)}onAudioTrackSwitching(e,t){const i=this.altAudio;if(!!!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const e=this.fragCurrent;e&&(this.log("Switching to main audio track, cancel main fragment load"),e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const e=this.hls;i&&(e.trigger(mbe.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),e.trigger(mbe.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const i=t.id,n=!!this.hls.audioTracks[i].url;if(n){const e=this.videoBuffer;e&&this.mediaBuffer!==e&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=e)}this.altAudio=n,this.tick()}onBufferCreated(e,t){const i=t.tracks;let n,o,r=!1;for(const s in i){const e=i[s];if("main"===e.id){if(o=s,n=e,"video"===s){const e=i[s];e&&(this.videoBuffer=e.buffer)}}else r=!0}r&&n?(this.log(`Alternate track found, use ${o}.buffered to schedule main fragment loading`),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:i,part:n}=t;if(i&&i.type!==Aye)return;if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${n?" p: "+n.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===bwe&&(this.state=uwe));const o=n?n.stats:i.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,n)}onError(e,t){var i;if(t.fatal)this.state=ywe;else switch(t.details){case gbe.FRAG_GAP:case gbe.FRAG_PARSING_ERROR:case gbe.FRAG_DECRYPT_ERROR:case gbe.FRAG_LOAD_ERROR:case gbe.FRAG_LOAD_TIMEOUT:case gbe.KEY_LOAD_ERROR:case gbe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Aye,t);break;case gbe.LEVEL_LOAD_ERROR:case gbe.LEVEL_LOAD_TIMEOUT:case gbe.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==wwe||(null==(i=t.context)?void 0:i.type)!==_ye||(this.state=uwe);break;case gbe.BUFFER_APPEND_ERROR:case gbe.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;if(t.details===gbe.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case gbe.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}checkBuffer(){const{media:e,gapController:t}=this;if(e&&t&&e.readyState){if(this.loadedmetadata||!Wke.getBuffered(e).length){const e=this.state!==uwe?this.fragCurrent:null;t.poll(this.lastCurrentTime,e)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=uwe,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Sbe||this.audioOnly&&!this.altAudio){const e=(t===Ibe?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(e,t,Aye),this.tick()}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let i=this.startPosition;if(i>=0&&t<i){if(e.seeking)return void this.log(`could not seek to ${i}, already seeking at ${t}`);const n=Wke.getBuffered(e),o=(n.length?n.start(0):0)-i;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),i+=o,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${t}`),e.currentTime=i}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then((i=>{const{hls:n}=this;if(!i||this.fragContextChanged(e))return;t.fragmentError=0,this.state=uwe,this.startFragRequested=!1,this.bitrateTest=!1;const o=e.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),n.trigger(mbe.FRAG_LOADED,i),e.bitrateTest=!1}))}_handleTransmuxComplete(e){var t;const i="main",{hls:n}=this,{remuxResult:o,chunkMeta:r}=e,s=this.getCurrentContext(r);if(!s)return void this.resetWhenMissingContext(r);const{frag:a,part:l,level:c}=s,{video:d,text:u,id3:h,initSegment:p}=o,{details:m}=c,f=this.altAudio?void 0:o.audio;if(this.fragContextChanged(a))this.fragmentTracker.removeFragment(a);else{if(this.state=gwe,p){if(null!=p&&p.tracks){const e=a.initSegment||a;this._bufferInitSegment(c,p.tracks,e,r),n.trigger(mbe.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:i,tracks:p.tracks})}const e=p.initPTS,t=p.timescale;ube(e)&&(this.initPTS[a.cc]={baseTime:e,timescale:t},n.trigger(mbe.INIT_PTS_FOUND,{frag:a,id:i,initPTS:e,timescale:t}))}if(d&&m&&"initSegment"!==a.sn){const e=m.fragments[a.sn-1-m.startSN],t=a.sn===m.startSN,i=!e||a.cc>e.cc;if(!1!==o.independent){const{startPTS:e,endPTS:n,startDTS:o,endDTS:s}=d;if(l)l.elementaryStreams[d.type]={startPTS:e,endPTS:n,startDTS:o,endDTS:s};else if(d.firstKeyFrame&&d.independent&&1===r.id&&!i&&(this.couldBacktrack=!0),d.dropped&&d.independent){const o=this.getMainFwdBufferInfo(),r=(o?o.end:this.getLoadPosition())+this.config.maxBufferHole,l=d.firstKeyFramePTS?d.firstKeyFramePTS:e;if(!t&&r<l-this.config.maxBufferHole&&!i)return void this.backtrack(a);i&&(a.gap=!0),a.setElementaryStreamInfo(d.type,a.start,n,a.start,s,!0)}else t&&e>2&&(a.gap=!0);a.setElementaryStreamInfo(d.type,e,n,o,s),this.backtrackFragment&&(this.backtrackFragment=a),this.bufferFragmentData(d,a,l,r,t||i)}else{if(!t&&!i)return void this.backtrack(a);a.gap=!0}}if(f){const{startPTS:e,endPTS:t,startDTS:i,endDTS:n}=f;l&&(l.elementaryStreams[Sbe]={startPTS:e,endPTS:t,startDTS:i,endDTS:n}),a.setElementaryStreamInfo(Sbe,e,t,i,n),this.bufferFragmentData(f,a,l,r)}if(m&&null!=h&&null!=(t=h.samples)&&t.length){const e={id:i,frag:a,details:m,samples:h.samples};n.trigger(mbe.FRAG_PARSING_METADATA,e)}if(m&&u){const e={id:i,frag:a,details:m,samples:u.samples};n.trigger(mbe.FRAG_PARSING_USERDATA,e)}}}_bufferInitSegment(e,t,i,n){if(this.state!==gwe)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;const{audio:o,video:r,audiovideo:s}=t;if(o){let t=e.audioCodec;const i=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");const e=o.metadata;e&&"channelCount"in e&&1!==(e.channelCount||1)&&-1===i.indexOf("firefox")&&(t="mp4a.40.5")}t&&-1!==t.indexOf("mp4a.40.5")&&-1!==i.indexOf("android")&&"audio/mpeg"!==o.container&&(t="mp4a.40.2",this.log(`Android: force audio codec to ${t}`)),e.audioCodec&&e.audioCodec!==t&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${t}"`),o.levelCodec=t,o.id="main",this.log(`Init audio buffer, container:${o.container}, codecs[selected/level/parsed]=[${t||""}/${e.audioCodec||""}/${o.codec}]`)}r&&(r.levelCodec=e.videoCodec,r.id="main",this.log(`Init video buffer, container:${r.container}, codecs[level/parsed]=[${e.videoCodec||""}/${r.codec}]`)),s&&this.log(`Init audiovideo buffer, container:${s.container}, codecs[level/parsed]=[${e.codecs}/${s.codec}]`),this.hls.trigger(mbe.BUFFER_CODECS,t),Object.keys(t).forEach((e=>{const o=t[e].initSegment;null!=o&&o.byteLength&&this.hls.trigger(mbe.BUFFER_APPENDING,{type:e,data:o,frag:i,part:null,chunkMeta:n,parent:i.type})})),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Aye)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=uwe}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&!1===e.seeking){const i=e.currentTime;if(Wke.isBuffered(e,i)?t=this.getAppendedFrag(i):Wke.isBuffered(e,i+.1)&&(t=this.getAppendedFrag(i+.1)),t){this.backtrackFragment=null;const e=this.fragPlaying,i=t.level;e&&t.sn===e.sn&&e.level===i||(this.fragPlaying=t,this.hls.trigger(mbe.FRAG_CHANGED,{frag:t}),e&&e.level===i||this.hls.trigger(mbe.LEVEL_SWITCHED,{level:i}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const t=e.currentTime,i=this.currentFrag;if(i&&ube(t)&&ube(i.programDateTime)){const e=i.programDateTime+1e3*(t-i.start);return new Date(e)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class PEe{static get version(){return"1.5.18"}static isMSESupported(){return TEe()}static isSupported(){return function(){if(!TEe())return!1;const e=Jve();return"function"==typeof(null==e?void 0:e.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((t=>e.isTypeSupported(iye(t,"video"))))||["mp4a.40.2","fLaC"].some((t=>e.isTypeSupported(iye(t,"audio")))))}()}static getMediaSource(){return Jve()}static get Events(){return mbe}static get ErrorTypes(){return fbe}static get ErrorDetails(){return gbe}static get DefaultConfig(){return PEe.defaultConfig?PEe.defaultConfig:yEe}static set DefaultConfig(e){PEe.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Sxe,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,function(e,t){if("object"==typeof console&&!0===e||"object"==typeof e){kbe(e,"debug","log","info","warn","error");try{ybe.log(`Debug logs enabled for "${t}" in hls.js version 1.5.18`)}catch(f1){ybe=vbe}}else ybe=vbe}(e.debug||!1,"Hls instance");const t=this.config=function(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=kEe(e),n=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((e=>{const o=`${"level"===e?"playlist":e}LoadPolicy`,r=void 0===t[o],s=[];n.forEach((n=>{const a=`${e}Loading${n}`,l=t[a];if(void 0!==l&&r){s.push(a);const e=i[o].default;switch(t[o]={default:e},n){case"TimeOut":e.maxLoadTimeMs=l,e.maxTimeToFirstByteMs=l;break;case"MaxRetry":e.errorRetry.maxNumRetry=l,e.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":e.errorRetry.retryDelayMs=l,e.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":e.errorRetry.maxRetryDelayMs=l,e.timeoutRetry.maxRetryDelayMs=l}}})),s.length&&wbe.warn(`hls.js config: "${s.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(t[o])}`)})),abe(abe({},i),t)}(PEe.DefaultConfig,e);this.userConfig=e,t.progressive&&wEe(t);const{abrController:i,bufferController:n,capLevelController:o,errorController:r,fpsController:s}=t,a=new r(this),l=this.abrController=new i(this),c=this.bufferController=new n(this),d=this.capLevelController=new o(this),u=new s(this),h=new Dye(this),p=new Hye(this),m=t.contentSteeringController,f=m?new m(this):null,g=this.levelController=new _Ee(this,f),b=new Uke(this),v=new CEe(this.config),y=this.streamController=new IEe(this,b,v);d.setStreamController(y),u.setStreamController(y);const k=[h,g,y];f&&k.splice(1,0,f),this.networkControllers=k;const w=[l,c,d,u,p,b];this.audioTrackController=this.createController(t.audioTrackController,k);const x=t.audioStreamController;x&&k.push(new x(this,b,v)),this.subtitleTrackController=this.createController(t.subtitleTrackController,k);const _=t.subtitleStreamController;_&&k.push(new _(this,b,v)),this.createController(t.timelineController,w),v.emeController=this.emeController=this.createController(t.emeController,w),this.cmcdController=this.createController(t.cmcdController,w),this.latencyController=this.createController(qye,w),this.coreComponents=w,k.push(a);const E=a.onErrorOut;"function"==typeof E&&this.on(mbe.ERROR,E,a)}createController(e,t){if(e){const i=new e(this);return t&&t.push(i),i}return null}on(e,t,i=this){this._emitter.on(e,t,i)}once(e,t,i=this){this._emitter.once(e,t,i)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,i=this,n){this._emitter.off(e,t,i,n)}listeners(e){return this._emitter.listeners(e)}emit(e,t,i){return this._emitter.emit(e,t,i)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(i){if(wbe.error("An internal error happened while handling event "+e+'. Error message: "'+i.message+'". Here is a stacktrace:',i),!this.triggeringException){this.triggeringException=!0;const t=e===mbe.ERROR;this.trigger(mbe.ERROR,{type:fbe.OTHER_ERROR,details:gbe.INTERNAL_EXCEPTION,fatal:t,event:e,error:i}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){wbe.log("destroy"),this.trigger(mbe.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((e=>e.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((e=>e.destroy())),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){wbe.log("attachMedia"),this._media=e,this.trigger(mbe.MEDIA_ATTACHING,{media:e})}detachMedia(){wbe.log("detachMedia"),this.trigger(mbe.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const t=this.media,i=this.url,n=this.url=rbe.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,wbe.log(`loadSource:${n}`),t&&i&&(i!==n||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(mbe.MANIFEST_LOADING,{url:e})}startLoad(e=-1){wbe.log(`startLoad(${e})`),this.started=!0,this.resumeBuffering();for(let t=0;t<this.networkControllers.length&&(this.networkControllers[t].startLoad(e),this.started&&this.networkControllers);t++);}stopLoad(){wbe.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!this.started&&this.networkControllers);e++);}resumeBuffering(){wbe.log("resume buffering"),this.networkControllers.forEach((e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){wbe.log("pause buffering"),this.networkControllers.forEach((e=>{e.pauseBuffering&&e.pauseBuffering()}))}swapAudioCodec(){wbe.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){wbe.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){wbe.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){wbe.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){wbe.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){wbe.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return-1===e&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){wbe.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(wbe.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){(function(e){return Gye.indexOf(e)>-1})(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const i=e.length;for(let n=0;n<i;n++)if(e[n].maxBitrate>=t)return n;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:i}=this;let n;if(n=-1===t&&null!=e&&e.length?e.length-1:t,i)for(let o=n;o--;){const t=e[o].attrs["HDCP-LEVEL"];if(t&&t<=i)return o}return n}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var t;return null==(t=this.audioTrackController)?void 0:t.setAudioOption(e)}setSubtitleOption(e){var t;return null==(t=this.subtitleTrackController)||t.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}PEe.defaultConfig=void 0;const DEe=["poster"],REe=jn({__name:"VideoPlayerLearnCourse",props:So({courseId:{},poster:{},src:{},userId:{},lessonId:{},controls:{default:()=>["play-large","play","progress","current-time","mute","volume","captions","settings","fullscreen"]},canRotate:{type:Boolean,default:!0}},{provider:{default:"html5"},providerModifiers:{}}),emits:["update:provider"],setup(e){const t=oT(),{community:i}=mC(t),n=Ti(null),o=function(e,t){const i={};for(const n in e)t.includes(n)||Object.defineProperty(i,n,{enumerable:!0,get:()=>e[n]});return i}(e,["controls","canRotate"]),r=wr(e,"provider"),s=Ti([]),a=Ti(!1),l=Ti(0),c=Ti(!1);let d;const u=async t=>{console.log("initPlyr",t);const u={controls:e.controls,youtube:{noCookie:!1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1},fullscreen:{enabled:!0,iosNative:!e.canRotate}};let h;const p=PEe.isSupported()&&(e=>(null==e?void 0:e.endsWith(".m3u8"))||mD(e))(t);if(p)if(h=new PEe({xhrSetup:function(e,t){t.includes(".key")&&e.setRequestHeader("X-Stream-Origin","expert")}}),mD(t)){const e=await SC.get(`/course-lessons/${o.lessonId}/stream`,{});200==e.status&&(s.value=e.data),u.quality={default:480,options:[],forced:!0,onChange:e=>{const t=s.value.find((t=>t.label==`${e}P`));t&&(h.loadSource(t.src),c.value=!0)}};for(const t of s.value){const e=t.label.replace("P","");u.quality.options.push(Number(e))}}else t.endsWith(".m3u8")&&(h.loadSource(t),h.on(PEe.Events.MANIFEST_PARSED,(function(){const e=h.levels.map((e=>e.height));e.unshift(0),u.quality={default:0,options:e,forced:!0,onChange:e=>{0===e?h.currentLevel=-1:h.levels.forEach(((t,i)=>{t.height===e&&(console.log("Found quality match with "+e),h.currentLevel=i)}))}},u.i18n={qualityLabel:{0:"Auto"}},h.on(PEe.Events.LEVEL_SWITCHED,(function(e,t){const i=document.querySelector(".plyr__menu__container [data-plyr='quality'][value='0'] span");i&&(h.autoLevelEnabled?i.innerHTML=`AUTO (${h.levels[t.level].height}p)`:i.innerHTML="AUTO")}))})));d=new h3(n.value,u),p?h.attachMedia(n.value):d.source={type:"video",sources:[{src:t,provider:r.value}]},d.on("ready",(()=>{const e=d.duration;setTimeout((()=>{d.currentTime=l.value}),500);d.on("timeupdate",(async()=>{if(c.value)setTimeout((()=>{d.currentTime=l.value}),500),c.value=!1;else{l.value=d.currentTime;var t;if(l.value/e*100>=80&&!a.value)await SC.patch("/user-course",{user_id:o.userId,course_id:o.courseId,lesson_id:o.lessonId,community_id:null===(t=i.value)||void 0===t?void 0:t._id}),a.value=!0}}))})),d.on("enterfullscreen",(async()=>{await Ox.lock({orientation:"landscape"})})),d.on("exitfullscreen",(async()=>{await Ox.lock({orientation:"portrait"})}))};return io((async()=>{await u(o.src)})),(e,t)=>($r(),jr("video",{ref_key:"playerRef",ref:n,controls:"",poster:e.poster},null,8,DEe))}}),LEe={key:0,class:"pb-4"},MEe={class:"text-base font-normal py-4 items-center"},OEe={class:"bg-white",slot:"content"},NEe=["onClick"],$Ee={class:"text-sm font-normal flex-1"},FEe={class:"text-sm font-normal"},BEe={key:1,class:"flex flex-col text-gray2 mt-[10%] items-center justify-center"},zEe=jn({__name:"TabLesson",props:{courseChapter:{},formatSeconds:{},onActiveLesson:{default:()=>{}},lessonActive:{}},setup:e=>(e,t)=>($r(),Vr(Di(Kk),{color:"white1"},{default:pn((()=>[Di(bC.isEmpty)(e.courseChapter)?($r(),jr("div",BEe,[Yr(Di(ex),{icon:"/icEmpty.svg",class:"size-32"}),t[0]||(t[0]=Xr(" Chưa có bài học nào "))])):($r(),jr("div",LEe,[Yr(Di(Uk),null,{default:pn((()=>[($r(!0),jr(Dr,null,vo(e.courseChapter,(t=>($r(),Vr(Di(Vk),{mode:"ios","toggle-icon":Di(ST),"toggle-icon-slot":"end",value:t._id,key:t._id,class:"bg-white1"},{default:pn((()=>[Yr(Di(nw),{slot:"header",color:"white1"},{default:pn((()=>[Wr("div",MEe,Ze(t.title),1)])),_:2},1024),Wr("div",OEe,[($r(!0),jr(Dr,null,vo(t.lessons,(i=>($r(),jr("div",{key:i._id,onClick:n=>e.onActiveLesson(t,i),class:We([{"bg-[#D2E7FF]":!Di(bC.isUndefined)(e.lessonActive)&&e.lessonActive._id==i._id},"ion-padding-horizontal py-4 flex items-stretch gap-2"])},[Yr(Di(ex),{icon:Di(KT),class:"size-5"},null,8,["icon"]),Wr("div",$Ee,Ze(i.title),1),Wr("div",FEe,Ze(e.formatSeconds(i.time_video)),1)],10,NEe)))),128))])])),_:2},1032,["toggle-icon","value"])))),128))])),_:1})]))])),_:1}))}),jEe={class:"flex gap-1.5 pt-2.5 pb-1"},VEe=["src"],UEe={class:"w-full"},HEe={class:"bg-white1 rounded-md p-2"},qEe={class:"text-sm font-medium"},GEe=["innerHTML"],WEe={class:"flex items-center gap-4 text-sm text-gray2 font-medium mt-1"},YEe={class:"font-normal"},KEe={key:0,class:"items-center flex gap-2 text-sm text-blue1 mt-2 font-medium"},QEe={key:0,class:"items-center flex gap-2 text-sm text-blue1 mt-2 font-medium"},XEe=jn({__name:"ReplyComp",props:{isChild:{type:Boolean,default:!1},comment:{},onReply:{type:Function,default:()=>{}}},setup(e){const t=e,i=Ti(1),n=Ti(!1),o=Ti(!1),r=Ti([]),s=async(e=!1)=>{var o,s;const a={"w[]":["creator","reply_count","total_reactions","user_reaction"],"filter[lesson_id]":null===(o=t.comment)||void 0===o?void 0:o.lesson_id,"filter[reply_comment_id]":null===(s=t.comment)||void 0===s?void 0:s._id,"sort[_id]":"desc",page:i.value,limit:5},{data:l}=await SC.get("/community-comment",{params:a});var c,d,u,h,p,m,f;bC.isEmpty(l)?(n.value=!1,i.value=1):(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(i.value++,n.value=!0):(n.value=!1,i.value=1),e?bC.isEmpty(null===(d=t.comment)||void 0===d?void 0:d.repliesChild)?r.value=[...r.value,...null!==(u=null==l?void 0:l.data)&&void 0!==u?u:[]]:r.value=[...r.value,...null!==(h=null==l?void 0:l.data)&&void 0!==h?h:[]].filter((e=>{var i;return!(null!==(i=t.comment)&&void 0!==i&&null!==(i=i.repliesChild)&&void 0!==i&&i.some((t=>(null==t?void 0:t._id)===e._id)))})):bC.isEmpty(null===(p=t.comment)||void 0===p?void 0:p.repliesChild)?r.value=null!==(m=null==l?void 0:l.data)&&void 0!==m?m:[]:r.value=(null!==(f=null==l?void 0:l.data)&&void 0!==f?f:[]).filter((e=>{var i;return!(null!==(i=t.comment)&&void 0!==i&&null!==(i=i.repliesChild)&&void 0!==i&&i.some((t=>(null==t?void 0:t._id)===(null==e?void 0:e._id))))})))},a=()=>{o.value=!0,s()},l=()=>{s(!0)};return(e,t)=>{var i,s,c,d,u,h,p,m,f,g,b,v,y,k;const w=po("ReplyComp",!0);return $r(),jr("section",jEe,[Wr("img",{src:null!==(i=null===(s=e.comment)||void 0===s||null===(s=s.creator)||void 0===s?void 0:s.avatar)&&void 0!==i?i:"/icUser.png",class:"size-11 rounded-full"},null,8,VEe),Wr("div",UEe,[Wr("div",HEe,[Wr("div",qEe,Ze(null===(c=e.comment)||void 0===c||null===(c=c.creator)||void 0===c?void 0:c.full_name),1),Wr("div",{innerHTML:null===(d=e.comment)||void 0===d?void 0:d.content,class:"text-sm font-light pt-1"},null,8,GEe)]),Wr("div",WEe,[Wr("span",YEe,Ze(Di(aT)(null===(u=e.comment)||void 0===u?void 0:u.created_at).fromNow().toString()),1),Wr("span",{onClick:t[0]||(t[0]=t=>e.onReply(e.comment))}," Trả lời ")]),Di(bC.isEmpty)(null===(h=e.comment)||void 0===h?void 0:h.repliesChild)?Jr("",!0):($r(!0),jr(Dr,{key:0},vo(null===(p=e.comment)||void 0===p?void 0:p.repliesChild,(i=>($r(),jr("div",{key:i._id},[Yr(w,{"is-child":"",comment:i,onReply:t[1]||(t[1]=t=>e.onReply(e.comment))},null,8,["comment"])])))),128)),o.value?($r(),jr(Dr,{key:1},[($r(!0),jr(Dr,null,vo(r.value,(i=>($r(),jr("div",{key:i._id},[Yr(w,{"is-child":!0,comment:i,onReply:t[2]||(t[2]=t=>e.onReply(e.comment))},null,8,["comment"])])))),128)),(null!==(m=null===(f=e.comment)||void 0===f?void 0:f.reply_count)&&void 0!==m?m:0)-r.value.length>0&&n.value?($r(),jr("div",KEe,[Yr(Di(ex),{src:"/icons/icReturnRight.svg",class:"text-blue1 size-4 pb-1"}),Wr("div",{onClick:l}," Xem "+Ze((null!==(g=null===(b=e.comment)||void 0===b?void 0:b.reply_count)&&void 0!==g?g:0)-r.value.length)+" phản hồi... ",1)])):Jr("",!0)],64)):Jr("",!0),null!==(v=e.comment)&&void 0!==v&&v.reply_count&&(null===(y=e.comment)||void 0===y?void 0:y.reply_count)>0&&!e.isChild?($r(),jr(Dr,{key:2},[o.value?Jr("",!0):($r(),jr("div",QEe,[Yr(Di(ex),{src:"/icons/icReturnRight.svg",class:"text-blue1 size-4 pb-1"}),Wr("div",{onClick:a}," Xem "+Ze(null===(k=e.comment)||void 0===k?void 0:k.reply_count)+" phản hồi... ",1)]))],64)):Jr("",!0)])])}}}),JEe={key:0},ZEe={key:1,class:"flex flex-col justify-center items-center mt-[10%] text-gray2"},eCe=jn({__name:"TabLessonDiscuss",props:{onMount:{type:Function,default:()=>{}},onSelectReply:{type:Function,default:()=>{}},onInfiniteLoad:{type:Function,default:()=>{}},discusses:{},canLoadmore:{type:Boolean,default:!1}},setup:e=>(io(e.onMount),(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white","scroll-events":!0},{default:pn((()=>[Di(bC.isEmpty)(e.discusses)?($r(),jr("div",ZEe,[Yr(Di(ex),{src:"/icEmpty.svg",class:"size-32"}),t[0]||(t[0]=Wr("div",null,"Thảo luận trống",-1))])):($r(),jr("div",JEe,[($r(!0),jr(Dr,null,vo(e.discusses,(t=>($r(),jr("div",{key:t._id},[Yr(XEe,{comment:t,onReply:e.onSelectReply},null,8,["comment","onReply"])])))),128))])),e.canLoadmore?($r(),Vr(Di(Zk),{key:2,onIonInfinite:e.onInfiniteLoad},{default:pn((()=>[Yr(Di(ew))])),_:1},8,["onIonInfinite"])):Jr("",!0)])),_:1})))}),tCe=["innerHTML"],iCe={key:1,class:"flex flex-col text-gray2 mt-[10%] items-center justify-center"},nCe=jn({__name:"TabLessonContent",props:{lessonActive:{}},setup:e=>(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding"},{default:pn((()=>{var i,n;return[null!==(i=e.lessonActive)&&void 0!==i&&i.description?($r(),jr("div",{key:0,innerHTML:null===(n=e.lessonActive)||void 0===n?void 0:n.description},null,8,tCe)):($r(),jr("div",iCe,[Yr(Di(ex),{icon:"/icEmpty.svg",class:"size-32"}),t[0]||(t[0]=Xr(" Bài học này chưa có nội dung "))]))]})),_:1}))}),oCe=["onClick"],rCe={class:"flex w-full items-stretch py-2 gap-2 overflow-hidden"},sCe={class:"flex"},aCe={class:"w-full text-blue-500"},lCe={key:1,class:"flex justify-center items-center mt-[10%] flex-col text-center text-gray2"},cCe=jn({__name:"TabLessonDocument",props:{lessonActive:{},openExternalLink:{}},setup:e=>(e,t)=>($r(),Vr(Di(Kk),{class:"ion-padding",color:"white"},{default:pn((()=>{var i,n;return[Wr("div",null,[Di(bC.isEmpty)(null===(i=e.lessonActive)||void 0===i?void 0:i.attachments)?($r(),jr("div",lCe,[Yr(Di(ex),{icon:"/icEmpty.svg",class:"size-32"}),t[0]||(t[0]=Xr(" Không có tài liệu trong bài học này. "))])):($r(!0),jr(Dr,{key:0},vo(null===(n=e.lessonActive)||void 0===n?void 0:n.attachments,(t=>($r(),jr("div",{key:t.url,onClick:i=>e.openExternalLink(t.url)},[Wr("div",rCe,[Wr("div",sCe,[Yr(Di(ex),{icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M428 224H288a48 48 0 01-48-48V36a4 4 0 00-4-4h-92a64 64 0 00-64 64v320a64 64 0 0064 64h224a64 64 0 0064-64V228a4 4 0 00-4-4z'/><path d='M419.22 188.59L275.41 44.78a2 2 0 00-3.41 1.41V176a16 16 0 0016 16h129.81a2 2 0 001.41-3.41z'/></svg>"),class:"size-6 text-gray2"},null,8,["icon"])]),Wr("div",aCe,Ze(t.name),1)])],8,oCe)))),128))])]})),_:1}))}),dCe={slot:"start",class:"flex items-center text-lg font-medium"},uCe={key:1,class:"aspect-video bg-gray1"},hCe=["src"],pCe={class:"ion-padding-horizontal ion-padding-top"},mCe={class:"text-lg font-medium line-clamp-2"},fCe={key:0,class:"text-sm ml-11 my-2 font-light"},gCe={class:"flex items-end gap-2 my-2"},bCe=["src"],vCe={class:"w-full"},yCe=jn({__name:"CourseLearningScreen",setup(e){const{DEV:t,VITE_API_URL_DEV:i,VITE_API_URL:n}={VITE_API_URL:"https://api.unica.expert/v1",VITE_API_URL_DEV:"https://api.unica.expert/v1",VITE_API_URL_CHAT:"https://unica.expert/api/converse/v1",VITE_API_SOCKET:"https://chat.unica.expert",VITE_API_URL_ID:"https://id.unica.vn/api",VITE_APP_DOMAIN:"https://unica.expert",VITE_IMGUR_CLIENT_ID:"df39d2d64051f53b1acc5e54d06949b4",VITE_ANDROID_VERSION:"1.1.5",VITE_IOS_VERSION:"1.0.4",VITE_HOTLINE:"0868 526 560",VITE_MAIL:"cskh@unica.expert",VITE_IOS_SCHEME:"itms-apps://itunes.apple.com/us/app/id6740229112?mt=8",VITE_ANDROID_SCHEME:"market://details?id=com.unica.expert",VITE_CLIENT_ID_ANDROID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",VITE_CLIENT_ID_IOS:"259777504928-p4r5fqjqelapt3fn6tubi45u912fpqd0.apps.googleusercontent.com",VITE_CLIENT_ID:"259777504928-cckst6qhi1cup08rnauu9dgb2mguetfr.apps.googleusercontent.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!0},o=t?i:n,r=[cQ,YQ,pQ,dJ,uJ,fJ,gJ,mJ,pJ,hJ,vJ],s="Lesson",a="Discuss",l="Document",c="Content",d=[{key:"Lesson",title:"Bài học"},{key:"Discuss",title:"Thảo luận"},{key:"Document",title:"Tài liệu"},{key:"Content",title:"Nội dung"}],u=EC(),{userInfo:h,accessToken:p}=mC(u),m=ibe(),{course:f}=mC(m),{community:g}=mC(oT()),b=Rw(),v=()=>b.back(),y=Ti(),k=Ti(),w=Ti(void 0),x=Ti(),_=Ti([]),E=Ti(d[0].key),C=Ti(""),A=Ti([]),T=Ti(1),S=Ti(!1),I=async(e=1,t=!1)=>{var i;if(bC.isEmpty(k.value))return;const n={"w[]":["creator","reply_count","total_reactions","user_reaction"],"filter[lesson_id]":null===(i=k.value)||void 0===i?void 0:i._id,"filter[reply_comment_id]":"null","sort[_id]":"desc",page:e,limit:10},{data:o}=await SC.get("/community-comment",{params:n});var r,s,a;bC.isEmpty(o)?S.value=!1:(null!=o&&null!==(r=o.meta)&&void 0!==r&&r.hasNextPage?(T.value++,S.value=!0):S.value=!1,A.value=t?[...A.value,...null!==(s=null==o?void 0:o.data)&&void 0!==s?s:[]]:null!==(a=null==o?void 0:o.data)&&void 0!==a?a:[])},P=e=>{E.value=e};to((async()=>{await(async()=>{var e;const t=await SC.get("/course-chapter",{params:{course_id:null===(e=f.value)||void 0===e?void 0:e._id}});200==t.status&&(_.value=t.data,bC.isEmpty(_.value)||bC.isUndefined(_.value[0].lessons)||await R(_.value[0],_.value[0].lessons[0]))})()}));const D=async e=>{e&&await bS.open({url:e})},R=async(e,t)=>{w.value=await(async e=>{if(!e)return;return/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/.test(e)?"youtube":/(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/(?:\w+\/)?|album\/(?:\d+\/)?|video\/|)(\d+)(?:$|\/|\?)/.test(e)?"vimeo":"html5"})(t.video_url),y.value=e,k.value=t},L=e=>{const t=Math.floor(e/3600),i=String(Math.floor(e%3600/60)).padStart(2,"0"),n=String(e%60).padStart(2,"0");return t>0?`${t}:${i}:${n}`:`${i}:${n}`},M=e=>{x.value=e},O=()=>{x.value=void 0},N=async()=>{try{var e,t,i,n,r;const s={lesson_id:null===(e=k.value)||void 0===e?void 0:e._id,content:C.value,creator_id:null===(t=h.value)||void 0===t?void 0:t._id,community_id:null===(i=g.value)||void 0===i?void 0:i._id,reply_comment_id:null!==(n=null===(r=x.value)||void 0===r?void 0:r._id)&&void 0!==n?n:void 0,attachments:[],files:[]},a=new FormData,l=(e,t="")=>{e&&("object"!=typeof e||e instanceof File?a.append(t,e):Object.keys(e).forEach((i=>{l(e[i],t?`${t}[${i}]`:i)})))};l(s);const c=await fetch(`${o}/community-comment`,{method:"POST",headers:{Authorization:`Bearer ${p.value}`},body:a});if(201===c.status){C.value="",x.value=void 0;const e=await c.json();if(!bC.isEmpty(e))if(bC.isEmpty(e.reply_comment_id)||bC.isEmpty(s.reply_comment_id))A.value=[e,...A.value];else{const t=A.value.map((t=>{var i;return(null==e?void 0:e.reply_comment_id)===t._id?{...t,repliesChild:[e,...null!==(i=null==t?void 0:t.repliesChild)&&void 0!==i?i:[]]}:t}));A.value=t}}}catch(s){console.log(s)}},$=()=>{I(1,!1),T.value=1,S.value=!1},F=e=>{I(T.value,!0),setTimeout((()=>e.target.complete()),500)};return(e,t)=>{const i=po("ckeditor");return $r(),Vr(Di(Ow),null,{default:pn((()=>{var e,n,o,u,p,m,g;return[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>{var e;return[Wr("div",dCe,[Yr(Di(ex),{onClick:v,icon:Di(AT),class:"size-6 px-2"},null,8,["icon"]),Xr(" "+Ze(null===(e=Di(f))||void 0===e?void 0:e.title),1)])]})),_:1})])),_:1}),k.value&&null!==(e=Di(h))&&void 0!==e&&e._id&&null!==(n=Di(f))&&void 0!==n&&n._id&&!Di(bC.isUndefined)(w.value)?($r(),jr("div",{key:k.value._id},[Yr(REe,{"course-id":null===(o=Di(f))||void 0===o?void 0:o._id,"lesson-id":k.value._id,src:k.value.video_url,provider:w.value,"user-id":null===(u=Di(h))||void 0===u?void 0:u._id,poster:k.value.thumbnail},null,8,["course-id","lesson-id","src","provider","user-id","poster"])])):($r(),jr("div",uCe,[Wr("img",{src:null!==(p=null===(m=Di(f))||void 0===m?void 0:m.thumbnail)&&void 0!==p?p:"https://via.placeholder.com/100x100/ddd/ddd",class:"aspect-video"},null,8,hCe)])),Wr("section",pCe,[Wr("div",mCe,Ze(null===(g=k.value)||void 0===g?void 0:g.title),1)]),Yr(tne,{routes:d,onChangeTab:P,"tab-key":E.value},{scene:pn((()=>[E.value==s?($r(),Vr(zEe,{key:0,"course-chapter":_.value,"format-seconds":L,onActiveLesson:R,"lesson-active":k.value},null,8,["course-chapter","lesson-active"])):Jr("",!0),E.value==a?($r(),Vr(eCe,{key:1,onSelectReply:M,onMount:$,onInfiniteLoad:F,discusses:A.value,"can-loadmore":S.value},null,8,["discusses","can-loadmore"])):Jr("",!0),E.value==l?($r(),Vr(cCe,{key:2,"lesson-active":k.value,"open-external-link":D},null,8,["lesson-active"])):Jr("",!0),E.value==c?($r(),Vr(nCe,{key:3,"lesson-active":k.value},null,8,["lesson-active"])):Jr("",!0)])),_:1},8,["tab-key"]),E.value==a?($r(),Vr(Di(Xk),{key:2,mode:"md"},{default:pn((()=>[Yr(Di(_w),{class:"px-4",color:"white"},{default:pn((()=>{var e,n,o,s,a,l,c;return[Di(bC.isEmpty)(x.value)?Jr("",!0):($r(),jr("div",fCe,[t[1]||(t[1]=Xr(" Đang trả lời ")),Wr("span",{class:We(["text-black",(null===(e=x.value.creator)||void 0===e?void 0:e._id)===(null===(n=Di(h))||void 0===n?void 0:n._id)?"font-light":"font-medium"])},Ze((null===(o=x.value.creator)||void 0===o?void 0:o._id)===(null===(s=Di(h))||void 0===s?void 0:s._id)?"chính mình":null===(a=x.value)||void 0===a||null===(a=a.creator)||void 0===a?void 0:a.full_name),3),t[2]||(t[2]=Wr("span",{class:"text-xs text-gray2"}," • ",-1)),Wr("span",{onClick:O,class:"font-medium text-gray2"},"Huỷ")])),Wr("div",gCe,[Wr("img",{src:null!==(l=null===(c=Di(h))||void 0===c?void 0:c.avatar)&&void 0!==l?l:"/icUser.png",class:"size-9 rounded-full"},null,8,bCe),Wr("div",vCe,[Yr(i,{modelValue:C.value,"onUpdate:modelValue":t[0]||(t[0]=e=>C.value=e),editor:Di(WK),config:{plugins:r,removePlugins:["MediaEmbedToolbar"],placeholder:"Nhập gì đó..."}},null,8,["modelValue","editor","config"])]),Di(bC.isEmpty)(C.value)?Jr("",!0):($r(),jr("div",{key:0,class:"flex",onClick:N},[Yr(Di(ex),{icon:Di(oS),class:"text-blue1 h-9 w-7"},null,8,["icon"])]))])]})),_:1})])),_:1})):Jr("",!0)]})),_:1})}}}),kCe=jn({__name:"PaymentCreateCommunity",setup:e=>(Fy(),(e,t)=>($r(),Vr(Di(Ow))))}),wCe=(e,t,i)=>{const n=EC(),o=vC(),{routerCallback:r}=mC(o),{isLoggedIn:s}=mC(n);s.value?i():(o.setRouterCallback({name:null==e?void 0:e.name,params:null==e?void 0:e.params,...r}),i({name:"LoginScreen"}))},xCe={key:1,class:"pb-10"},_Ce={class:"bg-white p-4 mb-4 rounded-lg"},ECe={class:"text-base"},CCe={class:"text-base font-semibold"},ACe={class:"text-base font-semibold"},TCe={key:0},SCe={class:"text-base font-semibold"},ICe={key:1},PCe={class:"flex justify-center gap-4 mt-2.5"},DCe=["onClick"],RCe=["onClick"],LCe={class:"flex gap-2.5"},MCe=["src"],OCe={class:"text-lg font-semibold"},NCe={class:"font-normal text-sm"},$Ce={key:0},FCe={key:1},BCe={class:"mt-4 line-clamp-1 uppercase font-semibold"},zCe=["innerHTML"],jCe=["innerHTML"],VCe=jn({__name:"CommunityReportPostScreen",setup(e){const t=Fy(),i=async()=>{t.back()},n=oT(),{community:o}=mC(n),r=Ti([]),s=Ti(1),a=Ti(!1),l=async(e=1,t=!1)=>{var i;const n={"filter[community_id]":null===(i=o.value)||void 0===i?void 0:i._id,"filter[status]":Jae.Processing,"w[]":["reporter","post","comment"],page:e,limit:20},{data:l}=await SC.get("/community-post-report",{params:n});var c,d,u;bC.isEmpty(l)?a.value=!1:(null!=l&&null!==(c=l.meta)&&void 0!==c&&c.hasNextPage?(s.value++,a.value=!0):a.value=!1,r.value=t?[...r.value,...null!==(d=null==l?void 0:l.data)&&void 0!==d?d:[]]:null!==(u=null==l?void 0:l.data)&&void 0!==u?u:[])},c=async e=>{l(s.value,!0),setTimeout((()=>e.target.complete()),500)},d=()=>{l(1,!1),s.value=1,a.value=!1};to((async()=>{d()}));const u=async e=>{try{const t={status:Jae.Processed};await SC.patch(`/community-post-report/${e._id}`,t)}catch(t){console.log(t)}finally{d()}},h=async(e,t)=>{if(e){const i=await ux.create({message:null!=e?e:"",duration:1500,position:"top",swipeGesture:"vertical",mode:"ios",cssClass:t});await i.present()}},p=async e=>{try{bC.isEmpty(null==e?void 0:e.post_id)?bC.isEmpty(null==e?void 0:e.comment_id)||await(async e=>{try{if(!bC.isEmpty(null==e?void 0:e.comment)&&bC.isEmpty(null==e?void 0:e.post)){const{status:t}=await SC.delete(`/community-comment/${null==e?void 0:e.comment_id}`);200===t&&(await u(e),h("Gỡ bình luận thành công","success"))}}catch(t){h("Đã có lỗi xảy ra","warning")}})(e):await(async e=>{try{if(bC.isEmpty(null==e?void 0:e.comment)&&!bC.isEmpty(null==e?void 0:e.post)){const{status:t}=await SC.delete(`/community-post/${e.post_id}`);200===t&&(await u(e),h("Gỡ bài viết thành công","success"))}}catch(t){h("Đã có lỗi xảy ra","warning")}})(e)}catch(t){h("Đã có lỗi xảy ra","warning")}finally{d()}};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Yr(Di(ex),{slot:"start",onClick:i,icon:Di(CT),class:"size-6 p-2"},null,8,["icon"]),t[0]||(t[0]=Wr("div",{class:"flex-1 text-base font-medium text-black"}," Nội dung bị thành viên báo cáo ",-1))])),_:1})])),_:1}),Yr(Di(Kk),{class:"ion-padding",color:"white1"},{default:pn((()=>[Di(bC.isEmpty)(r.value)?($r(),jr(Dr,{key:0},[t[1]||(t[1]=Wr("div",{class:"flex justify-center mt-[20%]"},[Wr("img",{src:jZ,class:"mr-1"})],-1)),t[2]||(t[2]=Wr("div",{class:"text-center font-medium text-gray2"}," Không có nội dung bị báo cáo ",-1))],64)):($r(),jr("div",xCe,[($r(!0),jr(Dr,null,vo(r.value,(e=>{var i,n,o,r,s,a,l,c,d,h,m,f,g,b,v,y;return $r(),jr("div",{key:e._id},[Wr("section",_Ce,[Wr("div",null,[Wr("section",ECe,[Wr("span",CCe,Ze(null==e||null===(i=e.reporter)||void 0===i?void 0:i.full_name),1),t[4]||(t[4]=Xr(" đã báo cáo ")),Wr("span",ACe,Ze((y=!Di(bC.isEmpty)(null==e?void 0:e.post)&&Di(bC.isEmpty)(null==e?void 0:e.comment),y?"bài viết":"bình luận")),1),Di(bC.isEmpty)(null==e?void 0:e.comment)?Jr("",!0):($r(),jr("span",TCe,[t[3]||(t[3]=Xr(" này trên bài viết của ")),Wr("span",SCe,Ze(null===(n=e.comment)||void 0===n||null===(n=n.post)||void 0===n||null===(n=n.creator)||void 0===n?void 0:n.full_name),1)])),Di(bC.isEmpty)(null==e?void 0:e.post)?Jr("",!0):($r(),jr("span",ICe," này vì "+Ze(null==e?void 0:e.reason),1))]),Wr("section",PCe,[Wr("div",{onClick:t=>u(e),class:"px-6 py-1 bg-blue2 rounded-lg text-sm text-white shadow-st uppercase font-medium"}," Giữ lại ",8,DCe),Wr("div",{onClick:t=>(async e=>{const t=await cx.create({mode:"ios",header:bC.isEmpty(null==e?void 0:e.post_id)?"Bạn muốn gỡ bình luận này?":"Bạn muốn gỡ bài viết này?",cssClass:"ionalert",buttons:[{text:"Huỷ",role:"cancel"},{text:"Đồng ý",role:"confirm",handler:()=>p(e)}]});await t.present()})(e),class:"px-6 py-1 bg-white rounded-lg text-sm text-black shadow-st uppercase font-medium"}," Gỡ ",8,RCe)])]),t[5]||(t[5]=Wr("div",{class:"bg-gray3 h-[1.5px] my-4"},null,-1)),Wr("div",null,[Wr("div",LCe,[Wr("img",{src:null!==(o=null!==(r=null==e||null===(s=e.post)||void 0===s||null===(s=s.creator)||void 0===s?void 0:s.avatar)&&void 0!==r?r:null==e||null===(a=e.comment)||void 0===a||null===(a=a.creator)||void 0===a?void 0:a.avatar)&&void 0!==o?o:"/upload-user.png",class:"size-12 rounded-full object-cover",placeholder:"/upload-user.png"},null,8,MCe),Wr("div",OCe,[Xr(Ze(null!==(l=null==e||null===(c=e.post)||void 0===c||null===(c=c.creator)||void 0===c?void 0:c.full_name)&&void 0!==l?l:null==e||null===(d=e.comment)||void 0===d||null===(d=d.creator)||void 0===d?void 0:d.full_name)+" ",1),Wr("div",NCe,[Di(bC.isEmpty)(null==e?void 0:e.post)?Jr("",!0):($r(),jr("span",$Ce,Ze(Di(aT)(null===(h=e.post)||void 0===h?void 0:h.created_at).from(Di(aT)())),1)),Di(bC.isEmpty)(null==e?void 0:e.comment)?Jr("",!0):($r(),jr("span",FCe,Ze(Di(aT)(null===(m=e.comment)||void 0===m?void 0:m.created_at).from(Di(aT)())),1))])])]),Wr("div",null,[Di(bC.isEmpty)(null==e?void 0:e.post)?Di(bC.isEmpty)(null==e?void 0:e.comment)?Jr("",!0):($r(),jr("div",{key:1,class:"mt-2.5 text-base",innerHTML:null!==(v=null==e?void 0:e.comment.content)&&void 0!==v?v:""},null,8,jCe)):($r(),jr(Dr,{key:0},[Wr("div",BCe,Ze(null!==(f=null==e||null===(g=e.post)||void 0===g?void 0:g.title)&&void 0!==f?f:""),1),Wr("div",{class:"mt-2.5 text-base",innerHTML:null==e||null===(b=e.post)||void 0===b?void 0:b.description},null,8,zCe)],64))])])])])})),128))])),a.value?($r(),Vr(Di(Zk),{key:2,onIonInfinite:c,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})])),_:1}))}}),UCe={slot:"start",class:"flex items-center p-3"},HCe={class:"font-medium text-lg"},qCe={class:"space-y-6 p-4 rounded-lg bg-white pb-10"},GCe=["onClick"],WCe=["src"],YCe={class:"flex-col gap-2 w-full"},KCe={class:"gap-2 text-lg font-medium line-clamp-1 w-full"},QCe={class:"flex items-center gap-2"},XCe={class:"text-neutral-500 text-sm font-light"},JCe={class:"text-neutral-500 text-sm font-light"},ZCe={class:"text-neutral-500 text-sm font-light"},eAe={key:0},tAe={key:1},iAe=jn({__name:"ListCommunityUserScreen",setup(e){const t=Rw(),i=By(),n=Ti(1),o=Ti([]),r=Ti(!1),s=oT(),a=async(e=1,t=!1)=>{const s={page:e,limit:20,"filter[role]":bC.isEmpty(i.params.username)?null:2};try{const{data:e}=await SC.get(`/user-community/profile/${i.params.userId}`,{params:s});var a,l,c;if(bC.isEmpty(e))r.value=!1;else if(null!=e&&null!==(a=e.meta)&&void 0!==a&&a.hasNextPage?(n.value++,r.value=!0):r.value=!1,t)o.value=[...o.value,...null!==(l=null==e?void 0:e.data)&&void 0!==l?l:[]];else o.value=null!==(c=null==e?void 0:e.data)&&void 0!==c?c:[]}catch(d){console.error("❌ Error fetching data:",d)}};io((()=>{c()}));const l=async e=>{await a(n.value,!0),setTimeout((()=>e.target.complete()),1e3)},c=()=>{a(1,!1),n.value=1,r.value=!1},d=()=>t.back();return(e,n)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Wr("div",UCe,[Yr(Di(ex),{onClick:d,icon:Di(AT),class:"size-7 mr-2"},null,8,["icon"]),Wr("h1",HCe,Ze(Di(bC.isEmpty)(Di(i).params.username)?"Thành viên của cộng đồng ":`Được tạo bởi ${Di(i).params.username}`),1)])])),_:1})])),_:1}),Yr(Di(Kk),{color:"white"},{default:pn((()=>[Wr("div",qCe,[o.value?($r(!0),jr(Dr,{key:0},vo(o.value,(e=>{var i,n,o,r,a,l,c,d;return $r(),jr("div",{key:e._id,class:"flex-col w-full"},[Wr("use",{onClick:i=>(async e=>{s.setCommunity(e),t.push({name:"CommunityScreen",params:{id:e.short_name||e._id}})})(e.community),class:"flex items-center gap-3 w-full"},[Wr("img",{src:null!==(i=null===(n=e.community)||void 0===n?void 0:n.icon)&&void 0!==i?i:"/favicon.ico",class:"w-12 h-12 rounded-lg shadow",fit:"cover",placeholder:"favicon.ico"},null,8,WCe),Wr("div",YCe,[Wr("div",KCe,Ze(null===(o=e.community)||void 0===o?void 0:o.name),1),Wr("div",QCe,[Wr("div",XCe,Ze(0===(null===(r=e.community)||void 0===r?void 0:r.status)?"Riêng tư":"Công khai"),1),Yr(Di(ex),{class:"w-1 h-1 text-gray-500 bg-black rounded-full"}),Wr("div",JCe,Ze(null!==(a=null===(l=e.community)||void 0===l?void 0:l.total_member)&&void 0!==a?a:0)+" thành viên ",1),Yr(Di(ex),{class:"w-1 h-1 text-gray-500 bg-black rounded-full"}),Wr("div",ZCe,[null==(null===(c=e.community)||void 0===c||null===(c=c.communityFee)||void 0===c?void 0:c.price)?($r(),jr("div",eAe," Miễn phí ")):($r(),jr("div",tAe," Giá "+Ze(null===(d=e.community)||void 0===d||null===(d=d.communityFee)||void 0===d||null===(d=d.price)||void 0===d?void 0:d.toLocaleString("vi-VN"))+"đ ",1))])])])],8,GCe)])})),128)):Jr("",!0)]),r.value?($r(),Vr(Di(Zk),{key:0,onIonInfinite:l,threshold:"0.9%"},{default:pn((()=>[Yr(Di(ew))])),_:1})):Jr("",!0)])),_:1})])),_:1}))}}),nAe={key:0,class:"ion-padding flex flex-col justify-center items-center mt-[35%]"},oAe=["src"],rAe={class:"ion-padding"},sAe={class:"text-xl font-medium mb-4"},aAe={class:"mb-1.5"},lAe={class:"flex items-center justify-between"},cAe={class:"flex items-center gap-2"},dAe={class:"text-base"},uAe={class:"flex items-center justify-between"},hAe={class:"flex items-center gap-2"},pAe={class:"font-normal text-base"},mAe={class:"mt-1.5 flex gap-2 items-start"},fAe={key:0,class:"flex items-center gap-4 mt-0.5 text-base text-gray2"},gAe={key:1,class:"mt-0.5 text-base text-gray2"},bAe={class:"flex gap-2 mt-1.5 items-center"},vAe={class:"text-base text-black"},yAe={class:"flex justify-between bg-gray1 px-4 py-2 rounded-lg mt-10 items-center"},kAe={class:"text-base text-black font-medium"},wAe={key:1,class:"flex flex-col items-center gap-3.5 mt-10"},xAe={key:2,class:"flex flex-col items-center gap-3.5 mt-10"},_Ae={class:"mt-4 sm:text-sm rounded-lg bg-white p-4"},EAe=["innerHTML"],CAe=jn({__name:"EventDetailScreen",setup(e){const t=Rw(),i=By(),n=()=>{t.back()},o=Ti(),r=Ti(),s=Ti(1),a=Ti(!0),l=EC(),c=lT(),{userCommunity:d}=mC(c),{isLoggedIn:u,userInfo:h}=mC(l),p=async()=>{const{data:e}=await SC.get(`/event/${i.params.eventId}`);bC.isEmpty(e)||(o.value=e)},m=async()=>{try{var e;if(a.value=!0,!bC.isEmpty(h.value&&(null===(e=o.value)||void 0===e?void 0:e._id))){var t,i;const{data:e}=await SC.get(`/event-subscribe/event/${null===(t=h.value)||void 0===t?void 0:t._id}`,{params:{event_id:null===(i=o.value)||void 0===i?void 0:i._id}});r.value=null!=e?e:[]}}catch(n){console.log(n)}finally{a.value=!1}};io((()=>{p()})),br([o],(()=>{m()}));const f=(e,t)=>{const i=aT(null!=e?e:new Date),n=aT(null!=t?t:new Date),o=n.format("DD/MM/YYYY"),r=i.diff(n,"year"),s=i.diff(n,"month"),a=i.diff(n,"day");return 0!=r?i.format("DD/MM/YYYY")+" - "+o:0!=s?i.format("DD/MM")+" - "+o:0!=a?i.format("DD")+" - "+o:o},g=async()=>{var e,t;bC.isEmpty(null===(e=o.value)||void 0===e?void 0:e.link_event)||(await $D.write({string:null===(t=o.value)||void 0===t?void 0:t.link_event}),lS("Đã copy link sự kiện","success"))},b=async()=>{try{var e,i;if(u.value){if(bC.isEmpty(null===(e=r.value)||void 0===e?void 0:e._id)){var n,a,l;const e={event_id:null===(n=o.value)||void 0===n?void 0:n._id,user_id:null===(a=h.value)||void 0===a?void 0:a._id,quantity:s.value,status:Ioe.Register,unit_price:null===(l=o.value)||void 0===l?void 0:l.price,guest:{}},{status:t}=await SC.post("/event-subscribe",e);201===t&&(p(),lS("Đăng kí thành công","success"))}else if((null===(i=r.value)||void 0===i?void 0:i.status)===Ioe.Cancel){var c;const{status:e}=await SC.patch(`/event-subscribe/${null===(c=r.value)||void 0===c?void 0:c._id}`,{status:Ioe.Register,quantity:s.value});201===e&&(p(),lS("Đăng kí thành công","success"))}}else t.push({name:"LoginScreen"},iT)}catch(d){console.log(d)}},v=async()=>{const e=await ax.create({component:joe,mode:"ios",cssClass:"confirmmd"});await e.present();const{role:i}=await e.onWillDismiss();"confirm"===i&&(async()=>{try{var e;if(u.value){if(!bC.isEmpty(null===(e=r.value)||void 0===e?void 0:e._id)){var i;const{status:e}=await SC.patch(`/event-subscribe/${null===(i=r.value)||void 0===i?void 0:i._id}`,{status:Ioe.Cancel});201===e&&(m(),lS("Huỷ thành công","success"))}}else t.push({name:"LoginScreen"},iT)}catch(n){lS("Có lỗi xảy ra !","warning")}})()};return(e,t)=>($r(),Vr(Di(Ow),null,{default:pn((()=>[Yr(Di(Jk),{mode:"ios",class:"ion-no-border"},{default:pn((()=>[Yr(Di(_w),{mode:"ios",color:"white"},{default:pn((()=>[Yr(Di(ex),{slot:"start",onClick:n,icon:Di(CT),class:"size-6 p-2"},null,8,["icon"])])),_:1})])),_:1}),Yr(Di(Kk),{color:"white"},{default:pn((()=>{var e,i,n,a,l,c,u,h,p,m,y;return[Di(bC.isEmpty)(o.value)?($r(),jr("div",nAe,t[2]||(t[2]=[Wr("img",{src:jZ},null,-1),Wr("div",{class:"text-gray2 font-normal"},"Sự kiện này không tồn tại",-1)]))):($r(),jr(Dr,{key:1},[Wr("img",{class:"aspect-video w-full",src:o.value.image},null,8,oAe),Wr("div",rAe,[Wr("div",sAe,Ze(o.value.name),1),Wr("section",aAe,[Wr("div",lAe,[Wr("div",cAe,[Yr(Di(ex),{icon:Di(yT),class:"size-5 text-gray2"},null,8,["icon"]),Wr("div",dAe,Ze(f(o.value.start_date,o.value.end_date)),1)])])]),Wr("section",null,[Wr("div",uAe,[Wr("div",hAe,[Yr(Di(ex),{icon:Di(rS),class:"size-5 text-gray2"},null,8,["icon"]),Wr("div",pAe,Ze(Di(aT)(o.value.start_date).format("HH:mm"))+" - "+Ze(Di(aT)(o.value.end_date).format("HH:mm")),1)])])]),Wr("section",mAe,[Yr(Di(ex),{icon:o.value.type===Di(ioe).Online?Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M117.33 117.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34M394.67 394.67c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-miterlimit='10' d='M256 48v416M464 256H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>"):Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0025.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='192' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-5 text-gray2"},null,8,["icon"]),Wr("div",null,[Wr("div",null,Ze(o.value.type===Di(ioe).Online?"Online":"Offline"),1),o.value.type===Di(ioe).Online&&1===(null===(e=r.value)||void 0===e?void 0:e.status)?($r(),jr("div",fAe,[Xr(Ze(null!==(i=null===(n=o.value)||void 0===n?void 0:n.link_event)&&void 0!==i?i:"-")+" ",1),Yr(Di(ex),{icon:Di(MT),class:"text-gray2 size-5",onClick:g},null,8,["icon"])])):o.value.type===Di(ioe).Offline&&1===(null===(a=r.value)||void 0===a?void 0:a.status)?($r(),jr("div",gAe,Ze(null!==(l=null===(c=o.value)||void 0===c?void 0:c.address)&&void 0!==l?l:"-"),1)):Jr("",!0)])]),Wr("section",bAe,[Yr(Di(ex),{icon:Di(QT),class:"size-5 text-gray2"},null,8,["icon"]),Wr("div",vAe,Ze(0==(null===(u=o.value)||void 0===u?void 0:u.price)?"Miễn phí":null===(h=o.value)||void 0===h||null===(h=h.price)||void 0===h?void 0:h.toLocaleString("vi-VN",{style:"currency",currency:"VND"})),1)]),Wr("section",null,[(null===(p=r.value)||void 0===p?void 0:p.status)!==Di(Ioe).Register?($r(),jr(Dr,{key:0},[Wr("div",yAe,[Yr(Di(ex),{onClick:t[0]||(t[0]=e=>1==s.value?void 0:s.value--),icon:Di("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),class:"size-6 text-gray2"},null,8,["icon"]),Wr("div",kAe,Ze(s.value)+" vé ",1),Yr(Di(ex),{onClick:t[1]||(t[1]=e=>10==s.value?void 0:s.value++),icon:Di(fT),class:"size-6 text-gray2"},null,8,["icon"])]),Yr(Di(qk),{onClick:b,type:"button",color:"blue1",class:"mt-4 h-12 w-full text-base uppercase text-center shadow-st rounded-xl"},{default:pn((()=>t[3]||(t[3]=[Xr(" Đăng ký ngay ")]))),_:1})],64)):($r(),jr("div",wAe,[t[4]||(t[4]=Wr("div",{class:"mt-4 h-12 w-full text-base uppercase text-center rounded-xl bg-gray1 items-center justify-center flex font-medium"}," Đã đăng ký ",-1)),Wr("div",{onClick:v,class:"flex text-sm text-gray2 font-medium text-center"}," Huỷ đăng ký ")])),(null===(m=Di(d))||void 0===m?void 0:m.role)===Di(rT).Admin?($r(),jr("div",xAe,t[5]||(t[5]=[Wr("div",{class:"font-semibold"},"Bạn là quản lý sự kiện này",-1)]))):Jr("",!0),Wr("div",_Ae,[Wr("div",{innerHTML:null===(y=o.value)||void 0===y?void 0:y.description},null,8,EAe)])])])],64))]})),_:1})])),_:1}))}}),AAe=[{name:"SplashScreen",component:dT},{name:"FirstAccess",component:uT},{name:"LoginScreen",component:gS},{name:"RegisterScreen",component:CS},{name:"EnterAuthCodeScreen",path:"/enterauthcodescreen/:email",component:NS},{name:"ImproveBioScreen",component:PS},{name:"ForgotPassScreen",component:zS},{name:"SentResetSuccessScreen",component:US},{name:"HomeBottomtab",component:pse,children:[{name:"defaultBottomTab",path:"",redirect:"/homebottomtab/hometab"},...[{name:"HomeTab",component:cfe},{name:"ChatTab",component:nR},{name:"NotificationTab",component:w0},{name:"AccountTab",component:H8}].map((e=>({...e,path:`${e.name.toLowerCase()}`})))]},{name:"CommunityScreen",component:uhe,path:"/hometab/commnunityscreen/:id/:tab?",beforeEnter:async(e,t,i)=>{var n;const o=null==e||null===(n=e.params)||void 0===n?void 0:n.id,r=oT(),s=lT();return await r.getCommunityInfo(o),await s.getUserCommunityInfo(o),console.log("communityMiddleware",o),i()}},{name:"CommunityReportPostScreen",component:VCe,beforeEnter:wCe},{name:"CourseLearningScreen",component:yCe,beforeEnter:async(e,t,i)=>{const n=oT(),{community:o}=mC(n),r=lT(),{userCommunity:s}=mC(r),a=ibe(),{course:l,userCourse:c}=mC(a),d=EC(),{isLoggedIn:u,userInfo:h}=mC(d),p=vC(),{routerCallback:m}=mC(p),f=r.checkUserAdminCommunity(o.value,s.value);if(u.value||(p.setRouterCallback({name:null==e?void 0:e.name,params:null==e?void 0:e.params,...m}),i({name:"LoginScreen"})),e.params.courseId){var g,b;const n=null===(g=e.params.courseId)||void 0===g?void 0:g.toString(),{data:d}=await SC.get(`/course/detail/${n}`,{});if(bC.isEmpty(d))return await lS("Khóa học không tồn tại","warning"),i(t.fullPath);if(await a.setCourse(d),!f&&(null===(b=l.value)||void 0===b?void 0:b.status)!=eae.Publish)return i(t.fullPath);if(u.value&&h.value&&o.value){var v;const e=Ti(),{data:t}=await SC.get("/user-course",{params:{user_id:h.value._id,course_id:null===(v=l.value)||void 0===v?void 0:v._id,community_id:o.value._id}});if(bC.isEmpty(t)){var y;const t=await SC.patch("/user-course",{user_id:h.value._id,course_id:null===(y=l.value)||void 0===y?void 0:y._id,community_id:o.value._id});e.value=t.data}else e.value=null==t?void 0:t.shift();await a.setUserCourse(e.value)}if(r.checkUserAdminCommunity(o.value,s.value))return i();if(!a.checkUserCourseExpired(l.value,c.value))return await lS("Khóa học của bạn đã hết hạn","warning"),i(t.fullPath);const p=a.checkLevelUserCommunitySatisfy(l.value,s.value),m=a.checkUserCoursePaid(l.value,c.value);if(p){var k;if(!(null!==(k=c.value)&&void 0!==k&&k.paid)){var w,x,_;const e=await SC.patch("/user-course",{user_id:null===(w=h.value)||void 0===w?void 0:w._id,course_id:null===(x=l.value)||void 0===x?void 0:x._id,community_id:null===(_=o.value)||void 0===_?void 0:_._id,paid:!0,access_by_level:!0});await a.setUserCourse(e.data)}return i()}var E;if((null===(E=l.value)||void 0===E?void 0:E.type)!=Xse){if(m)return i();lS("Bạn cần mua khóa học để truy cập","warning")}else lS("Bạn chưa đủ cấp để học","warning");return i(t.fullPath)}return i(t.fullPath)},path:"/courselearningscreen/:courseId"},{name:"CreateCommunityScreen",component:bge,beforeEnter:wCe},{name:"CourseEditInfomationScreen",component:tbe,path:"/courseeditinfomationscreen/:courseId"},{name:"PaymentMethodSelectScreen",component:Ige},{name:"PostDetailScreen",component:$fe,path:"/postdetailscreen/:postId"},{name:"CommunitySetting",component:Ome,path:"/communitysetting/:id"},{name:"DetectUserCommunityScreen",component:C8,beforeEnter:wCe,path:"/detectusercommunityscreen/:userId/:t?"},{name:"ListCommunityUserScreen",component:iAe,path:"/listcommunityuserscreen/:userId/:username?"},{name:"EventDetailScreen",component:CAe,path:"/eventdetailscreen/:eventId"},{name:"UserCommunityScreen",component:u9},{name:"UserCommunityContributeScreen",component:toe,path:"/usercommunitycontributescreen/:userId/:communityId/:name?"},{name:"UserProfileScreen",component:Xie},{name:"UserAffiliateScreen",component:Kne},{name:"AccountDetailScreen",component:dre},{name:"UserEventScreen",component:Soe},{name:"UserTicketScreen",component:sre},{name:"AppAboutScreen",component:fre},{name:"ChangePassword",component:bre},{name:"PaymentCreateCommunity",component:kCe},{name:"ChatRoom",component:YJ,path:"/chatrooms/:id"},{name:"ChatDetail",component:EZ,path:"/chatdetail/:id?"},{name:"ChatMembers",component:zZ,path:"/chatmembers/:id?"},{name:"FriendScreen",component:Ore},{name:"FriendMyRequestedScreen",component:Qre},{name:"FriendRequestScreen",component:Ure}],TAe=[{path:"/",name:"Starter",redirect:"/splashscreen"},...AAe.map((e=>{var t;return{path:`/${null==e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase()}`,...e}}))],SAe=(e=>{const t=Object.assign({},e);delete t.tabsPrefix;const i=$y(t),n=((e,t)=>{let i={direction:void 0,action:void 0,delta:void 0};t.afterEach(((t,n,o)=>{if(o)return;const{direction:r,action:s,delta:l}=i;a=e.history.state.position;const c=e.history.state.replaced?"replace":void 0;d(t,s||c,r,l),i={direction:void 0,action:void 0,delta:void 0}}));const n=(()=>{const e=[],t={},i=t=>{const i=r(t.tab);let n;if(i){for(n=i[i.length-1];n&&n.id!==t.id;)i.pop(),n=i[i.length-1];i.pop(),i.push(t)}for(n=e[e.length-1];n&&n.id!==t.id;)e.pop(),n=e[e.length-1];e.pop(),e.push(t)},n=t=>{const i=r(t.tab);i&&(i[i.length-1]&&i[i.length-1].id===t.id&&i.pop(),i.push(t)),e.push(t)},o=i=>{if(i){const{position:n,tab:o}=i,r=e.findIndex((e=>e.position===n));if(-1===r)return;e.splice(r);const s=e=>{const i=t[e].findIndex((e=>e.position===n));-1!==i&&t[e].splice(i)},a=t[o];if(o&&a)s(o);else for(const e in t)s(e)}else{for(const e in t)t[e]=[];e.length=0}},r=e=>{let i;return e&&(i=t[e],i||(i=t[e]=[])),i},s=()=>e[e.length-1];return{current:(t,i)=>e[i-t]||s(),size:()=>e.length,last:s,add:e=>{"pop"===e.routerAction?i(e):n(e),"root"===e.routerDirection&&(o(),n(e))},canGoBack:(e=1,t,i)=>i-e>=t,update:i=>{const n=e.findIndex((e=>e.id===i.id));n>-1&&e.splice(n,1,i);const o=t[i.tab||""];if(o){const e=o.findIndex((e=>e.id===i.id));e>-1?o.splice(e,1,i):o.push(i)}else i.tab&&(t[i.tab]=[i])},getFirstRouteInfoForTab:e=>{const t=r(e);if(t)return t[0]},getCurrentRouteInfoForTab:e=>{const t=r(e);if(t)return t[t.length-1]},findLastLocation:(t,i=-1)=>{const n=r(t.tab);if(n){if(i<-1)return n[n.length-1+i];for(let e=n.length-2;e>=0;e--){const i=n[e];if(i&&i.pathname===t.pushedByRoute)return i}}for(let o=e.length-2;o>=0;o--){const n=e[o];if(n&&n.pathname===t.pushedByRoute)return e[o+1+i]}},clearHistory:o}})();let o,r,s=e.history.state.position,a=e.history.state.position;const l=[];"undefined"!=typeof document&&document.addEventListener("ionBackButton",(t=>{t.detail.register(0,(t=>{e.history.go(-1),t()}))})),e.history.listen(((e,t,n)=>{i={delta:n.delta,action:"pop"===n.type&&n.delta>=1?"push":n.type,direction:""===n.direction?"forward":n.direction}}));const c=(e,i,n,o,r)=>{u(i,n,o,r),"push"===i?t.push(e):t.replace(e)},d=(e,t,i,c)=>{let d;if(r)if("replace"===r.routerAction)d=n.current(s,a);else if("pop"===r.routerAction)d=n.current(s,a+1),"replace"===t&&n.clearHistory();else{const e="root"===r.routerDirection?a:a-1;d=n.current(s,e)}else d=o;if(d||(d={pathname:"",search:""}),d.pathname+d.search!==e.fullPath){if(!r){if("replace"===t)r={routerAction:"replace",routerDirection:"none"};else if("pop"===t){const e=n.current(s,a-c);if(e&&e.pushedByRoute){const t=n.findLastLocation(e,c);r=Object.assign(Object.assign({},t),{routerAction:"pop",routerDirection:"back"})}else r={routerAction:"pop",routerDirection:"none"}}r||(r={routerAction:"push",routerDirection:i||"forward"})}let l;if(null==r?void 0:r.id)l=Object.assign(Object.assign({},r),{lastPathname:d.pathname});else{const t="push"===r.routerAction&&"forward"===r.routerDirection;if(l=Object.assign(Object.assign({id:KE("routeInfo")},r),{lastPathname:d.pathname,pathname:e.path,search:e.fullPath&&e.fullPath.split("?")[1]||"",params:e.params&&e.params,prevRouteLastPathname:d.lastPathname}),t)l.pushedByRoute=""!==d.pathname?d.pathname:void 0;else if("pop"===l.routerAction){const e=n.findLastLocation(l);l.pushedByRoute=null==e?void 0:e.pushedByRoute}else if("push"===l.routerAction&&l.tab!==d.tab){const e=n.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=null==e?void 0:e.pushedByRoute}else if("replace"===l.routerAction){const e=n.current(s,a),t=null==e?void 0:e.pushedByRoute,i=void 0!==t&&t!==l.pathname?t:l.pushedByRoute;l.lastPathname=(null==e?void 0:e.pathname)||l.lastPathname,l.pushedByRoute=i,l.routerDirection=(null==e?void 0:e.routerDirection)||l.routerDirection,l.routerAnimation=(null==e?void 0:e.routerAnimation)||l.routerAnimation,l.prevRouteLastPathname=null==e?void 0:e.lastPathname}}l.position=a,l.delta=c;const u=n.size(),h=a-s;u>h||u===h&&u>0&&"replace"===t?"push"!==l.routerAction&&"replace"!==l.routerAction||void 0!==c||(n.clearHistory(l),n.add(l)):n.add(l),1===n.size()&&(s=l.position),o=l}r=void 0,l.forEach((e=>e(o)))},u=(e="push",t="forward",i,n)=>{r={routerAction:e,routerDirection:t,routerAnimation:i,tab:n}};return{handleNavigate:c,getLeavingRouteInfo:()=>n.current(s,a),handleNavigateBack:(e,i)=>{const o=n.current(s,a);if(o&&o.pushedByRoute){const s=n.findLastLocation(o);s?(r=Object.assign(Object.assign({},s),{routerAction:"pop",routerDirection:"back",routerAnimation:i||o.routerAnimation}),o.lastPathname===o.pushedByRoute||s.pathname===o.pushedByRoute&&!o.tab&&!s.tab?t.back():t.go(s.position-o.position)):c(e,"pop","back",i)}else c(e,"pop","back",i)},handleSetCurrentTab:e=>{const t=Object.assign({},n.current(s,a));t.tab!==e&&(t.tab=e,n.update(t));const i=n.findLastLocation(t);t.pushedByRoute!==t.lastPathname&&(null==i?void 0:i.tab)!==e&&(t.pushedByRoute=void 0,n.update(t))},getCurrentRouteInfo:()=>o,canGoBack:(e=1)=>n.canGoBack(e,s,a),navigate:e=>{const{routerAnimation:i,routerDirection:n,routerLink:o}=e;u("push",n,i),t.push(o)},resetTab:e=>{const i=n.getFirstRouteInfoForTab(e);i&&t.go(i.position-a)},changeTab:(e,i)=>{if(!i)return;const o=n.getCurrentRouteInfoForTab(e),[s]=i.split("?");o?(r=Object.assign(Object.assign({},r),{routerAction:"push",routerDirection:"none",tab:e}),o.pathname===s?t.push({path:o.pathname,query:vy(o.search)}):t.push({path:s,query:vy(o.search)})):c(s,"push","none",void 0,e)},registerHistoryChangeListener:e=>{l.push(e)},goBack:e=>{u("pop","back",e),t.back()},goForward:e=>{u("push","forward",e),t.forward()}}})(e,i),o=(e=>{const t={},i=(e,t)=>t.find((t=>{if(t.pathname===e)return t})),n=(n,o,r=!1)=>{const s=t=>{if(r&&!t.ionRoute||""===n)return!1;const i=e.resolve(n).matched.find((e=>e===t.matchedRoute));return i?(!i.path.includes(":")||n===t.pathname)&&t:void 0};if(o){const r=t[o];if(!r)return;const a=e?r.find(s):i(n,r);if(a)return a}else for(const e in t){const o=t[e],r=i(n,o);if(r)return r}};return{unmountLeavingViews:(e,i,n=1)=>{const o=t[e];if(!o)return;const r=o.findIndex((e=>e===i));for(let t=r+1;t<r-n;t++){const e=o[t];e.mount=!1,e.ionPageElement=void 0,e.ionRoute=!1,e.matchedRoute.instances={}}},mountIntermediaryViews:(e,i,n=1)=>{const o=t[e];if(!o)return;const r=o.findIndex((e=>e===i));for(let t=r+1;t<r+n;t++)o[t].mount=!0},clear:e=>{delete t[e]},findViewItemByRouteInfo:(e,t)=>n(e.pathname,t,!1),findLeavingViewItemByRouteInfo:(e,t,i=!0)=>n(e.lastPathname,t,i),findViewItemByPathname:(e,t)=>n(e,t,!1),createViewItem:(e,t,i,n,o)=>({id:KE("viewItem"),pathname:n.pathname,outletId:e,matchedRoute:i,ionPageElement:o,vueComponent:t,vueComponentRef:Si(),ionRoute:!1,mount:!1,exact:n.pathname===i.path,params:n.params,vueComponentData:{}}),getChildrenToRender:e=>t[e]?t[e].filter((e=>e.mount)):[],add:e=>{const{outletId:i}=e;t[i]?t[i].push(e):t[i]=[e]},remove:(e,i)=>{if(!i)throw Error("outletId required");const n=t[i];n&&(t[i]=n.filter((t=>t.id!==e.id)))},registerIonPage:(e,t)=>{e.ionPageElement=t,e.ionRoute=!0,e.matchedRoute.instances={default:e.vueComponentRef.value}},getViewStack:e=>t[e],size:()=>Object.keys(t).length}})(i),r=i.install.bind(i);i.install=e=>{e.provide("navManager",n),e.provide("viewStacks",o),r(e)};const s=i.isReady.bind(i);return i.isReady=()=>s(),i})({history:(IAe="/",Yv(IAe)),routes:TAe});var IAe;function PAe(e){if("string"!=typeof e||!e)throw new Error("expected a non-empty string, got: "+e)}function DAe(e){if("number"!=typeof e)throw new Error("expected a number, got: "+e)}const RAe="emoji",LAe="keyvalue",MAe="favorites",OAe="tokens",NAe="count",$Ae="group-order",FAe="eTag",BAe="url",zAe="skinTone",jAe="readonly",VAe="readwrite",UAe="skinUnicodes";function HAe(e){return function(e,t){const i=new Set,n=[];for(const o of e){const e=t(o);i.has(e)||(i.add(e),n.push(o))}return n}(e,(e=>e.unicode))}const qAe={},GAe={},WAe={};function YAe(e,t,i){i.onerror=()=>t(i.error),i.onblocked=()=>t(new Error("IDB blocked")),i.onsuccess=()=>e(i.result)}async function KAe(e){const t=await new Promise(((t,i)=>{const n=indexedDB.open(e,1);qAe[e]=n,n.onupgradeneeded=e=>{e.oldVersion<1&&function(e){function t(t,i,n){const o=i?e.createObjectStore(t,{keyPath:i}):e.createObjectStore(t);if(n)for(const[e,[r,s]]of Object.entries(n))o.createIndex(e,r,{multiEntry:s});return o}t(LAe),t(RAe,"unicode",{[OAe]:["tokens",!0],[$Ae]:[["group","order"]],[UAe]:["skinUnicodes",!0]}),t(MAe,void 0,{[NAe]:[""]})}(n.result)},YAe(t,i,n)}));return t.onclose=()=>XAe(e),t}function QAe(e,t,i,n){return new Promise(((o,r)=>{const s=e.transaction(t,i,{durability:"relaxed"}),a="string"==typeof t?s.objectStore(t):t.map((e=>s.objectStore(e)));let l;n(a,s,(e=>{l=e})),s.oncomplete=()=>o(l),s.onerror=()=>r(s.error)}))}function XAe(e){const t=qAe[e],i=t&&t.result;if(i){i.close();const t=WAe[e];if(t)for(const e of t)e()}delete qAe[e],delete GAe[e],delete WAe[e]}const JAe=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function ZAe(e){return e.split(/[\s_]+/).map((e=>!e.match(/\w/)||JAe.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase())).filter(Boolean)}function eTe(e){return e.filter(Boolean).map((e=>e.toLowerCase())).filter((e=>e.length>=2))}function tTe(e,t,i,n){e[t](i).onsuccess=e=>n&&n(e.target.result)}function iTe(e,t,i){tTe(e,"get",t,i)}function nTe(e,t,i){tTe(e,"getAll",t,i)}function oTe(e){e.commit&&e.commit()}function rTe(e,t){const i=function(e,t){let i=e[0];for(let n=1;n<e.length;n++){const o=e[n];t(i)>t(o)&&(i=o)}return i}(e,(e=>e.length)),n=[];for(const o of i)e.some((e=>-1===e.findIndex((e=>t(e)===t(o)))))||n.push(o);return n}async function sTe(e,t,i,n){try{const o=function(e){const t=e.map((({annotation:e,emoticon:t,group:i,order:n,shortcodes:o,skins:r,tags:s,emoji:a,version:l})=>{const c={annotation:e,group:i,order:n,tags:s,tokens:[...new Set(eTe([...(o||[]).map(ZAe).flat(),...(s||[]).map(ZAe).flat(),...ZAe(e),t]))].sort(),unicode:a,version:l};if(t&&(c.emoticon=t),o&&(c.shortcodes=o),r){c.skinTones=[],c.skinUnicodes=[],c.skinVersions=[];for(const{tone:e,emoji:t,version:i}of r)c.skinTones.push(e),c.skinUnicodes.push(t),c.skinVersions.push(i)}return c}));return t}(t);await QAe(e,[RAe,LAe],VAe,(([e,t],r)=>{let s,a,l=0;function c(){2==++l&&function(){if(s===n&&a===i)return;e.clear();for(const t of o)e.put(t);t.put(n,FAe),t.put(i,BAe),oTe(r)}()}iTe(t,FAe,(e=>{s=e,c()})),iTe(t,BAe,(e=>{a=e,c()}))}))}finally{}}async function aTe(e,t){const i=eTe(ZAe(t));return i.length?QAe(e,RAe,jAe,((e,t,n)=>{const o=[],r=()=>{const e=rTe(o,(e=>e.unicode));n(e.sort(((e,t)=>e.order<t.order?-1:1)))};for(let s=0;s<i.length;s++){const t=i[s],n=s===i.length-1?IDBKeyRange.bound(t,t+"￿",!1,!0):IDBKeyRange.only(t);nTe(e.index(OAe),n,(e=>{o.push(e),o.length===i.length&&r()}))}})):[]}async function lTe(e,t){const i=await aTe(e,t);if(!i.length){const i=e=>(e.shortcodes||[]).includes(t.toLowerCase());return await async function(e,t){return QAe(e,RAe,jAe,((e,i,n)=>{let o;const r=()=>{e.getAll(o&&IDBKeyRange.lowerBound(o,!0),50).onsuccess=e=>{const i=e.target.result;for(const r of i)if(o=r.unicode,t(r))return n(r);if(i.length<50)return n();r()}};r()}))}(e,i)||null}return i.filter((e=>{const i=(e.shortcodes||[]).map((e=>e.toLowerCase()));return i.includes(t.toLowerCase())}))[0]||null}function cTe(e,t,i){return QAe(e,t,jAe,((e,t,n)=>iTe(e,i,n)))}const dTe=["name","url"];function uTe(e){!function(e){const t=e&&Array.isArray(e),i=t&&e.length&&(!e[0]||dTe.some((t=>!(t in e[0]))));if(!t||i)throw new Error("Custom emojis are in the wrong format")}(e);const t=(e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1,i=e.sort(t),n=function(e,t){const i=new Map;for(const n of e){const e=t(n);for(const t of e){let e=i;for(let i=0;i<t.length;i++){const n=t.charAt(i);let o=e.get(n);o||(o=new Map,e.set(n,o)),e=o}let o=e.get("");o||(o=[],e.set("",o)),o.push(n)}}return(e,t)=>{let n=i;for(let i=0;i<e.length;i++){const t=e.charAt(i),o=n.get(t);if(!o)return[];n=o}if(t)return n.get("")||[];const o=[],r=[n];for(;r.length;){const e=[...r.shift().entries()].sort(((e,t)=>e[0]<t[0]?-1:1));for(const[t,i]of e)""===t?o.push(...i):r.push(i)}return o}}(e,(e=>{const t=new Set;if(e.shortcodes)for(const i of e.shortcodes)for(const e of ZAe(i))t.add(e);return t})),o=e=>n(e,!0),r=e=>n(e,!1),s=new Map,a=new Map;for(const l of e){a.set(l.name.toLowerCase(),l);for(const e of l.shortcodes||[])s.set(e.toLowerCase(),l)}return{all:i,search:e=>{const i=ZAe(e),n=i.map(((e,t)=>(t<i.length-1?o:r)(e)));return rTe(n,(e=>e.name)).sort(t)},byShortcode:e=>s.get(e.toLowerCase()),byName:e=>a.get(e.toLowerCase())}}const hTe="undefined"!=typeof wrappedJSObject;function pTe(e){if(!e)return e;if(hTe&&(e=structuredClone(e)),delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let i=0;i<t;i++)e.skins[i]={tone:e.skinTones[i],unicode:e.skinUnicodes[i],version:e.skinVersions[i]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function mTe(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const fTe=["annotation","emoji","group","order","version"];function gTe(e,t){if(2!==Math.floor(e.status/100))throw new Error("Failed to fetch: "+t+":  "+e.status)}async function bTe(e){const t=await fetch(e);gTe(t,e);const i=t.headers.get("etag");mTe(i);const n=await t.json();return function(e){if(!e||!Array.isArray(e)||!e[0]||"object"!=typeof e[0]||fTe.some((t=>!(t in e[0]))))throw new Error("Emoji data is in the wrong format")}(n),[i,n]}async function vTe(e){let t=function(e){for(var t=e.length,i=new ArrayBuffer(t),n=new Uint8Array(i),o=-1;++o<t;)n[o]=e.charCodeAt(o);return i}(JSON.stringify(e));const i=function(e){for(var t="",i=new Uint8Array(e),n=i.byteLength,o=-1;++o<n;)t+=String.fromCharCode(i[o]);return t}(await crypto.subtle.digest("SHA-1",t));return btoa(i)}async function yTe(e,t){let i,n=await async function(e){const t=await fetch(e,{method:"HEAD"});gTe(t,e);const i=t.headers.get("etag");return mTe(i),i}(t);if(!n){const e=await bTe(t);n=e[0],i=e[1],n||(n=await vTe(i))}if(await async function(e,t,i){const[n,o]=await Promise.all([FAe,BAe].map((t=>cTe(e,LAe,t))));return n===i&&o===t}(e,t,n));else{if(!i){i=(await bTe(t))[1]}await sTe(e,i,t,n)}}class kTe{constructor({dataSource:e="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",locale:t="en",customEmoji:i=[]}={}){this.dataSource=e,this.locale=t,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=uTe(i),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await(t=this._dbName,GAe[t]||(GAe[t]=KAe(t)),GAe[t]);var t;!function(e,t){let i=WAe[e];i||(i=WAe[e]=[]),i.push(t)}(this._dbName,this._clear);const i=this.dataSource,n=await async function(e){return!(await cTe(e,LAe,BAe))}(e);n?await async function(e,t){let[i,n]=await bTe(t);i||(i=await vTe(n)),await sTe(e,n,t,i)}(e,i):this._lazyUpdate=async function(e,t){try{await yTe(e,t)}catch(N0){if("InvalidStateError"!==N0.name)throw N0}}(e,i)}async ready(){const e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return DAe(e),await this.ready(),HAe(await async function(e,t){return QAe(e,RAe,jAe,((e,i,n)=>{const o=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);nTe(e.index($Ae),o,n)}))}(this._db,e)).map(pTe)}async getEmojiBySearchQuery(e){PAe(e),await this.ready();return[...this._custom.search(e),...HAe(await aTe(this._db,e)).map(pTe)]}async getEmojiByShortcode(e){PAe(e),await this.ready();const t=this._custom.byShortcode(e);return t||pTe(await lTe(this._db,e))}async getEmojiByUnicodeOrName(e){PAe(e),await this.ready();const t=this._custom.byName(e);return t||pTe(await async function(e,t){return QAe(e,RAe,jAe,((e,i,n)=>iTe(e,t,(i=>{if(i)return n(i);iTe(e.index(UAe),t,(e=>n(e||null)))}))))}(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await cTe(this._db,LAe,zAe)||0}async setPreferredSkinTone(e){return DAe(e),await this.ready(),function(e,t,i,n){return QAe(e,t,VAe,((e,t)=>{e.put(n,i),oTe(t)}))}(this._db,LAe,zAe,e)}async incrementFavoriteEmojiCount(e){return PAe(e),await this.ready(),t=this._db,i=e,QAe(t,MAe,VAe,((e,t)=>iTe(e,i,(n=>{e.put((n||0)+1,i),oTe(t)}))));var t,i}async getTopFavoriteEmoji(e){return DAe(e),await this.ready(),(await function(e,t,i){return 0===i?[]:QAe(e,[MAe,RAe],jAe,(([e,n],o,r)=>{const s=[];e.index(NAe).openCursor(void 0,"prev").onsuccess=e=>{const o=e.target.result;if(!o)return r(s);function a(e){if(s.push(e),s.length===i)return r(s);o.continue()}const l=o.primaryKey,c=t.byName(l);if(c)return a(c);iTe(n,l,(e=>{if(e)return a(e);o.continue()}))}}))}(this._db,this._custom,e)).map(pTe)}set customEmoji(e){this._custom=uTe(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(N0){}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await XAe(this._dbName)}async delete(){var e;await this._shutdown(),await(e=this._dbName,new Promise(((t,i)=>{XAe(e),YAe(t,i,indexedDB.deleteDatabase(e))})))}}const wTe=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map((([e,t,i])=>({id:e,emoji:t,name:i}))),xTe=wTe.slice(1),_Te="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function ETe(e){return e.unicode.includes("‍")}const CTe={"🫩":16,"🫨":15.1,"🫠":14,"🥲":13.1,"🥻":12.1,"🥰":11,"🤩":5,"👱‍♀️":4,"🤣":3,"👁️‍🗨️":2,"😀":1,"😐️":.7,"😃":.6},ATe=["😊","😒","❤️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],TTe='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',STe=(e,t)=>e<t?-1:e>t?1:0,ITe=(e,t)=>{const i=document.createElement("canvas");i.width=i.height=1;const n=i.getContext("2d",{willReadFrequently:!0});return n.textBaseline="top",n.font=`100px ${TTe}`,n.fillStyle=t,n.scale(.01,.01),n.fillText(e,0,0),n.getImageData(0,0,1,1).data};function PTe(e){const t=ITe(e,"#000"),i=ITe(e,"#fff");return t&&i&&((e,t)=>{const i=[...e].join(",");return i===[...t].join(",")&&!i.startsWith("0,0,0,")})(t,i)}let DTe;const RTe=()=>(DTe||(DTe=new Promise((e=>_Te((()=>e(function(){const e=Object.entries(CTe);try{for(const[t,i]of e)if(PTe(t))return i}catch(f1){}return e[0][1]}())))))),DTe),LTe=new Map;function MTe(e){e.preventDefault(),e.stopPropagation()}function OTe(e,t,i){return(t+=e?-1:1)<0?t=i.length-1:t>=i.length&&(t=0),t}function NTe(e,t){const i=new Set,n=[];for(const o of e){const e=t(o);i.has(e)||(i.add(e),n.push(o))}return n}const $Te=requestAnimationFrame;let FTe,BTe="function"==typeof ResizeObserver;function zTe(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}function jTe(e,t,i){let n=e.get(t);return n||(n=i(),e.set(t,n)),n}function VTe(e){return""+e}const UTe=new WeakMap,HTe=new WeakMap,qTe=Symbol("un-keyed"),GTe="replaceChildren"in Element.prototype;function WTe(e,t){const{targetNode:i}=t;let{targetParentNode:n}=t,o=!1;n?o=function(e,t){let i=e.firstChild,n=0;for(;i;){if(t[n]!==i)return!0;i=i.nextSibling,n++}return n!==t.length}(n,e):(o=!0,t.targetNode=void 0,t.targetParentNode=n=i.parentNode),o&&function(e,t){GTe?e.replaceChildren(...t):(e.innerHTML="",e.append(...t))}(n,e)}function YTe(e){let t="",i=!1,n=!1,o=-1;const r=new Map,s=[];let a=0;for(let c=0,d=e.length;c<d;c++){const l=e[c];if(t+=l.slice(a),c===d-1)break;for(let e=0;e<l.length;e++){switch(l.charAt(e)){case"<":"/"===l.charAt(e+1)?s.pop():(i=!0,s.push(++o));break;case">":i=!1,n=!1;break;case"=":n=!0}}const u=jTe(r,s[s.length-1],(()=>[]));let h,p,m;if(n){const i=/(\S+)="?([^"=]*)$/.exec(l);h=i[1],p=i[2];const n=/^([^">]*)("?)/.exec(e[c+1]);m=n[1],t=t.slice(0,-1*i[0].length),a=n[0].length}else a=0;const f={attributeName:h,attributeValuePre:p,attributeValuePost:m,expressionIndex:c};u.push(f),i||n||(t+=" ")}const l=function(e){const t=document.createElement("template");return t.innerHTML=e,t}(t);return{template:l,elementsToBindings:r}}function KTe(e,t,i){for(let n=0;n<e.length;n++){const o=e[n],r={binding:o,targetNode:o.attributeName?t:t.firstChild,targetParentNode:void 0,currentExpression:void 0};i.push(r)}}function QTe(e){const{template:t,elementsToBindings:i}=jTe(UTe,e,(()=>YTe(e))),n=t.cloneNode(!0).content.firstElementChild,o=function(e,t){const i=[];let n;if(1===t.size&&(n=t.get(0)))KTe(n,e,i);else{const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);let o=e,r=-1;do{const e=t.get(++r);e&&KTe(e,o,i)}while(o=n.nextNode())}return i}(n,i);return function(e){return function(e,t){for(const i of t){const{targetNode:t,currentExpression:n,binding:{expressionIndex:o,attributeName:r,attributeValuePre:s,attributeValuePost:a}}=i,l=e[o];if(n!==l)if(i.currentExpression=l,r)if(null===l)t.removeAttribute(r);else{const e=s+VTe(l)+a;t.setAttribute(r,e)}else{let e;Array.isArray(l)?WTe(l,i):l instanceof Element?(e=l,t.replaceWith(e)):t.nodeValue=VTe(l),e&&(i.targetNode=e)}}}(e,o),n}}function XTe(e,t,i,n,o,r,s,a,l){const{labelWithSkin:c,titleForEmoji:d,unicodeWithSkin:u}=i,{html:h,map:p}=function(e){const t=jTe(HTe,e,(()=>new Map));let i=qTe;return{map:function(e,t,n){return e.map(((e,o)=>{const r=i;i=n(e);try{return t(e,o)}finally{i=r}}))},html:function(e,...n){const o=jTe(t,e,(()=>new Map));return jTe(o,i,(()=>QTe(e)))(n)}}}(t);function m(e,i,n){return p(e,((e,o)=>h`<button role="${i?"option":"menuitem"}" aria-selected="${i?o===t.activeSearchItem:null}" aria-label="${c(e,t.currentSkinTone)}" title="${d(e)}" class="${"emoji"+(i&&o===t.activeSearchItem?" active":"")+(e.unicode?"":" custom-emoji")}" id="${`${n}-${e.id}`}" style="${e.unicode?null:`--custom-emoji-background: url(${JSON.stringify(e.url)})`}">${e.unicode?u(e,t.currentSkinTone):""}</button>`),(e=>`${n}-${e.id}`))}const f=h`<section data-ref="rootElement" class="picker" aria-label="${t.i18n.regionLabel}" style="${t.pickerStyle||""}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${t.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!(!t.searchMode||!t.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${t.activeSearchItemId?`emo-${t.activeSearchItemId}`:null}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${t.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${t.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${t.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${t.skinTonePickerExpanded?"hide-focus":""}" aria-label="${t.skinToneButtonLabel}" title="${t.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${t.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${t.skinToneButtonText||""}</button></div><span id="skintone-description" class="sr-only">${t.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${t.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${t.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${t.i18n.skinTonesLabel}" aria-activedescendant="skintone-${t.activeSkinTone}" aria-hidden="${!t.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${p(t.skinTones,((e,i)=>h`<div id="skintone-${i}" class="emoji ${i===t.activeSkinTone?"active":""}" aria-selected="${i===t.activeSkinTone}" role="option" title="${t.i18n.skinTones[i]}" aria-label="${t.i18n.skinTones[i]}">${e}</div>`),(e=>e))}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${t.groups.length},1fr)" aria-label="${t.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${p(t.groups,(e=>h`<button role="tab" class="nav-button" aria-controls="tab-${e.id}" aria-label="${t.i18n.categories[e.name]}" aria-selected="${!t.searchMode&&t.currentGroup.id===e.id}" title="${t.i18n.categories[e.name]}" data-group-id="${e.id}"><div class="nav-emoji emoji">${e.emoji}</div></button>`),(e=>e.id))}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(t.isRtl?-1:1)*t.currentGroupIndex*100}%)"></div></div><div class="message ${t.message?"":"gone"}" role="alert" aria-live="polite">${t.message||""}</div><div data-ref="tabpanelElement" class="tabpanel ${!t.databaseLoaded||t.message?"gone":""}" role="${t.searchMode?"region":"tabpanel"}" aria-label="${t.searchMode?t.i18n.searchResultsLabel:t.i18n.categories[t.currentGroup.name]}" id="${t.searchMode?null:`tab-${t.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${p(t.currentEmojisWithCategories,((e,i)=>h`<div><div id="menu-label-${i}" class="category ${1===t.currentEmojisWithCategories.length&&""===t.currentEmojisWithCategories[0].category?"gone":""}" aria-hidden="true">${t.searchMode?t.i18n.searchResultsLabel:e.category?e.category:t.currentEmojisWithCategories.length>1?t.i18n.categories.custom:t.i18n.categories[t.currentGroup.name]}</div><div class="emoji-menu ${0===i||t.searchMode||-1!==t.currentGroup.id?"":"visibility-auto"}" style="${`--num-rows: ${Math.ceil(e.emojis.length/t.numColumns)}`}" data-action="updateOnIntersection" role="${t.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${i}" id="${t.searchMode?"search-results":null}">${m(e.emojis,t.searchMode,"emo")}</div></div>`),(e=>e.category))}</div></div><div class="favorites onscreen emoji-menu ${t.message?"gone":""}" role="menu" aria-label="${t.i18n.favoritesLabel}" data-on-click="onEmojiClick">${m(t.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">😀</button></section>`,g=(t,i)=>{for(const n of e.querySelectorAll(`[${t}]`))i(n,n.getAttribute(t))};if(l){e.appendChild(f);for(const e of["click","focusout","input","keydown","keyup"])g(`data-on-${e}`,((t,i)=>{t.addEventListener(e,n[i])}));g("data-ref",((e,t)=>{r[t]=e})),s.addEventListener("abort",(()=>{e.removeChild(f)}))}g("data-action",((e,t)=>{let i=a.get(t);i||a.set(t,i=new WeakSet),i.has(e)||(i.add(e),o[t](e))}))}const JTe="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);function ZTe(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;return!0}const eSe=new WeakMap;const tSe=[],{assign:iSe}=Object;function nSe(e,t){const i={},n=new AbortController,o=n.signal,{state:r,createEffect:s}=function(e){let t,i=!1;const n=new Map,o=new Set;let r;const s=()=>{if(i)return;const e=[...o];o.clear();try{for(const t of e)t()}finally{r=!1,o.size&&(r=!0,JTe(s))}},a=new Proxy({},{get(e,i){if(t){let e=n.get(i);e||(e=new Set,n.set(i,e)),e.add(t)}return e[i]},set(e,t,i){if(e[t]!==i){e[t]=i;const a=n.get(t);if(a){for(const e of a)o.add(e);r||(r=!0,JTe(s))}}return!0}});return e.addEventListener("abort",(()=>{i=!0})),{state:a,createEffect:e=>{const i=()=>{const n=t;t=i;try{return e()}finally{t=n}};return i()}}}(o),a=new Map;iSe(r,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),iSe(r,t),iSe(r,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:8,isRtl:!1,currentGroupIndex:0,groups:xTe,databaseLoaded:!1,activeSearchItemId:void 0}),s((()=>{r.currentGroup!==r.groups[r.currentGroupIndex]&&(r.currentGroup=r.groups[r.currentGroupIndex])}));const l=t=>{e.getElementById(t).focus()},c=t=>e.getElementById(`emo-${t.id}`),d=(e,t)=>{i.rootElement.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))},u=(e,t)=>e.id===t.id,h=(e,t)=>{const{category:i,emojis:n}=e,{category:o,emojis:r}=t;return i===o&&ZTe(n,r,u)},p=e=>{ZTe(r.currentEmojis,e,u)||(r.currentEmojis=e)},m=e=>{r.searchMode!==e&&(r.searchMode=e)},f=(e,t)=>t&&e.skins&&e.skins[t]||e.unicode,g={labelWithSkin:(e,t)=>{return(i=[e.name||f(e,t),e.annotation,...e.shortcodes||tSe].filter(Boolean),NTe(i,(e=>e))).join(", ");var i},titleForEmoji:e=>e.annotation||(e.shortcodes||tSe).join(", "),unicodeWithSkin:f},b={onClickSkinToneButton:function(e){r.skinTonePickerExpanded=!r.skinTonePickerExpanded,r.activeSkinTone=r.currentSkinTone,r.skinTonePickerExpanded&&(MTe(e),$Te((()=>l("skintone-list"))))},onEmojiClick:async function(e){const{target:t}=e;if(!t.classList.contains("emoji"))return;MTe(e);C(t.id.substring(4))},onNavClick:function(e){const{target:t}=e,n=t.closest(".nav-button");if(!n)return;const o=parseInt(n.dataset.groupId,10);i.searchElement.value="",r.rawSearchText="",r.searchText="",r.activeSearchItem=-1,r.currentGroupIndex=r.groups.findIndex((e=>e.id===o))},onNavKeydown:function(e){const{target:t,key:i}=e,n=t=>{t&&(MTe(e),t.focus())};switch(i){case"ArrowLeft":return n(t.previousElementSibling);case"ArrowRight":return n(t.nextElementSibling);case"Home":return n(t.parentElement.firstElementChild);case"End":return n(t.parentElement.lastElementChild)}},onSearchKeydown:function(e){if(!r.searchMode||!r.currentEmojis.length)return;const t=t=>{MTe(e),r.activeSearchItem=OTe(t,r.activeSearchItem,r.currentEmojis)};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==r.activeSearchItem)return MTe(e),C(r.currentEmojis[r.activeSearchItem].id);r.activeSearchItem=0}},onSkinToneOptionsClick:function(e){const{target:{id:t}}=e,i=t&&t.match(/^skintone-(\d)/);if(!i)return;MTe(e);A(parseInt(i[1],10))},onSkinToneOptionsFocusOut:async function(e){const{relatedTarget:t}=e;t&&"skintone-list"===t.id||(r.skinTonePickerExpanded=!1)},onSkinToneOptionsKeydown:function(e){if(!r.skinTonePickerExpanded)return;const t=async t=>{MTe(e),r.activeSkinTone=t};switch(e.key){case"ArrowUp":return t(OTe(!0,r.activeSkinTone,r.skinTones));case"ArrowDown":return t(OTe(!1,r.activeSkinTone,r.skinTones));case"Home":return t(0);case"End":return t(r.skinTones.length-1);case"Enter":return MTe(e),A(r.activeSkinTone);case"Escape":return MTe(e),r.skinTonePickerExpanded=!1,l("skintone-button")}},onSkinToneOptionsKeyup:function(e){if(!r.skinTonePickerExpanded)return;if(" "===e.key)return MTe(e),A(r.activeSkinTone)},onSearchInput:function(e){r.rawSearchText=e.target.value}},v={calculateEmojiGridStyle:function(e){!function(e,t,i){let n;BTe?(n=new ResizeObserver(i),n.observe(e)):$Te(i),t.addEventListener("abort",(()=>{n&&n.disconnect()}))}(e,o,(()=>{{const e=getComputedStyle(i.rootElement),t=parseInt(e.getPropertyValue("--num-columns"),10),n="rtl"===e.getPropertyValue("direction");r.numColumns=t,r.isRtl=n}}))},updateOnIntersection:function(e){!function(e,t,i){{const n=e.closest(".tabpanel");let o=eSe.get(n);o||(o=new IntersectionObserver(i,{root:n,rootMargin:"50% 0px 50% 0px",threshold:0}),eSe.set(n,o),t.addEventListener("abort",(()=>{o.disconnect()}))),o.observe(e)}}(e,o,(e=>{for(const{target:t,isIntersecting:i}of e)t.classList.toggle("onscreen",i)}))}};let y=!0;function k(){const{customEmoji:e,database:t}=r,i=e||tSe;t.customEmoji!==i&&(t.customEmoji=i)}s((()=>{XTe(e,r,g,b,v,i,o,a,y),y=!1})),r.emojiVersion||RTe().then((e=>{e||(r.message=r.i18n.emojiUnsupportedMessage)})),s((()=>{r.database&&async function(){let e=!1;const t=setTimeout((()=>{e=!0,r.message=r.i18n.loadingMessage}),1e3);try{await r.database.ready(),r.databaseLoaded=!0}catch(N0){console.error(N0),r.message=r.i18n.networkErrorMessage}finally{clearTimeout(t),e&&(e=!1,r.message="")}}()})),s((()=>{r.pickerStyle=`\n      --num-groups: ${r.groups.length}; \n      --indicator-opacity: ${r.searchMode?0:1}; \n      --num-skintones: 6;`})),s((()=>{r.customEmoji&&r.database&&k()})),s((()=>{r.customEmoji&&r.customEmoji.length?r.groups!==wTe&&(r.groups=wTe):r.groups!==xTe&&(r.currentGroupIndex&&r.currentGroupIndex--,r.groups=xTe)})),s((()=>{!async function(){r.databaseLoaded&&(r.currentSkinTone=await r.database.getPreferredSkinTone())}()})),s((()=>{r.skinTones=Array(6).fill().map(((e,t)=>function(e,t){if(0===t)return e;const i=e.indexOf("‍");return-1!==i?e.substring(0,i)+String.fromCodePoint(127995+t-1)+e.substring(i):(e.endsWith("️")&&(e=e.substring(0,e.length-1)),e+"\ud83c"+String.fromCodePoint(57339+t-1))}(r.skinToneEmoji,t)))})),s((()=>{r.skinToneButtonText=r.skinTones[r.currentSkinTone]})),s((()=>{r.skinToneButtonLabel=r.i18n.skinToneLabel.replace("{skinTone}",r.i18n.skinTones[r.currentSkinTone])})),s((()=>{r.databaseLoaded&&async function(){const{database:e}=r,t=(await Promise.all(ATe.map((t=>e.getEmojiByUnicodeOrName(t))))).filter(Boolean);r.defaultFavoriteEmojis=t}()})),s((()=>{r.databaseLoaded&&r.defaultFavoriteEmojis&&async function(){k();const{database:e,defaultFavoriteEmojis:t,numColumns:i}=r,n=await e.getTopFavoriteEmoji(i),o=await E(NTe([...n,...t],(e=>e.unicode||e.name)).slice(0,i));r.currentFavorites=o}()})),s((()=>{!async function(){const{searchText:e,currentGroup:t,databaseLoaded:i,customEmoji:n}=r;if(i)if(e.length>=2){const t=await async function(e){return E(await _(await r.database.getEmojiBySearchQuery(e)))}(e);r.searchText===e&&(p(t),m(!0))}else{const{id:e}=t;if(-1!==e||n&&n.length){const t=await async function(e){const t=-1===e?r.customEmoji:await r.database.getEmojiByGroup(e);return E(await _(t))}(e);r.currentGroup.id===e&&(p(t),m(!1))}}else r.currentEmojis=[],r.searchMode=!1}()}));const w=()=>{$Te((()=>{var e;(e=i.tabpanelElement)&&(e.scrollTop=0)}))};function x(e){return!e.unicode||!ETe(e)||LTe.get(e.unicode)}async function _(e){const t=r.emojiVersion||await RTe();return e.filter((({version:e})=>!e||e<=t))}async function E(e){return function(e,t){const i=e=>{const i={};for(const n of e)"number"==typeof n.tone&&n.version<=t&&(i[n.tone]=n.unicode);return i};return e.map((({unicode:e,skins:t,shortcodes:n,url:o,name:r,category:s,annotation:a})=>({unicode:e,name:r,shortcodes:n,url:o,category:s,annotation:a,id:e||r,skins:t&&i(t)})))}(e,r.emojiVersion||await RTe())}async function C(e){const t=await r.database.getEmojiByUnicodeOrName(e),i=[...r.currentEmojis,...r.currentFavorites].find((t=>t.id===e)),n=i.unicode&&f(i,r.currentSkinTone);await r.database.incrementFavoriteEmojiCount(e),d("emoji-click",{emoji:t,skinTone:r.currentSkinTone,...n&&{unicode:n},...i.name&&{name:i.name}})}function A(e){r.currentSkinTone=e,r.skinTonePickerExpanded=!1,l("skintone-button"),d("skin-tone-change",{skinTone:e}),r.database.setPreferredSkinTone(e)}return s((()=>{const{currentEmojis:e,emojiVersion:t}=r,n=e.filter((e=>e.unicode)).filter((e=>ETe(e)&&!LTe.has(e.unicode)));if(!t&&n.length)p(e),$Te((()=>function(e){const t=function(e,t,i){let n=!0;for(const o of e){const e=i(o);if(!e)continue;const r=zTe(e);void 0===FTe&&(FTe=zTe(t));const s=r/1.8<FTe;LTe.set(o.unicode,s),s||(n=!1)}return n}(e,i.baselineEmoji,c);t?w():r.currentEmojis=[...r.currentEmojis]}(n)));else{const i=t?e:e.filter(x);p(i),w()}})),s((()=>{})),s((()=>{const e=function(){const{searchMode:e,currentEmojis:t}=r;if(e)return[{category:"",emojis:t}];const i=new Map;for(const n of t){const e=n.category||"";let t=i.get(e);t||(t=[],i.set(e,t)),t.push(n)}return[...i.entries()].map((([e,t])=>({category:e,emojis:t}))).sort(((e,t)=>r.customCategorySorting(e.category,t.category)))}();(e=>{ZTe(r.currentEmojisWithCategories,e,h)||(r.currentEmojisWithCategories=e)})(e)})),s((()=>{r.activeSearchItemId=-1!==r.activeSearchItem&&r.currentEmojis[r.activeSearchItem].id})),s((()=>{const{rawSearchText:e}=r;_Te((()=>{r.searchText=(e||"").trim(),r.activeSearchItem=-1}))})),s((()=>{r.skinTonePickerExpanded?i.skinToneDropdown.addEventListener("transitionend",(()=>{r.skinTonePickerExpandedAfterAnimation=!0}),{once:!0}):r.skinTonePickerExpandedAfterAnimation=!1})),{$set(e){iSe(r,e)},$destroy(){n.abort()}}}var oSe={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const rSe=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],sSe=`:host{--emoji-font-family:${TTe}}`;class aSe extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});const t=document.createElement("style");t.textContent=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}'+sSe,this.shadowRoot.appendChild(t),this._ctx={locale:"en",dataSource:"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",skinToneEmoji:"🖐️",customCategorySorting:STe,customEmoji:null,i18n:oSe,emojiVersion:null,...e};for(const i of rSe)"database"!==i&&Object.prototype.hasOwnProperty.call(this,i)&&(this._ctx[i]=this[i],delete this[i]);this._dbFlush()}connectedCallback(){this._cmp||(this._cmp=nSe(this.shadowRoot,this._ctx))}disconnectedCallback(){JTe((()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e.close().catch((e=>console.error(e)))}}))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(e,t,i){this._set(e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),"emoji-version"===e?parseFloat(i):i)}_set(e,t){this._ctx[e]=t,this._cmp&&this._cmp.$set({[e]:t}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){const{locale:e,dataSource:t,database:i}=this._ctx;i&&i.locale===e&&i.dataSource===t||this._set("database",new kTe({locale:e,dataSource:t}))}_dbFlush(){JTe((()=>this._dbCreate()))}}const lSe={};for(const e of rSe)lSe[e]={get(){return"database"===e&&this._dbCreate(),this._ctx[e]},set(t){if("database"===e)throw new Error("database is read-only");this._set(e,t)}};
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */
function cSe(e){return!!e&&/^\d+\.\d+\.\d+/.test(e)}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */function dSe(e){return!!e&&["nightly","alpha","internal"].some((t=>e.includes(t)))}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */
function uSe(e){if(dSe(e))return 3;const{major:t}=
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */
function(e){if(!cSe(e))throw new Error(`Invalid semantic version: ${e||"<blank>"}.`);const[t,i,n]=e.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(i,10),patch:Number.parseInt(n,10)}}(e);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */function hSe(){const{CKEDITOR_VERSION:e,CKEDITOR:t}=window;return function(e){return cSe(e)||dSe(e)}(e)?{source:t?"cdn":"npm",version:e}:null}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */
function pSe(e,t){switch(t||(t=function(){const e=hSe();return e?uSe(e.version):null}()||void 0),t){case 1:case 2:return void 0===e;case 3:return"GPL"===e;default:return!1}}
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */Object.defineProperties(aSe.prototype,lSe),customElements.get("emoji-picker")||customElements.define("emoji-picker",aSe)
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */,new Array(256).fill("").map(((e,t)=>("0"+t.toString(16)).slice(-2)));
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */
const mSe=(fSe="vue",gSe={version:"7.3.0",frameworkVersion:xs},function(e){pSe(e.config.get("licenseKey"))||e.on("collectUsageData",((e,{setUsageData:t})=>{t(`integration.${fSe}`,gSe)}))});
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */var fSe,gSe;const bSe="Lock from Vue integration (@ckeditor/ckeditor5-vue)",vSe=jn({name:"CKEditor",__name:"ckeditor",props:So({editor:{},config:{default:()=>({})},tagName:{default:"div"},disabled:{type:Boolean,default:!1},disableTwoWayDataBinding:{type:Boolean,default:!1}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:So(["ready","destroy","blur","focus","input","update:modelValue"],["update:modelValue"]),setup(e,{expose:t,emit:i}){const n=wr(e,"modelValue"),o=e,r=i,s=Ti(),a=Ti(),l=Ti();return t({instance:a,lastEditorData:l}),br(n,(e=>{a.value&&e!==l.value&&a.value.data.set(e)})),br((()=>o.disabled),(e=>{e?a.value.enableReadOnlyMode(bSe):a.value.disableReadOnlyMode(bSe)})),function(){const e=window.CKEDITOR_VERSION;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[t]=e.split(".").map(Number);t>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}(),io((()=>{const e=function(e){return pSe(e.licenseKey)?e:
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */
function(e,t){const i=e.extraPlugins||[];return{...e,extraPlugins:[...i,...t.filter((e=>!i.includes(e)))]}}(e,[mSe])}(Object.assign({},o.config));n.value&&(e.initialData=n.value),o.editor.create(s.value,e).then((t=>{a.value=_i(t),function(e){const t=b$((t=>{if(o.disableTwoWayDataBinding)return;const i=l.value=e.data.get();r("update:modelValue",i,t,e),r("input",i,t,e)}),300,{leading:!0});e.model.document.on("change:data",t),e.editing.view.document.on("focus",(t=>{r("focus",t,e)})),e.editing.view.document.on("blur",(t=>{r("blur",t,e)}))}(t),n.value!==e.initialData&&t.data.set(n.value),o.disabled&&t.enableReadOnlyMode(bSe),r("ready",t)})).catch((e=>{console.error(e)}))})),ro((()=>{a.value&&(a.value.destroy(),a.value=void 0),r("destroy")})),(e,t)=>($r(),Vr(fo(e.tagName),{ref_key:"element",ref:s},null,512))}});
/**
             * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md.
             */
/* istanbul ignore if -- @preserve */if(!xs.startsWith("3."))throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");const ySe={install(e){e.component("Ckeditor",vSe)}};function kSe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wSe={exports:{}};
/*!
                localForage -- Offline Storage, Improved
                Version 1.10.0
                https://localforage.github.io/localForage
                (c) 2013-2017 Mozilla, Apache License 2.0
            */!function(e){e.exports=function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){if(!a&&kSe)return kSe(s);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,(function(e){var i=t[s][1][e];return o(i||e)}),c,c.exports,e,t,i,n)}return i[s].exports}for(var r=kSe,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){(function(e){var i,n,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var r=0,s=new o(d),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),i=function(){a.data=r=++r%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var l=new e.MessageChannel;l.port1.onmessage=d,i=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;n=!0;for(var i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}n=!1}function u(e){1!==c.push(e)||n||i()}t.exports=u}).call(this,void 0!==hx?hx:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,i){var n=e(1);function o(){}var r={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==o&&p(this,e)}function d(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function u(e,t,i){n((function(){var n;try{n=t(i)}catch(f1){return r.reject(e,f1)}n===e?r.reject(e,new TypeError("Cannot resolve promise with itself")):r.resolve(e,n)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var i=!1;function n(t){i||(i=!0,r.reject(e,t))}function o(t){i||(i=!0,r.resolve(e,t))}function s(){t(o,n)}var a=m(s);"error"===a.status&&n(a.value)}function m(e,t){var i={};try{i.value=e(t),i.status="success"}catch(f1){i.status="error",i.value=f1}return i}function f(e){return e instanceof this?e:r.resolve(new this(o),e)}function g(e){var t=new this(o);return r.reject(t,e)}function b(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var s=new Array(i),a=0,l=-1,c=new this(o);++l<i;)d(e[l],l);return c;function d(e,o){function l(e){s[o]=e,++a!==i||n||(n=!0,r.resolve(c,s))}t.resolve(e).then(l,(function(e){n||(n=!0,r.reject(c,e))}))}}function v(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(o);++s<i;)l(e[s]);return a;function l(e){t.resolve(e).then((function(e){n||(n=!0,r.resolve(a,e))}),(function(e){n||(n=!0,r.reject(a,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var i=new this.constructor(o);return this.state!==l?u(i,this.state===a?e:t,this.outcome):this.queue.push(new d(i,e,t)),i},d.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){r.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},r.resolve=function(e,t){var i=m(h,t);if("error"===i.status)return r.reject(e,i.value);var n=i.value;if(n)p(e,n);else{e.state=a,e.outcome=t;for(var o=-1,s=e.queue.length;++o<s;)e.queue[o].callFulfilled(t)}return e},r.reject=function(e,t){e.state=s,e.outcome=t;for(var i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},c.resolve=f,c.reject=g,c.all=b,c.race=v},{1:1}],3:[function(e,t,i){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==hx?hx:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(f1){return}}var s=r();function a(){try{if(!s||!s.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(f1){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(f1){if("TypeError"!==f1.name)throw f1;for(var i=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)i.append(e[n]);return i.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function d(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,i){"function"==typeof t&&e.then(t),"function"==typeof i&&e.catch(i)}function h(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function p(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",f=void 0,g={},b=Object.prototype.toString,v="readonly",y="readwrite";function k(e){for(var t=e.length,i=new ArrayBuffer(t),n=new Uint8Array(i),o=0;o<t;o++)n[o]=e.charCodeAt(o);return i}function w(e){return new c((function(t){var i=e.transaction(m,y),n=l([""]);i.objectStore(m).put(n,"key"),i.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},i.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);t(i||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function x(e){return"boolean"==typeof f?c.resolve(f):w(e).then((function(e){return f=e}))}function _(e){var t=g[e.name],i={};i.promise=new c((function(e,t){i.resolve=e,i.reject=t})),t.deferredOperations.push(i),t.dbReady?t.dbReady=t.dbReady.then((function(){return i.promise})):t.dbReady=i.promise}function E(e){var t=g[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function C(e,t){var i=g[e.name].deferredOperations.pop();if(i)return i.reject(t),i.promise}function A(e,t){return new c((function(i,n){if(g[e.name]=g[e.name]||N(),e.db){if(!t)return i(e.db);_(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var r=s.open.apply(s,o);t&&(r.onupgradeneeded=function(t){var i=r.result;try{i.createObjectStore(e.storeName),t.oldVersion<=1&&i.createObjectStore(m)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),r.onerror=function(e){e.preventDefault(),n(r.error)},r.onsuccess=function(){var t=r.result;t.onversionchange=function(e){e.target.close()},i(t),E(e)}}))}function T(e){return A(e,!1)}function S(e){return A(e,!0)}function I(e,t){if(!e.db)return!0;var i=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||i){if(i){var r=e.db.version+1;r>e.version&&(e.version=r)}return!0}return!1}function P(e){return new c((function(t,i){var n=new FileReader;n.onerror=i,n.onloadend=function(i){var n=btoa(i.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:e.type})},n.readAsBinaryString(e)}))}function D(e){return l([k(atob(e.data))],{type:e.type})}function R(e){return e&&e.__local_forage_encoded_blob}function L(e){var t=this,i=t._initReady().then((function(){var e=g[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(i,e,e),i}function M(e){_(e);for(var t=g[e.name],i=t.forages,n=0;n<i.length;n++){var o=i[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,T(e).then((function(t){return e.db=t,I(e)?S(e):t})).then((function(n){e.db=t.db=n;for(var o=0;o<i.length;o++)i[o]._dbInfo.db=n})).catch((function(t){throw C(e,t),t}))}function O(e,t,i,n){void 0===n&&(n=1);try{var o=e.db.transaction(e.storeName,t);i(null,o)}catch(N0){if(n>0&&(!e.db||"InvalidStateError"===N0.name||"NotFoundError"===N0.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===N0.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),S(e)})).then((function(){return M(e).then((function(){O(e,t,i,n-1)}))})).catch(i);i(N0)}}function N(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function $(e){var t=this,i={db:null};if(e)for(var n in e)i[n]=e[n];var o=g[i.name];o||(o=N(),g[i.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=L);var r=[];function s(){return c.resolve()}for(var a=0;a<o.forages.length;a++){var l=o.forages[a];l!==t&&r.push(l._initReady().catch(s))}var d=o.forages.slice(0);return c.all(r).then((function(){return i.db=o.db,T(i)})).then((function(e){return i.db=e,I(i,t._defaultConfig.version)?S(i):e})).then((function(e){i.db=o.db=e,t._dbInfo=i;for(var n=0;n<d.length;n++){var r=d[n];r!==t&&(r._dbInfo.db=i.db,r._dbInfo.version=i.version)}}))}function F(e,t){var i=this;e=h(e);var n=new c((function(t,n){i.ready().then((function(){O(i._dbInfo,v,(function(o,r){if(o)return n(o);try{var s=r.objectStore(i._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),R(e)&&(e=D(e)),t(e)},s.onerror=function(){n(s.error)}}catch(f1){n(f1)}}))})).catch(n)}));return d(n,t),n}function B(e,t){var i=this,n=new c((function(t,n){i.ready().then((function(){O(i._dbInfo,v,(function(o,r){if(o)return n(o);try{var s=r.objectStore(i._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var i=s.result;if(i){var n=i.value;R(n)&&(n=D(n));var o=e(n,i.key,a++);void 0!==o?t(o):i.continue()}else t()},s.onerror=function(){n(s.error)}}catch(f1){n(f1)}}))})).catch(n)}));return d(n,t),n}function z(e,t,i){var n=this;e=h(e);var o=new c((function(i,o){var r;n.ready().then((function(){return r=n._dbInfo,"[object Blob]"===b.call(t)?x(r.db).then((function(e){return e?t:P(t)})):t})).then((function(t){O(n._dbInfo,y,(function(r,s){if(r)return o(r);try{var a=s.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var l=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),i(t)},s.onabort=s.onerror=function(){var e=l.error?l.error:l.transaction.error;o(e)}}catch(f1){o(f1)}}))})).catch(o)}));return d(o,i),o}function j(e,t){var i=this;e=h(e);var n=new c((function(t,n){i.ready().then((function(){O(i._dbInfo,y,(function(o,r){if(o)return n(o);try{var s=r.objectStore(i._dbInfo.storeName).delete(e);r.oncomplete=function(){t()},r.onerror=function(){n(s.error)},r.onabort=function(){var e=s.error?s.error:s.transaction.error;n(e)}}catch(f1){n(f1)}}))})).catch(n)}));return d(n,t),n}function V(e){var t=this,i=new c((function(e,i){t.ready().then((function(){O(t._dbInfo,y,(function(n,o){if(n)return i(n);try{var r=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=r.error?r.error:r.transaction.error;i(e)}}catch(f1){i(f1)}}))})).catch(i)}));return d(i,e),i}function U(e){var t=this,i=new c((function(e,i){t.ready().then((function(){O(t._dbInfo,v,(function(n,o){if(n)return i(n);try{var r=o.objectStore(t._dbInfo.storeName).count();r.onsuccess=function(){e(r.result)},r.onerror=function(){i(r.error)}}catch(f1){i(f1)}}))})).catch(i)}));return d(i,e),i}function H(e,t){var i=this,n=new c((function(t,n){e<0?t(null):i.ready().then((function(){O(i._dbInfo,v,(function(o,r){if(o)return n(o);try{var s=r.objectStore(i._dbInfo.storeName),a=!1,l=s.openKeyCursor();l.onsuccess=function(){var i=l.result;i?0===e||a?t(i.key):(a=!0,i.advance(e)):t(null)},l.onerror=function(){n(l.error)}}catch(f1){n(f1)}}))})).catch(n)}));return d(n,t),n}function q(e){var t=this,i=new c((function(e,i){t.ready().then((function(){O(t._dbInfo,v,(function(n,o){if(n)return i(n);try{var r=o.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];r.onsuccess=function(){var t=r.result;t?(s.push(t.key),t.continue()):e(s)},r.onerror=function(){i(r.error)}}catch(f1){i(f1)}}))})).catch(i)}));return d(i,e),i}function G(e,t){t=p.apply(this,arguments);var i=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||i.name,e.storeName=e.storeName||i.storeName);var n,o=this;if(e.name){var r=e.name===i.name&&o._dbInfo.db?c.resolve(o._dbInfo.db):T(e).then((function(t){var i=g[e.name],n=i.forages;i.db=t;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=t;return t}));n=e.storeName?r.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var i=t.version+1;_(e);var n=g[e.name],o=n.forages;t.close();for(var r=0;r<o.length;r++){var a=o[r];a._dbInfo.db=null,a._dbInfo.version=i}var l=new c((function(t,n){var o=s.open(e.name,i);o.onerror=function(e){o.result.close(),n(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return l.then((function(e){n.db=e;for(var t=0;t<o.length;t++){var i=o[t];i._dbInfo.db=e,E(i._dbInfo)}})).catch((function(t){throw(C(e,t)||c.resolve()).catch((function(){})),t}))}})):r.then((function(t){_(e);var i=g[e.name],n=i.forages;t.close();for(var o=0;o<n.length;o++)n[o]._dbInfo.db=null;var r=new c((function(t,i){var n=s.deleteDatabase(e.name);n.onerror=function(){var e=n.result;e&&e.close(),i(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}));return r.then((function(e){i.db=e;for(var t=0;t<n.length;t++)E(n[t]._dbInfo)})).catch((function(t){throw(C(e,t)||c.resolve()).catch((function(){})),t}))}))}else n=c.reject("Invalid arguments");return d(n,t),n}var W={_driver:"asyncStorage",_initStorage:$,_support:a(),iterate:B,getItem:F,setItem:z,removeItem:j,clear:V,length:U,key:H,keys:q,dropInstance:G};function Y(){return"function"==typeof openDatabase}var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q="~~local_forage_type~",X=/^~~local_forage_type~([^~]+)~/,J="__lfsc__:",Z=J.length,ee="arbf",te="blob",ie="si08",ne="ui08",oe="uic8",re="si16",se="si32",ae="ur16",le="ui32",ce="fl32",de="fl64",ue=Z+ee.length,he=Object.prototype.toString;function pe(e){var t,i,n,o,r,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<a;t+=4)i=K.indexOf(e[t]),n=K.indexOf(e[t+1]),o=K.indexOf(e[t+2]),r=K.indexOf(e[t+3]),d[l++]=i<<2|n>>4,d[l++]=(15&n)<<4|o>>2,d[l++]=(3&o)<<6|63&r;return c}function me(e){var t,i=new Uint8Array(e),n="";for(t=0;t<i.length;t+=3)n+=K[i[t]>>2],n+=K[(3&i[t])<<4|i[t+1]>>4],n+=K[(15&i[t+1])<<2|i[t+2]>>6],n+=K[63&i[t+2]];return i.length%3==2?n=n.substring(0,n.length-1)+"=":i.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function fe(e,t){var i="";if(e&&(i=he.call(e)),e&&("[object ArrayBuffer]"===i||e.buffer&&"[object ArrayBuffer]"===he.call(e.buffer))){var n,o=J;e instanceof ArrayBuffer?(n=e,o+=ee):(n=e.buffer,"[object Int8Array]"===i?o+=ie:"[object Uint8Array]"===i?o+=ne:"[object Uint8ClampedArray]"===i?o+=oe:"[object Int16Array]"===i?o+=re:"[object Uint16Array]"===i?o+=ae:"[object Int32Array]"===i?o+=se:"[object Uint32Array]"===i?o+=le:"[object Float32Array]"===i?o+=ce:"[object Float64Array]"===i?o+=de:t(new Error("Failed to get type for BinaryArray"))),t(o+me(n))}else if("[object Blob]"===i){var r=new FileReader;r.onload=function(){var i=Q+e.type+"~"+me(this.result);t(J+te+i)},r.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(f1){console.error("Couldn't convert value into a JSON string: ",e),t(null,f1)}}function ge(e){if(e.substring(0,Z)!==J)return JSON.parse(e);var t,i=e.substring(ue),n=e.substring(Z,ue);if(n===te&&X.test(i)){var o=i.match(X);t=o[1],i=i.substring(o[0].length)}var r=pe(i);switch(n){case ee:return r;case te:return l([r],{type:t});case ie:return new Int8Array(r);case ne:return new Uint8Array(r);case oe:return new Uint8ClampedArray(r);case re:return new Int16Array(r);case ae:return new Uint16Array(r);case se:return new Int32Array(r);case le:return new Uint32Array(r);case ce:return new Float32Array(r);case de:return new Float64Array(r);default:throw new Error("Unkown type: "+n)}}var be={serialize:fe,deserialize:ge,stringToBuffer:pe,bufferToString:me};function ve(e,t,i,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],i,n)}function ye(e){var t=this,i={db:null};if(e)for(var n in e)i[n]="string"!=typeof e[n]?e[n].toString():e[n];var o=new c((function(e,n){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(f1){return n(f1)}i.db.transaction((function(o){ve(o,i,(function(){t._dbInfo=i,e()}),(function(e,t){n(t)}))}),n)}));return i.serializer=be,o}function ke(e,t,i,n,o,r){e.executeSql(i,n,o,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,a){a.rows.length?r(e,s):ve(e,t,(function(){e.executeSql(i,n,o,r)}),r)}),r):r(e,s)}),r)}function we(e,t){var i=this;e=h(e);var n=new c((function(t,n){i.ready().then((function(){var o=i._dbInfo;o.db.transaction((function(i){ke(i,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,i){var n=i.rows.length?i.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function xe(e,t){var i=this,n=new c((function(t,n){i.ready().then((function(){var o=i._dbInfo;o.db.transaction((function(i){ke(i,o,"SELECT * FROM "+o.storeName,[],(function(i,n){for(var r=n.rows,s=r.length,a=0;a<s;a++){var l=r.item(a),c=l.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,l.key,a+1)))return void t(c)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function _e(e,t,i,n){var o=this;e=h(e);var r=new c((function(r,s){o.ready().then((function(){void 0===t&&(t=null);var a=t,l=o._dbInfo;l.serializer.serialize(t,(function(t,c){c?s(c):l.db.transaction((function(i){ke(i,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){r(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void r(_e.apply(o,[e,a,i,n-1]));s(t)}}))}))})).catch(s)}));return d(r,i),r}function Ee(e,t,i){return _e.apply(this,[e,t,i,1])}function Ce(e,t){var i=this;e=h(e);var n=new c((function(t,n){i.ready().then((function(){var o=i._dbInfo;o.db.transaction((function(i){ke(i,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function Ae(e){var t=this,i=new c((function(e,i){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){ke(t,n,"DELETE FROM "+n.storeName,[],(function(){e()}),(function(e,t){i(t)}))}))})).catch(i)}));return d(i,e),i}function Te(e){var t=this,i=new c((function(e,i){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){ke(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(t,i){var n=i.rows.item(0).c;e(n)}),(function(e,t){i(t)}))}))})).catch(i)}));return d(i,e),i}function Se(e,t){var i=this,n=new c((function(t,n){i.ready().then((function(){var o=i._dbInfo;o.db.transaction((function(i){ke(i,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,i){var n=i.rows.length?i.rows.item(0).key:null;t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function Ie(e){var t=this,i=new c((function(e,i){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){ke(t,n,"SELECT key FROM "+n.storeName,[],(function(t,i){for(var n=[],o=0;o<i.rows.length;o++)n.push(i.rows.item(o).key);e(n)}),(function(e,t){i(t)}))}))})).catch(i)}));return d(i,e),i}function Pe(e){return new c((function(t,i){e.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(i,n){for(var o=[],r=0;r<n.rows.length;r++)o.push(n.rows.item(r).name);t({db:e,storeNames:o})}),(function(e,t){i(t)}))}),(function(e){i(e)}))}))}function De(e,t){t=p.apply(this,arguments);var i=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||i.name,e.storeName=e.storeName||i.storeName);var n,o=this;return n=e.name?new c((function(t){var n;n=e.name===i.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(Pe(n))})).then((function(e){return new c((function(t,i){e.db.transaction((function(n){function o(e){return new c((function(t,i){n.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){i(t)}))}))}for(var r=[],s=0,a=e.storeNames.length;s<a;s++)r.push(o(e.storeNames[s]));c.all(r).then((function(){t()})).catch((function(e){i(e)}))}),(function(e){i(e)}))}))})):c.reject("Invalid arguments"),d(n,t),n}var Re={_driver:"webSQLStorage",_initStorage:ye,_support:Y(),iterate:xe,getItem:we,setItem:Ee,removeItem:Ce,clear:Ae,length:Te,key:Se,keys:Ie,dropInstance:De};function Le(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(f1){return!1}}function Me(e,t){var i=e.name+"/";return e.storeName!==t.storeName&&(i+=e.storeName+"/"),i}function Oe(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(f1){return!0}}function Ne(){return!Oe()||localStorage.length>0}function $e(e){var t=this,i={};if(e)for(var n in e)i[n]=e[n];return i.keyPrefix=Me(e,t._defaultConfig),Ne()?(t._dbInfo=i,i.serializer=be,c.resolve()):c.reject()}function Fe(e){var t=this,i=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){var n=localStorage.key(i);0===n.indexOf(e)&&localStorage.removeItem(n)}}));return d(i,e),i}function Be(e,t){var i=this;e=h(e);var n=i.ready().then((function(){var t=i._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n}));return d(n,t),n}function ze(e,t){var i=this,n=i.ready().then((function(){for(var t=i._dbInfo,n=t.keyPrefix,o=n.length,r=localStorage.length,s=1,a=0;a<r;a++){var l=localStorage.key(a);if(0===l.indexOf(n)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(o),s++)))return c}}}));return d(n,t),n}function je(e,t){var i=this,n=i.ready().then((function(){var t,n=i._dbInfo;try{t=localStorage.key(e)}catch(o){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t}));return d(n,t),n}function Ve(e){var t=this,i=t.ready().then((function(){for(var e=t._dbInfo,i=localStorage.length,n=[],o=0;o<i;o++){var r=localStorage.key(o);0===r.indexOf(e.keyPrefix)&&n.push(r.substring(e.keyPrefix.length))}return n}));return d(i,e),i}function Ue(e){var t=this.keys().then((function(e){return e.length}));return d(t,e),t}function He(e,t){var i=this;e=h(e);var n=i.ready().then((function(){var t=i._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return d(n,t),n}function qe(e,t,i){var n=this;e=h(e);var o=n.ready().then((function(){void 0===t&&(t=null);var i=t;return new c((function(o,r){var s=n._dbInfo;s.serializer.serialize(t,(function(t,n){if(n)r(n);else try{localStorage.setItem(s.keyPrefix+e,t),o(i)}catch(f1){"QuotaExceededError"!==f1.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==f1.name||r(f1),r(f1)}}))}))}));return d(o,i),o}function Ge(e,t){if(t=p.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var i=this.config();e.name=e.name||i.name,e.storeName=e.storeName||i.storeName}var n,o=this;return n=e.name?new c((function(t){e.storeName?t(Me(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var i=localStorage.key(t);0===i.indexOf(e)&&localStorage.removeItem(i)}})):c.reject("Invalid arguments"),d(n,t),n}var We={_driver:"localStorageWrapper",_initStorage:$e,_support:Le(),iterate:ze,getItem:Be,setItem:qe,removeItem:He,clear:Fe,length:Ue,key:je,keys:Ve,dropInstance:Ge},Ye=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ke=function(e,t){for(var i=e.length,n=0;n<i;){if(Ye(e[n],t))return!0;n++}return!1},Qe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Xe={},Je={},Ze={INDEXEDDB:W,WEBSQL:Re,LOCALSTORAGE:We},et=[Ze.INDEXEDDB._driver,Ze.WEBSQL._driver,Ze.LOCALSTORAGE._driver],tt=["dropInstance"],it=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),nt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ot(e,t){e[t]=function(){var i=arguments;return e.ready().then((function(){return e[t].apply(e,i)}))}}function rt(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var i in t)t.hasOwnProperty(i)&&(Qe(t[i])?arguments[0][i]=t[i].slice():arguments[0][i]=t[i])}return arguments[0]}var st=function(){function e(t){for(var i in o(this,e),Ze)if(Ze.hasOwnProperty(i)){var n=Ze[i],r=n._driver;this[i]=r,Xe[r]||this.defineDriver(n)}this._defaultConfig=rt({},nt),this._config=rt({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":n(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,i){var n=new c((function(t,i){try{var n=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void i(o);for(var r=it.concat("_initStorage"),s=0,a=r.length;s<a;s++){var l=r[s];if((!Ke(tt,l)||e[l])&&"function"!=typeof e[l])return void i(o)}var u=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),i=c.reject(t);return d(i,arguments[arguments.length-1]),i}},i=0,n=tt.length;i<n;i++){var o=tt[i];e[o]||(e[o]=t(o))}};u();var h=function(i){Xe[n]&&console.info("Redefining LocalForage driver: "+n),Xe[n]=e,Je[n]=i,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,i):h(!!e._support):h(!0)}catch(f1){i(f1)}}));return u(n,t,i),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,i){var n=Xe[e]?c.resolve(Xe[e]):c.reject(new Error("Driver not found."));return u(n,t,i),n},e.prototype.getSerializer=function(e){var t=c.resolve(be);return u(t,e),t},e.prototype.ready=function(e){var t=this,i=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(i,e,e),i},e.prototype.setDriver=function(e,t,i){var n=this;Qe(e)||(e=[e]);var o=this._getSupportedDrivers(e);function r(){n._config.driver=n.driver()}function s(e){return n._extend(e),r(),n._ready=n._initStorage(n._config),n._ready}function a(e){return function(){var t=0;function i(){for(;t<e.length;){var o=e[t];return t++,n._dbInfo=null,n._ready=null,n.getDriver(o).then(s).catch(i)}r();var a=new Error("No available storage method found.");return n._driverSet=c.reject(a),n._driverSet}return i()}}var l=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=l.then((function(){var e=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then((function(e){n._driver=e._driver,r(),n._wrapLibraryMethodsWithReady(),n._initDriver=a(o)}))})).catch((function(){r();var e=new Error("No available storage method found.");return n._driverSet=c.reject(e),n._driverSet})),u(this._driverSet,t,i),this._driverSet},e.prototype.supports=function(e){return!!Je[e]},e.prototype._extend=function(e){rt(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var o=e[i];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=it.length;e<t;e++)ot(this,it[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),at=new st;t.exports=at},{3:3}]},{},[4])(4)}(wSe);const xSe=px(wSe.exports),_Se={SecureStorage:"ionicSecureStorage",IndexedDB:xSe.INDEXEDDB,LocalStorage:xSe.LOCALSTORAGE},ESe={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[_Se.SecureStorage,_Se.IndexedDB,_Se.LocalStorage]};class CSe{constructor(e=ESe){this._db=null,this._secureStorageDriver=null;const t=Object.assign({},ESe,e||{});this._config=t}async create(){const e=xSe.createInstance(this._config);return this._db=e,await e.setDriver(this._config.driverOrder||[]),this}async defineDriver(e){return e._driver===_Se.SecureStorage&&(this._secureStorageDriver=e),xSe.defineDriver(e)}get driver(){var e;return(null===(e=this._db)||void 0===e?void 0:e.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(e){return this.assertDb().getItem(e)}set(e,t){return this.assertDb().setItem(e,t)}remove(e){return this.assertDb().removeItem(e)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(e){return this.assertDb().iterate(e)}setEncryptionKey(e){var t;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(t=this._secureStorageDriver)||void 0===t||t.setEncryptionKey(e)}}function ASe(e,t,i){return e[t]||(e[t]=Promise.resolve()),e[t]=e[t].then(i).catch((e=>console.error(`Error processing queue for key '${t}':`,e))),e[t]}function TSe(e){const t=e,i={},n=(o=t.debug,{info:(e,...t)=>{o&&console.info(`[PersistPlugin] INFO: ${e}`,...t)},warn:(e,...t)=>{o&&console.warn(`[PersistPlugin] WARN: ${e}`,...t)},error:(e,...t)=>{o&&console.error(`[PersistPlugin] ERROR: ${e}`,...t)}});var o;const r=()=>"undefined"==typeof window?(n.info("Running in SSR environment. No storage available."),null):window.localStorage?(n.info("Using localStorage as the default storage."),window.localStorage):(n.error("No valid storage found. PersistPlugin will be disabled."),null);return e=>{const o=e.options.persist;if(!o)return;const{key:s=e.store.$id,overwrite:a=!1,storage:l=r(),filter:c=()=>!0,serialize:d=JSON.stringify,deserialize:u=JSON.parse,clientOnly:h=!1,include:p=null,exclude:m=null}={...{...t,key:void 0},..."object"==typeof o&&o};if(!l||(h||l.constructor.name.includes("LocalForage"))&&"undefined"==typeof window)return;const f=()=>{const t=[],o=e=>{const o=ASe(i,e,(async()=>{try{return await l.getItem(e)}catch(t){n.error(`Error loading key ${e}: ${t}`)}}));return t.push(o),o};return o("string"==typeof s?s:e.store.$id).then((t=>{if(t){const i="object"==typeof t?t:u(t);a?e.store.$state=i:e.store.$patch(i)}})),"object"==typeof s&&Object.entries(s).forEach((([t,i])=>o(i).then((i=>{i&&e.store.$patch({[t]:"object"==typeof i?i:u(i)})})))),Promise.all(t)},g=(o,r)=>{if(!c(o,r))return;const a=[],u=function(e,t,i){const n=t?[].concat(t):null,o=i?[].concat(i):null,r=n?n.reduce(((t,i)=>{const n=((e,t)=>t.split(".").reduce(((e,t)=>null==e?void 0:e[t]),e))(e,i);return void 0!==n&&function(e,t,i){t.split(".").reduce(((e,t,n,o)=>(n===o.length-1?e[t]=i:e[t]=e[t]||{},e[t])),e)}(t,i,n),t}),{}):{...e};return null==o||o.forEach((e=>{const t=e.split("."),i=t.slice(0,-1).reduce(((e,t)=>null==e?void 0:e[t]),r);i&&delete i[t.at(-1)]})),r}(r,p,m),h=(e,o)=>{const r=ASe(i,e,(async()=>{try{await l.setItem((i=e,t.key?`${t.key}:${i}`:i),o)}catch(r){n.error(`Failed to persist state for key "${e}":${r}`)}var i}));a.push(r)};if("string"==typeof s)h(s,d(u));else{h(e.store.$id,d((f=u,g=s,Object.fromEntries(Object.entries(f).filter((([e])=>!(e in g)))))));for(const[e,t]of Object.entries(s))void 0!==u[e]&&h(t,d(u[e]))}var f,g;return Promise.all(a)};e.store.$restore=f,e.store.$persist=()=>g({type:"persist",storeId:e.store.$id},e.store.$state),f(),e.store.$subscribe(g)}}const SSe=async()=>{const e=function(){const e=rt(!0),t=e.run((()=>Ti({})));let i=[],n=[];const o=_i({install(e){JE(o),o._a=e,e.provide(ZE,o),e.config.globalProperties.$pinia=o,n.forEach((e=>i.push(e))),n=[]},use(e){return this._a?i.push(e):n.push(e),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return o}(),t=new CSe({driverOrder:[_Se.IndexedDB,_Se.LocalStorage]});return await t.create(),e.use(TSe({storage:{getItem:e=>t.get(e),setItem:(e,i)=>t.set(e,i),removeItem:e=>t.remove(e)}})),e};aT.extend(kx),aT.locale(vx),wC.requestPermissions().then((async e=>{console.log("resultpermisson",e.receive),"granted"!==e.receive&&await wC.requestPermissions()})),MA.hasPermission().then((e=>{e||MA.requestPermission()}));(async()=>{const e=await SSe(),t=Pa(WE).use(Mw,{rippleEffect:!1}).use(Lce).use(ySe).use(SAe).use(e);SAe.isReady().then((()=>{t.mount("#app")}))})()}}}))}();
